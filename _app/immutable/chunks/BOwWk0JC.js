import{b5 as yt,b9 as Rt,h as It,T as Nt,S as Gt,ax as Ue,v as ye,y as oe,L as he,u as A,p as O,N as Re,z as pe,K as ge,P as Ze,at as We,t as pt,a5 as Ee,G as St,A as Y,F as Ie,w as p,B as se,M as Dt,J as zt,ap as Pt,ar as Ct,b8 as Ot,C as tt,D as nt}from"./DJ282x0m.js";import"./CWj6FrbW.js";import"./DmFSpGpY.js";import{i as ie}from"./DZIXnje2.js";import{p as z,i as kt}from"./vUw7v4Wb.js";import{a as Ne,s as Ge}from"./DhnsJOsK.js";import{t as B}from"./CmzUnnVh.js";import"./3NHLCeJr.js";import"./CpA1Oz1i.js";import{G as qe,M as je,h as Bt,B as ee,c as at,i as $,P as $t,Q as Ft,R as Xt,V as S,U as wt,W as _e,C as Ht,X as we,Y as rt,Z as bt,_ as $e,$ as Vt,a0 as Fe,a1 as Xe,a2 as Yt,a3 as Ut,a4 as Zt,a5 as Wt,a6 as qt,a7 as jt,a8 as vt,H as Ke,N as Je,e as Kt,f as Jt,a9 as Qt,O as en,aa as tn,ab as nn,k as an,l as rn,m as on,n as sn,v as cn,z as ln,A as un}from"./gPk1btCC.js";import{h as fn}from"./D6x0ZVIQ.js";import{b as mn}from"./DpmJ41qF.js";function aa(e,t,n=t){var a=yt();Rt(e,"input",r=>{var i=r?e.defaultValue:e.value;if(i=De(e)?ze(i):i,n(i),a&&i!==(i=t())){var u=e.selectionStart,l=e.selectionEnd;e.value=i??"",l!==null&&(e.selectionStart=u,e.selectionEnd=Math.min(l,e.value.length))}}),(It&&e.defaultValue!==e.value||Nt(t)==null&&e.value)&&n(De(e)?ze(e.value):e.value),Gt(()=>{var r=t();De(e)&&r===ze(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function De(e){var t=e.type;return t==="number"||t==="range"}function ze(e){return e===""?null:+e}const W={s_65:{check:!0,manufacturer:"Standard",thicknesses:e=>[10,15,20,25,30].filter(t=>t===10||e>=70),sigma_rd_rule:e=>e<=6.25?4.03*e**1.16:33.9,rot_b_rule:(e,t)=>Math.min(450*e/t,40),rot_res_rule:40,"Nachweis erfolgreich t":[]},s_70:{check:!0,manufacturer:"Standard",thicknesses:e=>[10,15,20].filter(t=>t===10||e>=70),sigma_rd_rule:e=>e<=5?6.99*e:34.95,rot_b_rule:(e,t)=>Math.min(450*e/t,40),rot_res_rule:40,"Nachweis erfolgreich t":[]},esz_100:{check:!0,manufacturer:"Standard",thicknesses:e=>[10,15,20,25,30].filter(t=>t===10||e>=70),sigma_rd_rule:e=>e<2.33?5.3805*e-.6536:e>=2.33&&e<=2.5?10.635*e-12.89:e>2.5&&e<=5?8.4004*e-7.3293:34.7,rot_b_rule:(e,t)=>Math.min(450*e/t,48),rot_res_rule:48,"Nachweis erfolgreich t":[]},conti_60:{check:!0,manufacturer:"ContiTech",thicknesses:[10,20,30],sigma_rd_rule:e=>e<=5?.315*e**2+4.035*e:28.05,rot_b_rule:(e,t)=>Math.min(450*e/t,40),rot_res_rule:40,"Nachweis erfolgreich t":[]},leschu_n15:{check:!0,manufacturer:"Leschu",thicknesses:[10,15,20],sigma_rd_rule:e=>e<1.88?3.29*e+1.46:e>=1.88&&e<2.5?2.58*e+2.79:e>=2.5&&e<3.5?3.34*e+.88:e>=3.5&&e<3.75?12.21*e-30.17:e>=3.75&&e<5?3.15*e+3.81:e>=5&&e<=10?1.66*e+11.29:e>10?27.89:0,rot_b_rule:(e,t)=>Math.min(450*e/t,40),rot_res_rule:40,"Nachweis erfolgreich t":[]},matteco_elr08:{check:!0,manufacturer:"Matteco",thicknesses:e=>[10,15,20].filter(t=>t===10||e>=70),sigma_rd_rule:e=>e<=4.17?.422*Math.E**(.698*e):7.75,rot_b_rule:(e,t)=>Math.min(200*e/t,16),rot_res_rule:16,"Nachweis erfolgreich t":[]},matteco_elr18:{check:!0,manufacturer:"Matteco",thicknesses:e=>[10].filter(t=>t===10||e>=70),sigma_rd_rule:e=>e<=4.5?1.28*e**1.25:8.4,rot_b_rule:(e,t)=>Math.min(200*e/t,20),rot_res_rule:20,"Nachweis erfolgreich t":[]}};function dn(e){const{is_ortbeton:t,a:n,b:a,is_dorn:r,is_wirksamgeschlossen:i,d_b:u,n_b:l,ff_zd:s,v_x:o,alpha_y:c,alpha_a:f,c_nom:m,is_streifen:h}=e,d=JSON.parse(JSON.stringify(W)),g={rules:[(b,I)=>b>=70||I>=100&&b>=50,(b,I)=>I>=70]},_={rules:[(b,I)=>b>=70,(b,I)=>I>=70]};g.rules.every(b=>b(n,a))||(d.s_65.check=!1,d.s_70.check=!1,d.esz_100.check=!1,d.leschu_n15.check=!1,d.matteco_elr08.check=!1,d.matteco_elr18.check=!1),_.rules.every(b=>b(n,a))||(d.conti_60.check=!1);const E=n*a;let v;r===0?v=E:v=Math.round(E-l*Math.PI*(u/2)**2);const x=Math.round(1e3*s/v*10)/10,T=10;let N=Math.round(.625/n*1e3*10)/10;t===0&&(N=N*.5);const w=N+T,R=c+w,ce=n+(m+10)+25;let y;h===0&&(y=a+2*(m+10));const F=[];for(const[b,I]of Object.entries(d))if(I.check){const U=typeof W[b].thicknesses=="function"?W[b].thicknesses(n):W[b].thicknesses;for(const L of U){let G;!r||i?G=Math.round(E/(2*L*(n+a))*1e3)/1e3:G=Math.round((E-.25*Math.PI*l*L**2)/(2*L*(n+a)+L*Math.PI*l*u)*1e3)/1e3;const X=W[b].sigma_rd_rule(G),Z=W[b].rot_b_rule(L,n),P=W[b].rot_res_rule,H=.6*(L-2),D=x/X,le=o/H,Se=R/Z,Mt=Math.round(1.5*x*a*L/1e3*10)/10,Tt=Math.round(1.5*x*n*L/1e3*10)/10,Lt=D<=1&&le<=1&&Se<=1;F.push({lagerType:b,manufacturer:W[b].manufacturer,thickness:L,s:G,sigma_rd:X,alpha_y_max:Z,alpha_y_ges:R,alpha_res_max:P,v_x_max:H,sigma_nachw:D,v_x_nachw:le,rot_b_nachw:Se,querzug_x:Mt,querzug_y:Tt,passed:Lt,l_xmin:ce,l_ymin:y})}}return F}const _n=Ue([]),hn=Ue(null),ue=0,Q=-.8,fe=-.8,ot=(Q+fe)/2,be=.2,ve=Q,xe=2,Ae=.25,xt=.08,gn=[[Q,1,-0],[fe,1,-0],[fe,1,ue],[Q,1,ue],[ot,.3,ue],[Q,.3,ue],[fe,.6,ue],[fe,.6,-0],[ot,.3,-0],[Q,.3,-0],[ve,0,Ae],[ve,xe,Ae],[ve,xe,-.25],[ve,0,-.25],[be,xe,-.25],[be,0,-.25],[be,xe,Ae],[be,0,Ae]],En=[13,15,17,13,17,10,12,16,14,12,11,16,13,10,11,13,11,12,15,14,16,11,16,17,13,12,14,13,14,15,10,17,16,10,16,11],pn=[0,1,2,0,2,3,1,7,6,1,6,2,0,3,5,0,5,9,0,9,8,0,8,7,0,7,1,3,2,6,3,6,4,3,4,5,9,5,4,9,4,8,8,4,6,8,6,7];function Qe(e,t,n=0,a=25){const r=gn.map(s=>[s[0],s[1],s[2]]),i=a/1e3+.01,u=e/1e3;let l=t/2/1e3;return n||(l+=i),[1,2,6,7].forEach(s=>{r[s][0]-=u+xt+i}),[4,8].forEach(s=>{r[s][0]-=-.1}),[0,1,7,8,9].forEach(s=>{r[s][2]-=l}),[2,3,4,5,6].forEach(s=>{r[s][2]+=l}),n?([12,13,14,15].forEach(s=>{r[s][2]=-t/2/1e3}),[10,11,16,17].forEach(s=>{r[s][2]=t/2/1e3})):([12,13,14,15].forEach(s=>{r[s][2]-=l}),[10,11,16,17].forEach(s=>{r[s][2]+=l})),r}function Sn(e){const t=document.createElement("canvas");t.width=64,t.height=64;const n=t.getContext("2d");n.fillStyle="red",n.beginPath(),n.arc(32,32,28,0,Math.PI*2),n.fill(),n.fillStyle="white",n.font="bold 36px Arial",n.textAlign="center",n.textBaseline="middle",n.fillText(e,32,32);const a=new $t(t),r=new Ft({map:a}),i=new Xt(r);return i.scale.set(.08,.08,1),i}function st(e,t,n=!1){const a=new qe,r=t.a,i=t.b,u=t.is_streifen,l=t.c_nom,s=new je({color:Bt,shininess:100,flatShading:!0,transparent:!1}),o=Qe(r,i,u,l),c=new Float32Array(o.flat()),f=new ee;f.setAttribute("position",new at(c,3)),f.setIndex(En),f.computeVertexNormals();const m=new $(f,s);m.castShadow=!0,m.receiveShadow=!0,a.add(m);const h=new ee;h.setAttribute("position",new at(c,3)),h.setIndex(pn),h.computeVertexNormals();const d=new $(h,s);return d.castShadow=!0,d.receiveShadow=!0,a.add(d),n&&o.forEach((g,_)=>{const E=Sn(_.toString());E.position.set(g[0],g[1],g[2]),a.add(E)}),e.add(a),a}function re(){const e=ye(k),t=Qe(e.a,e.b,e.is_streifen,e.c_nom),n=[t[0],t[1],t[2],t[3]];return{centerX:-e.a/2/1e3-xt+Q,centerY:n[0][1],centerZ:(n[0][2]+n[1][2]+n[2][2]+n[3][2])/4}}function it(e,t){t&&(t.traverse(n=>{n instanceof $&&(n.geometry.dispose(),Array.isArray(n.material)?n.material.forEach(a=>a.dispose()):n.material.dispose())}),e.remove(t))}let j=[],V=[];function wn(){return[...j,...V]}let Te=null,et=0;const He=Vt;async function Pe(e,t,n,a,r,i=0,u=0,l=!1){try{const s=await bt(),o=$e(r,s,He);Fe(o);const c=Xe(16711680),f=new $(o,c),m=new S(n[0]-t[0],0,n[2]-t[2]).normalize(),h=new S(-m.z,0,m.x),d=(t[0]+n[0])/2+i+h.x*a,g=(t[2]+n[2])/2+u+h.z*a;f.position.set(d,t[1]+.001,g),f.rotation.x=-Math.PI/2;const _=Math.atan2(m.z,m.x)+Math.PI;f.rotation.z=_,l&&(Te=f,et=_),e.add(f),j.push(f)}catch(s){console.error("Failed to load font for 3D text:",s)}}function Ve(e){if(Te){const t=e?Math.PI:0;Te.rotation.z=et+t}}function Ce(e,t,n,a,r,i=.05){Zt(e,t,n,a,r,i,j)}function Ye(e){j=Yt(e,j),Te=null,et=0}function ct(e){V=Ut(e,V)}async function lt(e,t=new S(0,0,0)){const r=new wt({color:new Ht(we)}),i=we;t.z=t.z-.035;const u=new S(t.x-.06,t.y,t.z),l=new ee().setFromPoints([t,u]),s=new _e(l,r);e.add(s),V.push(s);const o=new S(-1,0,0),c=new rt(o,u,.03,i,.03*.5,.03*.3);e.add(c),V.push(c);const f=new S(t.x,t.y,t.z-.06),m=new ee().setFromPoints([t,f]),h=new _e(m,r);e.add(h),V.push(h);const d=new S(0,0,-1),g=new rt(d,f,.03,i,.03*.5,.03*.3);e.add(g),V.push(g);try{const _=await bt(),E=$e(B("shearDeformation.scene.axisLabel.x"),_,He);Fe(E);const v=Xe(we),x=new $(E,v);x.position.set(t.x-.06*1-.05,t.y+.001,t.z-.02),x.rotation.x=-Math.PI/2,x.rotation.z=0,e.add(x),V.push(x);const T=$e("y",_,He);Fe(T);const N=Xe(we),w=new $(T,N);w.position.set(t.x-.02,t.y+.001,t.z-.06*1.1),w.rotation.x=-Math.PI/2,w.rotation.z=0,e.add(w),V.push(w)}catch(_){console.error("Failed to create 3D text for coordinate system:",_)}}async function ut(e){Ye(e);const t=ye(k),n=Qe(t.a,t.b,t.is_streifen,t.c_nom),a=re(),r=new wt({color:16711680});let i=t.c_nom/1e3+.01;t.is_streifen===1&&(i=0);const u=.01,l=t.b/1e3,s=t.a/1e3;if(t.is_streifen===0){const b=(n[1][0]+n[2][0])/2,I=n[1][1],U=(n[1][2]+n[2][2])/2,L=new S(b-u-i,I,U-l/2),G=new S(b-u-i,I,U+l/2),X=new ee().setFromPoints([L,G]),Z=new _e(X,r);e.add(Z),j.push(Z);const P=new S().subVectors(G,L).normalize();Ce(e,L,G,P,r),await Pe(e,[L.x,L.y,L.z],[G.x,G.y,G.z],.02,`b = ${t.b} mm`,0,0)}const o=a.centerX,c=n[0][1],f=(n[0][2]+n[1][2])/2,m=new S(o-s/2,c,f-u-i),h=new S(o+s/2,c,f-u-i),d=new ee().setFromPoints([m,h]),g=new _e(d,r);e.add(g),j.push(g);const _=new S().subVectors(h,m).normalize();Ce(e,m,h,_,r),await Pe(e,[m.x,m.y,m.z],[h.x,h.y,h.z],-.02,`a = ${t.a} mm`,0,0,!0);const E=.04,v=a.centerX-t.a/2e3,x=a.centerY,T=a.centerZ+t.b/2e3+E+i,N=t.c_nom/1e3+.01,w=new S(v,x,T),R=new S(v-N,x,T),ce=new ee().setFromPoints([w,R]),y=new _e(ce,r);e.add(y),j.push(y);const F=new S().subVectors(R,w).normalize();Ce(e,w,R,F,r),await Pe(e,[w.x,w.y,w.z],[R.x,R.y,R.z],-.05,"cnom + 100 mm",0,0)}let ae=!0,Oe=0,me=0,K=null,q=null;function bn(e,t,n){if(!e||!t)return;const a=new S;a.subVectors(t.target,e.position),a.normalize();const i=e.position.distanceTo(t.target)*(1-n),u=a.clone().multiplyScalar(i);e.position.add(u),t.update()}const vn=.05,Me=1.4,ft=[new S(-2.1247554456236646,Me,-.9418251993957858),new S(-2.298436211128349,Me,.0593750739688058),new S(-1.8215114290760264,Me,1.1472099754138583)];function xn(){const e=ye(k);return(e.a+e.b)/1500}function An(){const e=Le(),t=xn(),n=[];for(let a=0;a<ft.length;a++){const r=ft[a],i=new S(e.x+r.x*t,Me,e.z+r.z*t);n.push(i)}return n}let te=[];function Le(){const e=re();return new S(e.centerX,e.centerY,e.centerZ)}let C=null,J=!1,ne=null,de=0;const mt=1e3;function Mn(){te=[],C=null,J=!1,ne=null}function Tn(){const e=Le(),t=ye(k),n=wn();if(n.length===0){const o=Math.max(t.a,t.b)/1e3*3;return new S(e.x,e.y+o,e.z)}let r=Math.max(t.a,t.b)/1e3*2;const i=20;let u=0;const l=new Wt(35,1,.01,1e3);for(;u<i;){l.position.set(e.x,e.y+r,e.z),l.lookAt(e),l.updateMatrixWorld(),l.updateProjectionMatrix();const s=new qt,o=new jt;o.multiplyMatrices(l.projectionMatrix,l.matrixWorldInverse),s.setFromProjectionMatrix(o);let c=!0;for(const f of n){f.updateMatrixWorld(!0);const m=new vt().setFromObject(f);if(!s.intersectsBox(m)){c=!1;break}}if(c){r*=1.1;break}r*=1.2,u++}return new S(e.x,e.y+r,e.z)}function dt(e,t){if(!C)return!1;const n=e.position,a=.01;return Math.abs(n.x-C.x)<a&&Math.abs(n.z-C.z)<a}function Ln(){J=!0,de=0,ne=null,ae=!0,Ve(!0)}function yn(e,t,n){if(!t)return;if(C||(C=Le()),J){if(de===0&&(de=e,ne=Tn(),K=t.position.clone(),q=n.target.clone()),!K||!ne||!q){console.error("Top view positions not initialized properly"),J=!1;return}const o=e-de;let c=Math.min(o/mt,1);c=c<.5?4*c*c*c:1-Math.pow(-2*c+2,3)/2,t.position.lerpVectors(K,ne,c),n.target.lerpVectors(q,C,c),t.lookAt(n.target),n.update(),o>=mt&&(t.position.copy(ne),n.target.copy(C),t.lookAt(n.target),n.update(),J=!1,de=0,ae=!1);return}if(!J&&dt(t)?Ve(!0):J||Ve(!1),!ae)return;if(te.length===0&&(te=An(),C=null,C||(C=Le())),dt(t)){ae=!1;return}me===0&&(me=e,K=t.position.clone(),q=n.target.clone());const a=e-me,r=K||te[Oe],i=(Oe+1)%te.length,u=te[i],s=r.distanceTo(u)/vn*1e3;if(a<s){const o=a/s;t.position.lerpVectors(r,u,o),n&&q&&(n.target.lerpVectors(q,C,o),n.update())}else Oe=i,me=e,K=null,q=C.clone()}function Rn(e,t,n){const a=r=>{r.preventDefault();let i=1;switch(r.deltaMode){case 2:i=1+r.deltaY*.025;break;case 1:i=1+r.deltaY*.01;break;default:i=1+r.deltaY*25e-5;break}bn(t,n,i)};return e.domElement.addEventListener("wheel",a,{passive:!1}),()=>{e.domElement.removeEventListener("wheel",a)}}function In(e){const t=()=>{ae=!1},n=()=>{ae=!0,me=0,K=null,q=null};return e.addEventListener("mouseenter",t),e.addEventListener("mouseleave",n),()=>{e.removeEventListener("mouseenter",t),e.removeEventListener("mouseleave",n)}}const ke={is_streifen:0,a:200,b:250,t:10,c_nom:25,is_dorn:1,is_wirksamgeschlossen:0,d_b:20,d_d:20,n_b:1,ff_zd:800,v_x:5,alpha_y:10,gg:.9,v_b:0,alpha_a:0,ff_x:15,ff_y:0,is_ortbeton:0};function Nn(){const{subscribe:e,set:t,update:n}=Ue(ke),a={subscribe:e,set:r=>{t(r),Be(r)},update:r=>{n(i=>{const u=r(i);return Be(u),u})},reset:()=>{t(ke),Be(ke)},updateField:(r,i)=>{a.update(u=>({...u,[r]:i}))}};return a}const k=Nn();function Be(e){hn.set(null);const t=dn(e);_n.set(t),Mn()}const M={LAGERBREITE_MIN:50,LAGERBREITE_MAX:1e3,LAGERLAENGE_MIN:50,LAGERLAENGE_MAX:1e3,BETONDECKUNG_MIN:0,BETONDECKUNG_MAX:100,BOHRUNGSDURCHMESSER_MIN:0,BOHRUNGSDURCHMESSER_MAX:50,BEMESSUNGSLAST_MIN:0,BEMESSUNGSLAST_MAX:5e4,LAGERVERDREHUNG_MIN:0,LAGERVERDREHUNG_MAX:50,LAGERVERSCHIEBUNG_MIN:0,LAGERVERSCHIEBUNG_MAX:50};var Gn=pe("<!> <!>",1);function ra(e,t){oe(t,!1);const[n,a]=Ge(),r=()=>Ne(k,"$shearDeformationParameterStore",n);let i=z(t,"step",8,5),u=O(),l=O(!1),s=O(""),o=null;function c(d){let g=d,_=!1,E="";d<M.LAGERBREITE_MIN?(g=M.LAGERBREITE_MIN,_=!0,E=`${B("shearDeformation.parameters.minValue")}: ${M.LAGERBREITE_MIN} mm`):d>M.LAGERBREITE_MAX&&(g=M.LAGERBREITE_MAX,_=!0,E=`${B("shearDeformation.parameters.maxValue")}: ${M.LAGERBREITE_MAX} mm`);const v=r().b+100;g>v&&(g=v,_=!0,E=B("shearDeformation.parameters.constraintAB")),_&&(A(l,!0),A(s,E),o&&clearTimeout(o),o=setTimeout(()=>{A(l,!1),A(s,"")},3e3)),k.updateField("a",g)}he(()=>r(),()=>{A(u,r().a)}),Re(),ie();var f=Gn(),m=ge(f);Ke(m,{children:(d,g)=>{Ze();var _=We();pt(E=>St(_,E),[()=>B("shearDeformation.parameters.bearingDepth")],Ee),Y(d,_)},$$slots:{default:!0}});var h=Ie(m,2);Je(h,{size:"sm",get step(){return i()},helperText:"mm",get min(){return M.LAGERBREITE_MIN},get max(){return M.LAGERBREITE_MAX},light:!0,get invalid(){return p(l)},get invalidText(){return p(s)},get value(){return p(u)},set value(d){A(u,d)},$$events:{change:()=>c(p(u))},$$legacy:!0}),Y(e,f),se(),a()}var Dn=pe("<!> <!>",1);function oa(e,t){oe(t,!1);const[n,a]=Ge(),r=()=>Ne(k,"$shearDeformationParameterStore",n);let i=z(t,"disabled",8,!1),u=z(t,"step",8,5),l=O(),s=O(!1),o=O(""),c=null;function f(_){let E=_,v=!1,x="";_<M.LAGERLAENGE_MIN?(E=M.LAGERLAENGE_MIN,v=!0,x=`${B("shearDeformation.parameters.minValue")}: ${M.LAGERLAENGE_MIN} mm`):_>M.LAGERLAENGE_MAX&&(E=M.LAGERLAENGE_MAX,v=!0,x=`${B("shearDeformation.parameters.maxValue")}: ${M.LAGERLAENGE_MAX} mm`),v&&(A(s,!0),A(o,x),c&&clearTimeout(c),c=setTimeout(()=>{A(s,!1),A(o,"")},3e3)),k.updateField("b",E)}he(()=>r(),()=>{A(l,r().b)}),Re(),ie();var m=Dn(),h=ge(m);Ke(h,{children:(_,E)=>{Ze();var v=We();pt(x=>St(v,x),[()=>B("shearDeformation.parameters.bearingLength")],Ee),Y(_,v)},$$slots:{default:!0}});var d=Ie(h,2);const g=Ee(()=>i()||r().is_streifen===1);Je(d,{size:"sm",get step(){return u()},helperText:"mm",get disabled(){return p(g)},get min(){return M.LAGERLAENGE_MIN},get max(){return M.LAGERLAENGE_MAX},light:!0,get invalid(){return p(s)},get invalidText(){return p(o)},get value(){return p(l)},set value(_){A(l,_)},$$events:{change:()=>f(p(l))},$$legacy:!0}),Y(e,m),se(),a()}var zn=pe("<!> <!>",1);function At(e,t){oe(t,!1);const[n,a]=Ge(),r=()=>Ne(k,"$shearDeformationParameterStore",n);let i=z(t,"field",8),u=z(t,"label",8),l=z(t,"helperText",8,""),s=z(t,"step",8,1),o=z(t,"disabled",8,!1),c=z(t,"min",8,void 0),f=z(t,"max",8,void 0),m=O(),h=O(!1),d=O(""),g=null;function _(T){let N=T,w=!1,R="";c()!==void 0&&T<c()?(N=c(),w=!0,R=`Minimalwert: ${c()}${l()?" "+l():""}`):f()!==void 0&&T>f()&&(N=f(),w=!0,R=`Maximalwert: ${f()}${l()?" "+l():""}`),w&&(A(h,!0),A(d,R),g&&clearTimeout(g),g=setTimeout(()=>{A(h,!1),A(d,"")},3e3)),k.updateField(i(),N)}he(()=>(r(),Dt(i())),()=>{A(m,r()[i()])}),Re(),ie();var E=zn(),v=ge(E);Ke(v,{children:(T,N)=>{var w=zt(),R=ge(w);fn(R,u),Y(T,w)},$$slots:{default:!0}});var x=Ie(v,2);Je(x,{size:"sm",get step(){return s()},get helperText(){return l()},get disabled(){return o()},get min(){return c()},get max(){return f()},light:!0,get invalid(){return p(h)},get invalidText(){return p(d)},get value(){return p(m)},set value(T){A(m,T)},$$events:{change:()=>_(p(m))},$$legacy:!0}),Y(e,E),se(),a()}function sa(e,t){oe(t,!1);let n=z(t,"step",8,5);ie();const a=Ee(()=>B("shearDeformation.parameters.concreteCovernominal"));At(e,{field:"c_nom",get label(){return p(a)},get step(){return n()},helperText:"mm",get min(){return M.BETONDECKUNG_MIN},get max(){return M.BETONDECKUNG_MAX}}),se()}function ia(e,t){oe(t,!1);const[n,a]=Ge(),r=()=>Ne(k,"$shearDeformationParameterStore",n),i=O(),u=O();let l=z(t,"step",8,1);he(()=>r(),()=>{A(i,r())}),he(()=>p(i),()=>{A(u,p(i).is_streifen?"kN/m":"kN")}),Re(),ie();const s=Ee(()=>B("shearDeformation.parameters.designLoad"));At(e,{field:"ff_zd",get label(){return p(s)},get step(){return l()},get helperText(){return p(u)},get min(){return M.BEMESSUNGSLAST_MIN},get max(){return M.BEMESSUNGSLAST_MAX}}),se(),a()}function Pn(e){Kt(e,-10)}function Cn(e){return Jt(e,{x:0,y:500,z:500})}const On=400,kn=400,Bn=10,$n=.4,Fn=.4,Xn=.01;function _t(e,t){const n=new qe,a=new je({color:Qt,shininess:100,specular:2236962}),r=(t.a-On)/1e3,i=(t.b-kn)/1e3,u=(t.t-Bn)*2/1e3,l=$n+r,s=Fn+i,o=Xn+u,c=new $(new en(l,o,s),a),f=re();c.position.set(f.centerX,f.centerY+o/2,f.centerZ),c.castShadow=!0,c.receiveShadow=!0,n.add(c),e.add(n),c.geometry.computeBoundingBox();const m=new vt;m.setFromObject(c);const h=f.centerY;return{group:n,boundingBox:m,height:h,lengthDiffX:r,lengthDiffZ:i}}function ht(e,t){t&&(t.traverse(n=>{n instanceof $&&(n.geometry.dispose(),Array.isArray(n.material)?n.material.forEach(a=>a.dispose()):n.material.dispose())}),e.remove(t))}function gt(e,t){const n=new qe;if(!t.is_dorn)return e.add(n),n;const a=new je({color:tn,flatShading:!1}),r=(50+t.b*.2)/1e3,i=t.d_b/2/1e3,u=re(),l=t.n_b;for(let s=0;s<l;s++){const o=new $(new nn(i,i,r,16),a);let c=0;if(l===2){const f=t.b/1e3;c=s===0?f/5:-f/5}o.position.set(u.centerX,u.centerY+r/2,u.centerZ+c),o.castShadow=!0,o.receiveShadow=!0,n.add(o)}return e.add(n),n}function Et(e,t){t&&(t.traverse(n=>{n instanceof $&&(n.geometry.dispose(),Array.isArray(n.material)?n.material.forEach(a=>a.dispose()):n.material.dispose())}),e.remove(t))}var Hn=pe('<!> <div class="top-view-button-container svelte-1mle02r"><!></div>',1),Vn=pe('<div class="scene-container svelte-1mle02r"><!></div>');function ca(e,t){oe(t,!1),z(t,"autoRotate",8,!1);let n=z(t,"showTooltip",8,!0),a;const r=.05,i=.001,u=.04,l=new S(-1.67,1.4,.02);let s=O(),o,c,f,m,h,d,g,_,E,v,x,T,N;Pt(async()=>{o=an(),f=rn(p(s)),Pn(o),E=Cn(o),c=on(35),c.position.copy(l),N=k.subscribe(async P=>{if(a=P,o&&g!==void 0){d&&it(o,d),g&&ht(o,g),_&&Et(o,_),Ye(o),ct(o),d=st(o,a,!1),g=_t(o,a).group,_=gt(o,a),await ut(o);const D=re();let le=Math.max(a.c_nom/1e3,.03);a.is_streifen===1&&(le=.1);const Se=new S(D.centerX+r+a.a/2e3,D.centerY+i,D.centerZ+u+a.b/2e3+le);await lt(o,Se),m&&(m.target.set(D.centerX,D.centerY,D.centerZ),m.update())}});const y=re(),F=[y.centerX,y.centerY,y.centerZ];m=sn(c,f,F),v=Rn(f,c,m),x=In(p(s)),d=st(o,a,!1),g=_t(o,a).group,_=gt(o,a),await ut(o);let I=a.c_nom/1e3;a.is_streifen===1&&(I=.1);const U=new S(y.centerX+r+a.a/2e3,y.centerY+i+.001,y.centerZ+u+a.b/2e3+I);await lt(o,U);const G=1e3/30;let X=0;const Z=P=>{T=requestAnimationFrame(Z);const H=P-X;if(!(H<G)){if(X=P-H%G,yn(P,c,m),cn(m),E&&c){const D=new S(0,500,500);D.applyQuaternion(c.quaternion),E.position.copy(c.position).add(D),m&&m.target&&(E.target.position.copy(m.target),E.target.updateMatrixWorld())}f.render(o,c)}};if(Z(0),await Ct(),p(s)&&p(s)instanceof Element){let P=!1;h=new ResizeObserver(()=>{p(s)&&f&&c&&!P&&(P=!0,requestAnimationFrame(()=>{if(p(s)&&f&&c){const H=p(s).clientWidth,D=p(s).clientHeight;c.aspect=H/D,c.updateProjectionMatrix(),f.setSize(H,D)}P=!1}))}),h.observe(p(s))}}),Ot(()=>{T!==void 0&&cancelAnimationFrame(T),v&&v(),x&&x(),N&&N(),h&&h.disconnect(),m&&m.dispose(),f&&f.dispose(),d&&o&&it(o,d),g&&o&&ht(o,g),_&&o&&Et(o,_),o&&Ye(o),o&&ct(o)}),ie();var w=Vn(),R=tt(w);{var ce=y=>{var F=Hn(),b=ge(F);ln(b,{});var I=Ie(b,2),U=tt(I);un(U,{size:"small",kind:"secondary",$$events:{click:()=>Ln()},children:(L,G)=>{Ze();var X=We("Draufsicht");Y(L,X)},$$slots:{default:!0}}),nt(I),Y(y,F)};kt(R,y=>{n()&&y(ce)})}nt(w),mn(w,y=>A(s,y),()=>p(s)),Y(e,w),se()}export{ia as B,M as I,ra as L,At as P,ca as S,oa as a,aa as b,sa as c,hn as d,_n as e,W as l,Be as p,k as s};
