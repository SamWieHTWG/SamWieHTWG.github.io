import{b as _e,e as Xe,f as De,c as qe,a as re}from"./Br_ZUJwq.js";import"./BKShQruH.js";import{J as We,h as he,f as me,z as Ue,b0 as $e,j as we,c as Je,l as Ke,d as Qe,e as Ve,g as $,aB as j,x as Le,D as ge,E as je,A as Oe,aw as Ge,C as et,I,G as tt,ae as nt,a$ as ot,F as st}from"./CNt6NIEZ.js";import{i as Ne}from"./gv2gw3NK.js";import{p as D}from"./B0nNNJRl.js";import{b as at,s as rt}from"./BQ6fHziV.js";import{y as it,N as ct,G as de,h as ee,i as lt,B as O,c as be,M as v,z as K,A as ft,E as Be,V as b,e as dt,C as Fe,W as ut,f as _t,P as Q,H as ht,D as mt,I as wt,J as gt,K as bt,O as xt,Q as St,R as ke,T as G,U as ie,X as V,Y as ce,j as N,l as pt,m as yt,s as Mt,Z as vt,u as zt}from"./CEQ9RaIz.js";import{b as Et}from"./D7nLdpMg.js";function At(e,t,n=!1,a=!1,l=!1){var r=e,o="";We(()=>{var i=Ue;if(o===(o=t()??"")){he&&me();return}if(i.nodes_start!==null&&($e(i.nodes_start,i.nodes_end),i.nodes_start=i.nodes_end=null),o!==""){if(he){we.data;for(var s=me(),f=s;s!==null&&(s.nodeType!==8||s.data!=="");)f=s,s=Je(s);if(s===null)throw Ke(),Qe;_e(we,f),r=Ve(s);return}var c=o+"";n?c=`<svg>${c}</svg>`:a&&(c=`<math>${c}</math>`);var d=Xe(c);if((n||a)&&(d=$(d)),_e($(d),d.lastChild),n||a)for(;$(d);)r.before($(d));else r.before(d)}})}const xe={nachw_vert:0,nachw_rotb:0,nachw_schub:0,querz_x:0,querz_y:0};function Tt(){const{subscribe:e,set:t,update:n}=j(xe);return{subscribe:e,set:t,update:n,reset:()=>t(xe)}}const Ct=Tt();function Pt(e){const t=e.a*e.b;let n,a;e.n_b===0||e.is_wirksamgeschlossen===1?(n=t,a=Math.round(t/(2*e.t*(e.a+e.b))*1e3)/1e3):(n=Math.round(t-e.n_b*Math.PI*Math.pow(e.d_b/2,2)),a=Math.round((t-.25*Math.PI*e.n_b*Math.pow(e.t,2))/(2*e.t*(e.a+e.b)+e.t*Math.PI*e.n_b*e.d_b)*1e3)/1e3);const l=e.is_ortbeton===0?10:10/2,o=Math.round(.625/e.a*1e3*10)/10+l,i=e.alpha_a,s=e.alpha_b+o,f=Math.sqrt(Math.pow(i,2)+Math.pow(s,2)),c=Math.min(450*e.t/e.a,48),d=48,h=Math.round(s/c*1e3)/1e3,u=Math.round(f/d*1e3)/1e3,m=Math.round(1e3*e.ff_zd/n*10)/10;let _;a<2.33?_=Math.round((5.3805*a-.6536)*10)/10:_=Math.round((10.635*a-12.89)*10)/10;const w=Math.round(m/_*1e3)/1e3,S=Math.round((e.v_a/e.t+e.ff_x*1e3/(e.gg*n))*100)/100,x=Math.round((e.v_b/e.t+e.ff_y*1e3/(e.gg*n))*100)/100,p=Math.sqrt(Math.pow(S,2)+Math.pow(x,2)),T=Math.round(p/(.6*(e.t-2)/e.t)*1e3)/1e3,z=5,y=5,g=e.c_nom+10;return{aa:t,a_eff:n,s:a,alpha_b_zus:o,alpha_b_ges:s,alpha_a_ges:i,alpha_ges:f,alpha_bmax:c,alpha_resmax:d,nachw_rotb:h,nachw_rotres:u,sigma_ed:m,sigma_rd:_,nachw_vert:w,tan_gamx:S,tan_gamy:x,tan_gamxy:p,nachw_schub:T,querz_x:z,querz_y:y,c_rand:g}}function It(e){const t={is_streifen:e.is_streifen,a:e.a,b:e.b,t:e.t,c_nom:e.c_nom,is_dorn:e.is_dorn,d_b:e.d_b,d_d:e.d_d,n_b:e.n_b,ff_zd:e.ff_zd,v_a:e.v_a,v_b:e.v_b,alpha_a:e.alpha_a,alpha_b:e.alpha_b,gg:e.gg,ff_x:e.ff_x,ff_y:e.ff_y,is_ortbeton:e.is_ortbeton,is_wirksamgeschlossen:e.is_wirksamgeschlossen},n=Pt(t);Ct.set({nachw_vert:n.nachw_vert,nachw_rotb:n.nachw_rotb,nachw_schub:n.nachw_schub,querz_x:n.querz_x,querz_y:n.querz_y})}const R={s_65:{check:!0,manufacturer:"Standard",thicknesses:e=>[10,15,20,25,30].filter(t=>t===10||e>=70),sigma_rd_rule:e=>e<=6.25?4.03*e**1.16:33.9,rot_b_rule:(e,t)=>Math.min(450*e/t,40),rot_res_rule:40,"Nachweis erfolgreich t":[]},s_70:{check:!0,manufacturer:"Standard",thicknesses:e=>[10,15,20].filter(t=>t===10||e>=70),sigma_rd_rule:e=>e<=5?6.99*e:34.95,rot_b_rule:(e,t)=>Math.min(450*e/t,40),rot_res_rule:40,"Nachweis erfolgreich t":[]},esz_100:{check:!0,manufacturer:"Standard",thicknesses:e=>[10,15,20,25,30].filter(t=>t===10||e>=70),sigma_rd_rule:e=>e<2.33?5.3805*e-.6536:e>=2.33&&e<=2.5?10.635*e-12.89:e>2.5&&e<=5?8.4004*e-7.3293:34.7,rot_b_rule:(e,t)=>Math.min(450*e/t,48),rot_res_rule:48,"Nachweis erfolgreich t":[]},conti_60:{check:!0,manufacturer:"ContiTech",thicknesses:[10,20,30],sigma_rd_rule:e=>e<=5?.315*e**2+4.035*e:28.05,rot_b_rule:(e,t)=>Math.min(450*e/t,40),rot_res_rule:40,"Nachweis erfolgreich t":[]},leschu_n15:{check:!0,manufacturer:"Leschu",thicknesses:[10,15,20],sigma_rd_rule:e=>e<1.88?3.29*e+1.46:e>=1.88&&e<2.5?2.58*e+2.79:e>=2.5&&e<3.5?3.34*e+.88:e>=3.5&&e<3.75?12.21*e-30.17:e>=3.75&&e<5?3.15*e+3.81:e>=5&&e<=10?1.66*e+11.29:e>10?27.89:0,rot_b_rule:(e,t)=>Math.min(450*e/t,40),rot_res_rule:40,"Nachweis erfolgreich t":[]},matteco_elr08:{check:!0,manufacturer:"Matteco",thicknesses:e=>[10,15,20].filter(t=>t===10||e>=70),sigma_rd_rule:e=>e<=4.17?.422*Math.E**(.698*e):7.75,rot_b_rule:(e,t)=>Math.min(200*e/t,16),rot_res_rule:16,"Nachweis erfolgreich t":[]},matteco_elr18:{check:!0,manufacturer:"Matteco",thicknesses:e=>[10].filter(t=>t===10||e>=70),sigma_rd_rule:e=>e<=4.5?1.28*e**1.25:8.4,rot_b_rule:(e,t)=>Math.min(200*e/t,20),rot_res_rule:20,"Nachweis erfolgreich t":[]}};function Rt(e){const{is_ortbeton:t,is_wirksamgeschlossen:n,a,b:l,is_dorn:r,d_b:o,n_b:i,ff_zd:s,v_a:f,alpha_b:c,alpha_a:d}=e,h=JSON.parse(JSON.stringify(R)),u={rules:[(g,M)=>g>=70||M>=100&&g>=50,(g,M)=>M>=70]},m={rules:[(g,M)=>g>=70,(g,M)=>M>=70]};u.rules.every(g=>g(a,l))||(h.s_65.check=!1,h.s_70.check=!1,h.esz_100.check=!1,h.leschu_n15.check=!1,h.matteco_elr08.check=!1,h.matteco_elr18.check=!1),m.rules.every(g=>g(a,l))||(h.conti_60.check=!1);const _=a*l;let w;r===0?w=_:w=Math.round(_-i*Math.PI*(o/2)**2);const S=Math.round(1e3*s/w*10)/10,x=t===0?10:10/2,T=Math.round(.625/a*1e3*10)/10+x,z=c+T,y=[];for(const[g,M]of Object.entries(h))if(M.check){const te=typeof R[g].thicknesses=="function"?R[g].thicknesses(a):R[g].thicknesses;for(const C of te){let F;!r||n?F=Math.round(_/(2*C*(a+l))*1e3)/1e3:F=Math.round((_-.25*Math.PI*i*C**2)/(2*C*(a+l)+C*Math.PI*i*o)*1e3)/1e3;const k=R[g].sigma_rd_rule(F),Y=R[g].rot_b_rule(C,a),W=R[g].rot_res_rule,A=.6*(C-2),P=S/k,E=f/A,U=z/Y,He=P<=1&&E<=1&&U<=1;y.push({lagerType:g,manufacturer:R[g].manufacturer,thickness:C,s:F,sigma_rd:k,alpha_b_max:Y,alpha_res_max:W,v_x_max:A,sigma_nachw:P,v_x_nachw:E,rot_b_nachw:U,passed:He})}}return y}const Dt=j([]),Lt=j(null),ne={is_streifen:0,a:200,b:250,t:10,c_nom:25,is_dorn:1,d_b:20,d_d:20,n_b:1,ff_zd:800,v_a:5,alpha_b:10,gg:.9,v_b:0,alpha_a:0,ff_x:15,ff_y:0,is_ortbeton:0,is_wirksamgeschlossen:0};function Ot(){const{subscribe:e,set:t,update:n}=j(ne),a={subscribe:e,set:l=>{t(l),oe(l)},update:l=>{n(r=>{const o=l(r);return oe(o),o})},reset:()=>{t(ne),oe(ne)},updateField:(l,r)=>{a.update(o=>({...o,[l]:r}))}};return a}const X=Ot();function oe(e){Lt.set(null),It(e);const t=Rt(e);Dt.set(t)}var Gt=De("<!> <!>",1);function dn(e,t){Le(t,!1);const[n,a]=rt(),l=()=>at(X,"$shearDeformationParameterStore",n);let r=D(t,"field",8),o=D(t,"label",8),i=D(t,"helperText",8,""),s=D(t,"step",8,1),f=D(t,"disabled",8,!1),c=D(t,"min",8,void 0),d=D(t,"max",8,void 0);function h(w){const S=w.detail;S!==null&&X.updateField(r(),S)}Ne();var u=Gt(),m=ge(u);it(m,{children:(w,S)=>{var x=qe(),p=ge(x);At(p,o),re(w,x)},$$slots:{default:!0}});var _=je(m,2);ct(_,{get value(){return l()[r()]},size:"sm",get step(){return s()},get helperText(){return i()},get disabled(){return f()},get min(){return c()},get max(){return d()},light:!0,$$events:{change:h}}),re(e,u),Oe(),a()}const Ye=400,Ze=400,Se=[[-.8,1,-.25],[-1.35,1,-.25],[-1.35,1,.25],[-.8,1,.25],[-1.0475,.3,.25],[-.8,.3,.25],[-1.35,.6,.25],[-1.35,.6,-.25],[-1.0475,.3,-.25],[-.8,.3,-.25],[-.8,0,.5],[-.8,2,.5],[-.8,2,-.5],[-.8,0,-.5],[.2,2,-.5],[.2,0,-.5],[.2,2,.5],[.2,0,.5]],Nt=[13,15,17,13,17,10,12,16,14,12,11,16,13,10,11,13,11,12,15,14,16,11,16,17,13,12,14,13,14,15,10,17,16,10,16,11],Bt=[0,1,2,0,2,3,1,7,6,1,6,2,0,3,5,0,5,9,0,9,8,0,8,7,0,7,1,3,2,6,3,6,4,3,4,5,9,5,4,9,4,8,8,4,6,8,6,7];function ue(e,t,n=0){const a=Se.map(o=>[o[0],o[1],o[2]]),l=(e-Ye)/1e3,r=(t-Ze)/2/1e3;return l>-.3?[1,2,4,6,7,8].forEach(o=>{a[o][0]-=l}):([1,2,6,7].forEach(o=>{a[o][0]-=l}),[4,8].forEach(o=>{a[o][0]-=-.1})),n===1?a.forEach((o,i)=>{const s=Se[i][2];o[2]=s>=0?.5:-.5}):([0,1,7,8,9,12,13,14,15].forEach(o=>{a[o][2]-=r}),[2,3,4,5,6,10,11,16,17].forEach(o=>{a[o][2]+=r})),a}function Ft(e){const t=document.createElement("canvas");t.width=64,t.height=64;const n=t.getContext("2d");n.fillStyle="red",n.beginPath(),n.arc(32,32,28,0,Math.PI*2),n.fill(),n.fillStyle="white",n.font="bold 36px Arial",n.textAlign="center",n.textBaseline="middle",n.fillText(e,32,32);const a=new K(t),l=new ft({map:a}),r=new Be(l);return r.scale.set(.08,.08,1),r}function pe(e,t=Ye,n=Ze,a=!1,l=0){const r=new de,o=new ee({color:lt,shininess:100,flatShading:!0,transparent:!1}),i=ue(t,n,l),s=new Float32Array(i.flat()),f=new O;f.setAttribute("position",new be(s,3)),f.setIndex(Nt),f.computeVertexNormals();const c=new v(f,o);c.castShadow=!0,c.receiveShadow=!0,r.add(c);const d=new O;d.setAttribute("position",new be(s,3)),d.setIndex(Bt),d.computeVertexNormals();const h=new v(d,o);return h.castShadow=!0,h.receiveShadow=!0,r.add(h),a&&i.forEach((u,m)=>{const _=Ft(m.toString());_.position.set(u[0],u[1],u[2]),r.add(_)}),e.add(r),r}function q(){const e=Ge(X),t=ue(e.a,e.b,e.is_streifen),n=[t[0],t[1],t[2],t[3]];return{centerX:(n[0][0]+n[1][0]+n[2][0]+n[3][0])/4,centerY:n[0][1],centerZ:(n[0][2]+n[1][2]+n[2][2]+n[3][2])/4}}function ye(e,t){t&&(t.traverse(n=>{n instanceof v&&(n.geometry.dispose(),Array.isArray(n.material)?n.material.forEach(a=>a.dispose()):n.material.dispose())}),e.remove(t))}let le=!0,se=0,Z=0,J=null,H=null;const kt=.07,ae=[new b(-2.1247554456236646,1.8348909616249438,-.9418251993957858),new b(-2.298436211128349,2.1141465425086055,.0593750739688058),new b(-1.8215114290760264,1.8160993918937776,1.1472099754138583)];function Yt(){const e=q();return new b(e.centerX,e.centerY,e.centerZ)}function Zt(e,t,n){if(!le||!t)return;Z===0&&(Z=e,J=t.position.clone(),H=n.target.clone());const a=e-Z,l=J||ae[se],r=(se+1)%ae.length,o=ae[r],s=l.distanceTo(o)/kt*1e3,f=Yt();if(a<s){const c=a/s;t.position.lerpVectors(l,o,c),n&&H&&(n.target.lerpVectors(H,f,c),n.update())}else se=r,Z=e,J=null,H=f.clone()}function Ht(e){const t=()=>{le=!1},n=()=>{le=!0,Z=0,J=null,H=null};return e.addEventListener("mouseenter",t),e.addEventListener("mouseleave",n),()=>{e.removeEventListener("mouseenter",t),e.removeEventListener("mouseleave",n)}}function Xt(){const e=new dt;return e.background=new Fe(16777215),e}function qt(e){const t=new ut({antialias:!0});return t.setPixelRatio(window.devicePixelRatio),t.shadowMap.enabled=!0,t.shadowMap.type=_t,e.appendChild(t.domElement),t}function Wt(e){const t=new v(new Q(200,200),new ee({color:13355979,specular:4671303}));t.rotation.x=-Math.PI/2,t.position.y=-10,t.receiveShadow=!0}function Ut(e){return e.add(new ht(9272444,4802918,3)),$t(e,0,500,500,16777215,2)}function $t(e,t,n,a,l,r){const o=new mt(l,r);o.position.set(t,n,a),o.castShadow=!0;const i=1e3;return o.shadow.camera.left=-1e3,o.shadow.camera.right=i,o.shadow.camera.top=i,o.shadow.camera.bottom=-1e3,o.shadow.camera.near=1,o.shadow.camera.far=2e3,o.shadow.mapSize.width=4096,o.shadow.mapSize.height=4096,o.shadow.radius=1,o.shadow.bias=-5e-4,e.add(o),e.add(o.target),o}const Jt=400,Kt=400,Qt=10,Vt=.4,jt=.4,en=.02;function Me(e,t){const n=new de,a=new ee({color:wt,shininess:100,specular:2236962}),l=(t.a-Jt)/1e3,r=(t.b-Kt)/1e3,o=(t.t-Qt)*2/1e3,i=Vt+l,s=jt+r,f=en+o,c=new v(new gt(i,f,s),a),d=q();c.position.set(d.centerX,d.centerY+f/2,d.centerZ),c.castShadow=!0,c.receiveShadow=!0,n.add(c),e.add(n),c.geometry.computeBoundingBox();const h=new bt;h.setFromObject(c);const u=d.centerY;return{group:n,boundingBox:h,height:u,lengthDiffX:l,lengthDiffZ:r}}function ve(e,t){t&&(t.traverse(n=>{n instanceof v&&(n.geometry.dispose(),Array.isArray(n.material)?n.material.forEach(a=>a.dispose()):n.material.dispose())}),e.remove(t))}function ze(e,t){const n=new de;if(!t.is_dorn)return e.add(n),n;const a=new ee({color:xt,flatShading:!1}),l=(50+t.b*.2)/1e3,r=t.d_b/2/1e3,o=q(),i=t.n_b;for(let s=0;s<i;s++){const f=new v(new St(r,r,l,16),a);let c=0;if(i===2){const d=t.b/1e3;c=s===0?d/5:-d/5}f.position.set(o.centerX,o.centerY+l/2,o.centerZ+c),f.castShadow=!0,f.receiveShadow=!0,n.add(f)}return e.add(n),n}function Ee(e,t){t&&(t.traverse(n=>{n instanceof v&&(n.geometry.dispose(),Array.isArray(n.material)?n.material.forEach(a=>a.dispose()):n.material.dispose())}),e.remove(t))}let B=[],L=[];const Ae=16111426;function Te(e,t,n,a,l,r=0,o=0){const i=document.createElement("canvas"),s=i.getContext("2d");if(!s)return;const f=.5;i.width=512*f,i.height=128*f,s.font="Bold 19px Arial",s.fillStyle="#ff0000ff",s.textAlign="center",s.textBaseline="middle",s.lineWidth=3,s.fillText(l,i.width/2,i.height/2);const c=new K(i),d=new V({map:c,transparent:!0,side:ce}),h=new Q(.24,.072),u=new v(h,d),m=new b(n[0]-t[0],0,n[2]-t[2]).normalize(),_=new b(-m.z,0,m.x),w=(t[0]+n[0])/2+r+_.x*a,S=(t[2]+n[2])/2+o+_.z*a;u.position.set(w,t[1],S),u.rotation.x=-Math.PI/2,u.rotation.z=Math.atan2(m.z,m.x)+Math.PI,e.add(u),B.push(u)}function Ce(e,t,n,a,l,r=.05){const o=new b(-a.z,0,a.x).normalize(),i=new O().setFromPoints([new b(t.x-o.x*r/2,t.y,t.z-o.z*r/2),new b(t.x+o.x*r/2,t.y,t.z+o.z*r/2)]),s=new G(i,l);e.add(s),B.push(s);const f=new O().setFromPoints([new b(n.x-o.x*r/2,n.y,n.z-o.z*r/2),new b(n.x+o.x*r/2,n.y,n.z+o.z*r/2)]),c=new G(f,l);e.add(c),B.push(c)}function fe(e){B.forEach(t=>{e.remove(t),t instanceof v&&(t.geometry&&t.geometry.dispose(),t.material instanceof N&&t.material.dispose()),t instanceof G&&(t.geometry&&t.geometry.dispose(),t.material instanceof N&&t.material.dispose()),t instanceof Be&&t.material instanceof N&&t.material.dispose()}),B=[]}function Pe(e){L.forEach(t=>{e.remove(t),t instanceof v&&(t.geometry&&t.geometry.dispose(),t.material instanceof N&&t.material.dispose()),t instanceof G&&(t.geometry&&t.geometry.dispose(),t.material instanceof N&&t.material.dispose()),t instanceof ie&&(t.line&&t.line.geometry&&t.line.geometry.dispose(),t.line&&t.line.material instanceof N&&t.line.material.dispose(),t.cone&&t.cone.geometry&&t.cone.geometry.dispose(),t.cone&&t.cone.material instanceof N&&t.cone.material.dispose())}),L=[]}function Ie(e,t=new b(0,0,0)){const l=new ke({color:new Fe(Ae)}),r=Ae,o=new b(t.x-.06,t.y,t.z),i=new O().setFromPoints([t,o]),s=new G(i,l);e.add(s),L.push(s);const f=new b(-1,0,0),c=new ie(f,o,.03,r,.03*.5,.03*.3);e.add(c),L.push(c);const d=new b(t.x,t.y,t.z-.06),h=new O().setFromPoints([t,d]),u=new G(h,l);e.add(u),L.push(u);const m=new b(0,0,-1),_=new ie(m,d,.03,r,.03*.5,.03*.3);e.add(_),L.push(_);const w=document.createElement("canvas"),S=w.getContext("2d");if(S){w.width=512*.4*2,w.height=128*.4,S.font="Bold 16px Arial",S.fillStyle="#e1be0fff",S.textAlign="center",S.textBaseline="middle",S.fillText("x (Brückenlängsachse)",w.width/2,w.height/2);const z=new K(w),y=new V({map:z,transparent:!0,side:ce}),g=new Q(.2,.06),M=new v(g,y);M.position.set(t.x-.06*1,t.y,t.z-.02),M.rotation.x=-Math.PI/2,M.rotation.z=0,e.add(M),L.push(M)}const x=document.createElement("canvas"),p=x.getContext("2d");if(p){x.width=512*.4,x.height=128*.4,p.font="Bold 16px Arial",p.fillStyle="#e1be0fff",p.textAlign="center",p.textBaseline="middle",p.fillText("y",x.width/2,x.height/2);const z=new K(x),y=new V({map:z,transparent:!0,side:ce}),g=new Q(.2,.06),M=new v(g,y);M.position.set(t.x-.02,t.y+.01,t.z-.06*1.1),M.rotation.x=-Math.PI/2,M.rotation.z=0,e.add(M),L.push(M)}}function Re(e){fe(e);const t=Ge(X),n=ue(t.a,t.b,t.is_streifen),a=new ke({color:16711680}),l=.05,r=t.b/1e3,o=t.a/1e3;if(t.is_streifen===0){const _=(n[1][0]+n[2][0])/2,w=n[1][1],S=(n[1][2]+n[2][2])/2,x=new b(_-l,w,S-r/2),p=new b(_-l,w,S+r/2),T=new O().setFromPoints([x,p]),z=new G(T,a);e.add(z),B.push(z);const y=new b().subVectors(p,x).normalize();Ce(e,x,p,y,a),Te(e,[x.x,x.y,x.z],[p.x,p.y,p.z],.02,`b = ${t.b} mm`,0,0)}const i=(n[0][0]+n[1][0])/2,s=n[0][1],f=(n[0][2]+n[1][2])/2,c=new b(i-o/2,s,f-l),d=new b(i+o/2,s,f-l),h=new O().setFromPoints([c,d]),u=new G(h,a);e.add(u),B.push(u);const m=new b().subVectors(d,c).normalize();Ce(e,c,d,m,a),Te(e,[c.x,c.y,c.z],[d.x,d.y,d.z],-.02,`a = ${t.a} mm`,0,0)}var tn=De('<div class="scene-container svelte-5boshl"></div>');function un(e,t){Le(t,!1),D(t,"autoRotate",8,!1);let n;const a=.05,l=.001,r=.04,o=new b(-3.6366326492655574,2.6403115127435544,-1.3328222766488578);let i=tt(),s,f,c,d,h,u,m,_,w,S,x,p,T;et(async()=>{s=Xt(),c=qt(I(i)),Wt(),w=Ut(s),f=pt(35),f.position.copy(o),T=X.subscribe(A=>{if(n=A,s&&m!==void 0){u&&ye(s,u),m&&ve(s,m),_&&Ee(s,_),fe(s),Pe(s),u=pe(s,n.a,n.b,!1,n.is_streifen),m=Me(s,n).group,_=ze(s,n),Re(s);const E=q(),U=new b(E.centerX+a+n.a/2e3,E.centerY+l,E.centerZ+r+n.b/2e3);Ie(s,U)}});const y=q(),g=[y.centerX,y.centerY,y.centerZ];d=yt(f,c,g),S=Mt(c,f,d),x=Ht(I(i)),u=pe(s,n.a,n.b,!1,n.is_streifen),m=Me(s,n).group,_=ze(s,n),Re(s);const te=new b(y.centerX+a+n.a/2e3,y.centerY+l,y.centerZ+r+n.b/2e3);Ie(s,te);const C=new v(new vt(.01,16,16),new V({color:16711680}));C.position.set(y.centerX,y.centerY,y.centerZ),s.add(C);const k=1e3/30;let Y=0;const W=A=>{p=requestAnimationFrame(W);const P=A-Y;if(!(P<k)){if(Y=A-P%k,Zt(A,f,d),zt(d),w&&f){const E=new b(0,500,500);E.applyQuaternion(f.quaternion),w.position.copy(f.position).add(E),d&&d.target&&(w.target.position.copy(d.target),w.target.updateMatrixWorld())}c.render(s,f)}};if(W(0),await nt(),I(i)&&I(i)instanceof Element){let A=!1;h=new ResizeObserver(()=>{I(i)&&c&&f&&!A&&(A=!0,requestAnimationFrame(()=>{if(I(i)&&c&&f){const P=I(i).clientWidth,E=I(i).clientHeight;console.log(`Resizing renderer to ${P}x${E}`),f.aspect=P/E,f.updateProjectionMatrix(),c.setSize(P,E)}A=!1}))}),h.observe(I(i))}console.log("ShearDeformationScene initialized")}),ot(()=>{p!==void 0&&cancelAnimationFrame(p),S&&S(),x&&x(),T&&T(),h&&h.disconnect(),d&&d.dispose(),c&&c.dispose(),u&&s&&ye(s,u),m&&s&&ve(s,m),_&&s&&Ee(s,_),s&&fe(s),s&&Pe(s),console.log("ShearDeformationScene destroyed")}),Ne();var z=tn();Et(z,y=>st(i,y),()=>I(i)),re(e,z),Oe()}export{dn as P,un as S,Ct as a,Lt as b,Dt as c,oe as p,X as s};
