import{h as pe,e as Se,b5 as ye,b6 as we,b7 as Fe,b as Be,Q as Te,a as Ce,c as Pe,a0 as Ae,y as J,ar as _e,L as ge,N as Le,z as O,A as R,B as K,u as ae,p as se,w as t,C as U,K as H,J as ce,D as G,t as Y,G as q,F as N,ai as Ee,au as b,I as Re,at as Ie,b8 as ke,P as De,av as Ve,a5 as Oe}from"./DJGza1Ah.js";import"./CWj6FrbW.js";import"./COJVcecD.js";import{i as be,p as oe}from"./B-UVuann.js";import{e as de,i as ue,S as ne,a as Z,c as Ge}from"./D8MXRFJ4.js";import{i as xe}from"./Ct8gpIlH.js";import{s as X,a as ee}from"./D-kLtYxl.js";import{g as ze}from"./B8yXBdMf.js";import{p as Me}from"./TyGU26-R.js";import"./1W0SvTZc.js";import{C as Ne,G as Ue,R as qe,b as ie,t as C}from"./BPELoobJ.js";import{p as z,r as We,g as je,a as He,b as Ye,T as Ze,I as Je,L as Ke,F as Qe,B as fe,C as Xe,S as et,c as le,V as Q,d as me,e as tt,f as rt,M as at,h as st,i as nt,j as ot,k as it,l as lt,m as ct,n as dt,s as ut,o as pt,q as gt,G as ft,t as mt,u as ht,v as vt,w as $t,x as _t,y as bt,z as xt,A as St,D as he}from"./D1xUi6Rf.js";import{b as re}from"./DvJMpHqR.js";import{B as yt}from"./B5e2tQp6.js";import{b as wt}from"./UdVgsUem.js";function rr($,u,y){pe&&Se();var F=$,B=Ae,l,g=ye()?we:Fe;Be(()=>{g(B,B=u())&&(l&&Te(l),l=Ce(()=>y(F)))}),pe&&(F=Pe)}var Ft=O('<p class="footer__version svelte-17hdye4"> </p>'),Bt=O('<button class="footer__link svelte-17hdye4" style="color: #000000;"> </button>'),Tt=O('<nav class="footer__nav svelte-17hdye4"></nav>'),Ct=O('<p class="footer__copyright svelte-17hdye4"> </p>'),Pt=O("<!> <!> <!>",1),At=O('<footer class="footer svelte-17hdye4"><!></footer>');function ar($,u){J(u,!1);const[y,F]=X(),B=()=>ee(Me,"$page",y),l=se(),g=se(),p=new Date().getFullYear();let d=se("");_e(async()=>{try{const o=await(await fetch("/version.json")).json();ae(d,o.version)}catch(a){console.error("Failed to load version:",a)}});function n(a){ze(a)}ge(()=>B(),()=>{ae(l,B().params.lang||"de")}),ge(()=>t(l),()=>{ae(g,[{href:`/${t(l)}/impressum`,label:"Impressum"},{href:`/${t(l)}/privacy`,label:"Privacy"}])}),Le(),xe();var e=At(),r=U(e);Ne(r,{children:(a,o)=>{Ue(a,{noGutter:!0,padding:!0,children:(i,c)=>{qe(i,{children:(s,x)=>{var S=Pt(),w=H(S);ie(w,{sm:16,md:16,lg:4,children:(m,E)=>{var v=ce(),T=H(v);{var A=f=>{var I=Ft(),h=U(I);G(I),Y(()=>q(h,`v${t(d)??""}`)),R(f,I)};be(T,f=>{t(d)&&f(A)})}R(m,v)},$$slots:{default:!0}});var P=N(w,2);ie(P,{sm:16,md:16,lg:8,children:(m,E)=>{var v=Tt();de(v,5,()=>t(g),ue,(T,A)=>{var f=Bt(),I=U(f,!0);G(f),Y(()=>q(I,t(A).label)),Ee("click",f,()=>n(t(A).href)),R(T,f)}),G(v),R(m,v)},$$slots:{default:!0}});var L=N(P,2);ie(L,{sm:16,md:16,lg:4,children:(m,E)=>{var v=Ct(),T=U(v);G(v),Y(()=>q(T,`© ${p??""} statiqs`)),R(m,v)},$$slots:{default:!0}}),R(s,S)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),G(e),R($,e),K(),F()}var Lt=O("<!> <!>",1);function sr($,u){J(u,!0);const[y,F]=X();let l=b(()=>ee(z,"$parameterStore",y));function g(n){var a;const r=(n.detail||((a=n.target)==null?void 0:a.value))==="rund";z.updateField("isRound",r)}const p=b(()=>C("bridgeBearing.bearingShape")),d=b(()=>t(l).isRound?"rund":"rechteckig");ne($,{get labelText(){return t(p)},get selected(){return t(d)},light:!0,$$events:{change:g},children:(n,e)=>{var r=Lt(),a=H(r);const o=b(()=>C("bridgeBearing.rectangular"));Z(a,{value:"rechteckig",get text(){return t(o)}});var i=N(a,2);const c=b(()=>C("bridgeBearing.round"));Z(i,{value:"rund",get text(){return t(c)}}),R(n,r)},$$slots:{default:!0}}),K(),F()}function nr($,u){J(u,!0);const[y,F]=X();let l=b(()=>ee(z,"$parameterStore",y)),g=b(je),p=b(()=>We.map(o=>o.diameter)),d=b(()=>t(l).isRound?t(p).findIndex(o=>o===t(l).d):t(g).findIndex(o=>o.length===t(l).a&&o.width===t(l).b)),n=b(()=>t(l).isRound?t(p).map((o,i)=>({value:i,label:`${o} mm`})):t(g).map((o,i)=>({value:i,label:`${o.length} mm x ${o.width} mm`})));function e(o){var c;const i=parseInt(((c=o.target)==null?void 0:c.value)||o.detail);if(t(l).isRound){const s=t(p)[i];s&&z.updateField("d",s)}else{const s=t(g)[i];s&&(z.updateField("a",s.length),z.updateField("b",s.width))}}const r=b(()=>t(l).isRound?C("bridgeBearing.dimensionsDiameter"):C("bridgeBearing.dimensionsLengthWidth")),a=b(()=>t(d).toString());ne($,{get labelText(){return t(r)},get selected(){return t(a)},light:!0,$$events:{change:e},children:(o,i)=>{var c=ce(),s=H(c);de(s,17,()=>t(n),ue,(x,S)=>{const w=b(()=>t(S).value.toString());Z(x,{get value(){return t(w)},get text(){return t(S).label}})}),R(o,c)},$$slots:{default:!0}}),K(),F()}function or($,u){J(u,!0);const[y,F]=X();let l=b(()=>ee(z,"$parameterStore",y)),g=b(()=>t(l).isRound?He(t(l).d).map(e=>({value:`${e.n}-${e.t_1}`,label:`${C("bridgeBearing.layerCount")} ${e.n}, ${C("bridgeBearing.layerHeight")} ${e.t_1}mm`,n:e.n,t_1:e.t_1})):Ye(t(l).a,t(l).b).map(e=>({value:`${e.n}-${e.t_1}`,label:`${C("bridgeBearing.layerCount")} ${e.n}, ${C("bridgeBearing.layerHeight")} ${e.t_1}mm`,n:e.n,t_1:e.t_1})));Re(()=>{const e=`${t(l).n}-${t(l).t_1}`;if(!t(g).some(a=>a.value===e)&&t(g).length>0){const a=t(g)[0];z.update(o=>({...o,n:a.n,t_1:a.t_1}))}});function p(e){var s;const r=((s=e.target)==null?void 0:s.value)||e.detail,[a,o]=r.split("-"),i=parseInt(a),c=parseFloat(o);z.update(x=>({...x,n:i,t_1:c}))}const d=b(()=>C("bridgeBearing.elastomerLayers")),n=b(()=>`${t(l).n}-${t(l).t_1}`);ne($,{get labelText(){return t(d)},get selected(){return t(n)},light:!0,$$events:{change:p},children:(e,r)=>{var a=ce(),o=H(a);de(o,17,()=>t(g),ue,(i,c)=>{const s=b(()=>t(c).value.toString());Z(i,{get value(){return t(s)},get text(){return t(c).label}})}),R(e,a)},$$slots:{default:!0}}),K(),F()}var Et=O('<span slot="tooltipText"> <br/> <br/> <br/> <br/> <br/> <br/> </span>'),Rt=O("<!> <!>",1),It=O('<div class="select-with-tooltip svelte-17kum7t"><div class="label-container svelte-17kum7t"><span class="label-text svelte-17kum7t"> </span> <!></div> <div style="margin-top: calc(-1 * var(--cds-spacing-03));"></div> <!></div>');function ir($,u){J(u,!0);const[y,F]=X();let l=b(()=>ee(z,"$parameterStore",y));function g(i){var x;const s=(i.detail||((x=i.target)==null?void 0:x.value))==="Typ C"?"C":"B";z.updateField("l_typ",s)}var p=It(),d=U(p),n=U(d),e=U(n,!0);G(n);var r=N(n,2);Ze(r,{get icon(){return Je},$$slots:{tooltipText:(i,c)=>{var s=Et(),x=U(s,!0),S=N(x,4),w=N(S,4),P=N(w,4);G(s),Y((L,m,E,v)=>{q(x,L),q(S,` ${m??""}`),q(w,` ${E??""}`),q(P,` ${v??""}`)},[()=>C("bridgeBearing.typeBTooltip"),()=>C("bridgeBearing.typeCTooltip"),()=>C("bridgeBearing.typeCRequired"),()=>C("bridgeBearing.typeB_DBRestriction")]),R(i,s)}}}),G(d);var a=N(d,4);const o=b(()=>t(l).l_typ==="C"?"Typ C":"Typ B");ne(a,{labelText:"",get selected(){return t(o)},light:!0,$$events:{change:g},children:(i,c)=>{var s=Rt(),x=H(s);const S=b(()=>C("bridgeBearing.typeB"));Z(x,{value:"Typ B",get text(){return t(S)}});var w=N(x,2);const P=b(()=>C("bridgeBearing.typeC"));Z(w,{value:"Typ C",get text(){return t(P)}}),R(i,s)},$$slots:{default:!0}}),G(p),Y(i=>q(e,i),[()=>C("bridgeBearing.bearingType")]),R($,p),K(),F()}class kt extends Ke{constructor(u){super(u)}load(u,y,F,B){const l=this,g=new Qe(this.manager);g.setPath(this.path),g.setResponseType("arraybuffer"),g.setRequestHeader(this.requestHeader),g.setWithCredentials(this.withCredentials),g.load(u,function(p){try{y(l.parse(p))}catch(d){B?B(d):console.error(d),l.manager.itemError(u)}},F,B)}parse(u){function y(n){const e=new DataView(n),r=32/8*3+32/8*3*3+16/8,a=e.getUint32(80,!0);if(80+32/8+a*r===e.byteLength)return!0;const i=[115,111,108,105,100];for(let c=0;c<5;c++)if(F(i,e,c))return!1;return!0}function F(n,e,r){for(let a=0,o=n.length;a<o;a++)if(n[a]!==e.getUint8(r+a))return!1;return!0}function B(n){const e=new DataView(n),r=e.getUint32(80,!0);let a,o,i,c=!1,s,x,S,w,P;for(let f=0;f<70;f++)e.getUint32(f,!1)==1129270351&&e.getUint8(f+4)==82&&e.getUint8(f+5)==61&&(c=!0,s=new Float32Array(r*3*3),x=e.getUint8(f+6)/255,S=e.getUint8(f+7)/255,w=e.getUint8(f+8)/255,P=e.getUint8(f+9)/255);const L=84,m=12*4+2,E=new fe,v=new Float32Array(r*3*3),T=new Float32Array(r*3*3),A=new Xe;for(let f=0;f<r;f++){const I=L+f*m,h=e.getFloat32(I,!0),k=e.getFloat32(I+4,!0),V=e.getFloat32(I+8,!0);if(c){const _=e.getUint16(I+48,!0);(_&32768)===0?(a=(_&31)/31,o=(_>>5&31)/31,i=(_>>10&31)/31):(a=x,o=S,i=w)}for(let _=1;_<=3;_++){const W=I+_*12,D=f*3*3+(_-1)*3;v[D]=e.getFloat32(W,!0),v[D+1]=e.getFloat32(W+4,!0),v[D+2]=e.getFloat32(W+8,!0),T[D]=h,T[D+1]=k,T[D+2]=V,c&&(A.setRGB(a,o,i,et),s[D]=A.r,s[D+1]=A.g,s[D+2]=A.b)}}return E.setAttribute("position",new le(v,3)),E.setAttribute("normal",new le(T,3)),c&&(E.setAttribute("color",new le(s,3)),E.hasColors=!0,E.alpha=P),E}function l(n){const e=new fe,r=/solid([\s\S]*?)endsolid/g,a=/facet([\s\S]*?)endfacet/g,o=/solid\s(.+)/;let i=0;const c=/[\s]+([+-]?(?:\d*)(?:\.\d*)?(?:[eE][+-]?\d+)?)/.source,s=new RegExp("vertex"+c+c+c,"g"),x=new RegExp("normal"+c+c+c,"g"),S=[],w=[],P=[],L=new Q;let m,E=0,v=0,T=0;for(;(m=r.exec(n))!==null;){v=T;const A=m[0],f=(m=o.exec(A))!==null?m[1]:"";for(P.push(f);(m=a.exec(A))!==null;){let k=0,V=0;const _=m[0];for(;(m=x.exec(_))!==null;)L.x=parseFloat(m[1]),L.y=parseFloat(m[2]),L.z=parseFloat(m[3]),V++;for(;(m=s.exec(_))!==null;)S.push(parseFloat(m[1]),parseFloat(m[2]),parseFloat(m[3])),w.push(L.x,L.y,L.z),k++,T++;V!==1&&console.error("THREE.STLLoader: Something isn't right with the normal of face number "+i),k!==3&&console.error("THREE.STLLoader: Something isn't right with the vertices of face number "+i),i++}const I=v,h=T-v;e.userData.groupNames=P,e.addGroup(I,h,E),E++}return e.setAttribute("position",new me(S,3)),e.setAttribute("normal",new me(w,3)),e}function g(n){return typeof n!="string"?new TextDecoder().decode(n):n}function p(n){if(typeof n=="string"){const e=new Uint8Array(n.length);for(let r=0;r<n.length;r++)e[r]=n.charCodeAt(r)&255;return e.buffer||e}else return n}const d=p(u);return y(d)?B(d):l(g(u))}}function Dt($){tt($,-20)}function Vt($){rt($,{x:0,y:500,z:0})}function Ot($,u="/Widerlager_klein.stl",y,F,B,l=0){new kt().load(u,p=>{p.computeBoundingBox(),p.computeVertexNormals();const d=p.boundingBox,n=new Q;d.getSize(n);const e=new at({color:st,specular:1118481,shininess:30}),r=new nt(p,e);p.computeBoundingBox();const a=new Q,o=new Q;p.boundingBox.getCenter(a),p.boundingBox.getSize(o),p.translate(-a.x,-a.y,-a.z),r.scale.setScalar(1),r.position.set(0,l,0),r.rotation.x=-Math.PI/2,r.castShadow=!0,r.receiveShadow=!0,$.add(r),y&&y(r)},()=>{},p=>{console.error("Error loading STL file:",p)})}let ve=[];function $e($){ve.forEach(u=>{$.remove(u),u.geometry.dispose(),u.material instanceof ot&&u.material.dispose()}),ve=[]}var Gt=O('<!> <div class="top-view-button-container svelte-51mmbc"><!></div>',1),zt=O('<div id="container" class="svelte-51mmbc"><!></div>');function lr($,u){J(u,!1);let y=oe(u,"parameters",8,void 0),F=oe(u,"autoRotate",8,!1),B=oe(u,"showTooltip",8,!0);const l=[.3,.6,0],g=new Q(3.033053660420776,2.3737696385820284,-.9540866817375618),p=-.15;let d=se(),n,e,r,a,o,i,c,s,x,S,w,P,L;function m(){return _t(bt)}function E(h){return h.isRound?h.diameter>350?`${re}/Widerlager_groß.stl`:`${re}/Widerlager_klein.stl`:h.breiteElastomer>300?`${re}/Widerlager_groß.stl`:`${re}/Widerlager_klein.stl`}function v(h){const k=E(h);if(k===x)return;s&&(n.remove(s),s.geometry.dispose(),Array.isArray(s.material)?s.material.forEach(_=>_.dispose()):s.material.dispose(),s=void 0),x=k;const V=k.includes("klein")?p:0;Ot(n,k,_=>{s=_},void 0,void 0,V)}function T(h){if(!o||!i){console.warn("CreateElastomer or elastomerGroup not initialized");return}i.clear(),o.updateElastomer(h,l).forEach(V=>{i.add(V)}),$e(n),v(h)}_e(async()=>{n=it(),r=lt(t(d)),Dt(n),Vt(n),e=ct(35),e.position.copy(g),a=dt(e,r,l),S=ut(r,e,a),w=pt(t(d),a,F()),P=gt(t(d)),o=new mt(n,e),i=new ft,n.add(i);const h=y()||m();o.createElastomer(h,l).forEach(M=>{i.add(M)}),v(h);const _=1e3/30;let W=0;const D=M=>{L=requestAnimationFrame(D);const j=M-W;j<_||(W=M-j%_,ht(M,e,a),vt(a),r.render(n,e))};if(D(0),he(T),await Ie(),t(d)&&t(d)instanceof Element){let M=!1;c=new ResizeObserver(()=>{t(d)&&r&&e&&!M&&(M=!0,requestAnimationFrame(()=>{if(t(d)&&r&&e){const j=t(d).clientWidth,te=t(d).clientHeight;r.setSize(j,te),e.aspect=j/te,e.updateProjectionMatrix()}M=!1}))}),c.observe(t(d))}}),ke(()=>{L!==void 0&&cancelAnimationFrame(L),r&&$t(r),S==null||S(),w==null||w(),P==null||P(),$e(n),s&&(n.remove(s),s.geometry.dispose(),Array.isArray(s.material)?s.material.forEach(h=>h.dispose()):s.material.dispose(),s=void 0),r==null||r.dispose(),he(()=>{}),c==null||c.disconnect()}),xe();var A=zt(),f=U(A);{var I=h=>{var k=Gt(),V=H(k);xt(V,{});var _=N(V,2),W=U(_);yt(W,{size:"small",kind:"secondary",$$events:{click:()=>St()},children:(D,M)=>{De();var j=Ve();Y(te=>q(j,te),[()=>C("bridgeBearing.scene.topView")],Oe),R(D,j)},$$slots:{default:!0}}),G(_),R(h,k)};be(f,h=>{B()&&h(I)})}return G(A),wt(A,h=>ae(d,h),()=>t(d)),R($,A),Ge(u,"updateElastomer",T),K({updateElastomer:T})}export{sr as B,ar as F,lr as T,nr as a,or as b,ir as c,rr as k};
