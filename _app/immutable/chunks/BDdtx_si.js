import{o as De,r as W,u as ae,ao as Te,aQ as Ge,y as se,ar as Ne,av as Ce,at as Le,aA as re,I as Be,aR as ke,aj as O,aS as Oe,B as Fe,A as qe,ai as F,p as ve,f as ye,j as ie,a9 as He,a as $,k as Ze,i as pe,g as Se,e as I,m as Xe,a8 as Ye,c as Ue}from"./DSlHtmwy.js";import{l as We,o as $e,k as Ke}from"./DWBy8EqM.js";import"./CWj6FrbW.js";import"./BG0NYwNB.js";import{i as Me}from"./ClFr3q5Z.js";import{p as R}from"./C7E_d51j.js";import{a as Qe,s as Je}from"./J735WSiR.js";import{K as je,N as Ve,k as et,d as tt,W as nt,l as ot,M as z,P as xe,m as q,H as at,D as st,G as Q,B as G,h as ce,O as ze,Q as rt,R as Ee,T as it,U as ct,X as lt,Y as ft,V as S,Z as L,n as H,_ as Ae,$ as dt,q as ut,t as _t,u as ht,a0 as bt,z as wt}from"./bs_tvC36.js";import{b as mt}from"./BgTIM1HL.js";function gt(e,t,n=!1,r=!1,s=!1){var o=e,a="";De(()=>{var i=Te;if(a===(a=t()??"")){W&&ae();return}if(i.nodes_start!==null&&(Ge(i.nodes_start,i.nodes_end),i.nodes_start=i.nodes_end=null),a!==""){if(W){se.data;for(var c=ae(),d=c;c!==null&&(c.nodeType!==8||c.data!=="");)d=c,c=Ne(c);if(c===null)throw Ce(),Le;re(se,d),o=Be(c);return}var f=a+"";n?f=`<svg>${f}</svg>`:r&&(f=`<math>${f}</math>`);var l=ke(f);if((n||r)&&(l=O(l)),re(O(l),l.lastChild),n||r)for(;O(l);)o.before(O(l));else o.before(l)}})}function jt(e,t,n=t){var r=Oe();We(e,"input",s=>{var o=s?e.defaultValue:e.value;if(o=Z(e)?X(o):o,n(o),r&&o!==(o=t())){var a=e.selectionStart,i=e.selectionEnd;e.value=o??"",i!==null&&(e.selectionStart=a,e.selectionEnd=Math.min(i,e.value.length))}}),(W&&e.defaultValue!==e.value||Fe(t)==null&&e.value)&&n(Z(e)?X(e.value):e.value),qe(()=>{var s=t();Z(e)&&s===X(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function Z(e){var t=e.type;return t==="number"||t==="range"}function X(e){return e===""?null:+e}const le={nachw_vert:0,nachw_rotb:0,nachw_schub:0,querz_x:0,querz_y:0};function vt(){const{subscribe:e,set:t,update:n}=F(le);return{subscribe:e,set:t,update:n,reset:()=>t(le)}}const yt=vt();function pt(e){const t=e.a*e.b;let n,r;e.n_b===0||e.is_wirksamgeschlossen===1?(n=t,r=Math.round(t/(2*e.t*(e.a+e.b))*1e3)/1e3):(n=Math.round(t-e.n_b*Math.PI*Math.pow(e.d_b/2,2)),r=Math.round((t-.25*Math.PI*e.n_b*Math.pow(e.t,2))/(2*e.t*(e.a+e.b)+e.t*Math.PI*e.n_b*e.d_b)*1e3)/1e3);const s=e.is_ortbeton===0?10:10/2,a=Math.round(.625/e.a*1e3*10)/10+s,i=e.alpha_a,c=e.alpha_b+a,d=Math.sqrt(Math.pow(i,2)+Math.pow(c,2)),f=Math.min(450*e.t/e.a,48),l=48,h=Math.round(c/f*1e3)/1e3,u=Math.round(d/l*1e3)/1e3,_=Math.round(1e3*e.ff_zd/n*10)/10;let w;r<2.33?w=Math.round((5.3805*r-.6536)*10)/10:w=Math.round((10.635*r-12.89)*10)/10;const v=Math.round(_/w*1e3)/1e3,g=Math.round((e.v_a/e.t+e.ff_x*1e3/(e.gg*n))*100)/100,y=Math.round((e.v_b/e.t+e.ff_y*1e3/(e.gg*n))*100)/100,b=Math.sqrt(Math.pow(g,2)+Math.pow(y,2)),P=Math.round(b/(.6*(e.t-2)/e.t)*1e3)/1e3,E=5,A=5,N=e.c_nom+10;return{aa:t,a_eff:n,s:r,alpha_b_zus:a,alpha_b_ges:c,alpha_a_ges:i,alpha_ges:d,alpha_bmax:f,alpha_resmax:l,nachw_rotb:h,nachw_rotres:u,sigma_ed:_,sigma_rd:w,nachw_vert:v,tan_gamx:g,tan_gamy:y,tan_gamxy:b,nachw_schub:P,querz_x:E,querz_y:A,c_rand:N}}function St(e){const t={is_streifen:e.is_streifen,a:e.a,b:e.b,t:e.t,c_nom:e.c_nom,is_dorn:e.is_dorn,d_b:e.d_b,d_d:e.d_d,n_b:e.n_b,ff_zd:e.ff_zd,v_a:e.v_a,v_b:e.v_b,alpha_a:e.alpha_a,alpha_b:e.alpha_b,gg:e.gg,ff_x:e.ff_x,ff_y:e.ff_y,is_ortbeton:e.is_ortbeton,is_wirksamgeschlossen:e.is_wirksamgeschlossen},n=pt(t);yt.set({nachw_vert:n.nachw_vert,nachw_rotb:n.nachw_rotb,nachw_schub:n.nachw_schub,querz_x:n.querz_x,querz_y:n.querz_y})}const D={s_65:{check:!0,thicknesses:e=>[10,15,20,25,30].filter(t=>t===10||e>=70),sigma_rd_rule:e=>e<=6.25?4.03*e**1.16:33.9,rot_b_rule:(e,t)=>Math.min(450*e/t,40),rot_res_rule:40,"Nachweis erfolgreich t":[]},s_70:{check:!0,thicknesses:e=>[10,15,20].filter(t=>t===10||e>=70),sigma_rd_rule:e=>e<=5?6.99*e:34.95,rot_b_rule:(e,t)=>Math.min(450*e/t,40),rot_res_rule:40,"Nachweis erfolgreich t":[]},esz_100:{check:!0,thicknesses:e=>[10,15,20,25,30].filter(t=>t===10||e>=70),sigma_rd_rule:e=>e<=2.33?5.3805*e-.6536:e<=2.5?10.635*e-12.89:e<=5?8.4004*e-7.3293:34.7,rot_b_rule:(e,t)=>Math.min(450*e/t,48),rot_res_rule:48,"Nachweis erfolgreich t":[]},conti_60:{check:!0,thicknesses:[10,20,30],sigma_rd_rule:e=>e<=5?.315*e**2+4.035*e:28.05,rot_b_rule:(e,t)=>Math.min(450*e/t,40),rot_res_rule:40,"Nachweis erfolgreich t":[]}};function Mt(e){const{is_ortbeton:t,is_wirksamgeschlossen:n,a:r,b:s,is_dorn:o,d_b:a,n_b:i,ff_zd:c,alpha_b:d,alpha_a:f}=e,l=JSON.parse(JSON.stringify(D)),h={rules:[(m,x)=>m>=70||x>=100&&m>=50,(m,x)=>x>=70]},u={rules:[(m,x)=>m>=70,(m,x)=>x>=70]};for(const m of h.rules)m(r,s)||(l.s_65.check=!1,l.s_70.check=!1,l.esz_100.check=!1);for(const m of u.rules)m(r,s)||(l.conti_60.check=!1);const _=r*s;let w;o===0?w=_:w=Math.round(_-i*Math.PI*(a/2)**2);const v=Math.round(1e3*c/w*10)/10,g=t===0?10:10/2,b=Math.round(.625/r*1e3*10)/10+g,P=f,E=d+b,A=Math.sqrt(P**2+E**2),N=[];for(const[m,x]of Object.entries(l))if(x.check){const k=typeof D[m].thicknesses=="function"?D[m].thicknesses(r):D[m].thicknesses;for(const p of k){let M;!o||n?M=Math.round(_/(2*p*(r+s))*1e3)/1e3:M=Math.round((_-.25*Math.PI*i*p**2)/(2*p*(r+s)+p*Math.PI*i*a)*1e3)/1e3;const C=D[m].sigma_rd_rule(M),V=D[m].rot_b_rule(p,r),ee=D[m].rot_res_rule,te=v/C,ne=E/V,oe=A/ee,Pe=te<=1&&ne<=1&&oe<=1;N.push({lagerType:m,thickness:p,s:M,sigma_rd:C,alpha_b_max:V,alpha_res_max:ee,sigma_nachw:te,rot_b_nachw:ne,rot_res_nach:oe,passed:Pe})}}return N}const xt=F([]),Vt=F(null),Y={is_streifen:0,a:200,b:200,t:10,c_nom:25,is_dorn:1,d_b:50,d_d:20,n_b:1,ff_zd:800,v_a:0,alpha_b:2,gg:.9,v_b:0,alpha_a:0,ff_x:15,ff_y:0,is_ortbeton:0,is_wirksamgeschlossen:0};function zt(){const{subscribe:e,set:t,update:n}=F(Y),r={subscribe:e,set:s=>{t(s),U(s)},update:s=>{n(o=>{const a=s(o);return U(a),a})},reset:()=>{t(Y),U(Y)},updateField:(s,o)=>{r.update(a=>({...a,[s]:o}))}};return r}const B=zt();function U(e){St(e);const t=Mt(e);xt.set(t)}var Et=ye("<!> <!>",1);function en(e,t){ve(t,!1);const[n,r]=Je(),s=()=>Qe(B,"$shearDeformationParameterStore",n);let o=R(t,"field",8),a=R(t,"label",8),i=R(t,"helperText",8,""),c=R(t,"step",8,1),d=R(t,"disabled",8,!1),f=R(t,"min",8,void 0),l=R(t,"max",8,void 0);function h(v){const g=v.detail;g!==null&&B.updateField(o(),g)}Me();var u=Et(),_=ie(u);je(_,{children:(v,g)=>{var y=He(),b=ie(y);gt(b,a),$(v,y)},$$slots:{default:!0}});var w=Ze(_,2);Ve(w,{get value(){return s()[o()]},size:"sm",get step(){return c()},get helperText(){return i()},get disabled(){return d()},get min(){return f()},get max(){return l()},$$events:{change:h}}),$(e,u),pe(),r()}function At(){const e=new et;return e.background=new tt(16777215),e}function It(e){const t=new nt({antialias:!0});return t.setPixelRatio(window.devicePixelRatio),t.shadowMap.enabled=!0,t.shadowMap.type=ot,e.appendChild(t.domElement),t}function Rt(e){const t=new z(new xe(200,200),new q({color:13355979,specular:4671303}));t.rotation.x=-Math.PI/2,t.position.y=-10,t.receiveShadow=!0}function Pt(e){return e.add(new at(9272444,4802918,3)),Dt(e,0,500,500,16777215,2)}function Dt(e,t,n,r,s,o){const a=new st(s,o);a.position.set(t,n,r),a.castShadow=!0;const i=1e3;return a.shadow.camera.left=-1e3,a.shadow.camera.right=i,a.shadow.camera.top=i,a.shadow.camera.bottom=-1e3,a.shadow.camera.near=1,a.shadow.camera.far=2e3,a.shadow.mapSize.width=4096,a.shadow.mapSize.height=4096,a.shadow.radius=1,a.shadow.bias=-5e-4,e.add(a),e.add(a.target),a}const Ie=400,Re=400,Tt=[[-.8,1,-.25],[-1.35,1,-.25],[-1.35,1,.25],[-.8,1,.25],[-1.0475,.3,.25],[-.8,.3,.25],[-1.35,.6,.25],[-1.35,.6,-.25],[-1.0475,.3,-.25],[-.8,.3,-.25],[-.8,0,.5],[-.8,2,.5],[-.8,2,-.5],[-.8,0,-.5],[.2,2,-.5],[.2,0,-.5],[.2,2,.5],[.2,0,.5]],Gt=[13,15,17,13,17,10,12,16,14,12,11,16,13,10,11,13,11,12,15,14,16,11,16,17,13,12,14,13,14,15,10,17,16,10,16,11],Nt=[0,1,2,0,2,3,1,7,6,1,6,2,0,3,5,0,5,9,0,9,8,0,8,7,0,7,1,3,2,6,3,6,4,3,4,5,9,5,4,9,4,8,8,4,6,8,6,7];function J(e,t){const n=Tt.map(o=>[o[0],o[1],o[2]]),r=(e-Ie)/1e3,s=(t-Re)/2/1e3;return r>-.3?[1,2,4,6,7,8].forEach(o=>{n[o][0]-=r}):([1,2,6,7].forEach(o=>{n[o][0]-=r}),[4,8].forEach(o=>{n[o][0]-=-.1})),[0,1,7,8,9,12,13,14,15].forEach(o=>{n[o][2]-=s}),[2,3,4,5,6,10,11,16,17].forEach(o=>{n[o][2]+=s}),n}function Ct(e){const t=document.createElement("canvas");t.width=64,t.height=64;const n=t.getContext("2d");n.fillStyle="red",n.beginPath(),n.arc(32,32,28,0,Math.PI*2),n.fill(),n.fillStyle="white",n.font="bold 36px Arial",n.textAlign="center",n.textBaseline="middle",n.fillText(e,32,32);const r=new ze(t),s=new rt({map:r}),o=new Ee(s);return o.scale.set(.08,.08,1),o}function fe(e,t=Ie,n=Re,r=!1){const s=new Q,o=new q({color:12895428,shininess:100,flatShading:!0,transparent:!1}),a=J(t,n),i=new Float32Array(a.flat()),c=new G;c.setAttribute("position",new ce(i,3)),c.setIndex(Gt),c.computeVertexNormals();const d=new z(c,o);d.castShadow=!0,d.receiveShadow=!0,s.add(d);const f=new G;f.setAttribute("position",new ce(i,3)),f.setIndex(Nt),f.computeVertexNormals();const l=new z(f,o);return l.castShadow=!0,l.receiveShadow=!0,s.add(l),r&&a.forEach((h,u)=>{const _=Ct(u.toString());_.position.set(h[0],h[1],h[2]),s.add(_)}),e.add(s),s}function j(){const e=Se(B),t=J(e.a,e.b),n=[t[0],t[1],t[2],t[3]];return{centerX:(n[0][0]+n[1][0]+n[2][0]+n[3][0])/4,centerY:n[0][1],centerZ:(n[0][2]+n[1][2]+n[2][2]+n[3][2])/4}}function de(e,t){t&&(t.traverse(n=>{n instanceof z&&(n.geometry.dispose(),Array.isArray(n.material)?n.material.forEach(r=>r.dispose()):n.material.dispose())}),e.remove(t))}const Lt=400,Bt=400,kt=10,Ot=.4,Ft=.4,qt=.02;function ue(e,t){const n=new Q,r=new q({color:12895428,shininess:100,specular:2236962}),s=(t.a-Lt)/1e3,o=(t.b-Bt)/1e3,a=(t.t-kt)*2/1e3,i=Ot+s,c=Ft+o,d=qt+a,f=new z(new it(i,d,c),r),l=j();f.position.set(l.centerX,l.centerY+d/2,l.centerZ),f.castShadow=!0,f.receiveShadow=!0,n.add(f),e.add(n),f.geometry.computeBoundingBox();const h=new ct;h.setFromObject(f);const u=l.centerY;return{group:n,boundingBox:h,height:u,lengthDiffX:s,lengthDiffZ:o}}function _e(e,t){t&&(t.traverse(n=>{n instanceof z&&(n.geometry.dispose(),Array.isArray(n.material)?n.material.forEach(r=>r.dispose()):n.material.dispose())}),e.remove(t))}function he(e,t){const n=new Q;if(!t.is_dorn)return e.add(n),n;const r=new q({color:12895428,flatShading:!1}),s=.2,o=t.d_d/2/1e3,a=new z(new lt(o,o,s,16),r),i=j();return a.position.set(i.centerX,i.centerY+s/2,i.centerZ),a.castShadow=!0,a.receiveShadow=!0,n.add(a),e.add(n),n}function be(e,t){t&&(t.traverse(n=>{n instanceof z&&(n.geometry.dispose(),Array.isArray(n.material)?n.material.forEach(r=>r.dispose()):n.material.dispose())}),e.remove(t))}let T=[];function we(e,t,n,r,s,o=0,a=0){const i=document.createElement("canvas"),c=i.getContext("2d");if(!c)return;const d=.5;i.width=512*d,i.height=128*d,c.font="Bold 19px Arial",c.fillStyle="#ff0000ff",c.textAlign="center",c.textBaseline="middle",c.lineWidth=3,c.fillText(s,i.width/2,i.height/2);const f=new ze(i),l=new Ae({map:f,transparent:!0,side:dt}),h=new xe(.24,.072),u=new z(h,l),_=new S(n[0]-t[0],0,n[2]-t[2]).normalize(),w=new S(-_.z,0,_.x),v=(t[0]+n[0])/2+o+w.x*r,g=(t[2]+n[2])/2+a+w.z*r;u.position.set(v,t[1],g),u.rotation.x=-Math.PI/2,u.rotation.z=Math.atan2(_.z,_.x)+Math.PI,e.add(u),T.push(u)}function me(e,t,n,r,s,o=.05){const a=new S(-r.z,0,r.x).normalize(),i=new G().setFromPoints([new S(t.x-a.x*o/2,t.y,t.z-a.z*o/2),new S(t.x+a.x*o/2,t.y,t.z+a.z*o/2)]),c=new L(i,s);e.add(c),T.push(c);const d=new G().setFromPoints([new S(n.x-a.x*o/2,n.y,n.z-a.z*o/2),new S(n.x+a.x*o/2,n.y,n.z+a.z*o/2)]),f=new L(d,s);e.add(f),T.push(f)}function K(e){T.forEach(t=>{e.remove(t),t instanceof z&&(t.geometry&&t.geometry.dispose(),t.material instanceof H&&t.material.dispose()),t instanceof L&&(t.geometry&&t.geometry.dispose(),t.material instanceof H&&t.material.dispose()),t instanceof Ee&&t.material instanceof H&&t.material.dispose()}),T=[]}function ge(e){K(e);const t=Se(B),n=J(t.a,t.b),r=new ft({color:16711680}),s=.05,o=t.b/1e3,a=t.a/1e3,i=(n[1][0]+n[2][0])/2,c=n[1][1],d=(n[1][2]+n[2][2])/2,f=new S(i-s,c,d-o/2),l=new S(i-s,c,d+o/2),h=new G().setFromPoints([f,l]),u=new L(h,r);e.add(u),T.push(u);const _=new S().subVectors(l,f).normalize();me(e,f,l,_,r),we(e,[f.x,f.y,f.z],[l.x,l.y,l.z],.02,`b = ${t.b} mm`,0,0);const w=(n[0][0]+n[1][0])/2,v=n[0][1],g=(n[0][2]+n[1][2])/2,y=new S(w-a/2,v,g-s),b=new S(w+a/2,v,g-s),P=new G().setFromPoints([y,b]),E=new L(P,r);e.add(E),T.push(E);const A=new S().subVectors(b,y).normalize();me(e,y,b,A,r),we(e,[y.x,y.y,y.z],[b.x,b.y,b.z],-.02,`a = ${t.a} mm`,0,0)}var Ht=ye('<div class="scene-container svelte-5boshl"></div>');function tn(e,t){ve(t,!1),R(t,"autoRotate",8,!1);let n;const r=new S(-3.6366326492655574,2.6403115127435544,-1.3328222766488578);let s=Xe(),o,a,i,c,d,f,l,h,u,_=!1,w,v,g;$e(async()=>{o=At(),i=It(I(s)),Rt(),u=Pt(o),a=ut(35),a.position.copy(r),g=B.subscribe(p=>{n=p,o&&l!==void 0&&(f&&de(o,f),l&&_e(o,l),h&&be(o,h),K(o),f=fe(o,n.a,n.b),l=ue(o,n).group,h=he(o,n),ge(o))});const b=j(),P=[b.centerX,b.centerY,b.centerZ];c=_t(a,i,P),w=ht(i,a,c),f=fe(o,n.a,n.b),l=ue(o,n).group,h=he(o,n),ge(o);const A=new z(new bt(.01,16,16),new Ae({color:16711680}));A.position.set(b.centerX,b.centerY,b.centerZ),o.add(A);const m=1e3/30;let x=0;const k=p=>{v=requestAnimationFrame(k);const M=p-x;if(!(M<m)){if(x=p-M%m,wt(c),u&&a){const C=new S(0,500,500);C.applyQuaternion(a.quaternion),u.position.copy(a.position).add(C),c&&c.target&&(u.target.position.copy(c.target),u.target.updateMatrixWorld())}i.render(o,a)}};k(0),await Ye(),I(s)&&I(s)instanceof Element&&(d=new ResizeObserver(()=>{if(I(s)&&i&&a){if(_==!0){_=!1;return}const p=I(s).clientWidth,M=I(s).clientHeight;console.log(`Resizing renderer to ${p}x${M}`),a.aspect=p/M,a.updateProjectionMatrix(),i.setSize(p,M),_=!0}}),d.observe(I(s))),console.log("ShearDeformationScene initialized")}),Ke(()=>{v!==void 0&&cancelAnimationFrame(v),w&&w(),g&&g(),d&&d.disconnect(),c&&c.dispose(),i&&i.dispose(),f&&o&&de(o,f),l&&o&&_e(o,l),h&&o&&be(o,h),o&&K(o),console.log("ShearDeformationScene destroyed")}),Me();var y=Ht();mt(y,b=>Ue(s,b),()=>I(s)),$(e,y),pe()}export{en as P,tn as S,yt as a,jt as b,Vt as c,xt as d,U as p,B as s};
