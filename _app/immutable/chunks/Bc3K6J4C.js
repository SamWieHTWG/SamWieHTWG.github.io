import{i as yt,b9 as Lt,h as It,R as Rt,Q as Nt,aA as Ze,z as ye,C as ae,av as de,y as A,w as O,ax as Le,D as ge,O as _e,ai as Ue,as as We,t as pt,a3 as he,L as bt,F as Z,K as Ie,A as b,G as se,aw as Gt,N as Pt,ao as Dt,aq as zt,aU as Ct,I as tt,J as rt}from"./BdERSUDM.js";import"./CWj6FrbW.js";import"./C67DrlzC.js";import{i as ie}from"./4cVb4LIf.js";import{p as P,i as kt}from"./DvduZaQj.js";import{a as Re,s as Ne}from"./BO0QWDYt.js";import{t as $}from"./DNaFAl47.js";import"./8v4sQL9N.js";import"./CeajK3Gh.js";import{G as Ke,M as je,h as Ot,B as ee,c as nt,i as F,E as Bt,H as $t,J as Ft,V as w,K as wt,N as me,C as Xt,O as be,P as ot,Q as St,R as $e,U as Ht,W as Fe,X as Xe,Y as Vt,Z as Yt,_ as Zt,$ as Ut,a0 as Wt,a1 as Kt,a2 as Mt,a3 as qe,a4 as Qe,e as jt,f as qt,a5 as Qt,a6 as Jt,a7 as er,a8 as tr,a9 as rr,aa as nr,ab as or,k as ar,l as sr,m as ir,n as lr,v as cr,z as ur}from"./BLLB3irv.js";import{h as fr}from"./BWQiolqK.js";import{b as mr}from"./C29QINEV.js";import{B as dr}from"./BTn3w4T7.js";function sn(e,t,r=t){var n=yt();Lt(e,"input",o=>{var i=o?e.defaultValue:e.value;if(i=Ge(e)?Pe(i):i,r(i),n&&i!==(i=t())){var u=e.selectionStart,l=e.selectionEnd;e.value=i??"",l!==null&&(e.selectionStart=u,e.selectionEnd=Math.min(l,e.value.length))}}),(It&&e.defaultValue!==e.value||Rt(t)==null&&e.value)&&r(Ge(e)?Pe(e.value):e.value),Nt(()=>{var o=t();Ge(e)&&o===Pe(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}function Ge(e){var t=e.type;return t==="number"||t==="range"}function Pe(e){return e===""?null:+e}const De=(e,t,r)=>{if(e<=t[0])return r[0];if(e>=t[t.length-1])return r[r.length-1];const n=t.findIndex(o=>o>=e)-1;return r[n]+(r[n+1]-r[n])*((e-t[n])/(t[n+1]-t[n]))},_r={s_65:{hersteller_name:"Calenberg Ingenieure",product_name:"Compactlager S 65",check:(e,t)=>(e>=70||t>=100&&e>=50)&&t>=70,thicknesses:e=>[10,15,20,25,30].filter(t=>t===10||e>=70),sigma_rd_rule:e=>e<=6.25?4.03*Math.pow(e,1.16):33.9,rot_b_rule:(e,t)=>Math.min(450*e/t,40),rot_res_rule:40,bohr_rule:!0,"Nachweis erfolgreich t":[]},s_70:{hersteller_name:"Calenberg Ingenieure",product_name:"Compactlager S 70",check:(e,t)=>e>=70&&t>=70,thicknesses:e=>[10,15,20].filter(t=>t===10||e>=70),sigma_rd_rule:e=>e<=5?6.99*e:34.95,rot_b_rule:(e,t)=>Math.min(450*e/t,40),rot_res_rule:40,bohr_rule:!0,"Nachweis erfolgreich t":[]},esz_100:{hersteller_name:"ESZ Wilfried Becker",product_name:"Typ 200",check:(e,t)=>e>=70&&t>=70,thicknesses:e=>[10,15,20,25,30].filter(t=>t===10||e>=70),sigma_rd_rule:e=>e<2.33?5.3805*e-.6536:e<=2.5?10.635*e-12.89:e<=5?8.4004*e-7.3293:34.7,rot_b_rule:(e,t)=>Math.min(450*e/t,48),rot_res_rule:48,bohr_rule:!0,"Nachweis erfolgreich t":[]},esz_100_comp:{hersteller_name:"ESZ Wilfried Becker",product_name:"Typ 200 Composite",check:(e,t)=>e>=90&&e<=600&&t>=90&&t<=600,thicknesses:[15,30,35,40,45,50,55,60,65],sigma_rd_rule:e=>e<=3.75?17.17*e-11.32:e<=4?35.94*e-81.67:e<=4.5?1.17*e+57.39:62.6,rot_b_rule:(e,t)=>Math.min(300*e/t,40),rot_res_rule:40,bohr_rule:!0,"Nachweis erfolgreich t":[]},flaechenloch_typ_z:{hersteller_name:"Calenberg Ingenieure",product_name:"Fl채chenlochlager Typ Z",check:(e,t)=>e>=120&&e<=600&&t>=120&&t<=600,thicknesses:[15,24,33,42,51],sigma_rd_rule:e=>35,rot_b_rule:(e,t)=>e===15?Math.min(200*e/t,40):Math.min(350*e/t,43),rot_res_rule:e=>e===15?40:43,bohr_rule:!0,"Nachweis erfolgreich t":[]},conti_60:{hersteller_name:"Continental (ContiTech)",product_name:"Contitan 60",check:(e,t)=>e>=70&&t>=70,thicknesses:[10,20,30],sigma_rd_rule:e=>e<=5?.315*Math.pow(e,2)+4.035*e:28.05,rot_b_rule:(e,t)=>Math.min(450*e/t,40),rot_res_rule:40,bohr_rule:!1,"Nachweis erfolgreich t":[]},leschu_n15:{hersteller_name:"Leschuplast GLT",product_name:"Typ N15",check:(e,t)=>e>=70&&t>=70,thicknesses:[10,15,20],sigma_rd_rule:e=>e<1.88?3.29*e+1.46:e<2.5?2.58*e+2.79:e<3.5?3.34*e+.88:e<3.75?12.21*e-30.17:e<5?3.15*e+3.81:e<=10?1.66*e+11.29:27.89,rot_b_rule:(e,t)=>Math.min(450*e/t,40),rot_res_rule:40,bohr_rule:!1,"Nachweis erfolgreich t":[]},sylodyn_3000:{hersteller_name:"Getzner Werkstoffe",product_name:"Sylodyn HRB 3000",check:(e,t)=>e>=70&&e<=1500&&t>=70,thicknesses:e=>[12.5,25].filter(t=>t<=e/5&&t>=e/30),sigma_rd_rule:e=>De(e,[0,.5,1,1.5,2,2.5,3,3.5,4,4.5,5,5.5,6],[2.4,2.4,4.4,5.74,6.88,7.58,8.01,8.29,8.47,8.59,8.68,8.75,8.8]),rot_b_rule:(e,t)=>Math.min(500*e/t,54),rot_res_rule:54,bohr_rule:!1,"Nachweis erfolgreich t":[]},sylodyn_6000:{hersteller_name:"Getzner Werkstoffe",product_name:"Sylodyn HRB 6000",check:(e,t)=>e>=70&&e<=1500&&t>=70,thicknesses:e=>[12.5,25].filter(t=>t<=e/5&&t>=e/30),sigma_rd_rule:e=>De(e,[0,.5,1,1.5,2,2.5,3,3.5,4,4.5,5,5.5,6],[5,5,9.16,11.82,14.23,15.72,16.64,17.23,17.62,17.89,18.09,18.23,18.33]),rot_b_rule:(e,t)=>Math.min(500*e/t,54),rot_res_rule:54,bohr_rule:!1,"Nachweis erfolgreich t":[]},sylodyn_12000:{hersteller_name:"Getzner Werkstoffe",product_name:"Sylodyn HRB 12000",check:(e,t)=>e>=70&&e<=1500&&t>=70,thicknesses:e=>[12.5,25].filter(t=>t<=e/5&&t>=e/30),sigma_rd_rule:e=>De(e,[0,.5,1,1.5,2,2.5,3,3.5,4,4.5,5,5.5,6],[5.76,5.76,12.72,20.9,30.28,40.88,52.68,52.68,52.68,52.68,52.68,52.68,52.68]),rot_b_rule:(e,t)=>Math.min(500*e/t,54),rot_res_rule:54,bohr_rule:!1,"Nachweis erfolgreich t":[]},isoldyn_3000:{hersteller_name:"HBT-ISOL",product_name:"ISOLDYN 3000",check:(e,t)=>(e>=70||e>=50)&&t>=100,thicknesses:e=>[12.5,25].filter(t=>t<=e/5&&t>=e/30),sigma_rd_rule:e=>e<=6?3.96*Math.pow(e,.36):7.55,rot_b_rule:(e,t)=>Math.min(300*e/t,40),rot_res_rule:40,bohr_rule:!1,"Nachweis erfolgreich t":[]},matteco_elr08:{hersteller_name:"matteco",product_name:"ELR 8",check:(e,t)=>e>=70&&t>=70,thicknesses:e=>[10,15,20].filter(t=>t===10||e>=70),sigma_rd_rule:e=>e<=4.17?.422*Math.exp(.698*e):7.75,rot_b_rule:(e,t)=>Math.min(200*e/t,16),rot_res_rule:16,bohr_rule:!0,"Nachweis erfolgreich t":[]},matteco_elr18:{hersteller_name:"matteco",product_name:"ELR 18",check:(e,t)=>e>=70&&t>=70,thicknesses:[10],sigma_rd_rule:e=>e<=4.5?1.28*Math.pow(e,1.25):8.4,rot_b_rule:(e,t)=>Math.min(200*e/t,20),rot_res_rule:20,bohr_rule:!0,"Nachweis erfolgreich t":[]}};function hr(e){const{is_ortbeton:t,a:r,b:n,is_dorn:o,is_wirksamgeschlossen:i,d_b:u,n_b:l,ff_zd:a,v_x:s,alpha_y:c,c_nom:f,is_streifen:m}=e,d=r*n;let g;if(o===0)g=d;else{g=Math.round(d-l*Math.PI*(u/2)**2);const T=Math.round((1-g/d)*100)/100;T>.1&&console.warn(`Bohrungsfl채che 체berschreitet 10% der Lagerfl채che! ratio_bohr=${T}`)}const E=Math.round(1e3*a/g*10)/10,_=10;let h=Math.round(.625/r*1e3*10)/10;t===0&&(h*=.5);const S=h+_,M=c+S,v=r+(f+10)+25;let y;m===0&&(y=n+2*(f+10));const p=[];for(const[T,R]of Object.entries(_r))if(R.check(r,n)){const U=typeof R.thicknesses=="function"?R.thicknesses(r):R.thicknesses;for(const I of U){let D;!o||i?D=Math.round(d/(2*I*(r+n))*1e3)/1e3:D=Math.round((d-.25*Math.PI*l*I**2)/(2*I*(r+n)+I*Math.PI*l*u)*1e3)/1e3;const X=R.sigma_rd_rule(D),C=R.rot_b_rule(I,r),k=R.rot_res_rule,H=.6*(I-2),W=E/X,N=s/H,V=M/C,G=Math.round(1.5*E*n*I/1e3*1e3)/1e3,Ee=Math.round(1.5*E*r*I/1e3*1e3)/1e3,pe=o?R.bohr_rule:!0,Tt=W<=1&&N<=1&&V<=1&&pe;p.push({lagerType:T,manufacturer:R.hersteller_name,productName:R.product_name,thickness:I,s:D,sigma_rd:X,alpha_y_max:C,alpha_y_ges:M,alpha_res_max:k,v_x_max:H,sigma_nachw:W,v_x_nachw:N,rot_b_nachw:V,querzug_x:G,querzug_y:Ee,passed:Tt,bohr_nachw:pe,l_xmin:v,l_ymin:y,bohr_rule:R.bohr_rule})}}return p}const gr=Ze([]),Er=Ze(null),le=0,J=-.8,ce=-.8,at=(J+ce)/2,we=.2,Se=J,Me=2,ve=.25,vt=.08,pr=[[J,1,-0],[ce,1,-0],[ce,1,le],[J,1,le],[at,.3,le],[J,.3,le],[ce,.6,le],[ce,.6,-0],[at,.3,-0],[J,.3,-0],[Se,0,ve],[Se,Me,ve],[Se,Me,-.25],[Se,0,-.25],[we,Me,-.25],[we,0,-.25],[we,Me,ve],[we,0,ve]],br=[13,15,17,13,17,10,12,16,14,12,11,16,13,10,11,13,11,12,15,14,16,11,16,17,13,12,14,13,14,15,10,17,16,10,16,11],wr=[0,1,2,0,2,3,1,7,6,1,6,2,0,3,5,0,5,9,0,9,8,0,8,7,0,7,1,3,2,6,3,6,4,3,4,5,9,5,4,9,4,8,8,4,6,8,6,7];function Je(e,t,r=0,n=25){const o=pr.map(a=>[a[0],a[1],a[2]]),i=n/1e3+.01,u=e/1e3;let l=t/2/1e3;return r||(l+=i),[1,2,6,7].forEach(a=>{o[a][0]-=u+vt+i}),[4,8].forEach(a=>{o[a][0]-=-.1}),[0,1,7,8,9].forEach(a=>{o[a][2]-=l}),[2,3,4,5,6].forEach(a=>{o[a][2]+=l}),r?([12,13,14,15].forEach(a=>{o[a][2]=-t/2/1e3}),[10,11,16,17].forEach(a=>{o[a][2]=t/2/1e3})):([12,13,14,15].forEach(a=>{o[a][2]-=l}),[10,11,16,17].forEach(a=>{o[a][2]+=l})),o}function Sr(e){const t=document.createElement("canvas");t.width=64,t.height=64;const r=t.getContext("2d");r.fillStyle="red",r.beginPath(),r.arc(32,32,28,0,Math.PI*2),r.fill(),r.fillStyle="white",r.font="bold 36px Arial",r.textAlign="center",r.textBaseline="middle",r.fillText(e,32,32);const n=new Bt(t),o=new $t({map:n}),i=new Ft(o);return i.scale.set(.08,.08,1),i}function st(e,t,r=!1){const n=new Ke,o=t.a,i=t.b,u=t.is_streifen,l=t.c_nom,a=new je({color:Ot,shininess:100,flatShading:!0,transparent:!1}),s=Je(o,i,u,l),c=new Float32Array(s.flat()),f=new ee;f.setAttribute("position",new nt(c,3)),f.setIndex(br),f.computeVertexNormals();const m=new F(f,a);m.castShadow=!0,m.receiveShadow=!0,n.add(m);const d=new ee;d.setAttribute("position",new nt(c,3)),d.setIndex(wr),d.computeVertexNormals();const g=new F(d,a);return g.castShadow=!0,g.receiveShadow=!0,n.add(g),r&&s.forEach((E,_)=>{const h=Sr(_.toString());h.position.set(E[0],E[1],E[2]),n.add(h)}),e.add(n),n}function oe(){const e=ye(B),t=Je(e.a,e.b,e.is_streifen,e.c_nom),r=[t[0],t[1],t[2],t[3]];return{centerX:-e.a/2/1e3-vt+J,centerY:r[0][1],centerZ:(r[0][2]+r[1][2]+r[2][2]+r[3][2])/4}}function it(e,t){t&&(t.traverse(r=>{r instanceof F&&(r.geometry.dispose(),Array.isArray(r.material)?r.material.forEach(n=>n.dispose()):r.material.dispose())}),e.remove(t))}let j=[],Y=[];function Mr(){return[...j,...Y]}let xe=null,et=0;const He=Ht;async function ze(e,t,r,n,o,i=0,u=0,l=!1){try{const a=await St(),s=$e(o,a,He);Fe(s);const c=Xe(16711680),f=new F(s,c),m=new w(r[0]-t[0],0,r[2]-t[2]).normalize(),d=new w(-m.z,0,m.x),g=(t[0]+r[0])/2+i+d.x*n,E=(t[2]+r[2])/2+u+d.z*n;f.position.set(g,t[1]+.001,E),f.rotation.x=-Math.PI/2;const _=Math.atan2(m.z,m.x)+Math.PI;f.rotation.z=_,l&&(xe=f,et=_),e.add(f),j.push(f)}catch(a){console.error("Failed to load font for 3D text:",a)}}function Ve(e){if(xe){const t=e?Math.PI:0;xe.rotation.z=et+t}}function Ce(e,t,r,n,o,i=.05){Zt(e,t,r,n,o,i,j)}function Ye(e){j=Vt(e,j),xe=null,et=0}function lt(e){Y=Yt(e,Y)}async function ct(e,t=new w(0,0,0)){const o=new wt({color:new Xt(be)}),i=be;t.z=t.z-.035;const u=new w(t.x-.06,t.y,t.z),l=new ee().setFromPoints([t,u]),a=new me(l,o);e.add(a),Y.push(a);const s=new w(-1,0,0),c=new ot(s,u,.03,i,.03*.5,.03*.3);e.add(c),Y.push(c);const f=new w(t.x,t.y,t.z-.06),m=new ee().setFromPoints([t,f]),d=new me(m,o);e.add(d),Y.push(d);const g=new w(0,0,-1),E=new ot(g,f,.03,i,.03*.5,.03*.3);e.add(E),Y.push(E);try{const _=await St(),h=$e($("shearDeformation.scene.axisLabel.x"),_,He);Fe(h);const S=Xe(be),M=new F(h,S);M.position.set(t.x-.06*1-.05,t.y+.001,t.z-.02),M.rotation.x=-Math.PI/2,M.rotation.z=0,e.add(M),Y.push(M);const v=$e("y",_,He);Fe(v);const y=Xe(be),p=new F(v,y);p.position.set(t.x-.02,t.y+.001,t.z-.06*1.1),p.rotation.x=-Math.PI/2,p.rotation.z=0,e.add(p),Y.push(p)}catch(_){console.error("Failed to create 3D text for coordinate system:",_)}}async function ut(e){Ye(e);const t=ye(B),r=Je(t.a,t.b,t.is_streifen,t.c_nom),n=oe(),o=new wt({color:16711680});let i=t.c_nom/1e3+.01;t.is_streifen===1&&(i=0);const u=.01,l=t.b/1e3,a=t.a/1e3;if(t.is_streifen===0){const I=(r[1][0]+r[2][0])/2,D=r[1][1],X=(r[1][2]+r[2][2])/2,C=new w(I-u-i,D,X-l/2),k=new w(I-u-i,D,X+l/2),H=new ee().setFromPoints([C,k]),W=new me(H,o);e.add(W),j.push(W);const N=new w().subVectors(k,C).normalize();Ce(e,C,k,N,o),await ze(e,[C.x,C.y,C.z],[k.x,k.y,k.z],.02,`b = ${t.b} mm`,0,0)}const s=n.centerX,c=r[0][1],f=(r[0][2]+r[1][2])/2,m=new w(s-a/2,c,f-u-i),d=new w(s+a/2,c,f-u-i),g=new ee().setFromPoints([m,d]),E=new me(g,o);e.add(E),j.push(E);const _=new w().subVectors(d,m).normalize();Ce(e,m,d,_,o),await ze(e,[m.x,m.y,m.z],[d.x,d.y,d.z],-.02,`a = ${t.a} mm`,0,0,!0);const h=.04,S=n.centerX-t.a/2e3,M=n.centerY,v=n.centerZ+t.b/2e3+h+i,y=t.c_nom/1e3+.01,p=new w(S,M,v),T=new w(S-y,M,v),R=new ee().setFromPoints([p,T]),L=new me(R,o);e.add(L),j.push(L);const U=new w().subVectors(T,p).normalize();Ce(e,p,T,U,o),await ze(e,[p.x,p.y,p.z],[T.x,T.y,T.z],-.05,"cnom + 100 mm",0,0)}let ne=!0,ke=0,ue=0,q=null,K=null;function vr(e,t,r){if(!e||!t)return;const n=new w;n.subVectors(t.target,e.position),n.normalize();const i=e.position.distanceTo(t.target)*(1-r),u=n.clone().multiplyScalar(i);e.position.add(u),t.update()}const Ar=.05,Ae=1.4,ft=[new w(-2.1247554456236646,Ae,-.9418251993957858),new w(-2.298436211128349,Ae,.0593750739688058),new w(-1.8215114290760264,Ae,1.1472099754138583)];function xr(){const e=ye(B);return(e.a+e.b)/1500}function Tr(){const e=Te(),t=xr(),r=[];for(let n=0;n<ft.length;n++){const o=ft[n],i=new w(e.x+o.x*t,Ae,e.z+o.z*t);r.push(i)}return r}let te=[];function Te(){const e=oe();return new w(e.centerX,e.centerY,e.centerZ)}let z=null,Q=!1,re=null,fe=0;const mt=1e3;function yr(){te=[],z=null,Q=!1,re=null}function Lr(){const e=Te(),t=ye(B),r=Mr();if(r.length===0){const s=Math.max(t.a,t.b)/1e3*3;return new w(e.x,e.y+s,e.z)}let o=Math.max(t.a,t.b)/1e3*2;const i=20;let u=0;const l=new Ut(35,1,.01,1e3);for(;u<i;){l.position.set(e.x,e.y+o,e.z),l.lookAt(e),l.updateMatrixWorld(),l.updateProjectionMatrix();const a=new Wt,s=new Kt;s.multiplyMatrices(l.projectionMatrix,l.matrixWorldInverse),a.setFromProjectionMatrix(s);let c=!0;for(const f of r){f.updateMatrixWorld(!0);const m=new Mt().setFromObject(f);if(!a.intersectsBox(m)){c=!1;break}}if(c){o*=1.1;break}o*=1.2,u++}return new w(e.x,e.y+o,e.z)}function dt(e,t){if(!z)return!1;const r=e.position,n=.01;return Math.abs(r.x-z.x)<n&&Math.abs(r.z-z.z)<n}function Ir(){Q=!0,fe=0,re=null,ne=!0,Ve(!0)}function Rr(e,t,r){if(!t)return;if(z||(z=Te()),Q){if(fe===0&&(fe=e,re=Lr(),q=t.position.clone(),K=r.target.clone()),!q||!re||!K){console.error("Top view positions not initialized properly"),Q=!1;return}const s=e-fe;let c=Math.min(s/mt,1);c=c<.5?4*c*c*c:1-Math.pow(-2*c+2,3)/2,t.position.lerpVectors(q,re,c),r.target.lerpVectors(K,z,c),t.lookAt(r.target),r.update(),s>=mt&&(t.position.copy(re),r.target.copy(z),t.lookAt(r.target),r.update(),Q=!1,fe=0,ne=!1);return}if(!Q&&dt(t)?Ve(!0):Q||Ve(!1),!ne)return;if(te.length===0&&(te=Tr(),z=null,z||(z=Te())),dt(t)){ne=!1;return}ue===0&&(ue=e,q=t.position.clone(),K=r.target.clone());const n=e-ue,o=q||te[ke],i=(ke+1)%te.length,u=te[i],a=o.distanceTo(u)/Ar*1e3;if(n<a){const s=n/a;t.position.lerpVectors(o,u,s),r&&K&&(r.target.lerpVectors(K,z,s),r.update())}else ke=i,ue=e,q=null,K=z.clone()}function Nr(e,t,r){const n=o=>{o.preventDefault();let i=1;switch(o.deltaMode){case 2:i=1+o.deltaY*.025;break;case 1:i=1+o.deltaY*.01;break;default:i=1+o.deltaY*25e-5;break}vr(t,r,i)};return e.domElement.addEventListener("wheel",n,{passive:!1}),()=>{e.domElement.removeEventListener("wheel",n)}}function Gr(e){const t=()=>{ne=!1},r=()=>{ne=!0,ue=0,q=null,K=null};return e.addEventListener("mouseenter",t),e.addEventListener("mouseleave",r),()=>{e.removeEventListener("mouseenter",t),e.removeEventListener("mouseleave",r)}}const Oe={is_streifen:0,a:200,b:250,t:10,c_nom:25,is_dorn:1,is_wirksamgeschlossen:0,d_b:20,d_d:20,n_b:1,ff_zd:800,v_x:5,alpha_y:10,gg:.9,v_b:0,alpha_a:0,ff_x:15,ff_y:0,is_ortbeton:0};function Pr(){const{subscribe:e,set:t,update:r}=Ze(Oe),n={subscribe:e,set:o=>{t(o),Be(o)},update:o=>{r(i=>{const u=o(i);return Be(u),u})},reset:()=>{t(Oe),Be(Oe)},updateField:(o,i)=>{n.update(u=>({...u,[o]:i}))}};return n}const B=Pr();function Be(e){Er.set(null);const t=hr(e);gr.set(t),yr()}const x={LAGERBREITE_MIN:50,LAGERBREITE_MAX:1e3,LAGERLAENGE_MIN:50,LAGERLAENGE_MAX:1e3,BETONDECKUNG_MIN:0,BETONDECKUNG_MAX:100,BOHRUNGSDURCHMESSER_MIN:0,BOHRUNGSDURCHMESSER_MAX:50,BEMESSUNGSLAST_MIN:0,BEMESSUNGSLAST_MAX:5e4,LAGERVERDREHUNG_MIN:0,LAGERVERDREHUNG_MAX:50,LAGERVERSCHIEBUNG_MIN:0,LAGERVERSCHIEBUNG_MAX:50};var Dr=ge("<!> <!>",1);function ln(e,t){ae(t,!1);const[r,n]=Ne(),o=()=>Re(B,"$shearDeformationParameterStore",r);let i=P(t,"step",8,5),u=O(),l=O(!1),a=O(""),s=null;function c(g){let E=g,_=!1,h="";g<x.LAGERBREITE_MIN?(E=x.LAGERBREITE_MIN,_=!0,h=`${$("shearDeformation.parameters.minValue")}: ${x.LAGERBREITE_MIN} mm`):g>x.LAGERBREITE_MAX&&(E=x.LAGERBREITE_MAX,_=!0,h=`${$("shearDeformation.parameters.maxValue")}: ${x.LAGERBREITE_MAX} mm`);const S=o().b+100;E>S&&(E=S,_=!0,h=$("shearDeformation.parameters.constraintAB")),_&&(A(l,!0),A(a,h),s&&clearTimeout(s),s=setTimeout(()=>{A(l,!1),A(a,"")},3e3)),B.updateField("a",E)}de(()=>o(),()=>{A(u,o().a)}),Le(),ie();var f=Dr(),m=_e(f);qe(m,{children:(g,E)=>{Ue();var _=We();pt(h=>bt(_,h),[()=>$("shearDeformation.parameters.bearingDepth")],he),Z(g,_)},$$slots:{default:!0}});var d=Ie(m,2);Qe(d,{size:"sm",get step(){return i()},helperText:"mm",get min(){return x.LAGERBREITE_MIN},get max(){return x.LAGERBREITE_MAX},light:!0,get invalid(){return b(l)},get invalidText(){return b(a)},get value(){return b(u)},set value(g){A(u,g)},$$events:{change:()=>c(b(u))},$$legacy:!0}),Z(e,f),se(),n()}var zr=ge("<!> <!>",1);function cn(e,t){ae(t,!1);const[r,n]=Ne(),o=()=>Re(B,"$shearDeformationParameterStore",r);let i=P(t,"disabled",8,!1),u=P(t,"step",8,5),l=O(),a=O(!1),s=O(""),c=null;function f(_){let h=_,S=!1,M="";_<x.LAGERLAENGE_MIN?(h=x.LAGERLAENGE_MIN,S=!0,M=`${$("shearDeformation.parameters.minValue")}: ${x.LAGERLAENGE_MIN} mm`):_>x.LAGERLAENGE_MAX&&(h=x.LAGERLAENGE_MAX,S=!0,M=`${$("shearDeformation.parameters.maxValue")}: ${x.LAGERLAENGE_MAX} mm`),S&&(A(a,!0),A(s,M),c&&clearTimeout(c),c=setTimeout(()=>{A(a,!1),A(s,"")},3e3)),B.updateField("b",h)}de(()=>o(),()=>{A(l,o().b)}),Le(),ie();var m=zr(),d=_e(m);qe(d,{children:(_,h)=>{Ue();var S=We();pt(M=>bt(S,M),[()=>$("shearDeformation.parameters.bearingLength")],he),Z(_,S)},$$slots:{default:!0}});var g=Ie(d,2);const E=he(()=>i()||o().is_streifen===1);Qe(g,{size:"sm",get step(){return u()},helperText:"mm",get disabled(){return b(E)},get min(){return x.LAGERLAENGE_MIN},get max(){return x.LAGERLAENGE_MAX},light:!0,get invalid(){return b(a)},get invalidText(){return b(s)},get value(){return b(l)},set value(_){A(l,_)},$$events:{change:()=>f(b(l))},$$legacy:!0}),Z(e,m),se(),n()}var Cr=ge("<!> <!>",1);function At(e,t){ae(t,!1);const[r,n]=Ne(),o=()=>Re(B,"$shearDeformationParameterStore",r);let i=P(t,"field",8),u=P(t,"label",8),l=P(t,"helperText",8,""),a=P(t,"step",8,1),s=P(t,"disabled",8,!1),c=P(t,"min",8,void 0),f=P(t,"max",8,void 0),m=O(),d=O(!1),g=O(""),E=null;function _(v){let y=v,p=!1,T="";c()!==void 0&&v<c()?(y=c(),p=!0,T=`Minimalwert: ${c()}${l()?" "+l():""}`):f()!==void 0&&v>f()&&(y=f(),p=!0,T=`Maximalwert: ${f()}${l()?" "+l():""}`),p&&(A(d,!0),A(g,T),E&&clearTimeout(E),E=setTimeout(()=>{A(d,!1),A(g,"")},3e3)),B.updateField(i(),y)}de(()=>(o(),Gt(i())),()=>{A(m,o()[i()])}),Le(),ie();var h=Cr(),S=_e(h);qe(S,{children:(v,y)=>{var p=Pt(),T=_e(p);fr(T,u),Z(v,p)},$$slots:{default:!0}});var M=Ie(S,2);Qe(M,{size:"sm",get step(){return a()},get helperText(){return l()},get disabled(){return s()},get min(){return c()},get max(){return f()},light:!0,get invalid(){return b(d)},get invalidText(){return b(g)},get value(){return b(m)},set value(v){A(m,v)},$$events:{change:()=>_(b(m))},$$legacy:!0}),Z(e,h),se(),n()}function un(e,t){ae(t,!1);let r=P(t,"step",8,5);ie();const n=he(()=>$("shearDeformation.parameters.concreteCovernominal"));At(e,{field:"c_nom",get label(){return b(n)},get step(){return r()},helperText:"mm",get min(){return x.BETONDECKUNG_MIN},get max(){return x.BETONDECKUNG_MAX}}),se()}function fn(e,t){ae(t,!1);const[r,n]=Ne(),o=()=>Re(B,"$shearDeformationParameterStore",r),i=O(),u=O();let l=P(t,"step",8,1);de(()=>o(),()=>{A(i,o())}),de(()=>b(i),()=>{A(u,b(i).is_streifen?"kN/m":"kN")}),Le(),ie();const a=he(()=>$("shearDeformation.parameters.designLoad"));At(e,{field:"ff_zd",get label(){return b(a)},get step(){return l()},get helperText(){return b(u)},get min(){return x.BEMESSUNGSLAST_MIN},get max(){return x.BEMESSUNGSLAST_MAX}}),se(),n()}function kr(e){jt(e,-10)}function Or(e){return qt(e,{x:0,y:500,z:500})}function xt(e){const t=[],r=e.n_b;for(let n=0;n<r;n++){let o=0;if(r===2){const i=e.b/1e3;o=n===0?i/5:-i/5}t.push(o)}return t}function _t(e,t){const r=new Ke;if(!t.is_dorn)return e.add(r),r;const n=new je({color:Qt,flatShading:!1}),o=(50+t.b*.2)/1e3,i=t.d_b/2/1e3*.8,u=oe();return xt(t).forEach(a=>{const s=new F(new Jt(i,i,o,16),n);s.position.set(u.centerX,u.centerY+o/2,u.centerZ+a),s.castShadow=!0,s.receiveShadow=!0,r.add(s)}),e.add(r),r}function ht(e,t){t&&(t.traverse(r=>{r instanceof F&&(r.geometry.dispose(),Array.isArray(r.material)?r.material.forEach(n=>n.dispose()):r.material.dispose())}),e.remove(t))}const Br=400,$r=400,Fr=10,Xr=.4,Hr=.4,Vr=.01;function gt(e,t){const r=new Ke,n=new je({color:er,shininess:100,specular:2236962}),o=(t.a-Br)/1e3,i=(t.b-$r)/1e3,u=(t.t-Fr)*2/1e3,l=Xr+o,a=Hr+i,s=Vr+u;let c;if(t.is_dorn){const h=new tr;h.moveTo(-l/2,-a/2),h.lineTo(l/2,-a/2),h.lineTo(l/2,a/2),h.lineTo(-l/2,a/2),h.lineTo(-l/2,-a/2);const S=xt(t),M=t.d_b/2/1e3;S.forEach(y=>{const p=new rr;p.absarc(0,y,M,0,Math.PI*2,!1),h.holes.push(p)});const v={depth:s,bevelEnabled:!1};c=new nr(h,v),c.translate(0,0,-s/2),c.rotateX(-Math.PI/2)}else c=new or(l,s,a);const f=new F(c,n),m=oe();f.position.set(m.centerX,m.centerY+s/2,m.centerZ),f.castShadow=!0,f.receiveShadow=!0,r.add(f),e.add(r),f.geometry.computeBoundingBox();const d=new Mt;d.setFromObject(f);const g=m.centerY;return{group:r,boundingBox:d,height:g,lengthDiffX:o,lengthDiffZ:i}}function Et(e,t){t&&(t.traverse(r=>{r instanceof F&&(r.geometry.dispose(),Array.isArray(r.material)?r.material.forEach(n=>n.dispose()):r.material.dispose())}),e.remove(t))}var Yr=ge('<!> <div class="top-view-button-container svelte-1mle02r"><!></div>',1),Zr=ge('<div class="scene-container svelte-1mle02r"><!></div>');function mn(e,t){ae(t,!1),P(t,"autoRotate",8,!1);let r=P(t,"showTooltip",8,!0),n;const o=.05,i=.001,u=.04,l=new w(-1.67,1.4,.02);let a=O(),s,c,f,m,d,g,E,_,h,S,M,v,y;Dt(async()=>{s=ar(),f=sr(b(a)),kr(s),h=Or(s),c=ir(35),c.position.copy(l),y=B.subscribe(async N=>{if(n=N,s&&E!==void 0){g&&it(s,g),E&&Et(s,E),_&&ht(s,_),Ye(s),lt(s),g=st(s,n,!1),E=gt(s,n).group,_=_t(s,n),await ut(s);const G=oe();let Ee=Math.max(n.c_nom/1e3,.03);n.is_streifen===1&&(Ee=.1);const pe=new w(G.centerX+o+n.a/2e3,G.centerY+i,G.centerZ+u+n.b/2e3+Ee);await ct(s,pe),m&&(m.target.set(G.centerX,G.centerY,G.centerZ),m.update())}});const L=oe(),U=[L.centerX,L.centerY,L.centerZ];m=lr(c,f,U),S=Nr(f,c,m),M=Gr(b(a)),g=st(s,n,!1),E=gt(s,n).group,_=_t(s,n),await ut(s);let D=n.c_nom/1e3;n.is_streifen===1&&(D=.1);const X=new w(L.centerX+o+n.a/2e3,L.centerY+i+.001,L.centerZ+u+n.b/2e3+D);await ct(s,X);const k=1e3/30;let H=0;const W=N=>{v=requestAnimationFrame(W);const V=N-H;if(!(V<k)){if(H=N-V%k,Rr(N,c,m),cr(m),h&&c){const G=new w(0,500,500);G.applyQuaternion(c.quaternion),h.position.copy(c.position).add(G),m&&m.target&&(h.target.position.copy(m.target),h.target.updateMatrixWorld())}f.render(s,c)}};if(W(0),await zt(),b(a)&&b(a)instanceof Element){let N=!1;d=new ResizeObserver(()=>{b(a)&&f&&c&&!N&&(N=!0,requestAnimationFrame(()=>{if(b(a)&&f&&c){const V=b(a).clientWidth,G=b(a).clientHeight;c.aspect=V/G,c.updateProjectionMatrix(),f.setSize(V,G)}N=!1}))}),d.observe(b(a))}}),Ct(()=>{v!==void 0&&cancelAnimationFrame(v),S&&S(),M&&M(),y&&y(),d&&d.disconnect(),m&&m.dispose(),f&&f.dispose(),g&&s&&it(s,g),E&&s&&Et(s,E),_&&s&&ht(s,_),s&&Ye(s),s&&lt(s)}),ie();var p=Zr(),T=tt(p);{var R=L=>{var U=Yr(),I=_e(U);ur(I,{});var D=Ie(I,2),X=tt(D);dr(X,{size:"small",kind:"secondary",$$events:{click:()=>Ir()},children:(C,k)=>{Ue();var H=We("Draufsicht");Z(C,H)},$$slots:{default:!0}}),rt(D),Z(L,U)};kt(T,L=>{r()&&L(R)})}rt(p),mr(p,L=>A(a,L),()=>b(a)),Z(e,p),se()}export{fn as B,x as I,ln as L,At as P,mn as S,cn as a,sn as b,un as c,Er as d,gr as e,_r as l,Be as p,B as s};
