import{l as je,h as Ve,A as ct,aN as Bt,b7 as Ft,c as lt,aV as $t,b8 as kt,b9 as Xt,ba as ft,L as Yt,bb as Ht,aI as Se,b0 as Vt,bc as Ut,F as Zt,D as Wt,ao as et,g as Ie,p as le,ak as pe,f as A,m as F,am as Ne,k as ve,z as we,a7 as tt,ah as nt,T as Ee,w as Tt,o as U,v as Ge,i as v,q as fe,al as qt,y as Kt,ad as Jt,af as Qt,b3 as jt,r as ut,u as dt}from"./K0MPNFwM.js";import"./CWj6FrbW.js";import"./Ctil3IE4.js";import{i as ue}from"./CTaIyRD8.js";import{p as D,i as en}from"./Chmn9iJc.js";import{a as De,s as Ce}from"./B6zlCf18.js";import{t as V}from"./Co__8MVi.js";import"./B9OOqwbU.js";import"./nXkeitml.js";import{G as at,i as Pe,j as tn,B as Z,c as mt,M as B,E as nn,J as an,K as Lt,V as w,N as zt,O as W,C as Rt,Q as Ue,R as Ze,U as We,k as ne,X as rn,Y as on,Z as sn,_ as cn,$ as It,a0 as rt,a1 as ot,e as ln,f as fn,W as un,h as dn,P as mn,H as _n,D as hn,a2 as gn,a3 as pn,a4 as wn,a5 as En,l as vn,m as xn,u as Sn,x as bn,y as yn}from"./CAVqtbet.js";import{b as Mn}from"./oKxMK-sE.js";function An(t,e,n=!1,a=!1,r=!1){var s=t,i="";je(()=>{var f=Bt;if(i===(i=e()??"")){Ve&&ct();return}if(f.nodes_start!==null&&(Ft(f.nodes_start,f.nodes_end),f.nodes_start=f.nodes_end=null),i!==""){if(Ve){lt.data;for(var o=ct(),c=o;o!==null&&(o.nodeType!==8||o.data!=="");)c=o,o=$t(o);if(o===null)throw kt(),Xt;ft(lt,c),s=Yt(o);return}var l=i+"";n?l=`<svg>${l}</svg>`:a&&(l=`<math>${l}</math>`);var u=Ht(l);if((n||a)&&(u=Se(u)),ft(Se(u),u.lastChild),n||a)for(;Se(u);)s.before(Se(u));else s.before(u)}})}function Ea(t,e,n=e){var a=Vt();Ut(t,"input",r=>{var s=r?t.defaultValue:t.value;if(s=Oe(t)?Be(s):s,n(s),a&&s!==(s=e())){var i=t.selectionStart,f=t.selectionEnd;t.value=s??"",f!==null&&(t.selectionStart=i,t.selectionEnd=Math.min(f,t.value.length))}}),(Ve&&t.defaultValue!==t.value||Zt(e)==null&&t.value)&&n(Oe(t)?Be(t.value):t.value),Wt(()=>{var r=e();Oe(t)&&r===Be(t.value)||t.type==="date"&&!r&&!t.value||r!==t.value&&(t.value=r??"")})}function Oe(t){var e=t.type;return e==="number"||e==="range"}function Be(t){return t===""?null:+t}const Q={s_65:{check:!0,manufacturer:"Standard",thicknesses:t=>[10,15,20,25,30].filter(e=>e===10||t>=70),sigma_rd_rule:t=>t<=6.25?4.03*t**1.16:33.9,rot_b_rule:(t,e)=>Math.min(450*t/e,40),rot_res_rule:40,"Nachweis erfolgreich t":[]},s_70:{check:!0,manufacturer:"Standard",thicknesses:t=>[10,15,20].filter(e=>e===10||t>=70),sigma_rd_rule:t=>t<=5?6.99*t:34.95,rot_b_rule:(t,e)=>Math.min(450*t/e,40),rot_res_rule:40,"Nachweis erfolgreich t":[]},esz_100:{check:!0,manufacturer:"Standard",thicknesses:t=>[10,15,20,25,30].filter(e=>e===10||t>=70),sigma_rd_rule:t=>t<2.33?5.3805*t-.6536:t>=2.33&&t<=2.5?10.635*t-12.89:t>2.5&&t<=5?8.4004*t-7.3293:34.7,rot_b_rule:(t,e)=>Math.min(450*t/e,48),rot_res_rule:48,"Nachweis erfolgreich t":[]},conti_60:{check:!0,manufacturer:"ContiTech",thicknesses:[10,20,30],sigma_rd_rule:t=>t<=5?.315*t**2+4.035*t:28.05,rot_b_rule:(t,e)=>Math.min(450*t/e,40),rot_res_rule:40,"Nachweis erfolgreich t":[]},leschu_n15:{check:!0,manufacturer:"Leschu",thicknesses:[10,15,20],sigma_rd_rule:t=>t<1.88?3.29*t+1.46:t>=1.88&&t<2.5?2.58*t+2.79:t>=2.5&&t<3.5?3.34*t+.88:t>=3.5&&t<3.75?12.21*t-30.17:t>=3.75&&t<5?3.15*t+3.81:t>=5&&t<=10?1.66*t+11.29:t>10?27.89:0,rot_b_rule:(t,e)=>Math.min(450*t/e,40),rot_res_rule:40,"Nachweis erfolgreich t":[]},matteco_elr08:{check:!0,manufacturer:"Matteco",thicknesses:t=>[10,15,20].filter(e=>e===10||t>=70),sigma_rd_rule:t=>t<=4.17?.422*Math.E**(.698*t):7.75,rot_b_rule:(t,e)=>Math.min(200*t/e,16),rot_res_rule:16,"Nachweis erfolgreich t":[]},matteco_elr18:{check:!0,manufacturer:"Matteco",thicknesses:t=>[10].filter(e=>e===10||t>=70),sigma_rd_rule:t=>t<=4.5?1.28*t**1.25:8.4,rot_b_rule:(t,e)=>Math.min(200*t/e,20),rot_res_rule:20,"Nachweis erfolgreich t":[]}};function Tn(t){const{is_ortbeton:e,a:n,b:a,is_dorn:r,is_wirksamgeschlossen:s,d_b:i,n_b:f,ff_zd:o,v_x:c,alpha_y:l,alpha_a:u,c_nom:d,is_streifen:h}=t,m=JSON.parse(JSON.stringify(Q)),p={rules:[(S,I)=>S>=70||I>=100&&S>=50,(S,I)=>I>=70]},g={rules:[(S,I)=>S>=70,(S,I)=>I>=70]};p.rules.every(S=>S(n,a))||(m.s_65.check=!1,m.s_70.check=!1,m.esz_100.check=!1,m.leschu_n15.check=!1,m.matteco_elr08.check=!1,m.matteco_elr18.check=!1),g.rules.every(S=>S(n,a))||(m.conti_60.check=!1);const _=n*a;let E;r===0?E=_:E=Math.round(_-f*Math.PI*(i/2)**2);const b=Math.round(1e3*o/E*10)/10,y=10;let L=Math.round(.625/n*1e3*10)/10;e===0&&(L=L*.5);const x=L+y,z=l+x,k=n+(d+10)+25;let M;h===0&&(M=a+2*(d+10));const C=[];for(const[S,I]of Object.entries(m))if(I.check){const K=typeof Q[S].thicknesses=="function"?Q[S].thicknesses(n):Q[S].thicknesses;for(const R of K){let N;!r||s?N=Math.round(_/(2*R*(n+a))*1e3)/1e3:N=Math.round((_-.25*Math.PI*f*R**2)/(2*R*(n+a)+R*Math.PI*f*i)*1e3)/1e3;const X=Q[S].sigma_rd_rule(N),J=Q[S].rot_b_rule(R,n),P=Q[S].rot_res_rule,Y=.6*(R-2),G=b/X,de=c/Y,xe=z/J,Ct=Math.round(1.5*b*a*R/1e3*10)/10,Pt=Math.round(1.5*b*n*R/1e3*10)/10,Ot=G<=1&&de<=1&&xe<=1;C.push({lagerType:S,manufacturer:Q[S].manufacturer,thickness:R,s:N,sigma_rd:X,alpha_y_max:J,alpha_y_ges:z,alpha_res_max:P,v_x_max:Y,sigma_nachw:G,v_x_nachw:de,rot_b_nachw:xe,querzug_x:Ct,querzug_y:Pt,passed:Ot,l_xmin:k,l_ymin:M})}}return C}const Ln=et([]),zn=et(null),me=0,ae=-.8,_e=-.8,_t=(ae+_e)/2,be=.2,ye=ae,Me=2,Ae=.25,Nt=.08,Rn=[[ae,1,-0],[_e,1,-0],[_e,1,me],[ae,1,me],[_t,.3,me],[ae,.3,me],[_e,.6,me],[_e,.6,-0],[_t,.3,-0],[ae,.3,-0],[ye,0,Ae],[ye,Me,Ae],[ye,Me,-.25],[ye,0,-.25],[be,Me,-.25],[be,0,-.25],[be,Me,Ae],[be,0,Ae]],In=[13,15,17,13,17,10,12,16,14,12,11,16,13,10,11,13,11,12,15,14,16,11,16,17,13,12,14,13,14,15,10,17,16,10,16,11],Nn=[0,1,2,0,2,3,1,7,6,1,6,2,0,3,5,0,5,9,0,9,8,0,8,7,0,7,1,3,2,6,3,6,4,3,4,5,9,5,4,9,4,8,8,4,6,8,6,7];function st(t,e,n=0,a=25){const r=Rn.map(o=>[o[0],o[1],o[2]]),s=a/1e3+.01,i=t/1e3;let f=e/2/1e3;return n||(f+=s),[1,2,6,7].forEach(o=>{r[o][0]-=i+Nt+s}),[4,8].forEach(o=>{r[o][0]-=-.1}),[0,1,7,8,9].forEach(o=>{r[o][2]-=f}),[2,3,4,5,6].forEach(o=>{r[o][2]+=f}),n?([12,13,14,15].forEach(o=>{r[o][2]=-e/2/1e3}),[10,11,16,17].forEach(o=>{r[o][2]=e/2/1e3})):([12,13,14,15].forEach(o=>{r[o][2]-=f}),[10,11,16,17].forEach(o=>{r[o][2]+=f})),r}function Gn(t){const e=document.createElement("canvas");e.width=64,e.height=64;const n=e.getContext("2d");n.fillStyle="red",n.beginPath(),n.arc(32,32,28,0,Math.PI*2),n.fill(),n.fillStyle="white",n.font="bold 36px Arial",n.textAlign="center",n.textBaseline="middle",n.fillText(t,32,32);const a=new nn(e),r=new an({map:a}),s=new Lt(r);return s.scale.set(.08,.08,1),s}function ht(t,e,n=!1){const a=new at,r=e.a,s=e.b,i=e.is_streifen,f=e.c_nom,o=new Pe({color:tn,shininess:100,flatShading:!0,transparent:!1}),c=st(r,s,i,f),l=new Float32Array(c.flat()),u=new Z;u.setAttribute("position",new mt(l,3)),u.setIndex(In),u.computeVertexNormals();const d=new B(u,o);d.castShadow=!0,d.receiveShadow=!0,a.add(d);const h=new Z;h.setAttribute("position",new mt(l,3)),h.setIndex(Nn),h.computeVertexNormals();const m=new B(h,o);return m.castShadow=!0,m.receiveShadow=!0,a.add(m),n&&c.forEach((p,g)=>{const _=Gn(g.toString());_.position.set(p[0],p[1],p[2]),a.add(_)}),t.add(a),a}function ce(){const t=Ie($),e=st(t.a,t.b,t.is_streifen,t.c_nom),n=[e[0],e[1],e[2],e[3]];return{centerX:-t.a/2/1e3-Nt+ae,centerY:n[0][1],centerZ:(n[0][2]+n[1][2]+n[2][2]+n[3][2])/4}}function gt(t,e){e&&(e.traverse(n=>{n instanceof B&&(n.geometry.dispose(),Array.isArray(n.material)?n.material.forEach(a=>a.dispose()):n.material.dispose())}),t.remove(e))}let q=[],H=[];function Dn(){return[...q,...H]}let ze=null,it=0,Fe=null,re=null;const Te=11765,qe=.012,Ke=2e-4;async function Gt(){return Fe||re||(re=new Promise((t,e)=>{new rn().load("https://threejs.org/examples/fonts/helvetiker_bold.typeface.json",a=>{Fe=a,re=null,t(a)},void 0,a=>{re=null,e(a)})}),re)}async function $e(t,e,n,a,r,s=0,i=0,f=!1){try{const o=await Gt(),c=new Ze(r,{font:o,size:qe,depth:Ke,curveSegments:12,bevelEnabled:!0,bevelThickness:3e-4,bevelSize:2e-4,bevelOffset:0,bevelSegments:3});c.computeBoundingBox();const l=c.boundingBox;if(l){const E=-(l.max.x-l.min.x)/2,b=-(l.max.y-l.min.y)/2;c.translate(E,b,0)}const u=new We({color:16711680,metalness:.3,roughness:.4}),d=new B(c,u),h=new w(n[0]-e[0],0,n[2]-e[2]).normalize(),m=new w(-h.z,0,h.x),p=(e[0]+n[0])/2+s+m.x*a,g=(e[2]+n[2])/2+i+m.z*a;d.position.set(p,e[1]+.001,g),d.rotation.x=-Math.PI/2;const _=Math.atan2(h.z,h.x)+Math.PI;d.rotation.z=_,f&&(ze=d,it=_),t.add(d),q.push(d)}catch(o){console.error("Failed to load font for 3D text:",o)}}function Je(t){if(ze){const e=t?Math.PI:0;ze.rotation.z=it+e}}function ke(t,e,n,a,r,s=.05){const i=new w(-a.z,0,a.x).normalize(),f=new Z().setFromPoints([new w(e.x-i.x*s/2,e.y,e.z-i.z*s/2),new w(e.x+i.x*s/2,e.y,e.z+i.z*s/2)]),o=new W(f,r);t.add(o),q.push(o);const c=new Z().setFromPoints([new w(n.x-i.x*s/2,n.y,n.z-i.z*s/2),new w(n.x+i.x*s/2,n.y,n.z+i.z*s/2)]),l=new W(c,r);t.add(l),q.push(l)}function Qe(t){q.forEach(e=>{t.remove(e),e instanceof B&&(e.geometry&&e.geometry.dispose(),e.material instanceof ne&&e.material.dispose()),e instanceof W&&(e.geometry&&e.geometry.dispose(),e.material instanceof ne&&e.material.dispose()),e instanceof Lt&&e.material instanceof ne&&e.material.dispose()}),q=[],ze=null,it=0}function pt(t){H.forEach(e=>{t.remove(e),e instanceof B&&(e.geometry&&e.geometry.dispose(),e.material instanceof ne&&e.material.dispose()),e instanceof W&&(e.geometry&&e.geometry.dispose(),e.material instanceof ne&&e.material.dispose()),e instanceof Ue&&(e.line&&e.line.geometry&&e.line.geometry.dispose(),e.line&&e.line.material instanceof ne&&e.line.material.dispose(),e.cone&&e.cone.geometry&&e.cone.geometry.dispose(),e.cone&&e.cone.material instanceof ne&&e.cone.material.dispose())}),H=[]}async function wt(t,e=new w(0,0,0)){const r=new zt({color:new Rt(Te)}),s=Te;e.z=e.z-.035;const i=new w(e.x-.06,e.y,e.z),f=new Z().setFromPoints([e,i]),o=new W(f,r);t.add(o),H.push(o);const c=new w(-1,0,0),l=new Ue(c,i,.03,s,.03*.5,.03*.3);t.add(l),H.push(l);const u=new w(e.x,e.y,e.z-.06),d=new Z().setFromPoints([e,u]),h=new W(d,r);t.add(h),H.push(h);const m=new w(0,0,-1),p=new Ue(m,u,.03,s,.03*.5,.03*.3);t.add(p),H.push(p);try{const g=await Gt(),_=new Ze("x (Bauteilhauptachse)",{font:g,size:qe,depth:Ke,curveSegments:12,bevelEnabled:!0,bevelThickness:2e-4,bevelSize:1e-4,bevelOffset:0,bevelSegments:3});_.computeBoundingBox();const E=_.boundingBox;if(E){const M=-(E.max.x-E.min.x)/2,C=-(E.max.y-E.min.y)/2;_.translate(M,C,0)}const b=new We({color:Te,metalness:.3,roughness:.4}),y=new B(_,b);y.position.set(e.x-.06*1-.05,e.y+.001,e.z-.02),y.rotation.x=-Math.PI/2,y.rotation.z=0,t.add(y),H.push(y);const L=new Ze("y",{font:g,size:qe,depth:Ke,curveSegments:12,bevelEnabled:!0,bevelThickness:2e-4,bevelSize:1e-4,bevelOffset:0,bevelSegments:3});L.computeBoundingBox();const x=L.boundingBox;if(x){const M=-(x.max.x-x.min.x)/2,C=-(x.max.y-x.min.y)/2;L.translate(M,C,0)}const z=new We({color:Te,metalness:.3,roughness:.4}),k=new B(L,z);k.position.set(e.x-.02,e.y+.001,e.z-.06*1.1),k.rotation.x=-Math.PI/2,k.rotation.z=0,t.add(k),H.push(k)}catch(g){console.error("Failed to create 3D text for coordinate system:",g)}}async function Et(t){Qe(t);const e=Ie($),n=st(e.a,e.b,e.is_streifen,e.c_nom),a=ce(),r=new zt({color:16711680});let s=e.c_nom/1e3+.01;e.is_streifen===1&&(s=0);const i=.01,f=e.b/1e3,o=e.a/1e3;if(e.is_streifen===0){const S=(n[1][0]+n[2][0])/2,I=n[1][1],K=(n[1][2]+n[2][2])/2,R=new w(S-i-s,I,K-f/2),N=new w(S-i-s,I,K+f/2),X=new Z().setFromPoints([R,N]),J=new W(X,r);t.add(J),q.push(J);const P=new w().subVectors(N,R).normalize();ke(t,R,N,P,r),await $e(t,[R.x,R.y,R.z],[N.x,N.y,N.z],.02,`b = ${e.b} mm`,0,0)}const c=a.centerX,l=n[0][1],u=(n[0][2]+n[1][2])/2,d=new w(c-o/2,l,u-i-s),h=new w(c+o/2,l,u-i-s),m=new Z().setFromPoints([d,h]),p=new W(m,r);t.add(p),q.push(p);const g=new w().subVectors(h,d).normalize();ke(t,d,h,g,r),await $e(t,[d.x,d.y,d.z],[h.x,h.y,h.z],-.02,`a = ${e.a} mm`,0,0,!0);const _=.04,E=a.centerX-e.a/2e3,b=a.centerY,y=a.centerZ+e.b/2e3+_+s,L=e.c_nom/1e3+.01,x=new w(E,b,y),z=new w(E-L,b,y),k=new Z().setFromPoints([x,z]),M=new W(k,r);t.add(M),q.push(M);const C=new w().subVectors(z,x).normalize();ke(t,x,z,C,r),await $e(t,[x.x,x.y,x.z],[z.x,z.y,z.z],-.05,"cnom + 100 mm",0,0)}let ie=!0,Xe=0,he=0,ee=null,j=null;function Cn(t,e,n){if(!t||!e)return;const a=new w;a.subVectors(e.target,t.position),a.normalize();const s=t.position.distanceTo(e.target)*(1-n),i=a.clone().multiplyScalar(s);t.position.add(i),e.update()}const Pn=.05,Le=1.4,vt=[new w(-2.1247554456236646,Le,-.9418251993957858),new w(-2.298436211128349,Le,.0593750739688058),new w(-1.8215114290760264,Le,1.1472099754138583)];function On(){const t=Ie($);return(t.a+t.b)/1500}function Bn(){const t=Re(),e=On(),n=[];for(let a=0;a<vt.length;a++){const r=vt[a],s=new w(t.x+r.x*e,Le,t.z+r.z*e);n.push(s)}return n}let oe=[];function Re(){const t=ce();return new w(t.centerX,t.centerY,t.centerZ)}let O=null,te=!1,se=null,ge=0;const xt=1e3;function Fn(){oe=[],O=null,te=!1,se=null}function $n(){const t=Re(),e=Ie($),n=Dn();if(n.length===0){const c=Math.max(e.a,e.b)/1e3*3;return new w(t.x,t.y+c,t.z)}let r=Math.max(e.a,e.b)/1e3*2;const s=20;let i=0;const f=new on(35,1,.01,1e3);for(;i<s;){f.position.set(t.x,t.y+r,t.z),f.lookAt(t),f.updateMatrixWorld(),f.updateProjectionMatrix();const o=new sn,c=new cn;c.multiplyMatrices(f.projectionMatrix,f.matrixWorldInverse),o.setFromProjectionMatrix(c);let l=!0;for(const u of n){u.updateMatrixWorld(!0);const d=new It().setFromObject(u);if(!o.intersectsBox(d)){l=!1;break}}if(l){r*=1.1;break}r*=1.2,i++}return new w(t.x,t.y+r,t.z)}function St(t,e){if(!O)return!1;const n=t.position,a=.01;return Math.abs(n.x-O.x)<a&&Math.abs(n.z-O.z)<a}function kn(){te=!0,ge=0,se=null,ie=!0,Je(!0)}function Xn(t,e,n){if(!e)return;if(O||(O=Re()),te){if(ge===0&&(ge=t,se=$n(),ee=e.position.clone(),j=n.target.clone()),!ee||!se||!j){console.error("Top view positions not initialized properly"),te=!1;return}const c=t-ge;let l=Math.min(c/xt,1);l=l<.5?4*l*l*l:1-Math.pow(-2*l+2,3)/2,e.position.lerpVectors(ee,se,l),n.target.lerpVectors(j,O,l),e.lookAt(n.target),n.update(),c>=xt&&(e.position.copy(se),n.target.copy(O),e.lookAt(n.target),n.update(),te=!1,ge=0,ie=!1);return}if(!te&&St(e)?Je(!0):te||Je(!1),!ie)return;if(oe.length===0&&(oe=Bn(),O=null,O||(O=Re())),St(e)){ie=!1;return}he===0&&(he=t,ee=e.position.clone(),j=n.target.clone());const a=t-he,r=ee||oe[Xe],s=(Xe+1)%oe.length,i=oe[s],o=r.distanceTo(i)/Pn*1e3;if(a<o){const c=a/o;e.position.lerpVectors(r,i,c),n&&j&&(n.target.lerpVectors(j,O,c),n.update())}else Xe=s,he=t,ee=null,j=O.clone()}function Yn(t,e,n){const a=r=>{r.preventDefault();let s=1;switch(r.deltaMode){case 2:s=1+r.deltaY*.025;break;case 1:s=1+r.deltaY*.01;break;default:s=1+r.deltaY*25e-5;break}Cn(e,n,s)};return t.domElement.addEventListener("wheel",a,{passive:!1}),()=>{t.domElement.removeEventListener("wheel",a)}}function Hn(t){const e=()=>{ie=!1},n=()=>{ie=!0,he=0,ee=null,j=null};return t.addEventListener("mouseenter",e),t.addEventListener("mouseleave",n),()=>{t.removeEventListener("mouseenter",e),t.removeEventListener("mouseleave",n)}}const Ye={is_streifen:0,a:200,b:250,t:10,c_nom:25,is_dorn:1,is_wirksamgeschlossen:0,d_b:20,d_d:20,n_b:1,ff_zd:800,v_x:5,alpha_y:10,gg:.9,v_b:0,alpha_a:0,ff_x:15,ff_y:0,is_ortbeton:0};function Vn(){const{subscribe:t,set:e,update:n}=et(Ye),a={subscribe:t,set:r=>{e(r),He(r)},update:r=>{n(s=>{const i=r(s);return He(i),i})},reset:()=>{e(Ye),He(Ye)},updateField:(r,s)=>{a.update(i=>({...i,[r]:s}))}};return a}const $=Vn();function He(t){zn.set(null);const e=Tn(t);Ln.set(e),Fn()}const T={LAGERBREITE_MIN:50,LAGERBREITE_MAX:1e3,LAGERLAENGE_MIN:50,LAGERLAENGE_MAX:1e3,BETONDECKUNG_MIN:0,BETONDECKUNG_MAX:100,BOHRUNGSDURCHMESSER_MIN:0,BOHRUNGSDURCHMESSER_MAX:50,BEMESSUNGSLAST_MIN:0,BEMESSUNGSLAST_MAX:5e4,LAGERVERDREHUNG_MIN:0,LAGERVERDREHUNG_MAX:50,LAGERVERSCHIEBUNG_MIN:0,LAGERVERSCHIEBUNG_MAX:50};var Un=ve("<!> <!>",1);function va(t,e){le(e,!1);const[n,a]=Ce(),r=()=>De($,"$shearDeformationParameterStore",n);let s=D(e,"step",8,5),i=F(),f=F(!1),o=F(""),c=null;function l(m){let p=m,g=!1,_="";m<T.LAGERBREITE_MIN?(p=T.LAGERBREITE_MIN,g=!0,_=`${V("shearDeformation.parameters.minValue")}: ${T.LAGERBREITE_MIN} mm`):m>T.LAGERBREITE_MAX&&(p=T.LAGERBREITE_MAX,g=!0,_=`${V("shearDeformation.parameters.maxValue")}: ${T.LAGERBREITE_MAX} mm`);const E=r().b+100;p>E&&(p=E,g=!0,_=V("shearDeformation.parameters.constraintAB")),g&&(A(f,!0),A(o,_),c&&clearTimeout(c),c=setTimeout(()=>{A(f,!1),A(o,"")},3e3)),$.updateField("a",p)}pe(()=>r(),()=>{A(i,r().a)}),Ne(),ue();var u=Un(),d=we(u);rt(d,{children:(m,p)=>{tt();var g=nt();je(_=>Tt(g,_),[()=>V("shearDeformation.parameters.bearingDepth")],Ee),U(m,g)},$$slots:{default:!0}});var h=Ge(d,2);ot(h,{size:"sm",get step(){return s()},helperText:"mm",get min(){return T.LAGERBREITE_MIN},get max(){return T.LAGERBREITE_MAX},light:!0,get invalid(){return v(f)},get invalidText(){return v(o)},get value(){return v(i)},set value(m){A(i,m)},$$events:{change:()=>l(v(i))},$$legacy:!0}),U(t,u),fe(),a()}var Zn=ve("<!> <!>",1);function xa(t,e){le(e,!1);const[n,a]=Ce(),r=()=>De($,"$shearDeformationParameterStore",n);let s=D(e,"disabled",8,!1),i=D(e,"step",8,5),f=F(),o=F(!1),c=F(""),l=null;function u(g){let _=g,E=!1,b="";g<T.LAGERLAENGE_MIN?(_=T.LAGERLAENGE_MIN,E=!0,b=`${V("shearDeformation.parameters.minValue")}: ${T.LAGERLAENGE_MIN} mm`):g>T.LAGERLAENGE_MAX&&(_=T.LAGERLAENGE_MAX,E=!0,b=`${V("shearDeformation.parameters.maxValue")}: ${T.LAGERLAENGE_MAX} mm`),E&&(A(o,!0),A(c,b),l&&clearTimeout(l),l=setTimeout(()=>{A(o,!1),A(c,"")},3e3)),$.updateField("b",_)}pe(()=>r(),()=>{A(f,r().b)}),Ne(),ue();var d=Zn(),h=we(d);rt(h,{children:(g,_)=>{tt();var E=nt();je(b=>Tt(E,b),[()=>V("shearDeformation.parameters.bearingLength")],Ee),U(g,E)},$$slots:{default:!0}});var m=Ge(h,2);const p=Ee(()=>s()||r().is_streifen===1);ot(m,{size:"sm",get step(){return i()},helperText:"mm",get disabled(){return v(p)},get min(){return T.LAGERLAENGE_MIN},get max(){return T.LAGERLAENGE_MAX},light:!0,get invalid(){return v(o)},get invalidText(){return v(c)},get value(){return v(f)},set value(g){A(f,g)},$$events:{change:()=>u(v(f))},$$legacy:!0}),U(t,d),fe(),a()}var Wn=ve("<!> <!>",1);function Dt(t,e){le(e,!1);const[n,a]=Ce(),r=()=>De($,"$shearDeformationParameterStore",n);let s=D(e,"field",8),i=D(e,"label",8),f=D(e,"helperText",8,""),o=D(e,"step",8,1),c=D(e,"disabled",8,!1),l=D(e,"min",8,void 0),u=D(e,"max",8,void 0),d=F(),h=F(!1),m=F(""),p=null;function g(y){let L=y,x=!1,z="";l()!==void 0&&y<l()?(L=l(),x=!0,z=`Minimalwert: ${l()}${f()?" "+f():""}`):u()!==void 0&&y>u()&&(L=u(),x=!0,z=`Maximalwert: ${u()}${f()?" "+f():""}`),x&&(A(h,!0),A(m,z),p&&clearTimeout(p),p=setTimeout(()=>{A(h,!1),A(m,"")},3e3)),$.updateField(s(),L)}pe(()=>(r(),qt(s())),()=>{A(d,r()[s()])}),Ne(),ue();var _=Wn(),E=we(_);rt(E,{children:(y,L)=>{var x=Kt(),z=we(x);An(z,i),U(y,x)},$$slots:{default:!0}});var b=Ge(E,2);ot(b,{size:"sm",get step(){return o()},get helperText(){return f()},get disabled(){return c()},get min(){return l()},get max(){return u()},light:!0,get invalid(){return v(h)},get invalidText(){return v(m)},get value(){return v(d)},set value(y){A(d,y)},$$events:{change:()=>g(v(d))},$$legacy:!0}),U(t,_),fe(),a()}function Sa(t,e){le(e,!1);let n=D(e,"step",8,5);ue();const a=Ee(()=>V("shearDeformation.parameters.concreteCovernominal"));Dt(t,{field:"c_nom",get label(){return v(a)},get step(){return n()},helperText:"mm",get min(){return T.BETONDECKUNG_MIN},get max(){return T.BETONDECKUNG_MAX}}),fe()}function ba(t,e){le(e,!1);const[n,a]=Ce(),r=()=>De($,"$shearDeformationParameterStore",n),s=F(),i=F();let f=D(e,"step",8,1);pe(()=>r(),()=>{A(s,r())}),pe(()=>v(s),()=>{A(i,v(s).is_streifen?"kN/m":"kN")}),Ne(),ue();const o=Ee(()=>V("shearDeformation.parameters.designLoad"));Dt(t,{field:"ff_zd",get label(){return v(o)},get step(){return f()},get helperText(){return v(i)},get min(){return T.BEMESSUNGSLAST_MIN},get max(){return T.BEMESSUNGSLAST_MAX}}),fe(),a()}function qn(){const t=new ln;return t.background=new Rt(10526880),t.fog=new fn(10526880,10,500),t}function Kn(t){const e=new un({antialias:!0});return e.setPixelRatio(window.devicePixelRatio),e.shadowMap.enabled=!0,e.shadowMap.type=dn,t.appendChild(e.domElement),e}function Jn(t){const e=new B(new mn(1e3,1e3),new Pe({color:13355979,depthWrite:!1}));e.rotation.x=-Math.PI/2,e.position.y=-10,e.receiveShadow=!0,t.add(e)}function Qn(t){return t.add(new _n(9272444,4802918,3)),jn(t,0,500,500,16777215,2)}function jn(t,e,n,a,r,s){const i=new hn(r,s);i.position.set(e,n,a),i.castShadow=!0;const f=1e3;return i.shadow.camera.left=-1e3,i.shadow.camera.right=f,i.shadow.camera.top=f,i.shadow.camera.bottom=-1e3,i.shadow.camera.near=1,i.shadow.camera.far=2e3,i.shadow.mapSize.width=4096,i.shadow.mapSize.height=4096,i.shadow.radius=1,i.shadow.bias=-5e-4,t.add(i),t.add(i.target),i}const ea=400,ta=400,na=10,aa=.4,ra=.4,oa=.01;function bt(t,e){const n=new at,a=new Pe({color:gn,shininess:100,specular:2236962}),r=(e.a-ea)/1e3,s=(e.b-ta)/1e3,i=(e.t-na)*2/1e3,f=aa+r,o=ra+s,c=oa+i,l=new B(new pn(f,c,o),a),u=ce();l.position.set(u.centerX,u.centerY+c/2,u.centerZ),l.castShadow=!0,l.receiveShadow=!0,n.add(l),t.add(n),l.geometry.computeBoundingBox();const d=new It;d.setFromObject(l);const h=u.centerY;return{group:n,boundingBox:d,height:h,lengthDiffX:r,lengthDiffZ:s}}function yt(t,e){e&&(e.traverse(n=>{n instanceof B&&(n.geometry.dispose(),Array.isArray(n.material)?n.material.forEach(a=>a.dispose()):n.material.dispose())}),t.remove(e))}function Mt(t,e){const n=new at;if(!e.is_dorn)return t.add(n),n;const a=new Pe({color:wn,flatShading:!1}),r=(50+e.b*.2)/1e3,s=e.d_b/2/1e3,i=ce(),f=e.n_b;for(let o=0;o<f;o++){const c=new B(new En(s,s,r,16),a);let l=0;if(f===2){const u=e.b/1e3;l=o===0?u/5:-u/5}c.position.set(i.centerX,i.centerY+r/2,i.centerZ+l),c.castShadow=!0,c.receiveShadow=!0,n.add(c)}return t.add(n),n}function At(t,e){e&&(e.traverse(n=>{n instanceof B&&(n.geometry.dispose(),Array.isArray(n.material)?n.material.forEach(a=>a.dispose()):n.material.dispose())}),t.remove(e))}var sa=ve('<!> <div class="top-view-button-container svelte-1mle02r"><!></div>',1),ia=ve('<div class="scene-container svelte-1mle02r"><!></div>');function ya(t,e){le(e,!1),D(e,"autoRotate",8,!1);let n=D(e,"showTooltip",8,!0),a;const r=.05,s=.001,i=.04,f=new w(-1.67,1.4,.02);let o=F(),c,l,u,d,h,m,p,g,_,E,b,y,L;Jt(async()=>{c=qn(),u=Kn(v(o)),Jn(c),_=Qn(c),l=vn(35),l.position.copy(f),L=$.subscribe(async P=>{if(a=P,c&&p!==void 0){m&&gt(c,m),p&&yt(c,p),g&&At(c,g),Qe(c),pt(c),m=ht(c,a,!1),p=bt(c,a).group,g=Mt(c,a),await Et(c);const G=ce();let de=Math.max(a.c_nom/1e3,.03);a.is_streifen===1&&(de=.1);const xe=new w(G.centerX+r+a.a/2e3,G.centerY+s,G.centerZ+i+a.b/2e3+de);await wt(c,xe),d&&(d.target.set(G.centerX,G.centerY,G.centerZ),d.update())}});const M=ce(),C=[M.centerX,M.centerY,M.centerZ];d=xn(l,u,C),E=Yn(u,l,d),b=Hn(v(o)),m=ht(c,a,!1),p=bt(c,a).group,g=Mt(c,a),await Et(c);let I=a.c_nom/1e3;a.is_streifen===1&&(I=.1);const K=new w(M.centerX+r+a.a/2e3,M.centerY+s+.001,M.centerZ+i+a.b/2e3+I);await wt(c,K);const N=1e3/30;let X=0;const J=P=>{y=requestAnimationFrame(J);const Y=P-X;if(!(Y<N)){if(X=P-Y%N,Xn(P,l,d),Sn(d),_&&l){const G=new w(0,500,500);G.applyQuaternion(l.quaternion),_.position.copy(l.position).add(G),d&&d.target&&(_.target.position.copy(d.target),_.target.updateMatrixWorld())}u.render(c,l)}};if(J(0),await Qt(),v(o)&&v(o)instanceof Element){let P=!1;h=new ResizeObserver(()=>{v(o)&&u&&l&&!P&&(P=!0,requestAnimationFrame(()=>{if(v(o)&&u&&l){const Y=v(o).clientWidth,G=v(o).clientHeight;l.aspect=Y/G,l.updateProjectionMatrix(),u.setSize(Y,G)}P=!1}))}),h.observe(v(o))}}),jt(()=>{y!==void 0&&cancelAnimationFrame(y),E&&E(),b&&b(),L&&L(),h&&h.disconnect(),d&&d.dispose(),u&&u.dispose(),m&&c&&gt(c,m),p&&c&&yt(c,p),g&&c&&At(c,g),c&&Qe(c),c&&pt(c)}),ue();var x=ia(),z=ut(x);{var k=M=>{var C=sa(),S=we(C);bn(S,{});var I=Ge(S,2),K=ut(I);yn(K,{size:"small",kind:"secondary",$$events:{click:()=>kn()},children:(R,N)=>{tt();var X=nt("Draufsicht");U(R,X)},$$slots:{default:!0}}),dt(I),U(M,C)};en(z,M=>{n()&&M(k)})}dt(x),Mn(x,M=>A(o,M),()=>v(o)),U(t,x),fe()}export{ba as B,T as I,va as L,Dt as P,ya as S,xa as a,Ea as b,Sa as c,zn as d,Ln as e,Q as l,He as p,$ as s};
