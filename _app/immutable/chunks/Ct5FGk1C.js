import"./CWj6FrbW.js";import"./DpyQmhvZ.js";import{q as N,f as M,D as V,j as Y,m as ee,b3 as Ce,o as s,G as H,H as G,y as j,A as K,a as y,w as U,z as Le,C as te,F as de,x as X,ar as F,ap as Ae,ae as fe,af as le,ag as Ee,at as _e,n as Pe,v as Be,ad as Re,b4 as ke}from"./B_hDKv8m.js";import{e as ue,i as me,S as ne,a as Z}from"./D8dyTr6x.js";import{i as re,a as Se,S as Ie,C as ze,s as Me,b as De}from"./3mMgp7jl.js";import{g as Ge}from"./DaXOEX31.js";import{b as he,C as Oe,G as Ve,R as He,a as ie}from"./CuVe0UAx.js";import{s as oe,a as se}from"./BHUBKwyK.js";import{p as z,r as Ne,g as Ue,a as We,b as je,L as Ye,F as qe,B as ge,C as $e,S as Ze,c as ce,V as q,d as ve,e as Xe,W as Je,f as Ke,M as ye,P as Qe,h as Te,H as et,D as tt,i as at,j as nt,k as rt,l as ot,s as st,m as lt,n as it,G as ct,o as dt,q as ut,u as mt,t as pt,v as ft,w as be}from"./C__hvVD4.js";import{l as ae,p as I,i as ht}from"./DAasSlkP.js";import{b as Fe,c as gt}from"./DnYSVV2p.js";import{b as J}from"./Cguyu_HS.js";import{b as vt}from"./C2Y7Guu-.js";import{b as Q}from"./CqX7hfp1.js";var bt=M("<button><span><!></span> <!></button>");function wt(h,n){const g=ae(n,["children","$$slots","$$events","$$legacy"]),w=ae(g,["tooltipText","icon","disabled","align","direction","id","ref"]);N(n,!1);let v=I(n,"tooltipText",8,""),m=I(n,"icon",8,void 0),i=I(n,"disabled",8,!1),c=I(n,"align",8,"center"),d=I(n,"direction",8,"bottom"),t=I(n,"id",24,()=>"ccs-"+Math.random().toString(36)),a=I(n,"ref",12,null),e=ee(!1);re();var r=bt();V("keydown",Ce,({key:o})=>{o==="Escape"&&Y(e,!0)}),Se(r,o=>({disabled:i(),type:"button","aria-describedby":t(),...w,[ze]:o,[Ie]:{cursor:i()?"not-allowed":"default"}}),[()=>({"bx--tooltip__trigger":!0,"bx--tooltip--a11y":!0,"bx--tooltip--hidden":s(e)||i(),"bx--tooltip--top":d()==="top","bx--tooltip--right":d()==="right","bx--tooltip--bottom":d()==="bottom","bx--tooltip--left":d()==="left","bx--tooltip--align-start":c()==="start","bx--tooltip--align-center":c()==="center","bx--tooltip--align-end":c()==="end"})]);var l=H(r);Me(l,1,"",null,{},{"bx--assistive-text":!0});var p=H(l);he(p,n,"tooltipText",{},o=>{var _=Le();K(()=>te(_,v())),y(o,_)}),G(l);var u=j(l,2);he(u,n,"default",{},o=>{var _=de(),$=X(_);gt($,m,(x,T)=>{T(x,{})}),y(o,_)}),G(r),Fe(r,o=>a(o),()=>a()),K(()=>De(l,"id",t())),V("click",r,function(o){J.call(this,n,o)}),V("mouseover",r,function(o){J.call(this,n,o)}),V("mouseenter",r,function(o){J.call(this,n,o)}),V("mouseenter",r,()=>{i()||Y(e,!1)}),V("mouseleave",r,function(o){J.call(this,n,o)}),V("focus",r,function(o){J.call(this,n,o)}),V("focus",r,()=>{i()||Y(e,!1)}),y(h,r),U()}var xt=M('<button class="footer__link svelte-7honmp" style="color: #000000;"> </button>'),_t=M('<nav class="footer__nav svelte-7honmp"></nav>'),St=M('<p class="footer__copyright svelte-7honmp"> </p>'),$t=M("<!> <!> <!>",1),yt=M('<footer class="footer svelte-7honmp"><!></footer>');function ta(h,n){N(n,!1);const g=new Date().getFullYear(),w=[{href:"/impressum",label:"Impressum"},{href:"/privacy",label:"Privacy"}];function v(c){Ge(c)}re();var m=yt(),i=H(m);Oe(i,{children:(c,d)=>{Ve(c,{noGutter:!0,padding:!0,children:(t,a)=>{He(t,{children:(e,r)=>{var l=$t(),p=X(l);ie(p,{sm:16,md:16,lg:4});var u=j(p,2);ie(u,{sm:16,md:16,lg:8,children:(_,$)=>{var x=_t();ue(x,5,()=>w,me,(T,C)=>{var b=xt(),E=H(b,!0);G(b),K(()=>te(E,s(C).label)),V("click",b,()=>v(s(C).href)),y(T,b)}),G(x),y(_,x)},$$slots:{default:!0}});var o=j(u,2);ie(o,{sm:16,md:16,lg:4,children:(_,$)=>{var x=St(),T=H(x);G(x),K(()=>te(T,`© ${g??""} statiqs`)),y(_,x)},$$slots:{default:!0}}),y(e,l)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),G(m),y(h,m),U()}var Tt=M("<!> <!>",1);function aa(h,n){N(n,!0);const[g,w]=oe();let m=F(()=>se(z,"$parameterStore",g));function i(d){var e;const a=(d.detail||((e=d.target)==null?void 0:e.value))==="rund";z.updateField("isRound",a)}const c=F(()=>s(m).isRound?"rund":"rechteckig");ne(h,{labelText:"Form des Lagers",get selected(){return s(c)},$$events:{change:i},children:(d,t)=>{var a=Tt(),e=X(a);Z(e,{value:"rechteckig",text:"rechteckig"});var r=j(e,2);Z(r,{value:"rund",text:"rund"}),y(d,a)},$$slots:{default:!0}}),U(),w()}function na(h,n){N(n,!0);const[g,w]=oe();let m=F(()=>se(z,"$parameterStore",g)),i=F(Ue),c=F(()=>Ne.map(l=>l.diameter)),d=F(()=>s(m).isRound?s(c).findIndex(l=>l===s(m).d):s(i).findIndex(l=>l.length===s(m).a&&l.width===s(m).b)),t=F(()=>s(m).isRound?s(c).map((l,p)=>({value:p,label:`${l} mm`})):s(i).map((l,p)=>({value:p,label:`${l.length} mm x ${l.width} mm`})));function a(l){var u;const p=parseInt(((u=l.target)==null?void 0:u.value)||l.detail);if(s(m).isRound){const o=s(c)[p];o&&z.updateField("d",o)}else{const o=s(i)[p];o&&(z.updateField("a",o.length),z.updateField("b",o.width))}}const e=F(()=>s(m).isRound?"Abmessungen (Durchmesser)":"Abmessungen (Länge x Breite)"),r=F(()=>s(d).toString());ne(h,{get labelText(){return s(e)},get selected(){return s(r)},$$events:{change:a},children:(l,p)=>{var u=de(),o=X(u);ue(o,17,()=>s(t),me,(_,$)=>{const x=F(()=>s($).value.toString());Z(_,{get value(){return s(x)},get text(){return s($).label}})}),y(l,u)},$$slots:{default:!0}}),U(),w()}function ra(h,n){N(n,!0);const[g,w]=oe();let m=F(()=>se(z,"$parameterStore",g)),i=F(()=>s(m).isRound?We(s(m).d).map(t=>({value:`${t.n}-${t.t_1}`,label:`Schichtanzahl ${t.n}, Schichthöhe ${t.t_1}mm`,n:t.n,t_1:t.t_1})):je(s(m).a,s(m).b).map(t=>({value:`${t.n}-${t.t_1}`,label:`Schichtanzahl ${t.n}, Schichthöhe ${t.t_1}mm`,n:t.n,t_1:t.t_1})));Ae(()=>{const t=`${s(m).n}-${s(m).t_1}`;if(!s(i).some(e=>e.value===t)&&s(i).length>0){const e=s(i)[0];z.update(r=>({...r,n:e.n,t_1:e.t_1}))}});function c(t){var u;const a=((u=t.target)==null?void 0:u.value)||t.detail,[e,r]=a.split("-"),l=parseInt(e),p=parseFloat(r);z.update(o=>({...o,n:l,t_1:p}))}const d=F(()=>`${s(m).n}-${s(m).t_1}`);ne(h,{labelText:"Elastomerschichten",get selected(){return s(d)},$$events:{change:c},children:(t,a)=>{var e=de(),r=X(e);ue(r,17,()=>s(i),me,(l,p)=>{const u=F(()=>s(p).value.toString());Z(l,{get value(){return s(u)},get text(){return s(p).label}})}),y(t,e)},$$slots:{default:!0}}),U(),w()}var Ft=_e("<title> </title>"),Ct=_e('<svg><!><path fill="none" d="M16,8a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,13.875H17.125v-8H13v2.25h1.875v5.75H12v2.25h8Z" data-icon-path="inner-path"></path><path d="M16,2A14,14,0,1,0,30,16,14,14,0,0,0,16,2Zm0,6a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,16.125H12v-2.25h2.875v-5.75H13v-2.25h4.125v8H20Z"></path></svg>');function Lt(h,n){const g=ae(n,["children","$$slots","$$events","$$legacy"]),w=ae(g,["size","title"]);N(n,!1);const v=ee(),m=ee();let i=I(n,"size",8,16),c=I(n,"title",8,void 0);fe(()=>(le(g),le(c())),()=>{Y(v,g["aria-label"]||g["aria-labelledby"]||c())}),fe(()=>(s(v),le(g)),()=>{Y(m,{"aria-hidden":s(v)?void 0:!0,role:s(v)?"img":void 0,focusable:Number(g.tabindex)===0?!0:void 0})}),Ee(),re();var d=Ct();Se(d,()=>({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:i(),height:i(),...s(m),...w}));var t=H(d);{var a=e=>{var r=Ft(),l=H(r,!0);G(r),K(()=>te(l,c())),y(e,r)};ht(t,e=>{c()&&e(a)})}Pe(2),G(d),y(h,d),U()}var At=M('<span slot="tooltipText">Typ B: Bewehrtes Elastomerlager ohne Rutschsicherung.<br/> <br/> Typ C: Bewehrtes Elastomerlager mit einseitiger (Typ B/C) oder zweiseitiger Rutschsicherung. <br/> <br/> Typ C ist zu wählen, wenn eine Mindestpressung von 3 N/mm² nicht in allen Lastzuständen gewährleistet werden kann.<br/> <br/> Bei Brückenlagern im Geltungsbereich der DB-Richtlinien darf Typ B nur gewählt werden, wenn am jeweiligen Auflagerpunkt die Horizontallasten in beide Richtungen durch Festhaltekonstruktionen aufgenommen werden.</span>'),Et=M("<!> <!>",1),Pt=M('<div class="select-with-tooltip svelte-17kum7t"><div class="label-container svelte-17kum7t"><span class="label-text svelte-17kum7t">Lagertyp</span> <!></div> <div style="margin-top: calc(-1 * var(--cds-spacing-03));"></div> <!></div>');function oa(h,n){N(n,!0);const[g,w]=oe();let m=F(()=>se(z,"$parameterStore",g));function i(r){var u;const p=(r.detail||((u=r.target)==null?void 0:u.value))==="Typ C"?"C":"B";z.updateField("l_typ",p)}var c=Pt(),d=H(c),t=j(H(d),2);wt(t,{get icon(){return Lt},$$slots:{tooltipText:(r,l)=>{var p=At();y(r,p)}}}),G(d);var a=j(d,4);const e=F(()=>s(m).l_typ==="C"?"Typ C":"Typ B");ne(a,{labelText:"",get selected(){return s(e)},$$events:{change:i},children:(r,l)=>{var p=Et(),u=X(p);Z(u,{value:"Typ B",text:"Typ B (unveranktert)"});var o=j(u,2);Z(o,{value:"Typ C",text:"Typ C (verankert)"}),y(r,p)},$$slots:{default:!0}}),G(c),y(h,c),U(),w()}class Bt extends Ye{constructor(n){super(n)}load(n,g,w,v){const m=this,i=new qe(this.manager);i.setPath(this.path),i.setResponseType("arraybuffer"),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(n,function(c){try{g(m.parse(c))}catch(d){v?v(d):console.error(d),m.manager.itemError(n)}},w,v)}parse(n){function g(t){const a=new DataView(t),e=32/8*3+32/8*3*3+16/8,r=a.getUint32(80,!0);if(80+32/8+r*e===a.byteLength)return!0;const p=[115,111,108,105,100];for(let u=0;u<5;u++)if(w(p,a,u))return!1;return!0}function w(t,a,e){for(let r=0,l=t.length;r<l;r++)if(t[r]!==a.getUint8(e+r))return!1;return!0}function v(t){const a=new DataView(t),e=a.getUint32(80,!0);let r,l,p,u=!1,o,_,$,x,T;for(let f=0;f<70;f++)a.getUint32(f,!1)==1129270351&&a.getUint8(f+4)==82&&a.getUint8(f+5)==61&&(u=!0,o=new Float32Array(e*3*3),_=a.getUint8(f+6)/255,$=a.getUint8(f+7)/255,x=a.getUint8(f+8)/255,T=a.getUint8(f+9)/255);const C=84,b=12*4+2,E=new ge,R=new Float32Array(e*3*3),B=new Float32Array(e*3*3),D=new $e;for(let f=0;f<e;f++){const S=C+f*b,O=a.getFloat32(S,!0),k=a.getFloat32(S+4,!0),W=a.getFloat32(S+8,!0);if(u){const L=a.getUint16(S+48,!0);(L&32768)===0?(r=(L&31)/31,l=(L>>5&31)/31,p=(L>>10&31)/31):(r=_,l=$,p=x)}for(let L=1;L<=3;L++){const P=S+L*12,A=f*3*3+(L-1)*3;R[A]=a.getFloat32(P,!0),R[A+1]=a.getFloat32(P+4,!0),R[A+2]=a.getFloat32(P+8,!0),B[A]=O,B[A+1]=k,B[A+2]=W,u&&(D.setRGB(r,l,p,Ze),o[A]=D.r,o[A+1]=D.g,o[A+2]=D.b)}}return E.setAttribute("position",new ce(R,3)),E.setAttribute("normal",new ce(B,3)),u&&(E.setAttribute("color",new ce(o,3)),E.hasColors=!0,E.alpha=T),E}function m(t){const a=new ge,e=/solid([\s\S]*?)endsolid/g,r=/facet([\s\S]*?)endfacet/g,l=/solid\s(.+)/;let p=0;const u=/[\s]+([+-]?(?:\d*)(?:\.\d*)?(?:[eE][+-]?\d+)?)/.source,o=new RegExp("vertex"+u+u+u,"g"),_=new RegExp("normal"+u+u+u,"g"),$=[],x=[],T=[],C=new q;let b,E=0,R=0,B=0;for(;(b=e.exec(t))!==null;){R=B;const D=b[0],f=(b=l.exec(D))!==null?b[1]:"";for(T.push(f);(b=r.exec(D))!==null;){let k=0,W=0;const L=b[0];for(;(b=_.exec(L))!==null;)C.x=parseFloat(b[1]),C.y=parseFloat(b[2]),C.z=parseFloat(b[3]),W++;for(;(b=o.exec(L))!==null;)$.push(parseFloat(b[1]),parseFloat(b[2]),parseFloat(b[3])),x.push(C.x,C.y,C.z),k++,B++;W!==1&&console.error("THREE.STLLoader: Something isn't right with the normal of face number "+p),k!==3&&console.error("THREE.STLLoader: Something isn't right with the vertices of face number "+p),p++}const S=R,O=B-R;a.userData.groupNames=T,a.addGroup(S,O,E),E++}return a.setAttribute("position",new ve($,3)),a.setAttribute("normal",new ve(x,3)),a}function i(t){return typeof t!="string"?new TextDecoder().decode(t):t}function c(t){if(typeof t=="string"){const a=new Uint8Array(t.length);for(let e=0;e<t.length;e++)a[e]=t.charCodeAt(e)&255;return a.buffer||a}else return t}const d=c(n);return g(d)?v(d):m(i(n))}}function Rt(){const h=new Xe;return h.background=new $e(16777215),h}function kt(h){const n=new Je({antialias:!0});return n.setPixelRatio(window.devicePixelRatio),n.shadowMap.enabled=!0,n.shadowMap.type=Ke,h.appendChild(n.domElement),n}function It(h){const n=new ye(new Qe(200,200),new Te({color:13355979,specular:4671303}));n.rotation.x=-Math.PI/2,n.position.y=-20,n.receiveShadow=!0}function zt(h){h.add(new et(9272444,4802918,3)),Mt(h,0,500,0,16777215,2)}function Mt(h,n,g,w,v,m){const i=new tt(v,m);i.position.set(n,g,w),i.castShadow=!0;const c=1e3;i.shadow.camera.left=-1e3,i.shadow.camera.right=c,i.shadow.camera.top=c,i.shadow.camera.bottom=-1e3,i.shadow.camera.near=1,i.shadow.camera.far=2e3,i.shadow.mapSize.width=4096,i.shadow.mapSize.height=4096,i.shadow.radius=1,i.shadow.bias=-5e-4,h.add(i)}function Dt(h,n="/Widerlager_klein.stl",g,w,v,m=0){new Bt().load(n,c=>{c.computeBoundingBox(),c.computeVertexNormals();const d=c.boundingBox,t=new q;d.getSize(t);const a=new Te({color:8421504,specular:1118481,shininess:30}),e=new ye(c,a);c.computeBoundingBox();const r=new q,l=new q;c.boundingBox.getCenter(r),c.boundingBox.getSize(l),c.translate(-r.x,-r.y,-r.z),e.scale.setScalar(1),e.position.set(0,m,0),e.rotation.x=-Math.PI/2,e.castShadow=!0,e.receiveShadow=!0,h.add(e),console.log("STL model loaded successfully"),g&&g(e)},c=>{console.log("Loading progress:",c.loaded/c.total*100+"%")},c=>{console.error("Error loading STL file:",c)})}function Gt(h){h.setAnimationLoop(null)}let we=[];function xe(h){we.forEach(n=>{h.remove(n),n.geometry.dispose(),n.material instanceof at&&n.material.dispose()}),we=[]}var Ot=M('<div id="container" class="svelte-66rdh0"></div>');function sa(h,n){N(n,!1);let g=I(n,"parameters",8,void 0),w=I(n,"autoRotate",8,!1);const v=[.3,.6,0],m=[v[0]-.4,v[1]+.01,v[2]-.95],i=new q(3.033053660420776,2.3737696385820284,-.9540866817375618),c=-.15;let d=ee(),t,a,e,r,l,p,u,o,_,$,x,T,C;function b(){return pt(ft)}function E(f){return f.isRound?f.diameter>350?`${Q}/Widerlager_groß.stl`:`${Q}/Widerlager_klein.stl`:f.breiteElastomer>300?`${Q}/Widerlager_groß.stl`:`${Q}/Widerlager_klein.stl`}function R(f){const S=E(f);if(S===_){console.log("STL model unchanged, skipping reload");return}console.log(`Switching STL model from ${_||"none"} to ${S}`),o&&(t.remove(o),o.geometry.dispose(),Array.isArray(o.material)?o.material.forEach(k=>k.dispose()):o.material.dispose(),o=void 0),_=S;const O=S.includes("klein")?c:0;Dt(t,S,k=>{o=k,console.log(`STL model loaded: ${S} with y-offset: ${O}`)},void 0,void 0,O)}function B(f){if(!l||!p){console.warn("CreateElastomer or elastomerGroup not initialized");return}p.clear(),console.log("tt_e in updateElastomer:",f.selectedHeight),l.updateElastomer(f,v).forEach(O=>{p.add(O)}),xe(t),R(f),console.log("Elastomer updated with new parameters:",f)}Be(async()=>{t=Rt(),e=kt(s(d)),It(),zt(t),nt(t,new q(m[0],m[1],m[2])),a=rt(35),a.position.copy(i),r=ot(a,e,v),r.addEventListener("change",()=>{}),$=st(e,a,r),x=lt(s(d),r,w()),T=it(s(d)),l=new dt(t,a),p=new ct,t.add(p);const f=g()||b(),S=l.createElastomer(f,v);S.forEach(P=>{p.add(P)}),console.log(S[0]),R(f);const k=1e3/30;let W=0;const L=P=>{C=requestAnimationFrame(L);const A=P-W;A<k||(W=P-A%k,ut(P,a,r),mt(r),e.render(t,a))};if(L(0),be(B),await Re(),s(d)&&s(d)instanceof Element){let P=!1;u=new ResizeObserver(()=>{s(d)&&e&&a&&!P&&(P=!0,requestAnimationFrame(()=>{if(s(d)&&e&&a){const A=s(d).clientWidth,pe=s(d).clientHeight;e.setSize(A,pe),a.aspect=A/pe,a.updateProjectionMatrix()}P=!1}))}),u.observe(s(d))}}),ke(()=>{C!==void 0&&cancelAnimationFrame(C),e&&Gt(e),$==null||$(),x==null||x(),T==null||T(),xe(t),o&&(t.remove(o),o.geometry.dispose(),Array.isArray(o.material)?o.material.forEach(f=>f.dispose()):o.material.dispose(),o=void 0),e==null||e.dispose(),be(()=>{}),u==null||u.disconnect()}),re();var D=Ot();return Fe(D,f=>Y(d,f),()=>s(d)),y(h,D),vt(n,"updateElastomer",B),U({updateElastomer:B})}export{aa as B,ta as F,Lt as I,sa as T,na as a,ra as b,oa as c,wt as d};
