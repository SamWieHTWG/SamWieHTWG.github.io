import"./CWj6FrbW.js";import"./CDvpXENc.js";import{z as Pe,b as ee,H as te,az as Re,b7 as De,M as ne,aI as Ne,b8 as Te,b9 as Ge,ba as oe,U as Ce,bb as ke,au as B,as as F,p as me,f as we,w as se,E as Le,a as X,x as Be,v as ge,j as pe,q as Fe,k as I,m as Oe,ad as qe,b6 as He,g as Ze}from"./DhQkTFJo.js";import{i as ye}from"./DqMion1w.js";import{p as P}from"./B88HvyZY.js";import{a as Xe,s as Ye}from"./BpSPWoKA.js";import{x as Ue,N as We,e as $e,C as Je,W as Ke,f as Qe,M as z,P as Me,h as O,H as je,D as Ve,G as U,B as G,c as ae,y as ve,z as et,A as xe,E as tt,I as nt,J as ot,K as st,V as M,O as C,i as q,Q as Se,R as at,k as rt,l as it,s as ct,T as lt,u as ft}from"./2awyOwOG.js";import{b as dt}from"./DdohSwnT.js";function _t(e,t,n=!1,a=!1,r=!1){var o=e,s="";Pe(()=>{var i=Re;if(s===(s=t()??"")){ee&&te();return}if(i.nodes_start!==null&&(De(i.nodes_start,i.nodes_end),i.nodes_start=i.nodes_end=null),s!==""){if(ee){ne.data;for(var c=te(),_=c;c!==null&&(c.nodeType!==8||c.data!=="");)_=c,c=Ne(c);if(c===null)throw Te(),Ge;oe(ne,_),o=Ce(c);return}var l=s+"";n?l=`<svg>${l}</svg>`:a&&(l=`<math>${l}</math>`);var f=ke(l);if((n||a)&&(f=B(f)),oe(B(f),f.lastChild),n||a)for(;B(f);)o.before(B(f));else o.before(f)}})}const re={nachw_vert:0,nachw_rotb:0,nachw_schub:0,querz_x:0,querz_y:0};function ut(){const{subscribe:e,set:t,update:n}=F(re);return{subscribe:e,set:t,update:n,reset:()=>t(re)}}const ht=ut();function bt(e){const t=e.a*e.b;let n,a;e.n_b===0||e.is_wirksamgeschlossen===1?(n=t,a=Math.round(t/(2*e.t*(e.a+e.b))*1e3)/1e3):(n=Math.round(t-e.n_b*Math.PI*Math.pow(e.d_b/2,2)),a=Math.round((t-.25*Math.PI*e.n_b*Math.pow(e.t,2))/(2*e.t*(e.a+e.b)+e.t*Math.PI*e.n_b*e.d_b)*1e3)/1e3);const r=e.is_ortbeton===0?10:10/2,s=Math.round(.625/e.a*1e3*10)/10+r,i=e.alpha_a,c=e.alpha_b+s,_=Math.sqrt(Math.pow(i,2)+Math.pow(c,2)),l=Math.min(450*e.t/e.a,48),f=48,d=Math.round(c/l*1e3)/1e3,u=Math.round(_/f*1e3)/1e3,m=Math.round(1e3*e.ff_zd/n*10)/10;let w;a<2.33?w=Math.round((5.3805*a-.6536)*10)/10:w=Math.round((10.635*a-12.89)*10)/10;const g=Math.round(m/w*1e3)/1e3,p=Math.round((e.v_a/e.t+e.ff_x*1e3/(e.gg*n))*100)/100,h=Math.round((e.v_b/e.t+e.ff_y*1e3/(e.gg*n))*100)/100,v=Math.sqrt(Math.pow(p,2)+Math.pow(h,2)),T=Math.round(v/(.6*(e.t-2)/e.t)*1e3)/1e3,E=5,R=5,b=e.c_nom+10;return{aa:t,a_eff:n,s:a,alpha_b_zus:s,alpha_b_ges:c,alpha_a_ges:i,alpha_ges:_,alpha_bmax:l,alpha_resmax:f,nachw_rotb:d,nachw_rotres:u,sigma_ed:m,sigma_rd:w,nachw_vert:g,tan_gamx:p,tan_gamy:h,tan_gamxy:v,nachw_schub:T,querz_x:E,querz_y:R,c_rand:b}}function mt(e){const t={is_streifen:e.is_streifen,a:e.a,b:e.b,t:e.t,c_nom:e.c_nom,is_dorn:e.is_dorn,d_b:e.d_b,d_d:e.d_d,n_b:e.n_b,ff_zd:e.ff_zd,v_a:e.v_a,v_b:e.v_b,alpha_a:e.alpha_a,alpha_b:e.alpha_b,gg:e.gg,ff_x:e.ff_x,ff_y:e.ff_y,is_ortbeton:e.is_ortbeton,is_wirksamgeschlossen:e.is_wirksamgeschlossen},n=bt(t);ht.set({nachw_vert:n.nachw_vert,nachw_rotb:n.nachw_rotb,nachw_schub:n.nachw_schub,querz_x:n.querz_x,querz_y:n.querz_y})}const D={s_65:{check:!0,thicknesses:e=>[10,15,20,25,30].filter(t=>t===10||e>=70),sigma_rd_rule:e=>e<=6.25?4.03*e**1.16:33.9,rot_b_rule:(e,t)=>Math.min(450*e/t,40),rot_res_rule:40,"Nachweis erfolgreich t":[]},s_70:{check:!0,thicknesses:e=>[10,15,20].filter(t=>t===10||e>=70),sigma_rd_rule:e=>e<=5?6.99*e:34.95,rot_b_rule:(e,t)=>Math.min(450*e/t,40),rot_res_rule:40,"Nachweis erfolgreich t":[]},esz_100:{check:!0,thicknesses:e=>[10,15,20,25,30].filter(t=>t===10||e>=70),sigma_rd_rule:e=>e<2.33?5.3805*e-.6536:e>=2.33&&e<=2.5?10.635*e-12.89:e>2.5&&e<=5?8.4004*e-7.3293:34.7,rot_b_rule:(e,t)=>Math.min(450*e/t,48),rot_res_rule:48,"Nachweis erfolgreich t":[]},conti_60:{check:!0,thicknesses:[10,20,30],sigma_rd_rule:e=>e<=5?.315*e**2+4.035*e:28.05,rot_b_rule:(e,t)=>Math.min(450*e/t,40),rot_res_rule:40,"Nachweis erfolgreich t":[]},leschu_n15:{check:!0,thicknesses:[10,15,20],sigma_rd_rule:e=>e<1.88?3.29*e+1.46:e>=1.88&&e<2.5?2.58*e+2.79:e>=2.5&&e<3.5?3.34*e+.88:e>=3.5&&e<3.75?12.21*e-30.17:e>=3.75&&e<5?3.15*e+3.81:e>=5&&e<=10?1.66*e+11.29:e>10?27.89:0,rot_b_rule:(e,t)=>Math.min(450*e/t,40),rot_res_rule:40,"Nachweis erfolgreich t":[]},matteco_elr08:{check:!0,thicknesses:e=>[10,15,20].filter(t=>t===10||e>=70),sigma_rd_rule:e=>e<=4.17?.422*Math.E**(.698*e):7.75,rot_b_rule:(e,t)=>Math.min(200*e/t,16),rot_res_rule:16,"Nachweis erfolgreich t":[]},matteco_elr18:{check:!0,thicknesses:e=>[10].filter(t=>t===10||e>=70),sigma_rd_rule:e=>e<=4.5?1.28*e**1.25:8.4,rot_b_rule:(e,t)=>Math.min(200*e/t,20),rot_res_rule:20,"Nachweis erfolgreich t":[]}};function wt(e){const{is_ortbeton:t,is_wirksamgeschlossen:n,a,b:r,is_dorn:o,d_b:s,n_b:i,ff_zd:c,v_a:_,alpha_b:l,alpha_a:f}=e,d=JSON.parse(JSON.stringify(D)),u={rules:[(b,S)=>b>=70||S>=100&&b>=50,(b,S)=>S>=70]},m={rules:[(b,S)=>b>=70,(b,S)=>S>=70]};u.rules.every(b=>b(a,r))||(d.s_65.check=!1,d.s_70.check=!1,d.esz_100.check=!1,d.leschu_n15.check=!1,d.matteco_elr08.check=!1,d.matteco_elr18.check=!1),m.rules.every(b=>b(a,r))||(d.conti_60.check=!1);const w=a*r;let g;o===0?g=w:g=Math.round(w-i*Math.PI*(s/2)**2);const p=Math.round(1e3*c/g*10)/10,h=t===0?10:10/2,T=Math.round(.625/a*1e3*10)/10+h,E=l+T,R=[];for(const[b,S]of Object.entries(d))if(S.check){const L=typeof D[b].thicknesses=="function"?D[b].thicknesses(a):D[b].thicknesses;for(const y of L){let x;!o||n?x=Math.round(w/(2*y*(a+r))*1e3)/1e3:x=Math.round((w-.25*Math.PI*i*y**2)/(2*y*(a+r)+y*Math.PI*i*s)*1e3)/1e3;const A=D[b].sigma_rd_rule(x),J=D[b].rot_b_rule(y,a),Ae=D[b].rot_res_rule,K=.6*(y-2),Q=p/A,j=_/K,V=E/J,Ie=Q<=1&&j<=1&&V<=1;R.push({lagerType:b,thickness:y,s:x,sigma_rd:A,alpha_b_max:J,alpha_res_max:Ae,v_x_max:K,sigma_nachw:Q,v_x_nachw:j,rot_b_nachw:V,passed:Ie})}}return R}const gt=F([]),Yt=F(null),H={is_streifen:0,a:200,b:200,t:10,c_nom:25,is_dorn:1,d_b:50,d_d:20,n_b:1,ff_zd:800,v_a:0,alpha_b:2,gg:.9,v_b:0,alpha_a:0,ff_x:15,ff_y:0,is_ortbeton:0,is_wirksamgeschlossen:0};function pt(){const{subscribe:e,set:t,update:n}=F(H),a={subscribe:e,set:r=>{t(r),Z(r)},update:r=>{n(o=>{const s=r(o);return Z(s),s})},reset:()=>{t(H),Z(H)},updateField:(r,o)=>{a.update(s=>({...s,[r]:o}))}};return a}const k=pt();function Z(e){mt(e);const t=wt(e);gt.set(t)}var yt=we("<!> <!>",1);function Ut(e,t){me(t,!1);const[n,a]=Ye(),r=()=>Xe(k,"$shearDeformationParameterStore",n);let o=P(t,"field",8),s=P(t,"label",8),i=P(t,"helperText",8,""),c=P(t,"step",8,1),_=P(t,"disabled",8,!1),l=P(t,"min",8,void 0),f=P(t,"max",8,void 0);function d(g){const p=g.detail;p!==null&&k.updateField(o(),p)}ye();var u=yt(),m=se(u);Ue(m,{children:(g,p)=>{var h=Le(),v=se(h);_t(v,s),X(g,h)},$$slots:{default:!0}});var w=Be(m,2);We(w,{get value(){return r()[o()]},size:"sm",get step(){return c()},get helperText(){return i()},get disabled(){return _()},get min(){return l()},get max(){return f()},$$events:{change:d}}),X(e,u),ge(),a()}function Mt(){const e=new $e;return e.background=new Je(16777215),e}function vt(e){const t=new Ke({antialias:!0});return t.setPixelRatio(window.devicePixelRatio),t.shadowMap.enabled=!0,t.shadowMap.type=Qe,e.appendChild(t.domElement),t}function xt(e){const t=new z(new Me(200,200),new O({color:13355979,specular:4671303}));t.rotation.x=-Math.PI/2,t.position.y=-10,t.receiveShadow=!0}function St(e){return e.add(new je(9272444,4802918,3)),zt(e,0,500,500,16777215,2)}function zt(e,t,n,a,r,o){const s=new Ve(r,o);s.position.set(t,n,a),s.castShadow=!0;const i=1e3;return s.shadow.camera.left=-1e3,s.shadow.camera.right=i,s.shadow.camera.top=i,s.shadow.camera.bottom=-1e3,s.shadow.camera.near=1,s.shadow.camera.far=2e3,s.shadow.mapSize.width=4096,s.shadow.mapSize.height=4096,s.shadow.radius=1,s.shadow.bias=-5e-4,e.add(s),e.add(s.target),s}const ze=400,Ee=400,Et=[[-.8,1,-.25],[-1.35,1,-.25],[-1.35,1,.25],[-.8,1,.25],[-1.0475,.3,.25],[-.8,.3,.25],[-1.35,.6,.25],[-1.35,.6,-.25],[-1.0475,.3,-.25],[-.8,.3,-.25],[-.8,0,.5],[-.8,2,.5],[-.8,2,-.5],[-.8,0,-.5],[.2,2,-.5],[.2,0,-.5],[.2,2,.5],[.2,0,.5]],At=[13,15,17,13,17,10,12,16,14,12,11,16,13,10,11,13,11,12,15,14,16,11,16,17,13,12,14,13,14,15,10,17,16,10,16,11],It=[0,1,2,0,2,3,1,7,6,1,6,2,0,3,5,0,5,9,0,9,8,0,8,7,0,7,1,3,2,6,3,6,4,3,4,5,9,5,4,9,4,8,8,4,6,8,6,7];function W(e,t){const n=Et.map(o=>[o[0],o[1],o[2]]),a=(e-ze)/1e3,r=(t-Ee)/2/1e3;return a>-.3?[1,2,4,6,7,8].forEach(o=>{n[o][0]-=a}):([1,2,6,7].forEach(o=>{n[o][0]-=a}),[4,8].forEach(o=>{n[o][0]-=-.1})),[0,1,7,8,9,12,13,14,15].forEach(o=>{n[o][2]-=r}),[2,3,4,5,6,10,11,16,17].forEach(o=>{n[o][2]+=r}),n}function Pt(e){const t=document.createElement("canvas");t.width=64,t.height=64;const n=t.getContext("2d");n.fillStyle="red",n.beginPath(),n.arc(32,32,28,0,Math.PI*2),n.fill(),n.fillStyle="white",n.font="bold 36px Arial",n.textAlign="center",n.textBaseline="middle",n.fillText(e,32,32);const a=new ve(t),r=new et({map:a}),o=new xe(r);return o.scale.set(.08,.08,1),o}function ie(e,t=ze,n=Ee,a=!1){const r=new U,o=new O({color:12895428,shininess:100,flatShading:!0,transparent:!1}),s=W(t,n),i=new Float32Array(s.flat()),c=new G;c.setAttribute("position",new ae(i,3)),c.setIndex(At),c.computeVertexNormals();const _=new z(c,o);_.castShadow=!0,_.receiveShadow=!0,r.add(_);const l=new G;l.setAttribute("position",new ae(i,3)),l.setIndex(It),l.computeVertexNormals();const f=new z(l,o);return f.castShadow=!0,f.receiveShadow=!0,r.add(f),a&&s.forEach((d,u)=>{const m=Pt(u.toString());m.position.set(d[0],d[1],d[2]),r.add(m)}),e.add(r),r}function $(){const e=pe(k),t=W(e.a,e.b),n=[t[0],t[1],t[2],t[3]];return{centerX:(n[0][0]+n[1][0]+n[2][0]+n[3][0])/4,centerY:n[0][1],centerZ:(n[0][2]+n[1][2]+n[2][2]+n[3][2])/4}}function ce(e,t){t&&(t.traverse(n=>{n instanceof z&&(n.geometry.dispose(),Array.isArray(n.material)?n.material.forEach(a=>a.dispose()):n.material.dispose())}),e.remove(t))}const Rt=400,Dt=400,Nt=10,Tt=.4,Gt=.4,Ct=.02;function le(e,t){const n=new U,a=new O({color:12895428,shininess:100,specular:2236962}),r=(t.a-Rt)/1e3,o=(t.b-Dt)/1e3,s=(t.t-Nt)*2/1e3,i=Tt+r,c=Gt+o,_=Ct+s,l=new z(new tt(i,_,c),a),f=$();l.position.set(f.centerX,f.centerY+_/2,f.centerZ),l.castShadow=!0,l.receiveShadow=!0,n.add(l),e.add(n),l.geometry.computeBoundingBox();const d=new nt;d.setFromObject(l);const u=f.centerY;return{group:n,boundingBox:d,height:u,lengthDiffX:r,lengthDiffZ:o}}function fe(e,t){t&&(t.traverse(n=>{n instanceof z&&(n.geometry.dispose(),Array.isArray(n.material)?n.material.forEach(a=>a.dispose()):n.material.dispose())}),e.remove(t))}function de(e,t){const n=new U;if(!t.is_dorn)return e.add(n),n;const a=new O({color:12895428,flatShading:!1}),r=.2,o=t.d_d/2/1e3,s=new z(new ot(o,o,r,16),a),i=$();return s.position.set(i.centerX,i.centerY+r/2,i.centerZ),s.castShadow=!0,s.receiveShadow=!0,n.add(s),e.add(n),n}function _e(e,t){t&&(t.traverse(n=>{n instanceof z&&(n.geometry.dispose(),Array.isArray(n.material)?n.material.forEach(a=>a.dispose()):n.material.dispose())}),e.remove(t))}let N=[];function ue(e,t,n,a,r,o=0,s=0){const i=document.createElement("canvas"),c=i.getContext("2d");if(!c)return;const _=.5;i.width=512*_,i.height=128*_,c.font="Bold 19px Arial",c.fillStyle="#ff0000ff",c.textAlign="center",c.textBaseline="middle",c.lineWidth=3,c.fillText(r,i.width/2,i.height/2);const l=new ve(i),f=new Se({map:l,transparent:!0,side:at}),d=new Me(.24,.072),u=new z(d,f),m=new M(n[0]-t[0],0,n[2]-t[2]).normalize(),w=new M(-m.z,0,m.x),g=(t[0]+n[0])/2+o+w.x*a,p=(t[2]+n[2])/2+s+w.z*a;u.position.set(g,t[1],p),u.rotation.x=-Math.PI/2,u.rotation.z=Math.atan2(m.z,m.x)+Math.PI,e.add(u),N.push(u)}function he(e,t,n,a,r,o=.05){const s=new M(-a.z,0,a.x).normalize(),i=new G().setFromPoints([new M(t.x-s.x*o/2,t.y,t.z-s.z*o/2),new M(t.x+s.x*o/2,t.y,t.z+s.z*o/2)]),c=new C(i,r);e.add(c),N.push(c);const _=new G().setFromPoints([new M(n.x-s.x*o/2,n.y,n.z-s.z*o/2),new M(n.x+s.x*o/2,n.y,n.z+s.z*o/2)]),l=new C(_,r);e.add(l),N.push(l)}function Y(e){N.forEach(t=>{e.remove(t),t instanceof z&&(t.geometry&&t.geometry.dispose(),t.material instanceof q&&t.material.dispose()),t instanceof C&&(t.geometry&&t.geometry.dispose(),t.material instanceof q&&t.material.dispose()),t instanceof xe&&t.material instanceof q&&t.material.dispose()}),N=[]}function be(e){Y(e);const t=pe(k),n=W(t.a,t.b),a=new st({color:16711680}),r=.05,o=t.b/1e3,s=t.a/1e3,i=(n[1][0]+n[2][0])/2,c=n[1][1],_=(n[1][2]+n[2][2])/2,l=new M(i-r,c,_-o/2),f=new M(i-r,c,_+o/2),d=new G().setFromPoints([l,f]),u=new C(d,a);e.add(u),N.push(u);const m=new M().subVectors(f,l).normalize();he(e,l,f,m,a),ue(e,[l.x,l.y,l.z],[f.x,f.y,f.z],.02,`b = ${t.b} mm`,0,0);const w=(n[0][0]+n[1][0])/2,g=n[0][1],p=(n[0][2]+n[1][2])/2,h=new M(w-s/2,g,p-r),v=new M(w+s/2,g,p-r),T=new G().setFromPoints([h,v]),E=new C(T,a);e.add(E),N.push(E);const R=new M().subVectors(v,h).normalize();he(e,h,v,R,a),ue(e,[h.x,h.y,h.z],[v.x,v.y,v.z],-.02,`a = ${t.a} mm`,0,0)}var kt=we('<div class="scene-container svelte-5boshl"></div>');function Wt(e,t){me(t,!1),P(t,"autoRotate",8,!1);let n;const a=new M(-3.6366326492655574,2.6403115127435544,-1.3328222766488578);let r=Oe(),o,s,i,c,_,l,f,d,u,m,w,g;Fe(async()=>{o=Mt(),i=vt(I(r)),xt(),u=St(o),s=rt(35),s.position.copy(a),g=k.subscribe(y=>{n=y,o&&f!==void 0&&(l&&ce(o,l),f&&fe(o,f),d&&_e(o,d),Y(o),l=ie(o,n.a,n.b),f=le(o,n).group,d=de(o,n),be(o))});const h=$(),v=[h.centerX,h.centerY,h.centerZ];c=it(s,i,v),m=ct(i,s,c),l=ie(o,n.a,n.b),f=le(o,n).group,d=de(o,n),be(o);const E=new z(new lt(.01,16,16),new Se({color:16711680}));E.position.set(h.centerX,h.centerY,h.centerZ),o.add(E);const b=1e3/30;let S=0;const L=y=>{w=requestAnimationFrame(L);const x=y-S;if(!(x<b)){if(S=y-x%b,ft(c),u&&s){const A=new M(0,500,500);A.applyQuaternion(s.quaternion),u.position.copy(s.position).add(A),c&&c.target&&(u.target.position.copy(c.target),u.target.updateMatrixWorld())}i.render(o,s)}};if(L(0),await qe(),I(r)&&I(r)instanceof Element){let y=!1;_=new ResizeObserver(()=>{I(r)&&i&&s&&!y&&(y=!0,requestAnimationFrame(()=>{if(I(r)&&i&&s){const x=I(r).clientWidth,A=I(r).clientHeight;console.log(`Resizing renderer to ${x}x${A}`),s.aspect=x/A,s.updateProjectionMatrix(),i.setSize(x,A)}y=!1}))}),_.observe(I(r))}console.log("ShearDeformationScene initialized")}),He(()=>{w!==void 0&&cancelAnimationFrame(w),m&&m(),g&&g(),_&&_.disconnect(),c&&c.dispose(),i&&i.dispose(),l&&o&&ce(o,l),f&&o&&fe(o,f),d&&o&&_e(o,d),o&&Y(o),console.log("ShearDeformationScene destroyed")}),ye();var p=kt();dt(p,h=>Ze(r,h),()=>I(r)),X(e,p),ge()}export{Ut as P,Wt as S,ht as a,Yt as b,gt as c,Z as p,k as s};
