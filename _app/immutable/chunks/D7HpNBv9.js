import{u as Re,x as W,y as se,au as Te,b2 as Ge,C as ae,aF as Ce,b3 as Ne,b4 as Le,b5 as re,M as Be,b6 as ke,aD as F,b7 as Fe,b8 as Oe,G as qe,F as He,aq as O,p as ve,f as ye,l as ie,ae as Ze,a as $,q as Xe,k as pe,g as Me,o as Ye,e as I,m as Ue,an as We,b1 as $e,c as Je}from"./LKURAASd.js";import"./CWj6FrbW.js";import"./DboaDGN6.js";import{i as Se}from"./NFip8zLU.js";import{p as D}from"./Crthknfs.js";import{a as Ke,s as Qe}from"./CRHqrRe1.js";import{x as Ve,N as je,e as et,C as tt,W as nt,f as ot,M as z,P as xe,h as q,H as st,D as at,G as K,B as G,c as ce,y as ze,z as rt,A as Ee,E as it,I as ct,J as lt,K as ft,V as M,O as L,i as H,Q as Ae,R as dt,k as ut,l as _t,s as ht,T as bt,u as wt}from"./AyaVMtmY.js";import{b as gt}from"./CKAF7HNW.js";function mt(e,t,n=!1,r=!1,a=!1){var o=e,s="";Re(()=>{var i=Te;if(s===(s=t()??"")){W&&se();return}if(i.nodes_start!==null&&(Ge(i.nodes_start,i.nodes_end),i.nodes_start=i.nodes_end=null),s!==""){if(W){ae.data;for(var c=se(),d=c;c!==null&&(c.nodeType!==8||c.data!=="");)d=c,c=Ce(c);if(c===null)throw Ne(),Le;re(ae,d),o=Be(c);return}var f=s+"";n?f=`<svg>${f}</svg>`:r&&(f=`<math>${f}</math>`);var l=ke(f);if((n||r)&&(l=F(l)),re(F(l),l.lastChild),n||r)for(;F(l);)o.before(F(l));else o.before(l)}})}function Qt(e,t,n=t){var r=Fe();Oe(e,"input",a=>{var o=a?e.defaultValue:e.value;if(o=Z(e)?X(o):o,n(o),r&&o!==(o=t())){var s=e.selectionStart,i=e.selectionEnd;e.value=o??"",i!==null&&(e.selectionStart=s,e.selectionEnd=Math.min(i,e.value.length))}}),(W&&e.defaultValue!==e.value||qe(t)==null&&e.value)&&n(Z(e)?X(e.value):e.value),He(()=>{var a=t();Z(e)&&a===X(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function Z(e){var t=e.type;return t==="number"||t==="range"}function X(e){return e===""?null:+e}const le={nachw_vert:0,nachw_rotb:0,nachw_schub:0,querz_x:0,querz_y:0};function vt(){const{subscribe:e,set:t,update:n}=O(le);return{subscribe:e,set:t,update:n,reset:()=>t(le)}}const yt=vt();function pt(e){const t=e.a*e.b;let n,r;e.n_b===0||e.is_wirksamgeschlossen===1?(n=t,r=Math.round(t/(2*e.t*(e.a+e.b))*1e3)/1e3):(n=Math.round(t-e.n_b*Math.PI*Math.pow(e.d_b/2,2)),r=Math.round((t-.25*Math.PI*e.n_b*Math.pow(e.t,2))/(2*e.t*(e.a+e.b)+e.t*Math.PI*e.n_b*e.d_b)*1e3)/1e3);const a=e.is_ortbeton===0?10:10/2,s=Math.round(.625/e.a*1e3*10)/10+a,i=e.alpha_a,c=e.alpha_b+s,d=Math.sqrt(Math.pow(i,2)+Math.pow(c,2)),f=Math.min(450*e.t/e.a,48),l=48,h=Math.round(c/f*1e3)/1e3,u=Math.round(d/l*1e3)/1e3,_=Math.round(1e3*e.ff_zd/n*10)/10;let w;r<2.33?w=Math.round((5.3805*r-.6536)*10)/10:w=Math.round((10.635*r-12.89)*10)/10;const v=Math.round(_/w*1e3)/1e3,m=Math.round((e.v_a/e.t+e.ff_x*1e3/(e.gg*n))*100)/100,y=Math.round((e.v_b/e.t+e.ff_y*1e3/(e.gg*n))*100)/100,b=Math.sqrt(Math.pow(m,2)+Math.pow(y,2)),P=Math.round(b/(.6*(e.t-2)/e.t)*1e3)/1e3,E=5,A=5,C=e.c_nom+10;return{aa:t,a_eff:n,s:r,alpha_b_zus:s,alpha_b_ges:c,alpha_a_ges:i,alpha_ges:d,alpha_bmax:f,alpha_resmax:l,nachw_rotb:h,nachw_rotres:u,sigma_ed:_,sigma_rd:w,nachw_vert:v,tan_gamx:m,tan_gamy:y,tan_gamxy:b,nachw_schub:P,querz_x:E,querz_y:A,c_rand:C}}function Mt(e){const t={is_streifen:e.is_streifen,a:e.a,b:e.b,t:e.t,c_nom:e.c_nom,is_dorn:e.is_dorn,d_b:e.d_b,d_d:e.d_d,n_b:e.n_b,ff_zd:e.ff_zd,v_a:e.v_a,v_b:e.v_b,alpha_a:e.alpha_a,alpha_b:e.alpha_b,gg:e.gg,ff_x:e.ff_x,ff_y:e.ff_y,is_ortbeton:e.is_ortbeton,is_wirksamgeschlossen:e.is_wirksamgeschlossen},n=pt(t);yt.set({nachw_vert:n.nachw_vert,nachw_rotb:n.nachw_rotb,nachw_schub:n.nachw_schub,querz_x:n.querz_x,querz_y:n.querz_y})}const R={s_65:{check:!0,thicknesses:e=>[10,15,20,25,30].filter(t=>t===10||e>=70),sigma_rd_rule:e=>e<=6.25?4.03*e**1.16:33.9,rot_b_rule:(e,t)=>Math.min(450*e/t,40),rot_res_rule:40,"Nachweis erfolgreich t":[]},s_70:{check:!0,thicknesses:e=>[10,15,20].filter(t=>t===10||e>=70),sigma_rd_rule:e=>e<=5?6.99*e:34.95,rot_b_rule:(e,t)=>Math.min(450*e/t,40),rot_res_rule:40,"Nachweis erfolgreich t":[]},esz_100:{check:!0,thicknesses:e=>[10,15,20,25,30].filter(t=>t===10||e>=70),sigma_rd_rule:e=>e<=2.33?5.3805*e-.6536:e<=2.5?10.635*e-12.89:e<=5?8.4004*e-7.3293:34.7,rot_b_rule:(e,t)=>Math.min(450*e/t,48),rot_res_rule:48,"Nachweis erfolgreich t":[]},conti_60:{check:!0,thicknesses:[10,20,30],sigma_rd_rule:e=>e<=5?.315*e**2+4.035*e:28.05,rot_b_rule:(e,t)=>Math.min(450*e/t,40),rot_res_rule:40,"Nachweis erfolgreich t":[]}};function St(e){const{is_ortbeton:t,is_wirksamgeschlossen:n,a:r,b:a,is_dorn:o,d_b:s,n_b:i,ff_zd:c,alpha_b:d,alpha_a:f}=e,l=JSON.parse(JSON.stringify(R)),h={rules:[(g,x)=>g>=70||x>=100&&g>=50,(g,x)=>x>=70]},u={rules:[(g,x)=>g>=70,(g,x)=>x>=70]};for(const g of h.rules)g(r,a)||(l.s_65.check=!1,l.s_70.check=!1,l.esz_100.check=!1);for(const g of u.rules)g(r,a)||(l.conti_60.check=!1);const _=r*a;let w;o===0?w=_:w=Math.round(_-i*Math.PI*(s/2)**2);const v=Math.round(1e3*c/w*10)/10,m=t===0?10:10/2,b=Math.round(.625/r*1e3*10)/10+m,P=f,E=d+b,A=Math.sqrt(P**2+E**2),C=[];for(const[g,x]of Object.entries(l))if(x.check){const k=typeof R[g].thicknesses=="function"?R[g].thicknesses(r):R[g].thicknesses;for(const p of k){let S;!o||n?S=Math.round(_/(2*p*(r+a))*1e3)/1e3:S=Math.round((_-.25*Math.PI*i*p**2)/(2*p*(r+a)+p*Math.PI*i*s)*1e3)/1e3;const N=R[g].sigma_rd_rule(S),j=R[g].rot_b_rule(p,r),ee=R[g].rot_res_rule,te=v/N,ne=E/j,oe=A/ee,Pe=te<=1&&ne<=1&&oe<=1;C.push({lagerType:g,thickness:p,s:S,sigma_rd:N,alpha_b_max:j,alpha_res_max:ee,sigma_nachw:te,rot_b_nachw:ne,rot_res_nach:oe,passed:Pe})}}return C}const xt=O([]),Vt=O(null),Y={is_streifen:0,a:200,b:200,t:10,c_nom:25,is_dorn:1,d_b:50,d_d:20,n_b:1,ff_zd:800,v_a:0,alpha_b:2,gg:.9,v_b:0,alpha_a:0,ff_x:15,ff_y:0,is_ortbeton:0,is_wirksamgeschlossen:0};function zt(){const{subscribe:e,set:t,update:n}=O(Y),r={subscribe:e,set:a=>{t(a),U(a)},update:a=>{n(o=>{const s=a(o);return U(s),s})},reset:()=>{t(Y),U(Y)},updateField:(a,o)=>{r.update(s=>({...s,[a]:o}))}};return r}const B=zt();function U(e){Mt(e);const t=St(e);xt.set(t)}var Et=ye("<!> <!>",1);function jt(e,t){ve(t,!1);const[n,r]=Qe(),a=()=>Ke(B,"$shearDeformationParameterStore",n);let o=D(t,"field",8),s=D(t,"label",8),i=D(t,"helperText",8,""),c=D(t,"step",8,1),d=D(t,"disabled",8,!1),f=D(t,"min",8,void 0),l=D(t,"max",8,void 0);function h(v){const m=v.detail;m!==null&&B.updateField(o(),m)}Se();var u=Et(),_=ie(u);Ve(_,{children:(v,m)=>{var y=Ze(),b=ie(y);mt(b,s),$(v,y)},$$slots:{default:!0}});var w=Xe(_,2);je(w,{get value(){return a()[o()]},size:"sm",get step(){return c()},get helperText(){return i()},get disabled(){return d()},get min(){return f()},get max(){return l()},$$events:{change:h}}),$(e,u),pe(),r()}function At(){const e=new et;return e.background=new tt(16777215),e}function It(e){const t=new nt({antialias:!0});return t.setPixelRatio(window.devicePixelRatio),t.shadowMap.enabled=!0,t.shadowMap.type=ot,e.appendChild(t.domElement),t}function Dt(e){const t=new z(new xe(200,200),new q({color:13355979,specular:4671303}));t.rotation.x=-Math.PI/2,t.position.y=-10,t.receiveShadow=!0}function Pt(e){return e.add(new st(9272444,4802918,3)),Rt(e,0,500,500,16777215,2)}function Rt(e,t,n,r,a,o){const s=new at(a,o);s.position.set(t,n,r),s.castShadow=!0;const i=1e3;return s.shadow.camera.left=-1e3,s.shadow.camera.right=i,s.shadow.camera.top=i,s.shadow.camera.bottom=-1e3,s.shadow.camera.near=1,s.shadow.camera.far=2e3,s.shadow.mapSize.width=4096,s.shadow.mapSize.height=4096,s.shadow.radius=1,s.shadow.bias=-5e-4,e.add(s),e.add(s.target),s}const Ie=400,De=400,Tt=[[-.8,1,-.25],[-1.35,1,-.25],[-1.35,1,.25],[-.8,1,.25],[-1.0475,.3,.25],[-.8,.3,.25],[-1.35,.6,.25],[-1.35,.6,-.25],[-1.0475,.3,-.25],[-.8,.3,-.25],[-.8,0,.5],[-.8,2,.5],[-.8,2,-.5],[-.8,0,-.5],[.2,2,-.5],[.2,0,-.5],[.2,2,.5],[.2,0,.5]],Gt=[13,15,17,13,17,10,12,16,14,12,11,16,13,10,11,13,11,12,15,14,16,11,16,17,13,12,14,13,14,15,10,17,16,10,16,11],Ct=[0,1,2,0,2,3,1,7,6,1,6,2,0,3,5,0,5,9,0,9,8,0,8,7,0,7,1,3,2,6,3,6,4,3,4,5,9,5,4,9,4,8,8,4,6,8,6,7];function Q(e,t){const n=Tt.map(o=>[o[0],o[1],o[2]]),r=(e-Ie)/1e3,a=(t-De)/2/1e3;return r>-.3?[1,2,4,6,7,8].forEach(o=>{n[o][0]-=r}):([1,2,6,7].forEach(o=>{n[o][0]-=r}),[4,8].forEach(o=>{n[o][0]-=-.1})),[0,1,7,8,9,12,13,14,15].forEach(o=>{n[o][2]-=a}),[2,3,4,5,6,10,11,16,17].forEach(o=>{n[o][2]+=a}),n}function Nt(e){const t=document.createElement("canvas");t.width=64,t.height=64;const n=t.getContext("2d");n.fillStyle="red",n.beginPath(),n.arc(32,32,28,0,Math.PI*2),n.fill(),n.fillStyle="white",n.font="bold 36px Arial",n.textAlign="center",n.textBaseline="middle",n.fillText(e,32,32);const r=new ze(t),a=new rt({map:r}),o=new Ee(a);return o.scale.set(.08,.08,1),o}function fe(e,t=Ie,n=De,r=!1){const a=new K,o=new q({color:12895428,shininess:100,flatShading:!0,transparent:!1}),s=Q(t,n),i=new Float32Array(s.flat()),c=new G;c.setAttribute("position",new ce(i,3)),c.setIndex(Gt),c.computeVertexNormals();const d=new z(c,o);d.castShadow=!0,d.receiveShadow=!0,a.add(d);const f=new G;f.setAttribute("position",new ce(i,3)),f.setIndex(Ct),f.computeVertexNormals();const l=new z(f,o);return l.castShadow=!0,l.receiveShadow=!0,a.add(l),r&&s.forEach((h,u)=>{const _=Nt(u.toString());_.position.set(h[0],h[1],h[2]),a.add(_)}),e.add(a),a}function V(){const e=Me(B),t=Q(e.a,e.b),n=[t[0],t[1],t[2],t[3]];return{centerX:(n[0][0]+n[1][0]+n[2][0]+n[3][0])/4,centerY:n[0][1],centerZ:(n[0][2]+n[1][2]+n[2][2]+n[3][2])/4}}function de(e,t){t&&(t.traverse(n=>{n instanceof z&&(n.geometry.dispose(),Array.isArray(n.material)?n.material.forEach(r=>r.dispose()):n.material.dispose())}),e.remove(t))}const Lt=400,Bt=400,kt=10,Ft=.4,Ot=.4,qt=.02;function ue(e,t){const n=new K,r=new q({color:12895428,shininess:100,specular:2236962}),a=(t.a-Lt)/1e3,o=(t.b-Bt)/1e3,s=(t.t-kt)*2/1e3,i=Ft+a,c=Ot+o,d=qt+s,f=new z(new it(i,d,c),r),l=V();f.position.set(l.centerX,l.centerY+d/2,l.centerZ),f.castShadow=!0,f.receiveShadow=!0,n.add(f),e.add(n),f.geometry.computeBoundingBox();const h=new ct;h.setFromObject(f);const u=l.centerY;return{group:n,boundingBox:h,height:u,lengthDiffX:a,lengthDiffZ:o}}function _e(e,t){t&&(t.traverse(n=>{n instanceof z&&(n.geometry.dispose(),Array.isArray(n.material)?n.material.forEach(r=>r.dispose()):n.material.dispose())}),e.remove(t))}function he(e,t){const n=new K;if(!t.is_dorn)return e.add(n),n;const r=new q({color:12895428,flatShading:!1}),a=.2,o=t.d_d/2/1e3,s=new z(new lt(o,o,a,16),r),i=V();return s.position.set(i.centerX,i.centerY+a/2,i.centerZ),s.castShadow=!0,s.receiveShadow=!0,n.add(s),e.add(n),n}function be(e,t){t&&(t.traverse(n=>{n instanceof z&&(n.geometry.dispose(),Array.isArray(n.material)?n.material.forEach(r=>r.dispose()):n.material.dispose())}),e.remove(t))}let T=[];function we(e,t,n,r,a,o=0,s=0){const i=document.createElement("canvas"),c=i.getContext("2d");if(!c)return;const d=.5;i.width=512*d,i.height=128*d,c.font="Bold 19px Arial",c.fillStyle="#ff0000ff",c.textAlign="center",c.textBaseline="middle",c.lineWidth=3,c.fillText(a,i.width/2,i.height/2);const f=new ze(i),l=new Ae({map:f,transparent:!0,side:dt}),h=new xe(.24,.072),u=new z(h,l),_=new M(n[0]-t[0],0,n[2]-t[2]).normalize(),w=new M(-_.z,0,_.x),v=(t[0]+n[0])/2+o+w.x*r,m=(t[2]+n[2])/2+s+w.z*r;u.position.set(v,t[1],m),u.rotation.x=-Math.PI/2,u.rotation.z=Math.atan2(_.z,_.x)+Math.PI,e.add(u),T.push(u)}function ge(e,t,n,r,a,o=.05){const s=new M(-r.z,0,r.x).normalize(),i=new G().setFromPoints([new M(t.x-s.x*o/2,t.y,t.z-s.z*o/2),new M(t.x+s.x*o/2,t.y,t.z+s.z*o/2)]),c=new L(i,a);e.add(c),T.push(c);const d=new G().setFromPoints([new M(n.x-s.x*o/2,n.y,n.z-s.z*o/2),new M(n.x+s.x*o/2,n.y,n.z+s.z*o/2)]),f=new L(d,a);e.add(f),T.push(f)}function J(e){T.forEach(t=>{e.remove(t),t instanceof z&&(t.geometry&&t.geometry.dispose(),t.material instanceof H&&t.material.dispose()),t instanceof L&&(t.geometry&&t.geometry.dispose(),t.material instanceof H&&t.material.dispose()),t instanceof Ee&&t.material instanceof H&&t.material.dispose()}),T=[]}function me(e){J(e);const t=Me(B),n=Q(t.a,t.b),r=new ft({color:16711680}),a=.05,o=t.b/1e3,s=t.a/1e3,i=(n[1][0]+n[2][0])/2,c=n[1][1],d=(n[1][2]+n[2][2])/2,f=new M(i-a,c,d-o/2),l=new M(i-a,c,d+o/2),h=new G().setFromPoints([f,l]),u=new L(h,r);e.add(u),T.push(u);const _=new M().subVectors(l,f).normalize();ge(e,f,l,_,r),we(e,[f.x,f.y,f.z],[l.x,l.y,l.z],.02,`b = ${t.b} mm`,0,0);const w=(n[0][0]+n[1][0])/2,v=n[0][1],m=(n[0][2]+n[1][2])/2,y=new M(w-s/2,v,m-a),b=new M(w+s/2,v,m-a),P=new G().setFromPoints([y,b]),E=new L(P,r);e.add(E),T.push(E);const A=new M().subVectors(b,y).normalize();ge(e,y,b,A,r),we(e,[y.x,y.y,y.z],[b.x,b.y,b.z],-.02,`a = ${t.a} mm`,0,0)}var Ht=ye('<div class="scene-container svelte-5boshl"></div>');function en(e,t){ve(t,!1),D(t,"autoRotate",8,!1);let n;const r=new M(-3.6366326492655574,2.6403115127435544,-1.3328222766488578);let a=Ue(),o,s,i,c,d,f,l,h,u,_=!1,w,v,m;Ye(async()=>{o=At(),i=It(I(a)),Dt(),u=Pt(o),s=ut(35),s.position.copy(r),m=B.subscribe(p=>{n=p,o&&l!==void 0&&(f&&de(o,f),l&&_e(o,l),h&&be(o,h),J(o),f=fe(o,n.a,n.b),l=ue(o,n).group,h=he(o,n),me(o))});const b=V(),P=[b.centerX,b.centerY,b.centerZ];c=_t(s,i,P),w=ht(i,s,c),f=fe(o,n.a,n.b),l=ue(o,n).group,h=he(o,n),me(o);const A=new z(new bt(.01,16,16),new Ae({color:16711680}));A.position.set(b.centerX,b.centerY,b.centerZ),o.add(A);const g=1e3/30;let x=0;const k=p=>{v=requestAnimationFrame(k);const S=p-x;if(!(S<g)){if(x=p-S%g,wt(c),u&&s){const N=new M(0,500,500);N.applyQuaternion(s.quaternion),u.position.copy(s.position).add(N),c&&c.target&&(u.target.position.copy(c.target),u.target.updateMatrixWorld())}i.render(o,s)}};k(0),await We(),I(a)&&I(a)instanceof Element&&(d=new ResizeObserver(()=>{if(I(a)&&i&&s){if(_==!0){_=!1;return}const p=I(a).clientWidth,S=I(a).clientHeight;console.log(`Resizing renderer to ${p}x${S}`),s.aspect=p/S,s.updateProjectionMatrix(),i.setSize(p,S),_=!0}}),d.observe(I(a))),console.log("ShearDeformationScene initialized")}),$e(()=>{v!==void 0&&cancelAnimationFrame(v),w&&w(),m&&m(),d&&d.disconnect(),c&&c.dispose(),i&&i.dispose(),f&&o&&de(o,f),l&&o&&_e(o,l),h&&o&&be(o,h),o&&J(o),console.log("ShearDeformationScene destroyed")}),Se();var y=Ht();gt(y,b=>Je(a,b),()=>I(a)),$(e,y),pe()}export{jt as P,en as S,yt as a,Qt as b,Vt as c,xt as d,U as p,B as s};
