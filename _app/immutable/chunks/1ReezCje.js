import{t as se,h as $e,aK as _e,aL as xe,aM as Se,x as be,y as we,p as ye,d as Te,U as Fe,q as Y,v as j,a5 as W,af as Z,a7 as G,a6 as N,a4 as X,O as t,ag as S,ab as Ce,ac as Be,V as Le,ae as Pe,aN as Ee,T as Re}from"./B_J1m_EM.js";import{f as M,a as I,c as ge}from"./b0vKRyRU.js";import"./CYP6ejXN.js";import{s as z}from"./touYG125.js";import{e as re,i as ne,S as J,a as q,t as C,c as Ae}from"./BuLRX5sq.js";import{e as Ie,s as Q,b as ee}from"./rTFhHhec.js";import{i as me}from"./D-GPOFrA.js";import{g as De}from"./Cd5AUO_E.js";import{C as Oe,G as ke,R as Me,a as te}from"./D8HIbxjj.js";import{p as O,r as Ve,g as Ge,a as Ne,b as Ue,T as ze,I as We,L as He,F as qe,B as ie,C as fe,S as Ye,c as ae,V as H,d as le,e as je,W as Ze,f as Ke,M as he,P as Xe,h as ve,H as Je,i as Qe,D as et,j as tt,k as at,l as rt,m as nt,s as ot,n as st,o as it,G as lt,q as ct,t as dt,u as ut,v as pt,w as gt,x as ce}from"./DdjFhVYg.js";import{b as mt}from"./Dag8BmdE.js";import{p as de}from"./CnYdXSJI.js";import{b as K}from"./T_8CdLyy.js";function qt(m,i,x){se&&$e();var b=m,_=Fe,c,d=_e()?xe:Se;be(()=>{d(_,_=i())&&(c&&we(c),c=ye(()=>x(b)))}),se&&(b=Te)}var ft=M('<button class="footer__link svelte-7honmp" style="color: #000000;"> </button>'),ht=M('<nav class="footer__nav svelte-7honmp"></nav>'),vt=M('<p class="footer__copyright svelte-7honmp"> </p>'),$t=M("<!> <!> <!>",1),_t=M('<footer class="footer svelte-7honmp"><!></footer>');function Yt(m,i){Y(i,!1);const x=new Date().getFullYear(),b=[{href:"/impressum",label:"Impressum"},{href:"/privacy",label:"Privacy"}];function _(p){De(p)}me();var c=_t(),d=W(c);Oe(d,{children:(p,f)=>{ke(p,{noGutter:!0,padding:!0,children:(n,e)=>{Me(n,{children:(a,o)=>{var s=$t(),l=Z(s);te(l,{sm:16,md:16,lg:4});var u=G(l,2);te(u,{sm:16,md:16,lg:8,children:(h,w)=>{var v=ht();re(v,5,()=>b,ne,(y,F)=>{var $=ft(),B=W($,!0);N($),X(()=>z(B,t(F).label)),Ie("click",$,()=>_(t(F).href)),I(y,$)}),N(v),I(h,v)},$$slots:{default:!0}});var r=G(u,2);te(r,{sm:16,md:16,lg:4,children:(h,w)=>{var v=vt(),y=W(v);N(v),X(()=>z(y,`© ${x??""} statiqs`)),I(h,v)},$$slots:{default:!0}}),I(a,s)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),N(c),I(m,c),j()}var xt=M("<!> <!>",1);function jt(m,i){Y(i,!0);const[x,b]=Q();let c=S(()=>ee(O,"$parameterStore",x));function d(n){var o;const a=(n.detail||((o=n.target)==null?void 0:o.value))==="rund";O.updateField("isRound",a)}const p=S(()=>C("bridgeBearing.bearingShape")),f=S(()=>t(c).isRound?"rund":"rechteckig");J(m,{get labelText(){return t(p)},get selected(){return t(f)},light:!0,$$events:{change:d},children:(n,e)=>{var a=xt(),o=Z(a);const s=S(()=>C("bridgeBearing.rectangular"));q(o,{value:"rechteckig",get text(){return t(s)}});var l=G(o,2);const u=S(()=>C("bridgeBearing.round"));q(l,{value:"rund",get text(){return t(u)}}),I(n,a)},$$slots:{default:!0}}),j(),b()}function Zt(m,i){Y(i,!0);const[x,b]=Q();let c=S(()=>ee(O,"$parameterStore",x)),d=S(Ge),p=S(()=>Ve.map(s=>s.diameter)),f=S(()=>t(c).isRound?t(p).findIndex(s=>s===t(c).d):t(d).findIndex(s=>s.length===t(c).a&&s.width===t(c).b)),n=S(()=>t(c).isRound?t(p).map((s,l)=>({value:l,label:`${s} mm`})):t(d).map((s,l)=>({value:l,label:`${s.length} mm x ${s.width} mm`})));function e(s){var u;const l=parseInt(((u=s.target)==null?void 0:u.value)||s.detail);if(t(c).isRound){const r=t(p)[l];r&&O.updateField("d",r)}else{const r=t(d)[l];r&&(O.updateField("a",r.length),O.updateField("b",r.width))}}const a=S(()=>t(c).isRound?C("bridgeBearing.dimensionsDiameter"):C("bridgeBearing.dimensionsLengthWidth")),o=S(()=>t(f).toString());J(m,{get labelText(){return t(a)},get selected(){return t(o)},light:!0,$$events:{change:e},children:(s,l)=>{var u=ge(),r=Z(u);re(r,17,()=>t(n),ne,(h,w)=>{const v=S(()=>t(w).value.toString());q(h,{get value(){return t(v)},get text(){return t(w).label}})}),I(s,u)},$$slots:{default:!0}}),j(),b()}function Kt(m,i){Y(i,!0);const[x,b]=Q();let c=S(()=>ee(O,"$parameterStore",x)),d=S(()=>t(c).isRound?Ne(t(c).d).map(e=>({value:`${e.n}-${e.t_1}`,label:`${C("bridgeBearing.layerCount")} ${e.n}, ${C("bridgeBearing.layerHeight")} ${e.t_1}mm`,n:e.n,t_1:e.t_1})):Ue(t(c).a,t(c).b).map(e=>({value:`${e.n}-${e.t_1}`,label:`${C("bridgeBearing.layerCount")} ${e.n}, ${C("bridgeBearing.layerHeight")} ${e.t_1}mm`,n:e.n,t_1:e.t_1})));Ce(()=>{const e=`${t(c).n}-${t(c).t_1}`;if(!t(d).some(o=>o.value===e)&&t(d).length>0){const o=t(d)[0];O.update(s=>({...s,n:o.n,t_1:o.t_1}))}});function p(e){var r;const a=((r=e.target)==null?void 0:r.value)||e.detail,[o,s]=a.split("-"),l=parseInt(o),u=parseFloat(s);O.update(h=>({...h,n:l,t_1:u}))}const f=S(()=>C("bridgeBearing.elastomerLayers")),n=S(()=>`${t(c).n}-${t(c).t_1}`);J(m,{get labelText(){return t(f)},get selected(){return t(n)},light:!0,$$events:{change:p},children:(e,a)=>{var o=ge(),s=Z(o);re(s,17,()=>t(d),ne,(l,u)=>{const r=S(()=>t(u).value.toString());q(l,{get value(){return t(r)},get text(){return t(u).label}})}),I(e,o)},$$slots:{default:!0}}),j(),b()}var St=M('<span slot="tooltipText"> <br/> <br/> <br/> <br/> <br/> <br/> </span>'),bt=M("<!> <!>",1),wt=M('<div class="select-with-tooltip svelte-17kum7t"><div class="label-container svelte-17kum7t"><span class="label-text svelte-17kum7t"> </span> <!></div> <div style="margin-top: calc(-1 * var(--cds-spacing-03));"></div> <!></div>');function Xt(m,i){Y(i,!0);const[x,b]=Q();let c=S(()=>ee(O,"$parameterStore",x));function d(l){var h;const r=(l.detail||((h=l.target)==null?void 0:h.value))==="Typ C"?"C":"B";O.updateField("l_typ",r)}var p=wt(),f=W(p),n=W(f),e=W(n,!0);N(n);var a=G(n,2);ze(a,{get icon(){return We},$$slots:{tooltipText:(l,u)=>{var r=St(),h=W(r,!0),w=G(h,4),v=G(w,4),y=G(v,4);N(r),X((F,$,B,E)=>{z(h,F),z(w,` ${$??""}`),z(v,` ${B??""}`),z(y,` ${E??""}`)},[()=>C("bridgeBearing.typeBTooltip"),()=>C("bridgeBearing.typeCTooltip"),()=>C("bridgeBearing.typeCRequired"),()=>C("bridgeBearing.typeB_DBRestriction")]),I(l,r)}}}),N(f);var o=G(f,4);const s=S(()=>t(c).l_typ==="C"?"Typ C":"Typ B");J(o,{labelText:"",get selected(){return t(s)},light:!0,$$events:{change:d},children:(l,u)=>{var r=bt(),h=Z(r);const w=S(()=>C("bridgeBearing.typeB"));q(h,{value:"Typ B",get text(){return t(w)}});var v=G(h,2);const y=S(()=>C("bridgeBearing.typeC"));q(v,{value:"Typ C",get text(){return t(y)}}),I(l,r)},$$slots:{default:!0}}),N(p),X(l=>z(e,l),[()=>C("bridgeBearing.bearingType")]),I(m,p),j(),b()}class yt extends He{constructor(i){super(i)}load(i,x,b,_){const c=this,d=new qe(this.manager);d.setPath(this.path),d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setWithCredentials(this.withCredentials),d.load(i,function(p){try{x(c.parse(p))}catch(f){_?_(f):console.error(f),c.manager.itemError(i)}},b,_)}parse(i){function x(n){const e=new DataView(n),a=32/8*3+32/8*3*3+16/8,o=e.getUint32(80,!0);if(80+32/8+o*a===e.byteLength)return!0;const l=[115,111,108,105,100];for(let u=0;u<5;u++)if(b(l,e,u))return!1;return!0}function b(n,e,a){for(let o=0,s=n.length;o<s;o++)if(n[o]!==e.getUint8(a+o))return!1;return!0}function _(n){const e=new DataView(n),a=e.getUint32(80,!0);let o,s,l,u=!1,r,h,w,v,y;for(let g=0;g<70;g++)e.getUint32(g,!1)==1129270351&&e.getUint8(g+4)==82&&e.getUint8(g+5)==61&&(u=!0,r=new Float32Array(a*3*3),h=e.getUint8(g+6)/255,w=e.getUint8(g+7)/255,v=e.getUint8(g+8)/255,y=e.getUint8(g+9)/255);const F=84,$=12*4+2,B=new ie,E=new Float32Array(a*3*3),A=new Float32Array(a*3*3),k=new fe;for(let g=0;g<a;g++){const T=F+g*$,V=e.getFloat32(T,!0),D=e.getFloat32(T+4,!0),U=e.getFloat32(T+8,!0);if(u){const L=e.getUint16(T+48,!0);(L&32768)===0?(o=(L&31)/31,s=(L>>5&31)/31,l=(L>>10&31)/31):(o=h,s=w,l=v)}for(let L=1;L<=3;L++){const R=T+L*12,P=g*3*3+(L-1)*3;E[P]=e.getFloat32(R,!0),E[P+1]=e.getFloat32(R+4,!0),E[P+2]=e.getFloat32(R+8,!0),A[P]=V,A[P+1]=D,A[P+2]=U,u&&(k.setRGB(o,s,l,Ye),r[P]=k.r,r[P+1]=k.g,r[P+2]=k.b)}}return B.setAttribute("position",new ae(E,3)),B.setAttribute("normal",new ae(A,3)),u&&(B.setAttribute("color",new ae(r,3)),B.hasColors=!0,B.alpha=y),B}function c(n){const e=new ie,a=/solid([\s\S]*?)endsolid/g,o=/facet([\s\S]*?)endfacet/g,s=/solid\s(.+)/;let l=0;const u=/[\s]+([+-]?(?:\d*)(?:\.\d*)?(?:[eE][+-]?\d+)?)/.source,r=new RegExp("vertex"+u+u+u,"g"),h=new RegExp("normal"+u+u+u,"g"),w=[],v=[],y=[],F=new H;let $,B=0,E=0,A=0;for(;($=a.exec(n))!==null;){E=A;const k=$[0],g=($=s.exec(k))!==null?$[1]:"";for(y.push(g);($=o.exec(k))!==null;){let D=0,U=0;const L=$[0];for(;($=h.exec(L))!==null;)F.x=parseFloat($[1]),F.y=parseFloat($[2]),F.z=parseFloat($[3]),U++;for(;($=r.exec(L))!==null;)w.push(parseFloat($[1]),parseFloat($[2]),parseFloat($[3])),v.push(F.x,F.y,F.z),D++,A++;U!==1&&console.error("THREE.STLLoader: Something isn't right with the normal of face number "+l),D!==3&&console.error("THREE.STLLoader: Something isn't right with the vertices of face number "+l),l++}const T=E,V=A-E;e.userData.groupNames=y,e.addGroup(T,V,B),B++}return e.setAttribute("position",new le(w,3)),e.setAttribute("normal",new le(v,3)),e}function d(n){return typeof n!="string"?new TextDecoder().decode(n):n}function p(n){if(typeof n=="string"){const e=new Uint8Array(n.length);for(let a=0;a<n.length;a++)e[a]=n.charCodeAt(a)&255;return e.buffer||e}else return n}const f=p(i);return x(f)?_(f):c(d(i))}}function Tt(){const m=new je;return m.background=new fe(16777215),m}function Ft(m){const i=new Ze({antialias:!0});return i.setPixelRatio(window.devicePixelRatio),i.shadowMap.enabled=!0,i.shadowMap.type=Ke,m.appendChild(i.domElement),i}function Ct(m){const i=new he(new Xe(200,200),new ve({color:13355979,specular:4671303}));i.rotation.x=-Math.PI/2,i.position.y=-20,i.receiveShadow=!0}function Bt(m){m.add(new Je(9272444,4802918,3)),Lt(m,0,500,0,16777215,2)}function Lt(m,i,x,b,_,c){const d=new et(_,c);d.position.set(i,x,b),d.castShadow=!0;const p=1e3;d.shadow.camera.left=-1e3,d.shadow.camera.right=p,d.shadow.camera.top=p,d.shadow.camera.bottom=-1e3,d.shadow.camera.near=1,d.shadow.camera.far=2e3,d.shadow.mapSize.width=4096,d.shadow.mapSize.height=4096,d.shadow.radius=1,d.shadow.bias=-5e-4,m.add(d)}function Pt(m,i="/Widerlager_klein.stl",x,b,_,c=0){new yt().load(i,p=>{p.computeBoundingBox(),p.computeVertexNormals();const f=p.boundingBox,n=new H;f.getSize(n);const e=new ve({color:Qe,specular:1118481,shininess:30}),a=new he(p,e);p.computeBoundingBox();const o=new H,s=new H;p.boundingBox.getCenter(o),p.boundingBox.getSize(s),p.translate(-o.x,-o.y,-o.z),a.scale.setScalar(1),a.position.set(0,c,0),a.rotation.x=-Math.PI/2,a.castShadow=!0,a.receiveShadow=!0,m.add(a),console.log("STL model loaded successfully"),x&&x(a)},p=>{console.log("Loading progress:",p.loaded/p.total*100+"%")},p=>{console.error("Error loading STL file:",p)})}function Et(m){m.setAnimationLoop(null)}let ue=[];function pe(m){ue.forEach(i=>{m.remove(i),i.geometry.dispose(),i.material instanceof tt&&i.material.dispose()}),ue=[]}var Rt=M('<div id="container" class="svelte-66rdh0"></div>');function Jt(m,i){Y(i,!1);let x=de(i,"parameters",8,void 0),b=de(i,"autoRotate",8,!1);const _=[.3,.6,0],c=[_[0]-.4,_[1]+.01,_[2]-.95],d=new H(3.033053660420776,2.3737696385820284,-.9540866817375618),p=-.15;let f=Le(),n,e,a,o,s,l,u,r,h,w,v,y,F;function $(){return pt(gt)}function B(g){return g.isRound?g.diameter>350?`${K}/Widerlager_groß.stl`:`${K}/Widerlager_klein.stl`:g.breiteElastomer>300?`${K}/Widerlager_groß.stl`:`${K}/Widerlager_klein.stl`}function E(g){const T=B(g);if(T===h){console.log("STL model unchanged, skipping reload");return}console.log(`Switching STL model from ${h||"none"} to ${T}`),r&&(n.remove(r),r.geometry.dispose(),Array.isArray(r.material)?r.material.forEach(D=>D.dispose()):r.material.dispose(),r=void 0),h=T;const V=T.includes("klein")?p:0;Pt(n,T,D=>{r=D,console.log(`STL model loaded: ${T} with y-offset: ${V}`)},void 0,void 0,V)}function A(g){if(!s||!l){console.warn("CreateElastomer or elastomerGroup not initialized");return}l.clear(),console.log("tt_e in updateElastomer:",g.selectedHeight),s.updateElastomer(g,_).forEach(V=>{l.add(V)}),pe(n),E(g),console.log("Elastomer updated with new parameters:",g)}Be(async()=>{n=Tt(),a=Ft(t(f)),Ct(),Bt(n),at(n,new H(c[0],c[1],c[2])),e=rt(35),e.position.copy(d),o=nt(e,a,_),o.addEventListener("change",()=>{}),w=ot(a,e,o),v=st(t(f),o,b()),y=it(t(f)),s=new ct(n,e),l=new lt,n.add(l);const g=x()||$(),T=s.createElastomer(g,_);T.forEach(R=>{l.add(R)}),console.log(T[0]),E(g);const D=1e3/30;let U=0;const L=R=>{F=requestAnimationFrame(L);const P=R-U;P<D||(U=R-P%D,dt(R,e,o),ut(o),a.render(n,e))};if(L(0),ce(A),await Pe(),t(f)&&t(f)instanceof Element){let R=!1;u=new ResizeObserver(()=>{t(f)&&a&&e&&!R&&(R=!0,requestAnimationFrame(()=>{if(t(f)&&a&&e){const P=t(f).clientWidth,oe=t(f).clientHeight;a.setSize(P,oe),e.aspect=P/oe,e.updateProjectionMatrix()}R=!1}))}),u.observe(t(f))}}),Ee(()=>{F!==void 0&&cancelAnimationFrame(F),a&&Et(a),w==null||w(),v==null||v(),y==null||y(),pe(n),r&&(n.remove(r),r.geometry.dispose(),Array.isArray(r.material)?r.material.forEach(g=>g.dispose()):r.material.dispose(),r=void 0),a==null||a.dispose(),ce(()=>{}),u==null||u.disconnect()}),me();var k=Rt();return mt(k,g=>Re(f,g),()=>t(f)),I(m,k),Ae(i,"updateElastomer",A),j({updateElastomer:A})}export{jt as B,Yt as F,Jt as T,Zt as a,Kt as b,Xt as c,qt as k};
