import{t as re,h as ve,aK as we,aL as $e,aM as Se,x as _e,y as xe,p as be,d as ye,U as Te,q as W,v as H,a5 as q,af as j,a7 as N,a6 as G,a4 as ne,O as r,ag as x,ab as Fe,ac as Ce,a0 as Le,ae as Ee,aN as Ae,T as Be}from"./BKKamjXU.js";import{f as O,a as P,c as pe}from"./7uABVGkd.js";import"./CJYkZmJn.js";import{s as se}from"./D8Nbo3Mc.js";import{e as ee,i as te,S as Z,a as U,c as Pe}from"./DAIKkAdH.js";import{e as Re,s as K,b as X}from"./BQQo2vOL.js";import{i as me}from"./CgXxt2k1.js";import{g as Ie}from"./BFXdbHDy.js";import{C as ke,G as De,R as Oe,a as J}from"./CSRLGv5m.js";import{p as k,r as Me,g as ze,a as Ge,b as Ne,T as Ve,I as Ue,L as We,F as He,B as oe,C as he,S as qe,c as Q,V,d as le,e as je,W as Ye,f as Ze,M as fe,P as Ke,h as ge,H as Xe,i as Je,D as Qe,j as et,k as tt,l as at,m as rt,s as nt,n as st,o as ot,G as lt,q as it,t as ct,u as dt,v as ut,w as pt,x as ie}from"./Dkui9F0T.js";import{b as mt}from"./DxNVJtZB.js";import{p as ce}from"./BUnJTkC2.js";import{b as Y}from"./BlXU5Lwa.js";function Ht(f,n,w){re&&ve();var $=f,g=Te,l,i=we()?$e:Se;_e(()=>{i(g,g=n())&&(l&&xe(l),l=be(()=>w($)))}),re&&($=ye)}var ht=O('<button class="footer__link svelte-7honmp" style="color: #000000;"> </button>'),ft=O('<nav class="footer__nav svelte-7honmp"></nav>'),gt=O('<p class="footer__copyright svelte-7honmp"> </p>'),vt=O("<!> <!> <!>",1),wt=O('<footer class="footer svelte-7honmp"><!></footer>');function qt(f,n){W(n,!1);const w=new Date().getFullYear(),$=[{href:"/impressum",label:"Impressum"},{href:"/privacy",label:"Privacy"}];function g(u){Ie(u)}me();var l=wt(),i=q(l);ke(i,{children:(u,m)=>{De(u,{noGutter:!0,padding:!0,children:(e,t)=>{Oe(e,{children:(a,s)=>{var o=vt(),d=j(o);J(d,{sm:16,md:16,lg:4});var c=N(d,2);J(c,{sm:16,md:16,lg:8,children:(C,b)=>{var S=ft();ee(S,5,()=>$,te,(L,y)=>{var v=ht(),E=q(v,!0);G(v),ne(()=>se(E,r(y).label)),Re("click",v,()=>g(r(y).href)),P(L,v)}),G(S),P(C,S)},$$slots:{default:!0}});var p=N(c,2);J(p,{sm:16,md:16,lg:4,children:(C,b)=>{var S=gt(),L=q(S);G(S),ne(()=>se(L,`© ${w??""} statiqs`)),P(C,S)},$$slots:{default:!0}}),P(a,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),G(l),P(f,l),H()}var $t=O("<!> <!>",1);function jt(f,n){W(n,!0);const[w,$]=K();let l=x(()=>X(k,"$parameterStore",w));function i(m){var a;const t=(m.detail||((a=m.target)==null?void 0:a.value))==="rund";k.updateField("isRound",t)}const u=x(()=>r(l).isRound?"rund":"rechteckig");Z(f,{labelText:"Form des Lagers",get selected(){return r(u)},light:!0,$$events:{change:i},children:(m,e)=>{var t=$t(),a=j(t);U(a,{value:"rechteckig",text:"rechteckig"});var s=N(a,2);U(s,{value:"rund",text:"rund"}),P(m,t)},$$slots:{default:!0}}),H(),$()}function Yt(f,n){W(n,!0);const[w,$]=K();let l=x(()=>X(k,"$parameterStore",w)),i=x(ze),u=x(()=>Me.map(o=>o.diameter)),m=x(()=>r(l).isRound?r(u).findIndex(o=>o===r(l).d):r(i).findIndex(o=>o.length===r(l).a&&o.width===r(l).b)),e=x(()=>r(l).isRound?r(u).map((o,d)=>({value:d,label:`${o} mm`})):r(i).map((o,d)=>({value:d,label:`${o.length} mm x ${o.width} mm`})));function t(o){var c;const d=parseInt(((c=o.target)==null?void 0:c.value)||o.detail);if(r(l).isRound){const p=r(u)[d];p&&k.updateField("d",p)}else{const p=r(i)[d];p&&(k.updateField("a",p.length),k.updateField("b",p.width))}}const a=x(()=>r(l).isRound?"Abmessungen (Durchmesser)":"Abmessungen (Länge x Breite)"),s=x(()=>r(m).toString());Z(f,{get labelText(){return r(a)},get selected(){return r(s)},light:!0,$$events:{change:t},children:(o,d)=>{var c=pe(),p=j(c);ee(p,17,()=>r(e),te,(C,b)=>{const S=x(()=>r(b).value.toString());U(C,{get value(){return r(S)},get text(){return r(b).label}})}),P(o,c)},$$slots:{default:!0}}),H(),$()}function Zt(f,n){W(n,!0);const[w,$]=K();let l=x(()=>X(k,"$parameterStore",w)),i=x(()=>r(l).isRound?Ge(r(l).d).map(e=>({value:`${e.n}-${e.t_1}`,label:`Schichtanzahl ${e.n}, Schichthöhe ${e.t_1}mm`,n:e.n,t_1:e.t_1})):Ne(r(l).a,r(l).b).map(e=>({value:`${e.n}-${e.t_1}`,label:`Schichtanzahl ${e.n}, Schichthöhe ${e.t_1}mm`,n:e.n,t_1:e.t_1})));Fe(()=>{const e=`${r(l).n}-${r(l).t_1}`;if(!r(i).some(a=>a.value===e)&&r(i).length>0){const a=r(i)[0];k.update(s=>({...s,n:a.n,t_1:a.t_1}))}});function u(e){var c;const t=((c=e.target)==null?void 0:c.value)||e.detail,[a,s]=t.split("-"),o=parseInt(a),d=parseFloat(s);k.update(p=>({...p,n:o,t_1:d}))}const m=x(()=>`${r(l).n}-${r(l).t_1}`);Z(f,{labelText:"Elastomerschichten",get selected(){return r(m)},light:!0,$$events:{change:u},children:(e,t)=>{var a=pe(),s=j(a);ee(s,17,()=>r(i),te,(o,d)=>{const c=x(()=>r(d).value.toString());U(o,{get value(){return r(c)},get text(){return r(d).label}})}),P(e,a)},$$slots:{default:!0}}),H(),$()}var St=O('<span slot="tooltipText">Typ B: Bewehrtes Elastomerlager ohne Rutschsicherung.<br/> <br/> Typ C: Bewehrtes Elastomerlager mit einseitiger (Typ B/C) oder zweiseitiger Rutschsicherung. <br/> <br/> Typ C ist zu wählen, wenn eine Mindestpressung von 3 N/mm² nicht in allen Lastzuständen gewährleistet werden kann.<br/> <br/> Bei Brückenlagern im Geltungsbereich der DB-Richtlinien darf Typ B nur gewählt werden, wenn am jeweiligen Auflagerpunkt die Horizontallasten in beide Richtungen durch Festhaltekonstruktionen aufgenommen werden.</span>'),_t=O("<!> <!>",1),xt=O('<div class="select-with-tooltip svelte-17kum7t"><div class="label-container svelte-17kum7t"><span class="label-text svelte-17kum7t">Lagertyp</span> <!></div> <div style="margin-top: calc(-1 * var(--cds-spacing-03));"></div> <!></div>');function Kt(f,n){W(n,!0);const[w,$]=K();let l=x(()=>X(k,"$parameterStore",w));function i(s){var c;const d=(s.detail||((c=s.target)==null?void 0:c.value))==="Typ C"?"C":"B";k.updateField("l_typ",d)}var u=xt(),m=q(u),e=N(q(m),2);Ve(e,{get icon(){return Ue},$$slots:{tooltipText:(s,o)=>{var d=St();P(s,d)}}}),G(m);var t=N(m,4);const a=x(()=>r(l).l_typ==="C"?"Typ C":"Typ B");Z(t,{labelText:"",get selected(){return r(a)},light:!0,$$events:{change:i},children:(s,o)=>{var d=_t(),c=j(d);U(c,{value:"Typ B",text:"Typ B (unveranktert)"});var p=N(c,2);U(p,{value:"Typ C",text:"Typ C (verankert)"}),P(s,d)},$$slots:{default:!0}}),G(u),P(f,u),H(),$()}class bt extends We{constructor(n){super(n)}load(n,w,$,g){const l=this,i=new He(this.manager);i.setPath(this.path),i.setResponseType("arraybuffer"),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(n,function(u){try{w(l.parse(u))}catch(m){g?g(m):console.error(m),l.manager.itemError(n)}},$,g)}parse(n){function w(e){const t=new DataView(e),a=32/8*3+32/8*3*3+16/8,s=t.getUint32(80,!0);if(80+32/8+s*a===t.byteLength)return!0;const d=[115,111,108,105,100];for(let c=0;c<5;c++)if($(d,t,c))return!1;return!0}function $(e,t,a){for(let s=0,o=e.length;s<o;s++)if(e[s]!==t.getUint8(a+s))return!1;return!0}function g(e){const t=new DataView(e),a=t.getUint32(80,!0);let s,o,d,c=!1,p,C,b,S,L;for(let h=0;h<70;h++)t.getUint32(h,!1)==1129270351&&t.getUint8(h+4)==82&&t.getUint8(h+5)==61&&(c=!0,p=new Float32Array(a*3*3),C=t.getUint8(h+6)/255,b=t.getUint8(h+7)/255,S=t.getUint8(h+8)/255,L=t.getUint8(h+9)/255);const y=84,v=12*4+2,E=new oe,R=new Float32Array(a*3*3),B=new Float32Array(a*3*3),D=new he;for(let h=0;h<a;h++){const _=y+h*v,M=t.getFloat32(_,!0),I=t.getFloat32(_+4,!0),z=t.getFloat32(_+8,!0);if(c){const T=t.getUint16(_+48,!0);(T&32768)===0?(s=(T&31)/31,o=(T>>5&31)/31,d=(T>>10&31)/31):(s=C,o=b,d=S)}for(let T=1;T<=3;T++){const A=_+T*12,F=h*3*3+(T-1)*3;R[F]=t.getFloat32(A,!0),R[F+1]=t.getFloat32(A+4,!0),R[F+2]=t.getFloat32(A+8,!0),B[F]=M,B[F+1]=I,B[F+2]=z,c&&(D.setRGB(s,o,d,qe),p[F]=D.r,p[F+1]=D.g,p[F+2]=D.b)}}return E.setAttribute("position",new Q(R,3)),E.setAttribute("normal",new Q(B,3)),c&&(E.setAttribute("color",new Q(p,3)),E.hasColors=!0,E.alpha=L),E}function l(e){const t=new oe,a=/solid([\s\S]*?)endsolid/g,s=/facet([\s\S]*?)endfacet/g,o=/solid\s(.+)/;let d=0;const c=/[\s]+([+-]?(?:\d*)(?:\.\d*)?(?:[eE][+-]?\d+)?)/.source,p=new RegExp("vertex"+c+c+c,"g"),C=new RegExp("normal"+c+c+c,"g"),b=[],S=[],L=[],y=new V;let v,E=0,R=0,B=0;for(;(v=a.exec(e))!==null;){R=B;const D=v[0],h=(v=o.exec(D))!==null?v[1]:"";for(L.push(h);(v=s.exec(D))!==null;){let I=0,z=0;const T=v[0];for(;(v=C.exec(T))!==null;)y.x=parseFloat(v[1]),y.y=parseFloat(v[2]),y.z=parseFloat(v[3]),z++;for(;(v=p.exec(T))!==null;)b.push(parseFloat(v[1]),parseFloat(v[2]),parseFloat(v[3])),S.push(y.x,y.y,y.z),I++,B++;z!==1&&console.error("THREE.STLLoader: Something isn't right with the normal of face number "+d),I!==3&&console.error("THREE.STLLoader: Something isn't right with the vertices of face number "+d),d++}const _=R,M=B-R;t.userData.groupNames=L,t.addGroup(_,M,E),E++}return t.setAttribute("position",new le(b,3)),t.setAttribute("normal",new le(S,3)),t}function i(e){return typeof e!="string"?new TextDecoder().decode(e):e}function u(e){if(typeof e=="string"){const t=new Uint8Array(e.length);for(let a=0;a<e.length;a++)t[a]=e.charCodeAt(a)&255;return t.buffer||t}else return e}const m=u(n);return w(m)?g(m):l(i(n))}}function yt(){const f=new je;return f.background=new he(16777215),f}function Tt(f){const n=new Ye({antialias:!0});return n.setPixelRatio(window.devicePixelRatio),n.shadowMap.enabled=!0,n.shadowMap.type=Ze,f.appendChild(n.domElement),n}function Ft(f){const n=new fe(new Ke(200,200),new ge({color:13355979,specular:4671303}));n.rotation.x=-Math.PI/2,n.position.y=-20,n.receiveShadow=!0}function Ct(f){f.add(new Xe(9272444,4802918,3)),Lt(f,0,500,0,16777215,2)}function Lt(f,n,w,$,g,l){const i=new Qe(g,l);i.position.set(n,w,$),i.castShadow=!0;const u=1e3;i.shadow.camera.left=-1e3,i.shadow.camera.right=u,i.shadow.camera.top=u,i.shadow.camera.bottom=-1e3,i.shadow.camera.near=1,i.shadow.camera.far=2e3,i.shadow.mapSize.width=4096,i.shadow.mapSize.height=4096,i.shadow.radius=1,i.shadow.bias=-5e-4,f.add(i)}function Et(f,n="/Widerlager_klein.stl",w,$,g,l=0){new bt().load(n,u=>{u.computeBoundingBox(),u.computeVertexNormals();const m=u.boundingBox,e=new V;m.getSize(e);const t=new ge({color:Je,specular:1118481,shininess:30}),a=new fe(u,t);u.computeBoundingBox();const s=new V,o=new V;u.boundingBox.getCenter(s),u.boundingBox.getSize(o),u.translate(-s.x,-s.y,-s.z),a.scale.setScalar(1),a.position.set(0,l,0),a.rotation.x=-Math.PI/2,a.castShadow=!0,a.receiveShadow=!0,f.add(a),console.log("STL model loaded successfully"),w&&w(a)},u=>{console.log("Loading progress:",u.loaded/u.total*100+"%")},u=>{console.error("Error loading STL file:",u)})}function At(f){f.setAnimationLoop(null)}let de=[];function ue(f){de.forEach(n=>{f.remove(n),n.geometry.dispose(),n.material instanceof et&&n.material.dispose()}),de=[]}var Bt=O('<div id="container" class="svelte-66rdh0"></div>');function Xt(f,n){W(n,!1);let w=ce(n,"parameters",8,void 0),$=ce(n,"autoRotate",8,!1);const g=[.3,.6,0],l=[g[0]-.4,g[1]+.01,g[2]-.95],i=new V(3.033053660420776,2.3737696385820284,-.9540866817375618),u=-.15;let m=Le(),e,t,a,s,o,d,c,p,C,b,S,L,y;function v(){return ut(pt)}function E(h){return h.isRound?h.diameter>350?`${Y}/Widerlager_groß.stl`:`${Y}/Widerlager_klein.stl`:h.breiteElastomer>300?`${Y}/Widerlager_groß.stl`:`${Y}/Widerlager_klein.stl`}function R(h){const _=E(h);if(_===C){console.log("STL model unchanged, skipping reload");return}console.log(`Switching STL model from ${C||"none"} to ${_}`),p&&(e.remove(p),p.geometry.dispose(),Array.isArray(p.material)?p.material.forEach(I=>I.dispose()):p.material.dispose(),p=void 0),C=_;const M=_.includes("klein")?u:0;Et(e,_,I=>{p=I,console.log(`STL model loaded: ${_} with y-offset: ${M}`)},void 0,void 0,M)}function B(h){if(!o||!d){console.warn("CreateElastomer or elastomerGroup not initialized");return}d.clear(),console.log("tt_e in updateElastomer:",h.selectedHeight),o.updateElastomer(h,g).forEach(M=>{d.add(M)}),ue(e),R(h),console.log("Elastomer updated with new parameters:",h)}Ce(async()=>{e=yt(),a=Tt(r(m)),Ft(),Ct(e),tt(e,new V(l[0],l[1],l[2])),t=at(35),t.position.copy(i),s=rt(t,a,g),s.addEventListener("change",()=>{}),b=nt(a,t,s),S=st(r(m),s,$()),L=ot(r(m)),o=new it(e,t),d=new lt,e.add(d);const h=w()||v(),_=o.createElastomer(h,g);_.forEach(A=>{d.add(A)}),console.log(_[0]),R(h);const I=1e3/30;let z=0;const T=A=>{y=requestAnimationFrame(T);const F=A-z;F<I||(z=A-F%I,ct(A,t,s),dt(s),a.render(e,t))};if(T(0),ie(B),await Ee(),r(m)&&r(m)instanceof Element){let A=!1;c=new ResizeObserver(()=>{r(m)&&a&&t&&!A&&(A=!0,requestAnimationFrame(()=>{if(r(m)&&a&&t){const F=r(m).clientWidth,ae=r(m).clientHeight;a.setSize(F,ae),t.aspect=F/ae,t.updateProjectionMatrix()}A=!1}))}),c.observe(r(m))}}),Ae(()=>{y!==void 0&&cancelAnimationFrame(y),a&&At(a),b==null||b(),S==null||S(),L==null||L(),ue(e),p&&(e.remove(p),p.geometry.dispose(),Array.isArray(p.material)?p.material.forEach(h=>h.dispose()):p.material.dispose(),p=void 0),a==null||a.dispose(),ie(()=>{}),c==null||c.disconnect()}),me();var D=Bt();return mt(D,h=>Be(m,h),()=>r(m)),P(f,D),Pe(n,"updateElastomer",B),H({updateElastomer:B})}export{jt as B,qt as F,Xt as T,Yt as a,Zt as b,Kt as c,Ht as k};
