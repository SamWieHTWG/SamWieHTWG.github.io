import{a1 as tt,l as Ze,o as ft,aM as Bt,aN as $t,v as ut,aO as Ft,aP as kt,aQ as Xt,aR as dt,D as Yt,aS as Ht,aT as xe,aI as Vt,aU as Ut,y as Zt,x as Wt,an as nt,g as Ie,a0 as le,aj as we,c as M,m as B,al as Ne,f as Ge,ad as Le,n as at,ag as rt,M as Ee,a3 as Rt,a as J,k as De,e as x,a2 as fe,ak as qt,ae as Kt,aa as Jt,ac as Qt,aL as jt,j as mt,r as _t}from"./BuFjotJ2.js";import"./CWj6FrbW.js";import"./BfN-51NE.js";import{i as ue}from"./DtdqbP8z.js";import{p as N,i as en}from"./FKijCkN9.js";import{a as Pe,s as Ce}from"./CmFMdTEw.js";import{t as H,B as tn}from"./BBMxEXct.js";import{G as st,i as Oe,j as nn,B as V,c as ht,M as P,A as an,E as rn,J as zt,V as E,K as It,N as U,C as Nt,O as We,Q as qe,R as Ke,k as te,U as sn,X as on,Y as cn,Z as ln,_ as Gt,$ as ot,a0 as it,e as fn,f as un,W as dn,h as mn,P as _n,H as hn,D as gn,a1 as pn,a2 as wn,a3 as En,a4 as vn,l as xn,m as Sn,u as yn,y as bn}from"./CrbbHfP_.js";import{b as Mn}from"./Dqv9K21Y.js";function An(t,e,n=!1,a=!1,r=!1){var o=t,i="";tt(()=>{var f=Bt;if(i===(i=e()??"")){Ze&&ft();return}if(f.nodes_start!==null&&($t(f.nodes_start,f.nodes_end),f.nodes_start=f.nodes_end=null),i!==""){if(Ze){ut.data;for(var s=ft(),c=s;s!==null&&(s.nodeType!==8||s.data!=="");)c=s,s=Ft(s);if(s===null)throw kt(),Xt;dt(ut,c),o=Yt(s);return}var l=i+"";n?l=`<svg>${l}</svg>`:a&&(l=`<math>${l}</math>`);var u=Ht(l);if((n||a)&&(u=xe(u)),dt(xe(u),u.lastChild),n||a)for(;xe(u);)o.before(xe(u));else o.before(u)}})}function ga(t,e,n=e){var a=Vt();Ut(t,"input",r=>{var o=r?t.defaultValue:t.value;if(o=$e(t)?Fe(o):o,n(o),a&&o!==(o=e())){var i=t.selectionStart,f=t.selectionEnd;t.value=o??"",f!==null&&(t.selectionStart=i,t.selectionEnd=Math.min(f,t.value.length))}}),(Ze&&t.defaultValue!==t.value||Zt(e)==null&&t.value)&&n($e(t)?Fe(t.value):t.value),Wt(()=>{var r=e();$e(t)&&r===Fe(t.value)||t.type==="date"&&!r&&!t.value||r!==t.value&&(t.value=r??"")})}function $e(t){var e=t.type;return e==="number"||e==="range"}function Fe(t){return t===""?null:+t}const q={s_65:{check:!0,manufacturer:"Standard",thicknesses:t=>[10,15,20,25,30].filter(e=>e===10||t>=70),sigma_rd_rule:t=>t<=6.25?4.03*t**1.16:33.9,rot_b_rule:(t,e)=>Math.min(450*t/e,40),rot_res_rule:40,"Nachweis erfolgreich t":[]},s_70:{check:!0,manufacturer:"Standard",thicknesses:t=>[10,15,20].filter(e=>e===10||t>=70),sigma_rd_rule:t=>t<=5?6.99*t:34.95,rot_b_rule:(t,e)=>Math.min(450*t/e,40),rot_res_rule:40,"Nachweis erfolgreich t":[]},esz_100:{check:!0,manufacturer:"Standard",thicknesses:t=>[10,15,20,25,30].filter(e=>e===10||t>=70),sigma_rd_rule:t=>t<2.33?5.3805*t-.6536:t>=2.33&&t<=2.5?10.635*t-12.89:t>2.5&&t<=5?8.4004*t-7.3293:34.7,rot_b_rule:(t,e)=>Math.min(450*t/e,48),rot_res_rule:48,"Nachweis erfolgreich t":[]},conti_60:{check:!0,manufacturer:"ContiTech",thicknesses:[10,20,30],sigma_rd_rule:t=>t<=5?.315*t**2+4.035*t:28.05,rot_b_rule:(t,e)=>Math.min(450*t/e,40),rot_res_rule:40,"Nachweis erfolgreich t":[]},leschu_n15:{check:!0,manufacturer:"Leschu",thicknesses:[10,15,20],sigma_rd_rule:t=>t<1.88?3.29*t+1.46:t>=1.88&&t<2.5?2.58*t+2.79:t>=2.5&&t<3.5?3.34*t+.88:t>=3.5&&t<3.75?12.21*t-30.17:t>=3.75&&t<5?3.15*t+3.81:t>=5&&t<=10?1.66*t+11.29:t>10?27.89:0,rot_b_rule:(t,e)=>Math.min(450*t/e,40),rot_res_rule:40,"Nachweis erfolgreich t":[]},matteco_elr08:{check:!0,manufacturer:"Matteco",thicknesses:t=>[10,15,20].filter(e=>e===10||t>=70),sigma_rd_rule:t=>t<=4.17?.422*Math.E**(.698*t):7.75,rot_b_rule:(t,e)=>Math.min(200*t/e,16),rot_res_rule:16,"Nachweis erfolgreich t":[]},matteco_elr18:{check:!0,manufacturer:"Matteco",thicknesses:t=>[10].filter(e=>e===10||t>=70),sigma_rd_rule:t=>t<=4.5?1.28*t**1.25:8.4,rot_b_rule:(t,e)=>Math.min(200*t/e,20),rot_res_rule:20,"Nachweis erfolgreich t":[]}};function Tn(t){const{is_ortbeton:e,a:n,b:a,is_dorn:r,is_wirksamgeschlossen:o,d_b:i,n_b:f,ff_zd:s,v_x:c,alpha_y:l,alpha_a:u,c_nom:d,is_streifen:h}=t,m=JSON.parse(JSON.stringify(q)),w={rules:[(p,I)=>p>=70||I>=100&&p>=50,(p,I)=>I>=70]},g={rules:[(p,I)=>p>=70,(p,I)=>I>=70]};w.rules.every(p=>p(n,a))||(m.s_65.check=!1,m.s_70.check=!1,m.esz_100.check=!1,m.leschu_n15.check=!1,m.matteco_elr08.check=!1,m.matteco_elr18.check=!1),g.rules.every(p=>p(n,a))||(m.conti_60.check=!1);const _=n*a;let v;r===0?v=_:v=Math.round(_-f*Math.PI*(i/2)**2);const y=Math.round(1e3*s/v*10)/10,b=10;let L=Math.round(.625/n*1e3*10)/10;e===0&&(L=L*.5);const S=L+b,A=l+S,F=n+(d+10)+25;let C;h===0&&(C=a+2*(d+10));const k=[];for(const[p,I]of Object.entries(m))if(I.check){const Q=typeof q[p].thicknesses=="function"?q[p].thicknesses(n):q[p].thicknesses;for(const R of Q){let G;!r||o?G=Math.round(_/(2*R*(n+a))*1e3)/1e3:G=Math.round((_-.25*Math.PI*f*R**2)/(2*R*(n+a)+R*Math.PI*f*i)*1e3)/1e3;const de=q[p].sigma_rd_rule(G),W=q[p].rot_b_rule(R,n),ae=q[p].rot_res_rule,me=.6*(R-2),O=y/de,X=c/me,z=A/W,ve=Math.round(1.5*y*a*R/1e3*10)/10,Be=Math.round(1.5*y*n*R/1e3*10)/10,Ot=O<=1&&X<=1&&z<=1;k.push({lagerType:p,manufacturer:q[p].manufacturer,thickness:R,s:G,sigma_rd:de,alpha_y_max:W,alpha_y_ges:A,alpha_res_max:ae,v_x_max:me,sigma_nachw:O,v_x_nachw:X,rot_b_nachw:z,querzug_x:ve,querzug_y:Be,passed:Ot,l_xmin:F,l_ymin:C})}}return k}const Ln=nt([]),Rn=nt(null),_e=0,ne=-.8,he=-.8,gt=(ne+he)/2,Se=.2,ye=ne,be=2,Me=.25,Dt=.08,zn=[[ne,1,-0],[he,1,-0],[he,1,_e],[ne,1,_e],[gt,.3,_e],[ne,.3,_e],[he,.6,_e],[he,.6,-0],[gt,.3,-0],[ne,.3,-0],[ye,0,Me],[ye,be,Me],[ye,be,-.25],[ye,0,-.25],[Se,be,-.25],[Se,0,-.25],[Se,be,Me],[Se,0,Me]],In=[13,15,17,13,17,10,12,16,14,12,11,16,13,10,11,13,11,12,15,14,16,11,16,17,13,12,14,13,14,15,10,17,16,10,16,11],Nn=[0,1,2,0,2,3,1,7,6,1,6,2,0,3,5,0,5,9,0,9,8,0,8,7,0,7,1,3,2,6,3,6,4,3,4,5,9,5,4,9,4,8,8,4,6,8,6,7];function ct(t,e,n=0,a=25){const r=zn.map(s=>[s[0],s[1],s[2]]),o=a/1e3+.01,i=t/1e3;let f=e/2/1e3;return n||(f+=o),[1,2,6,7].forEach(s=>{r[s][0]-=i+Dt+o}),[4,8].forEach(s=>{r[s][0]-=-.1}),[0,1,7,8,9].forEach(s=>{r[s][2]-=f}),[2,3,4,5,6].forEach(s=>{r[s][2]+=f}),n?([12,13,14,15].forEach(s=>{r[s][2]=-e/2/1e3}),[10,11,16,17].forEach(s=>{r[s][2]=e/2/1e3})):([12,13,14,15].forEach(s=>{r[s][2]-=f}),[10,11,16,17].forEach(s=>{r[s][2]+=f})),r}function Gn(t){const e=document.createElement("canvas");e.width=64,e.height=64;const n=e.getContext("2d");n.fillStyle="red",n.beginPath(),n.arc(32,32,28,0,Math.PI*2),n.fill(),n.fillStyle="white",n.font="bold 36px Arial",n.textAlign="center",n.textBaseline="middle",n.fillText(t,32,32);const a=new an(e),r=new rn({map:a}),o=new zt(r);return o.scale.set(.08,.08,1),o}function pt(t,e,n=!1){const a=new st,r=e.a,o=e.b,i=e.is_streifen,f=e.c_nom,s=new Oe({color:nn,shininess:100,flatShading:!0,transparent:!1}),c=ct(r,o,i,f),l=new Float32Array(c.flat()),u=new V;u.setAttribute("position",new ht(l,3)),u.setIndex(In),u.computeVertexNormals();const d=new P(u,s);d.castShadow=!0,d.receiveShadow=!0,a.add(d);const h=new V;h.setAttribute("position",new ht(l,3)),h.setIndex(Nn),h.computeVertexNormals();const m=new P(h,s);return m.castShadow=!0,m.receiveShadow=!0,a.add(m),n&&c.forEach((w,g)=>{const _=Gn(g.toString());_.position.set(w[0],w[1],w[2]),a.add(_)}),t.add(a),a}function ce(){const t=Ie($),e=ct(t.a,t.b,t.is_streifen,t.c_nom),n=[e[0],e[1],e[2],e[3]];return{centerX:-t.a/2/1e3-Dt+ne,centerY:n[0][1],centerZ:(n[0][2]+n[1][2]+n[2][2]+n[3][2])/4}}function wt(t,e){e&&(e.traverse(n=>{n instanceof P&&(n.geometry.dispose(),Array.isArray(n.material)?n.material.forEach(a=>a.dispose()):n.material.dispose())}),t.remove(e))}let Z=[],Y=[];function Dn(){return[...Z,...Y]}let Re=null,lt=0,ke=null,re=null;const Ae=11765,Je=.012,Qe=2e-4;async function Pt(){return ke||re||(re=new Promise((t,e)=>{new sn().load("https://threejs.org/examples/fonts/helvetiker_bold.typeface.json",a=>{ke=a,re=null,t(a)},void 0,a=>{re=null,e(a)})}),re)}async function Xe(t,e,n,a,r,o=0,i=0,f=!1){try{const s=await Pt(),c=new qe(r,{font:s,size:Je,depth:Qe,curveSegments:12,bevelEnabled:!0,bevelThickness:3e-4,bevelSize:2e-4,bevelOffset:0,bevelSegments:3});c.computeBoundingBox();const l=c.boundingBox;if(l){const v=-(l.max.x-l.min.x)/2,y=-(l.max.y-l.min.y)/2;c.translate(v,y,0)}const u=new Ke({color:16711680,metalness:.3,roughness:.4}),d=new P(c,u),h=new E(n[0]-e[0],0,n[2]-e[2]).normalize(),m=new E(-h.z,0,h.x),w=(e[0]+n[0])/2+o+m.x*a,g=(e[2]+n[2])/2+i+m.z*a;d.position.set(w,e[1]+.001,g),d.rotation.x=-Math.PI/2;const _=Math.atan2(h.z,h.x)+Math.PI;d.rotation.z=_,f&&(Re=d,lt=_),t.add(d),Z.push(d)}catch(s){console.error("Failed to load font for 3D text:",s)}}function je(t){if(Re){const e=t?Math.PI:0;Re.rotation.z=lt+e}}function Ye(t,e,n,a,r,o=.05){const i=new E(-a.z,0,a.x).normalize(),f=new V().setFromPoints([new E(e.x-i.x*o/2,e.y,e.z-i.z*o/2),new E(e.x+i.x*o/2,e.y,e.z+i.z*o/2)]),s=new U(f,r);t.add(s),Z.push(s);const c=new V().setFromPoints([new E(n.x-i.x*o/2,n.y,n.z-i.z*o/2),new E(n.x+i.x*o/2,n.y,n.z+i.z*o/2)]),l=new U(c,r);t.add(l),Z.push(l)}function et(t){Z.forEach(e=>{t.remove(e),e instanceof P&&(e.geometry&&e.geometry.dispose(),e.material instanceof te&&e.material.dispose()),e instanceof U&&(e.geometry&&e.geometry.dispose(),e.material instanceof te&&e.material.dispose()),e instanceof zt&&e.material instanceof te&&e.material.dispose()}),Z=[],Re=null,lt=0}function Et(t){Y.forEach(e=>{t.remove(e),e instanceof P&&(e.geometry&&e.geometry.dispose(),e.material instanceof te&&e.material.dispose()),e instanceof U&&(e.geometry&&e.geometry.dispose(),e.material instanceof te&&e.material.dispose()),e instanceof We&&(e.line&&e.line.geometry&&e.line.geometry.dispose(),e.line&&e.line.material instanceof te&&e.line.material.dispose(),e.cone&&e.cone.geometry&&e.cone.geometry.dispose(),e.cone&&e.cone.material instanceof te&&e.cone.material.dispose())}),Y=[]}async function vt(t,e=new E(0,0,0)){const r=new It({color:new Nt(Ae)}),o=Ae;e.z=e.z-.035;const i=new E(e.x-.06,e.y,e.z),f=new V().setFromPoints([e,i]),s=new U(f,r);t.add(s),Y.push(s);const c=new E(-1,0,0),l=new We(c,i,.03,o,.03*.5,.03*.3);t.add(l),Y.push(l);const u=new E(e.x,e.y,e.z-.06),d=new V().setFromPoints([e,u]),h=new U(d,r);t.add(h),Y.push(h);const m=new E(0,0,-1),w=new We(m,u,.03,o,.03*.5,.03*.3);t.add(w),Y.push(w);try{const g=await Pt(),_=new qe("x (Bauteilhauptachse)",{font:g,size:Je,depth:Qe,curveSegments:12,bevelEnabled:!0,bevelThickness:2e-4,bevelSize:1e-4,bevelOffset:0,bevelSegments:3});_.computeBoundingBox();const v=_.boundingBox;if(v){const C=-(v.max.x-v.min.x)/2,k=-(v.max.y-v.min.y)/2;_.translate(C,k,0)}const y=new Ke({color:Ae,metalness:.3,roughness:.4}),b=new P(_,y);b.position.set(e.x-.06*1-.05,e.y+.001,e.z-.02),b.rotation.x=-Math.PI/2,b.rotation.z=0,t.add(b),Y.push(b);const L=new qe("y",{font:g,size:Je,depth:Qe,curveSegments:12,bevelEnabled:!0,bevelThickness:2e-4,bevelSize:1e-4,bevelOffset:0,bevelSegments:3});L.computeBoundingBox();const S=L.boundingBox;if(S){const C=-(S.max.x-S.min.x)/2,k=-(S.max.y-S.min.y)/2;L.translate(C,k,0)}const A=new Ke({color:Ae,metalness:.3,roughness:.4}),F=new P(L,A);F.position.set(e.x-.02,e.y+.001,e.z-.06*1.1),F.rotation.x=-Math.PI/2,F.rotation.z=0,t.add(F),Y.push(F)}catch(g){console.error("Failed to create 3D text for coordinate system:",g)}}async function xt(t){et(t);const e=Ie($),n=ct(e.a,e.b,e.is_streifen,e.c_nom),a=ce(),r=new It({color:16711680});let o=e.c_nom/1e3+.01;e.is_streifen===1&&(o=0);const i=.01,f=e.b/1e3,s=e.a/1e3;if(e.is_streifen===0){const p=(n[1][0]+n[2][0])/2,I=n[1][1],Q=(n[1][2]+n[2][2])/2,R=new E(p-i-o,I,Q-f/2),G=new E(p-i-o,I,Q+f/2),de=new V().setFromPoints([R,G]),W=new U(de,r);t.add(W),Z.push(W);const ae=new E().subVectors(G,R).normalize();Ye(t,R,G,ae,r),await Xe(t,[R.x,R.y,R.z],[G.x,G.y,G.z],.02,`b = ${e.b} mm`,0,0)}const c=a.centerX,l=n[0][1],u=(n[0][2]+n[1][2])/2,d=new E(c-s/2,l,u-i-o),h=new E(c+s/2,l,u-i-o),m=new V().setFromPoints([d,h]),w=new U(m,r);t.add(w),Z.push(w);const g=new E().subVectors(h,d).normalize();Ye(t,d,h,g,r),await Xe(t,[d.x,d.y,d.z],[h.x,h.y,h.z],-.02,`a = ${e.a} mm`,0,0,!0);const _=.04,v=a.centerX-e.a/2e3,y=a.centerY,b=a.centerZ+e.b/2e3+_+o,L=e.c_nom/1e3+.01,S=new E(v,y,b),A=new E(v-L,y,b),F=new V().setFromPoints([S,A]),C=new U(F,r);t.add(C),Z.push(C);const k=new E().subVectors(A,S).normalize();Ye(t,S,A,k,r),await Xe(t,[S.x,S.y,S.z],[A.x,A.y,A.z],-.05,"cnom + 100 mm",0,0)}let ie=!0,He=0,ge=0,j=null,K=null;function Pn(t,e,n){if(!t||!e)return;const a=new E;a.subVectors(e.target,t.position),a.normalize();const o=t.position.distanceTo(e.target)*(1-n),i=a.clone().multiplyScalar(o);t.position.add(i),e.update()}const Cn=.05,Te=1.4,St=[new E(-2.1247554456236646,Te,-.9418251993957858),new E(-2.298436211128349,Te,.0593750739688058),new E(-1.8215114290760264,Te,1.1472099754138583)];function On(){const t=Ie($);return(t.a+t.b)/1500}function Bn(){const t=ze(),e=On(),n=[];for(let a=0;a<St.length;a++){const r=St[a],o=new E(t.x+r.x*e,Te,t.z+r.z*e);n.push(o)}return n}let se=[];function ze(){const t=ce();return new E(t.centerX,t.centerY,t.centerZ)}let D=null,ee=!1,oe=null,pe=0;const yt=1e3;function $n(){se=[],D=null,ee=!1,oe=null}function Fn(){const t=ze(),e=Ie($),n=Dn();if(n.length===0){const c=Math.max(e.a,e.b)/1e3*3;return new E(t.x,t.y+c,t.z)}let r=Math.max(e.a,e.b)/1e3*2;const o=20;let i=0;const f=new on(35,1,.01,1e3);for(;i<o;){f.position.set(t.x,t.y+r,t.z),f.lookAt(t),f.updateMatrixWorld(),f.updateProjectionMatrix();const s=new cn,c=new ln;c.multiplyMatrices(f.projectionMatrix,f.matrixWorldInverse),s.setFromProjectionMatrix(c);let l=!0;for(const u of n){u.updateMatrixWorld(!0);const d=new Gt().setFromObject(u);if(!s.intersectsBox(d)){l=!1;break}}if(l){r*=1.1;break}r*=1.2,i++}return new E(t.x,t.y+r,t.z)}function bt(t,e){if(!D)return!1;const n=t.position,a=.01;return Math.abs(n.x-D.x)<a&&Math.abs(n.z-D.z)<a}function kn(){ee=!0,pe=0,oe=null,ie=!0,je(!0)}function Xn(t,e,n){if(!e)return;if(D||(D=ze()),ee){if(pe===0&&(pe=t,oe=Fn(),j=e.position.clone(),K=n.target.clone()),!j||!oe||!K){console.error("Top view positions not initialized properly"),ee=!1;return}const c=t-pe;let l=Math.min(c/yt,1);l=l<.5?4*l*l*l:1-Math.pow(-2*l+2,3)/2,e.position.lerpVectors(j,oe,l),n.target.lerpVectors(K,D,l),e.lookAt(n.target),n.update(),c>=yt&&(e.position.copy(oe),n.target.copy(D),e.lookAt(n.target),n.update(),ee=!1,pe=0,ie=!1);return}if(!ee&&bt(e)?je(!0):ee||je(!1),!ie)return;if(se.length===0&&(se=Bn(),D=null,D||(D=ze())),bt(e)){ie=!1;return}ge===0&&(ge=t,j=e.position.clone(),K=n.target.clone());const a=t-ge,r=j||se[He],o=(He+1)%se.length,i=se[o],s=r.distanceTo(i)/Cn*1e3;if(a<s){const c=a/s;e.position.lerpVectors(r,i,c),n&&K&&(n.target.lerpVectors(K,D,c),n.update())}else He=o,ge=t,j=null,K=D.clone()}function Yn(t,e,n){const a=r=>{r.preventDefault();let o=1;switch(r.deltaMode){case 2:o=1+r.deltaY*.025;break;case 1:o=1+r.deltaY*.01;break;default:o=1+r.deltaY*25e-5;break}Pn(e,n,o)};return t.domElement.addEventListener("wheel",a,{passive:!1}),()=>{t.domElement.removeEventListener("wheel",a)}}function Hn(t){const e=()=>{ie=!1},n=()=>{ie=!0,ge=0,j=null,K=null};return t.addEventListener("mouseenter",e),t.addEventListener("mouseleave",n),()=>{t.removeEventListener("mouseenter",e),t.removeEventListener("mouseleave",n)}}const Ve={is_streifen:0,a:200,b:250,t:10,c_nom:25,is_dorn:1,is_wirksamgeschlossen:0,d_b:20,d_d:20,n_b:1,ff_zd:800,v_x:5,alpha_y:10,gg:.9,v_b:0,alpha_a:0,ff_x:15,ff_y:0,is_ortbeton:0};function Vn(){const{subscribe:t,set:e,update:n}=nt(Ve),a={subscribe:t,set:r=>{e(r),Ue(r)},update:r=>{n(o=>{const i=r(o);return Ue(i),i})},reset:()=>{e(Ve),Ue(Ve)},updateField:(r,o)=>{a.update(i=>({...i,[r]:o}))}};return a}const $=Vn();function Ue(t){Rn.set(null);const e=Tn(t);Ln.set(e),$n()}const T={LAGERBREITE_MIN:50,LAGERBREITE_MAX:1e3,LAGERLAENGE_MIN:50,LAGERLAENGE_MAX:1e3,BETONDECKUNG_MIN:0,BETONDECKUNG_MAX:100,BOHRUNGSDURCHMESSER_MIN:0,BOHRUNGSDURCHMESSER_MAX:50,BEMESSUNGSLAST_MIN:0,BEMESSUNGSLAST_MAX:5e4,LAGERVERDREHUNG_MIN:0,LAGERVERDREHUNG_MAX:50,LAGERVERSCHIEBUNG_MIN:0,LAGERVERSCHIEBUNG_MAX:50};var Un=Ge("<!> <!>",1);function pa(t,e){le(e,!1);const[n,a]=Ce(),r=()=>Pe($,"$shearDeformationParameterStore",n);let o=N(e,"step",8,5),i=B(),f=B(!1),s=B(""),c=null;function l(m){let w=m,g=!1,_="";m<T.LAGERBREITE_MIN?(w=T.LAGERBREITE_MIN,g=!0,_=`${H("shearDeformation.parameters.minValue")}: ${T.LAGERBREITE_MIN} mm`):m>T.LAGERBREITE_MAX&&(w=T.LAGERBREITE_MAX,g=!0,_=`${H("shearDeformation.parameters.maxValue")}: ${T.LAGERBREITE_MAX} mm`);const v=r().b+100;w>v&&(w=v,g=!0,_=H("shearDeformation.parameters.constraintAB")),g&&(M(f,!0),M(s,_),c&&clearTimeout(c),c=setTimeout(()=>{M(f,!1),M(s,"")},3e3)),$.updateField("a",w)}we(()=>r(),()=>{M(i,r().a)}),Ne(),ue();var u=Un(),d=Le(u);ot(d,{children:(m,w)=>{at();var g=rt();tt(_=>Rt(g,_),[()=>H("shearDeformation.parameters.bearingDepth")],Ee),J(m,g)},$$slots:{default:!0}});var h=De(d,2);it(h,{size:"sm",get step(){return o()},helperText:"mm",get min(){return T.LAGERBREITE_MIN},get max(){return T.LAGERBREITE_MAX},light:!0,get invalid(){return x(f)},get invalidText(){return x(s)},get value(){return x(i)},set value(m){M(i,m)},$$events:{change:()=>l(x(i))},$$legacy:!0}),J(t,u),fe(),a()}var Zn=Ge("<!> <!>",1);function wa(t,e){le(e,!1);const[n,a]=Ce(),r=()=>Pe($,"$shearDeformationParameterStore",n);let o=N(e,"disabled",8,!1),i=N(e,"step",8,5),f=B(),s=B(!1),c=B(""),l=null;function u(g){let _=g,v=!1,y="";g<T.LAGERLAENGE_MIN?(_=T.LAGERLAENGE_MIN,v=!0,y=`${H("shearDeformation.parameters.minValue")}: ${T.LAGERLAENGE_MIN} mm`):g>T.LAGERLAENGE_MAX&&(_=T.LAGERLAENGE_MAX,v=!0,y=`${H("shearDeformation.parameters.maxValue")}: ${T.LAGERLAENGE_MAX} mm`),v&&(M(s,!0),M(c,y),l&&clearTimeout(l),l=setTimeout(()=>{M(s,!1),M(c,"")},3e3)),$.updateField("b",_)}we(()=>r(),()=>{M(f,r().b)}),Ne(),ue();var d=Zn(),h=Le(d);ot(h,{children:(g,_)=>{at();var v=rt();tt(y=>Rt(v,y),[()=>H("shearDeformation.parameters.bearingLength")],Ee),J(g,v)},$$slots:{default:!0}});var m=De(h,2);const w=Ee(()=>o()||r().is_streifen===1);it(m,{size:"sm",get step(){return i()},helperText:"mm",get disabled(){return x(w)},get min(){return T.LAGERLAENGE_MIN},get max(){return T.LAGERLAENGE_MAX},light:!0,get invalid(){return x(s)},get invalidText(){return x(c)},get value(){return x(f)},set value(g){M(f,g)},$$events:{change:()=>u(x(f))},$$legacy:!0}),J(t,d),fe(),a()}var Wn=Ge("<!> <!>",1);function Ct(t,e){le(e,!1);const[n,a]=Ce(),r=()=>Pe($,"$shearDeformationParameterStore",n);let o=N(e,"field",8),i=N(e,"label",8),f=N(e,"helperText",8,""),s=N(e,"step",8,1),c=N(e,"disabled",8,!1),l=N(e,"min",8,void 0),u=N(e,"max",8,void 0),d=B(),h=B(!1),m=B(""),w=null;function g(b){let L=b,S=!1,A="";l()!==void 0&&b<l()?(L=l(),S=!0,A=`Minimalwert: ${l()}${f()?" "+f():""}`):u()!==void 0&&b>u()&&(L=u(),S=!0,A=`Maximalwert: ${u()}${f()?" "+f():""}`),S&&(M(h,!0),M(m,A),w&&clearTimeout(w),w=setTimeout(()=>{M(h,!1),M(m,"")},3e3)),$.updateField(o(),L)}we(()=>(r(),qt(o())),()=>{M(d,r()[o()])}),Ne(),ue();var _=Wn(),v=Le(_);ot(v,{children:(b,L)=>{var S=Kt(),A=Le(S);An(A,i),J(b,S)},$$slots:{default:!0}});var y=De(v,2);it(y,{size:"sm",get step(){return s()},get helperText(){return f()},get disabled(){return c()},get min(){return l()},get max(){return u()},light:!0,get invalid(){return x(h)},get invalidText(){return x(m)},get value(){return x(d)},set value(b){M(d,b)},$$events:{change:()=>g(x(d))},$$legacy:!0}),J(t,_),fe(),a()}function Ea(t,e){le(e,!1);let n=N(e,"step",8,5);ue();const a=Ee(()=>H("shearDeformation.parameters.concreteCovernominal"));Ct(t,{field:"c_nom",get label(){return x(a)},get step(){return n()},helperText:"mm",get min(){return T.BETONDECKUNG_MIN},get max(){return T.BETONDECKUNG_MAX}}),fe()}function va(t,e){le(e,!1);const[n,a]=Ce(),r=()=>Pe($,"$shearDeformationParameterStore",n),o=B(),i=B();let f=N(e,"step",8,1);we(()=>r(),()=>{M(o,r())}),we(()=>x(o),()=>{M(i,x(o).is_streifen?"kN/m":"kN")}),Ne(),ue();const s=Ee(()=>H("shearDeformation.parameters.designLoad"));Ct(t,{field:"ff_zd",get label(){return x(s)},get step(){return f()},get helperText(){return x(i)},get min(){return T.BEMESSUNGSLAST_MIN},get max(){return T.BEMESSUNGSLAST_MAX}}),fe(),a()}function qn(){const t=new fn;return t.background=new Nt(10526880),t.fog=new un(10526880,10,500),t}function Kn(t){const e=new dn({antialias:!0});return e.setPixelRatio(window.devicePixelRatio),e.shadowMap.enabled=!0,e.shadowMap.type=mn,t.appendChild(e.domElement),e}function Jn(t){const e=new P(new _n(1e3,1e3),new Oe({color:13355979,depthWrite:!1}));e.rotation.x=-Math.PI/2,e.position.y=-10,e.receiveShadow=!0,t.add(e)}function Qn(t){return t.add(new hn(9272444,4802918,3)),jn(t,0,500,500,16777215,2)}function jn(t,e,n,a,r,o){const i=new gn(r,o);i.position.set(e,n,a),i.castShadow=!0;const f=1e3;return i.shadow.camera.left=-1e3,i.shadow.camera.right=f,i.shadow.camera.top=f,i.shadow.camera.bottom=-1e3,i.shadow.camera.near=1,i.shadow.camera.far=2e3,i.shadow.mapSize.width=4096,i.shadow.mapSize.height=4096,i.shadow.radius=1,i.shadow.bias=-5e-4,t.add(i),t.add(i.target),i}const ea=400,ta=400,na=10,aa=.4,ra=.4,sa=.01;function Mt(t,e){const n=new st,a=new Oe({color:pn,shininess:100,specular:2236962}),r=(e.a-ea)/1e3,o=(e.b-ta)/1e3,i=(e.t-na)*2/1e3,f=aa+r,s=ra+o,c=sa+i,l=new P(new wn(f,c,s),a),u=ce();l.position.set(u.centerX,u.centerY+c/2,u.centerZ),l.castShadow=!0,l.receiveShadow=!0,n.add(l),t.add(n),l.geometry.computeBoundingBox();const d=new Gt;d.setFromObject(l);const h=u.centerY;return{group:n,boundingBox:d,height:h,lengthDiffX:r,lengthDiffZ:o}}function At(t,e){e&&(e.traverse(n=>{n instanceof P&&(n.geometry.dispose(),Array.isArray(n.material)?n.material.forEach(a=>a.dispose()):n.material.dispose())}),t.remove(e))}function Tt(t,e){const n=new st;if(!e.is_dorn)return t.add(n),n;const a=new Oe({color:En,flatShading:!1}),r=(50+e.b*.2)/1e3,o=e.d_b/2/1e3,i=ce(),f=e.n_b;for(let s=0;s<f;s++){const c=new P(new vn(o,o,r,16),a);let l=0;if(f===2){const u=e.b/1e3;l=s===0?u/5:-u/5}c.position.set(i.centerX,i.centerY+r/2,i.centerZ+l),c.castShadow=!0,c.receiveShadow=!0,n.add(c)}return t.add(n),n}function Lt(t,e){e&&(e.traverse(n=>{n instanceof P&&(n.geometry.dispose(),Array.isArray(n.material)?n.material.forEach(a=>a.dispose()):n.material.dispose())}),t.remove(e))}var oa=Ge('<div class="scene-container svelte-1mle02r"><!> <div class="top-view-button-container svelte-1mle02r"><!></div></div>');function xa(t,e){le(e,!1),N(e,"autoRotate",8,!1);let n=N(e,"showTooltip",8,!0),a;const r=.05,o=.001,i=.04,f=new E(-1.67,1.4,.02);let s=B(),c,l,u,d,h,m,w,g,_,v,y,b,L;Jt(async()=>{c=qn(),u=Kn(x(s)),Jn(c),_=Qn(c),l=xn(35),l.position.copy(f),L=$.subscribe(async O=>{if(a=O,c&&w!==void 0){m&&wt(c,m),w&&At(c,w),g&&Lt(c,g),et(c),Et(c),m=pt(c,a,!1),w=Mt(c,a).group,g=Tt(c,a),await xt(c);const z=ce();let ve=Math.max(a.c_nom/1e3,.03);a.is_streifen===1&&(ve=.1);const Be=new E(z.centerX+r+a.a/2e3,z.centerY+o,z.centerZ+i+a.b/2e3+ve);await vt(c,Be),d&&(d.target.set(z.centerX,z.centerY,z.centerZ),d.update())}});const p=ce(),I=[p.centerX,p.centerY,p.centerZ];d=Sn(l,u,I),v=Yn(u,l,d),y=Hn(x(s)),m=pt(c,a,!1),w=Mt(c,a).group,g=Tt(c,a),await xt(c);let R=a.c_nom/1e3;a.is_streifen===1&&(R=.1);const G=new E(p.centerX+r+a.a/2e3,p.centerY+o+.001,p.centerZ+i+a.b/2e3+R);await vt(c,G);const W=1e3/30;let ae=0;const me=O=>{b=requestAnimationFrame(me);const X=O-ae;if(!(X<W)){if(ae=O-X%W,Xn(O,l,d),yn(d),_&&l){const z=new E(0,500,500);z.applyQuaternion(l.quaternion),_.position.copy(l.position).add(z),d&&d.target&&(_.target.position.copy(d.target),_.target.updateMatrixWorld())}u.render(c,l)}};if(me(0),await Qt(),x(s)&&x(s)instanceof Element){let O=!1;h=new ResizeObserver(()=>{x(s)&&u&&l&&!O&&(O=!0,requestAnimationFrame(()=>{if(x(s)&&u&&l){const X=x(s).clientWidth,z=x(s).clientHeight;l.aspect=X/z,l.updateProjectionMatrix(),u.setSize(X,z)}O=!1}))}),h.observe(x(s))}}),jt(()=>{b!==void 0&&cancelAnimationFrame(b),v&&v(),y&&y(),L&&L(),h&&h.disconnect(),d&&d.dispose(),u&&u.dispose(),m&&c&&wt(c,m),w&&c&&At(c,w),g&&c&&Lt(c,g),c&&et(c),c&&Et(c)}),ue();var S=oa(),A=mt(S);{var F=p=>{bn(p)};en(A,p=>{n()&&p(F)})}var C=De(A,2),k=mt(C);tn(k,{size:"small",kind:"secondary",$$events:{click:()=>kn()},children:(p,I)=>{at();var Q=rt("Draufsicht");J(p,Q)},$$slots:{default:!0}}),_t(C),_t(S),Mn(S,p=>M(s,p),()=>x(s)),J(t,S),fe()}export{va as B,T as I,pa as L,Ct as P,xa as S,wa as a,ga as b,Ea as c,Rn as d,Ln as e,q as l,Ue as p,$ as s};
