import"./CWj6FrbW.js";import"./CmW2T9GA.js";import{p as H,f as O,aP as Le,e as s,m as ee,v as V,af as Ae,y as Q,a as T,w as Y,i as ue,j as J,k as U,x as D,c as j,ae as F,o as me,q as Pe,aO as xe,n as Re,r as ie,ad as Be}from"./BQWep9Y8.js";import{e as N,s as te,o as ke,k as Ie}from"./CFNkm3ec.js";import{l as pe,m as he,n as ne,o as q,p as M,q as Se,r as de,t as $e,v as Me,w as Oe,L as ze,F as De,d as fe,a as ye,x as Ge,e as le,V as Z,y as ge,S as Ne,W as Ve,B as He,M as Te,P as Ue,b as Fe,H as We,D as Ye,z as je,A as Ze,g as qe,h as Je,i as Ke,E as Qe,I as Xe,G as et,J as tt,K as at,u as nt,N as rt,O as ot,Q as st,R as ve}from"./fPhYkEl_.js";import{i as re,a as Ce,S as it,C as lt,s as ct,b as dt}from"./CcYpNgU6.js";import{g as ut}from"./Bvfthr5-.js";import{b as _e,C as pt,G as ht,R as mt,a as ce}from"./D3v-OQfw.js";import{s as oe,a as se}from"./CIzJbi1a.js";import{l as ae,p as I,i as ft}from"./C8cjOIuW.js";import{c as gt,b as Ee}from"./J3JO2zj9.js";import{b as K}from"./BPRVXDI9.js";import{b as X}from"./iIJDt4DM.js";var vt=O("<button><span><!></span> <!></button>");function _t(f,t){const v=ae(t,["children","$$slots","$$events","$$legacy"]),x=ae(v,["tooltipText","icon","disabled","align","direction","id","ref"]);H(t,!1);let b=I(t,"tooltipText",8,""),p=I(t,"icon",8,void 0),d=I(t,"disabled",8,!1),i=I(t,"align",8,"center"),u=I(t,"direction",8,"bottom"),l=I(t,"id",24,()=>"ccs-"+Math.random().toString(36)),e=I(t,"ref",12,null),a=ee(!1);re();var n=vt();N("keydown",Le,({key:o})=>{o==="Escape"&&j(a,!0)}),Ce(n,o=>({disabled:d(),type:"button","aria-describedby":l(),...x,[lt]:o,[it]:{cursor:d()?"not-allowed":"default"}}),[()=>({"bx--tooltip__trigger":!0,"bx--tooltip--a11y":!0,"bx--tooltip--hidden":s(a)||d(),"bx--tooltip--top":u()==="top","bx--tooltip--right":u()==="right","bx--tooltip--bottom":u()==="bottom","bx--tooltip--left":u()==="left","bx--tooltip--align-start":i()==="start","bx--tooltip--align-center":i()==="center","bx--tooltip--align-end":i()==="end"})]);var h=V(n);ct(h,1,"",null,{},{"bx--assistive-text":!0});var r=V(h);_e(r,t,"tooltipText",{},o=>{var g=Ae();Q(()=>te(g,b())),T(o,g)}),D(h);var c=Y(h,2);_e(c,t,"default",{},o=>{var g=ue(),S=J(g);gt(S,p,(_,$)=>{$(_,{})}),T(o,g)}),D(n),Ee(n,o=>e(o),()=>e()),Q(()=>dt(h,"id",l())),N("click",n,function(o){K.call(this,t,o)}),N("mouseover",n,function(o){K.call(this,t,o)}),N("mouseenter",n,function(o){K.call(this,t,o)}),N("mouseenter",n,()=>{d()||j(a,!1)}),N("mouseleave",n,function(o){K.call(this,t,o)}),N("focus",n,function(o){K.call(this,t,o)}),N("focus",n,()=>{d()||j(a,!1)}),T(f,n),U()}var bt=O('<button class="footer__link svelte-7honmp" style="color: #000000;"> </button>'),wt=O('<nav class="footer__nav svelte-7honmp"></nav>'),xt=O('<p class="footer__copyright svelte-7honmp"> </p>'),St=O("<!> <!> <!>",1),$t=O('<footer class="footer svelte-7honmp"><!></footer>');function Xt(f,t){H(t,!1);const v=new Date().getFullYear(),x=[{href:"/impressum",label:"Impressum"},{href:"/privacy",label:"Privacy"}];function b(i){ut(i)}re();var p=$t(),d=V(p);pt(d,{children:(i,u)=>{ht(i,{noGutter:!0,padding:!0,children:(l,e)=>{mt(l,{children:(a,n)=>{var h=St(),r=J(h);ce(r,{sm:16,md:16,lg:4});var c=Y(r,2);ce(c,{sm:16,md:16,lg:8,children:(g,S)=>{var _=wt();pe(_,5,()=>x,he,($,C)=>{var w=bt(),A=V(w,!0);D(w),Q(()=>te(A,s(C).label)),N("click",w,()=>b(s(C).href)),T($,w)}),D(_),T(g,_)},$$slots:{default:!0}});var o=Y(c,2);ce(o,{sm:16,md:16,lg:4,children:(g,S)=>{var _=xt(),$=V(_);D(_),Q(()=>te($,`© ${v??""} statiqs`)),T(g,_)},$$slots:{default:!0}}),T(a,h)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),D(p),T(f,p),U()}var yt=O("<!> <!>",1);function ea(f,t){H(t,!0);const[v,x]=oe();let p=F(()=>se(M,"$parameterStore",v));function d(u){var a;const e=(u.detail||((a=u.target)==null?void 0:a.value))==="rund";M.updateField("isRound",e)}const i=F(()=>s(p).isRound?"rund":"rechteckig");ne(f,{labelText:"Form des Lagers",get selected(){return s(i)},$$events:{change:d},children:(u,l)=>{var e=yt(),a=J(e);q(a,{value:"rechteckig",text:"rechteckig"});var n=Y(a,2);q(n,{value:"rund",text:"rund"}),T(u,e)},$$slots:{default:!0}}),U(),x()}function ta(f,t){H(t,!0);const[v,x]=oe();let p=F(()=>se(M,"$parameterStore",v)),d=F(Oe),i=F(()=>Me.map(r=>r.diameter)),u=F(()=>s(p).isRound?s(i).findIndex(r=>r===s(p).d):s(d).findIndex(r=>r.length===s(p).a&&r.width===s(p).b)),l=F(()=>s(p).isRound?s(i).map((r,c)=>({value:c,label:`${r} mm`})):s(d).map((r,c)=>({value:c,label:`${r.length} mm x ${r.width} mm`})));function e(r){M.update(c=>({...c,heightOfElastomer:r.tt_e,n:r.n,t_1:r.t_1,t_2:r.t_2,tt_e:r.tt_e,t_s:r.t_s,t_so:r.t_so,tt_b:r.tt_b}))}function a(r){var o;const c=parseInt(((o=r.target)==null?void 0:o.value)||r.detail);if(s(p).isRound){const g=s(i)[c];if(g){M.updateField("d",g);const S=Se(g);if(S.length>0){const _=S[0],$=de(_.n,_.t_1);e($)}}}else{const g=s(d)[c];if(g){M.updateField("a",g.length),M.updateField("b",g.width);const S=$e(g.length,g.width);if(S.length>0){const _=S[0],$=de(_.n,_.t_1);e($)}}}}const n=F(()=>s(p).isRound?"Abmessungen (Durchmesser)":"Abmessungen (Länge x Breite)"),h=F(()=>s(u).toString());ne(f,{get labelText(){return s(n)},get selected(){return s(h)},$$events:{change:a},children:(r,c)=>{var o=ue(),g=J(o);pe(g,17,()=>s(l),he,(S,_)=>{const $=F(()=>s(_).value.toString());q(S,{get value(){return s($)},get text(){return s(_).label}})}),T(r,o)},$$slots:{default:!0}}),U(),x()}function aa(f,t){H(t,!0);const[v,x]=oe();let p=F(()=>se(M,"$parameterStore",v)),d=F(()=>s(p).isRound?Se(s(p).d).map(e=>({value:`${e.n}-${e.t_1}`,label:`Schichtanzahl ${e.n}, Schichthöhe ${e.t_1}mm`,n:e.n,t_1:e.t_1})):$e(s(p).a,s(p).b).map(e=>({value:`${e.n}-${e.t_1}`,label:`Schichtanzahl ${e.n}, Schichthöhe ${e.t_1}mm`,n:e.n,t_1:e.t_1})));function i(e){M.update(a=>({...a,heightOfElastomer:e.tt_e,n:e.n,t_1:e.t_1,t_2:e.t_2,tt_e:e.tt_e,t_s:e.t_s,t_so:e.t_so,tt_b:e.tt_b}))}function u(e){var g;const a=((g=e.target)==null?void 0:g.value)||e.detail,[n,h]=a.split("-"),r=parseInt(n),c=parseFloat(h),o=de(r,c);i(o)}const l=F(()=>`${s(p).n}-${s(p).t_1}`);ne(f,{labelText:"Elastomerschichten",get selected(){return s(l)},$$events:{change:u},children:(e,a)=>{var n=ue(),h=J(n);pe(h,17,()=>s(d),he,(r,c)=>{const o=F(()=>s(c).value.toString());q(r,{get value(){return s(o)},get text(){return s(c).label}})}),T(e,n)},$$slots:{default:!0}}),U(),x()}var Tt=xe("<title> </title>"),Ft=xe('<svg><!><path fill="none" d="M16,8a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,13.875H17.125v-8H13v2.25h1.875v5.75H12v2.25h8Z" data-icon-path="inner-path"></path><path d="M16,2A14,14,0,1,0,30,16,14,14,0,0,0,16,2Zm0,6a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,16.125H12v-2.25h2.875v-5.75H13v-2.25h4.125v8H20Z"></path></svg>');function Ct(f,t){const v=ae(t,["children","$$slots","$$events","$$legacy"]),x=ae(v,["size","title"]);H(t,!1);const b=ee(),p=ee();let d=I(t,"size",8,16),i=I(t,"title",8,void 0);me(()=>(ie(v),ie(i())),()=>{j(b,v["aria-label"]||v["aria-labelledby"]||i())}),me(()=>(s(b),ie(v)),()=>{j(p,{"aria-hidden":s(b)?void 0:!0,role:s(b)?"img":void 0,focusable:Number(v.tabindex)===0?!0:void 0})}),Pe(),re();var u=Ft();Ce(u,()=>({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:d(),height:d(),...s(p),...x}));var l=V(u);{var e=a=>{var n=Tt(),h=V(n,!0);D(n),Q(()=>te(h,i())),T(a,n)};ft(l,a=>{i()&&a(e)})}Re(2),D(u),T(f,u),U()}var Et=O('<span slot="tooltipText">Typ B: Bewehrtes Elastomerlager ohne Rutschsicherung.<br/> <br/> Typ C: Bewehrtes Elastomerlager mit einseitiger (Typ B/C) oder zweiseitiger Rutschsicherung. <br/> <br/> Typ C ist zu wählen, wenn eine Mindestpressung von 3 N/mm² nicht in allen Lastzuständen gewährleistet werden kann.<br/> <br/> Bei Brückenlagern im Geltungsbereich der DB-Richtlinien darf Typ B nur gewählt werden, wenn am jeweiligen Auflagerpunkt die Horizontallasten in beide Richtungen durch Festhaltekonstruktionen aufgenommen werden.</span>'),Lt=O("<!> <!>",1),At=O('<div class="select-with-tooltip svelte-17kum7t"><div class="label-container svelte-17kum7t"><span class="label-text svelte-17kum7t">Lagertyp</span> <!></div> <div style="margin-top: calc(-1 * var(--cds-spacing-03));"></div> <!></div>');function na(f,t){H(t,!0);const[v,x]=oe();let p=F(()=>se(M,"$parameterStore",v));function d(n){var c;const r=(n.detail||((c=n.target)==null?void 0:c.value))==="Typ C"?"C":"B";M.updateField("l_typ",r)}var i=At(),u=V(i),l=Y(V(u),2);_t(l,{get icon(){return Ct},$$slots:{tooltipText:(n,h)=>{var r=Et();T(n,r)}}}),D(u);var e=Y(u,4);const a=F(()=>s(p).l_typ==="C"?"Typ C":"Typ B");ne(e,{labelText:"",get selected(){return s(a)},$$events:{change:d},children:(n,h)=>{var r=Lt(),c=J(r);q(c,{value:"Typ B",text:"Typ B (unveranktert)"});var o=Y(c,2);q(o,{value:"Typ C",text:"Typ C (verankert)"}),T(n,r)},$$slots:{default:!0}}),D(i),T(f,i),U(),x()}class Pt extends ze{constructor(t){super(t)}load(t,v,x,b){const p=this,d=new De(this.manager);d.setPath(this.path),d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setWithCredentials(this.withCredentials),d.load(t,function(i){try{v(p.parse(i))}catch(u){b?b(u):console.error(u),p.manager.itemError(t)}},x,b)}parse(t){function v(l){const e=new DataView(l),a=32/8*3+32/8*3*3+16/8,n=e.getUint32(80,!0);if(80+32/8+n*a===e.byteLength)return!0;const r=[115,111,108,105,100];for(let c=0;c<5;c++)if(x(r,e,c))return!1;return!0}function x(l,e,a){for(let n=0,h=l.length;n<h;n++)if(l[n]!==e.getUint8(a+n))return!1;return!0}function b(l){const e=new DataView(l),a=e.getUint32(80,!0);let n,h,r,c=!1,o,g,S,_,$;for(let m=0;m<70;m++)e.getUint32(m,!1)==1129270351&&e.getUint8(m+4)==82&&e.getUint8(m+5)==61&&(c=!0,o=new Float32Array(a*3*3),g=e.getUint8(m+6)/255,S=e.getUint8(m+7)/255,_=e.getUint8(m+8)/255,$=e.getUint8(m+9)/255);const C=84,w=12*4+2,A=new fe,B=new Float32Array(a*3*3),P=new Float32Array(a*3*3),z=new ye;for(let m=0;m<a;m++){const y=C+m*w,G=e.getFloat32(y,!0),k=e.getFloat32(y+4,!0),W=e.getFloat32(y+8,!0);if(c){const E=e.getUint16(y+48,!0);(E&32768)===0?(n=(E&31)/31,h=(E>>5&31)/31,r=(E>>10&31)/31):(n=g,h=S,r=_)}for(let E=1;E<=3;E++){const R=y+E*12,L=m*3*3+(E-1)*3;B[L]=e.getFloat32(R,!0),B[L+1]=e.getFloat32(R+4,!0),B[L+2]=e.getFloat32(R+8,!0),P[L]=G,P[L+1]=k,P[L+2]=W,c&&(z.setRGB(n,h,r,Ge),o[L]=z.r,o[L+1]=z.g,o[L+2]=z.b)}}return A.setAttribute("position",new le(B,3)),A.setAttribute("normal",new le(P,3)),c&&(A.setAttribute("color",new le(o,3)),A.hasColors=!0,A.alpha=$),A}function p(l){const e=new fe,a=/solid([\s\S]*?)endsolid/g,n=/facet([\s\S]*?)endfacet/g,h=/solid\s(.+)/;let r=0;const c=/[\s]+([+-]?(?:\d*)(?:\.\d*)?(?:[eE][+-]?\d+)?)/.source,o=new RegExp("vertex"+c+c+c,"g"),g=new RegExp("normal"+c+c+c,"g"),S=[],_=[],$=[],C=new Z;let w,A=0,B=0,P=0;for(;(w=a.exec(l))!==null;){B=P;const z=w[0],m=(w=h.exec(z))!==null?w[1]:"";for($.push(m);(w=n.exec(z))!==null;){let k=0,W=0;const E=w[0];for(;(w=g.exec(E))!==null;)C.x=parseFloat(w[1]),C.y=parseFloat(w[2]),C.z=parseFloat(w[3]),W++;for(;(w=o.exec(E))!==null;)S.push(parseFloat(w[1]),parseFloat(w[2]),parseFloat(w[3])),_.push(C.x,C.y,C.z),k++,P++;W!==1&&console.error("THREE.STLLoader: Something isn't right with the normal of face number "+r),k!==3&&console.error("THREE.STLLoader: Something isn't right with the vertices of face number "+r),r++}const y=B,G=P-B;e.userData.groupNames=$,e.addGroup(y,G,A),A++}return e.setAttribute("position",new ge(S,3)),e.setAttribute("normal",new ge(_,3)),e}function d(l){return typeof l!="string"?new TextDecoder().decode(l):l}function i(l){if(typeof l=="string"){const e=new Uint8Array(l.length);for(let a=0;a<l.length;a++)e[a]=l.charCodeAt(a)&255;return e.buffer||e}else return l}const u=i(t);return v(u)?b(u):p(d(t))}}function Rt(){const f=new Ne;return f.background=new ye(16777215),f}function Bt(f){const t=new Ve({antialias:!0});return t.setPixelRatio(window.devicePixelRatio),t.shadowMap.enabled=!0,t.shadowMap.type=He,f.appendChild(t.domElement),t}function kt(f){const t=new Te(new Ue(200,200),new Fe({color:13355979,specular:4671303}));t.rotation.x=-Math.PI/2,t.position.y=-20,t.receiveShadow=!0}function It(f){f.add(new We(9272444,4802918,3)),Mt(f,0,500,0,16777215,2)}function Mt(f,t,v,x,b,p){const d=new Ye(b,p);d.position.set(t,v,x),d.castShadow=!0;const i=1e3;d.shadow.camera.left=-1e3,d.shadow.camera.right=i,d.shadow.camera.top=i,d.shadow.camera.bottom=-1e3,d.shadow.camera.near=1,d.shadow.camera.far=2e3,d.shadow.mapSize.width=4096,d.shadow.mapSize.height=4096,d.shadow.radius=1,d.shadow.bias=-5e-4,f.add(d)}function Ot(f,t="/Widerlager_klein.stl",v,x,b,p=0){new Pt().load(t,i=>{i.computeBoundingBox(),i.computeVertexNormals();const u=i.boundingBox,l=new Z;u.getSize(l);const e=new Fe({color:8421504,specular:1118481,shininess:30}),a=new Te(i,e);i.computeBoundingBox();const n=new Z,h=new Z;i.boundingBox.getCenter(n),i.boundingBox.getSize(h),i.translate(-n.x,-n.y,-n.z),a.scale.setScalar(1),a.position.set(0,p,0),a.rotation.x=-Math.PI/2,a.castShadow=!0,a.receiveShadow=!0,f.add(a),console.log("STL model loaded successfully"),v&&v(a)},i=>{console.log("Loading progress:",i.loaded/i.total*100+"%")},i=>{console.error("Error loading STL file:",i)})}function zt(f){f.setAnimationLoop(null)}let be=[];function we(f){be.forEach(t=>{f.remove(t),t.geometry.dispose(),t.material instanceof je&&t.material.dispose()}),be=[]}var Dt=O('<div id="container" class="svelte-66rdh0"></div>');function ra(f,t){H(t,!1);let v=I(t,"parameters",8,void 0),x=I(t,"autoRotate",8,!1);const b=[.3,.6,0],p=[b[0]-.4,b[1]+.01,b[2]-.95],d=new Z(3.033053660420776,2.3737696385820284,-.9540866817375618),i=-.15;let u=ee(),l,e,a,n,h,r,c,o,g,S,_,$,C;function w(){return ot(st)}function A(m){return m.isRound?m.diameter>350?`${X}/Widerlager_groß.stl`:`${X}/Widerlager_klein.stl`:m.breiteElastomer>300?`${X}/Widerlager_groß.stl`:`${X}/Widerlager_klein.stl`}function B(m){const y=A(m);if(y===g){console.log("STL model unchanged, skipping reload");return}console.log(`Switching STL model from ${g||"none"} to ${y}`),o&&(l.remove(o),o.geometry.dispose(),Array.isArray(o.material)?o.material.forEach(k=>k.dispose()):o.material.dispose(),o=void 0),g=y;const G=y.includes("klein")?i:0;Ot(l,y,k=>{o=k,console.log(`STL model loaded: ${y} with y-offset: ${G}`)},void 0,void 0,G)}function P(m){if(!h||!r){console.warn("CreateElastomer or elastomerGroup not initialized");return}r.clear(),console.log("tt_e in updateElastomer:",m.selectedHeight),h.updateElastomer(m,b).forEach(G=>{r.add(G)}),we(l),B(m),console.log("Elastomer updated with new parameters:",m)}ke(async()=>{l=Rt(),a=Bt(s(u)),kt(),It(l),Ze(l,new Z(p[0],p[1],p[2])),e=qe(35),e.position.copy(d),n=Je(e,a,b),n.addEventListener("change",()=>{}),S=Ke(a,e,n),_=Qe(s(u),n,x()),$=Xe(s(u)),h=new tt(l,e),r=new et,l.add(r);const m=v()||w(),y=h.createElastomer(m,b);y.forEach(R=>{r.add(R)}),console.log(y[0]),B(m);const k=1e3/30;let W=0;const E=R=>{C=requestAnimationFrame(E);const L=R-W;L<k||(W=R-L%k,at(R,e,n),nt(n),a.render(l,e))};E(0),ve(P),await Be(),s(u)&&s(u)instanceof Element&&(c=new ResizeObserver(()=>{if(s(u)&&a&&e){const R=s(u).clientWidth,L=s(u).clientHeight;a.setSize(R,L),e.aspect=R/L,e.updateProjectionMatrix()}}),c.observe(s(u)))}),Ie(()=>{C!==void 0&&cancelAnimationFrame(C),a&&zt(a),S==null||S(),_==null||_(),$==null||$(),we(l),o&&(l.remove(o),o.geometry.dispose(),Array.isArray(o.material)?o.material.forEach(m=>m.dispose()):o.material.dispose(),o=void 0),a==null||a.dispose(),ve(()=>{}),c==null||c.disconnect()}),re();var z=Dt();return Ee(z,m=>j(u,m),()=>s(u)),T(f,z),rt(t,"updateElastomer",P),U({updateElastomer:P})}export{ea as B,Xt as F,Ct as I,_t as T,ta as a,aa as b,na as c,ra as d};
