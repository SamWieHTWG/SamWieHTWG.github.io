import"./CWj6FrbW.js";import"./CDvpXENc.js";import{z as Ge,b as re,H as ie,az as Le,b7 as ke,M as ce,aI as Be,b8 as Oe,b9 as Fe,ba as le,U as qe,bb as He,au as q,as as Y,p as ye,f as Se,w as fe,E as Ye,a as Q,x as Ze,v as xe,j as Ee,q as Xe,k as A,m as We,ad as Ue,b6 as $e,g as Je}from"./DhQkTFJo.js";import{i as ze}from"./DqMion1w.js";import{p as T}from"./B88HvyZY.js";import{a as Ke,s as Qe}from"./BpSPWoKA.js";import{x as Ve,N as je,G as ee,h as Z,B as G,c as de,M as x,y as Ae,z as et,A as Ie,V as w,e as tt,C as nt,W as ot,f as st,P as Pe,H as at,D as rt,E as it,I as ct,J as lt,K as ft,O as B,i as W,Q as Te,R as dt,k as ut,l as _t,s as ht,T as mt,u as bt}from"./2awyOwOG.js";import{b as gt}from"./DdohSwnT.js";function wt(e,t,n=!1,r=!1,a=!1){var o=e,s="";Ge(()=>{var c=Le;if(s===(s=t()??"")){re&&ie();return}if(c.nodes_start!==null&&(ke(c.nodes_start,c.nodes_end),c.nodes_start=c.nodes_end=null),s!==""){if(re){ce.data;for(var i=ie(),d=i;i!==null&&(i.nodeType!==8||i.data!=="");)d=i,i=Be(i);if(i===null)throw Oe(),Fe;le(ce,d),o=qe(i);return}var l=s+"";n?l=`<svg>${l}</svg>`:r&&(l=`<math>${l}</math>`);var f=He(l);if((n||r)&&(f=q(f)),le(q(f),f.lastChild),n||r)for(;q(f);)o.before(q(f));else o.before(f)}})}const ue={nachw_vert:0,nachw_rotb:0,nachw_schub:0,querz_x:0,querz_y:0};function pt(){const{subscribe:e,set:t,update:n}=Y(ue);return{subscribe:e,set:t,update:n,reset:()=>t(ue)}}const vt=pt();function Mt(e){const t=e.a*e.b;let n,r;e.n_b===0||e.is_wirksamgeschlossen===1?(n=t,r=Math.round(t/(2*e.t*(e.a+e.b))*1e3)/1e3):(n=Math.round(t-e.n_b*Math.PI*Math.pow(e.d_b/2,2)),r=Math.round((t-.25*Math.PI*e.n_b*Math.pow(e.t,2))/(2*e.t*(e.a+e.b)+e.t*Math.PI*e.n_b*e.d_b)*1e3)/1e3);const a=e.is_ortbeton===0?10:10/2,s=Math.round(.625/e.a*1e3*10)/10+a,c=e.alpha_a,i=e.alpha_b+s,d=Math.sqrt(Math.pow(c,2)+Math.pow(i,2)),l=Math.min(450*e.t/e.a,48),f=48,u=Math.round(i/l*1e3)/1e3,_=Math.round(d/f*1e3)/1e3,h=Math.round(1e3*e.ff_zd/n*10)/10;let m;r<2.33?m=Math.round((5.3805*r-.6536)*10)/10:m=Math.round((10.635*r-12.89)*10)/10;const p=Math.round(h/m*1e3)/1e3,v=Math.round((e.v_a/e.t+e.ff_x*1e3/(e.gg*n))*100)/100,M=Math.round((e.v_b/e.t+e.ff_y*1e3/(e.gg*n))*100)/100,b=Math.sqrt(Math.pow(v,2)+Math.pow(M,2)),C=Math.round(b/(.6*(e.t-2)/e.t)*1e3)/1e3,D=5,I=5,g=e.c_nom+10;return{aa:t,a_eff:n,s:r,alpha_b_zus:s,alpha_b_ges:i,alpha_a_ges:c,alpha_ges:d,alpha_bmax:l,alpha_resmax:f,nachw_rotb:u,nachw_rotres:_,sigma_ed:h,sigma_rd:m,nachw_vert:p,tan_gamx:v,tan_gamy:M,tan_gamxy:b,nachw_schub:C,querz_x:D,querz_y:I,c_rand:g}}function yt(e){const t={is_streifen:e.is_streifen,a:e.a,b:e.b,t:e.t,c_nom:e.c_nom,is_dorn:e.is_dorn,d_b:e.d_b,d_d:e.d_d,n_b:e.n_b,ff_zd:e.ff_zd,v_a:e.v_a,v_b:e.v_b,alpha_a:e.alpha_a,alpha_b:e.alpha_b,gg:e.gg,ff_x:e.ff_x,ff_y:e.ff_y,is_ortbeton:e.is_ortbeton,is_wirksamgeschlossen:e.is_wirksamgeschlossen},n=Mt(t);vt.set({nachw_vert:n.nachw_vert,nachw_rotb:n.nachw_rotb,nachw_schub:n.nachw_schub,querz_x:n.querz_x,querz_y:n.querz_y})}const R={s_65:{check:!0,thicknesses:e=>[10,15,20,25,30].filter(t=>t===10||e>=70),sigma_rd_rule:e=>e<=6.25?4.03*e**1.16:33.9,rot_b_rule:(e,t)=>Math.min(450*e/t,40),rot_res_rule:40,"Nachweis erfolgreich t":[]},s_70:{check:!0,thicknesses:e=>[10,15,20].filter(t=>t===10||e>=70),sigma_rd_rule:e=>e<=5?6.99*e:34.95,rot_b_rule:(e,t)=>Math.min(450*e/t,40),rot_res_rule:40,"Nachweis erfolgreich t":[]},esz_100:{check:!0,thicknesses:e=>[10,15,20,25,30].filter(t=>t===10||e>=70),sigma_rd_rule:e=>e<2.33?5.3805*e-.6536:e>=2.33&&e<=2.5?10.635*e-12.89:e>2.5&&e<=5?8.4004*e-7.3293:34.7,rot_b_rule:(e,t)=>Math.min(450*e/t,48),rot_res_rule:48,"Nachweis erfolgreich t":[]},conti_60:{check:!0,thicknesses:[10,20,30],sigma_rd_rule:e=>e<=5?.315*e**2+4.035*e:28.05,rot_b_rule:(e,t)=>Math.min(450*e/t,40),rot_res_rule:40,"Nachweis erfolgreich t":[]},leschu_n15:{check:!0,thicknesses:[10,15,20],sigma_rd_rule:e=>e<1.88?3.29*e+1.46:e>=1.88&&e<2.5?2.58*e+2.79:e>=2.5&&e<3.5?3.34*e+.88:e>=3.5&&e<3.75?12.21*e-30.17:e>=3.75&&e<5?3.15*e+3.81:e>=5&&e<=10?1.66*e+11.29:e>10?27.89:0,rot_b_rule:(e,t)=>Math.min(450*e/t,40),rot_res_rule:40,"Nachweis erfolgreich t":[]},matteco_elr08:{check:!0,thicknesses:e=>[10,15,20].filter(t=>t===10||e>=70),sigma_rd_rule:e=>e<=4.17?.422*Math.E**(.698*e):7.75,rot_b_rule:(e,t)=>Math.min(200*e/t,16),rot_res_rule:16,"Nachweis erfolgreich t":[]},matteco_elr18:{check:!0,thicknesses:e=>[10].filter(t=>t===10||e>=70),sigma_rd_rule:e=>e<=4.5?1.28*e**1.25:8.4,rot_b_rule:(e,t)=>Math.min(200*e/t,20),rot_res_rule:20,"Nachweis erfolgreich t":[]}};function St(e){const{is_ortbeton:t,is_wirksamgeschlossen:n,a:r,b:a,is_dorn:o,d_b:s,n_b:c,ff_zd:i,v_a:d,alpha_b:l,alpha_a:f}=e,u=JSON.parse(JSON.stringify(R)),_={rules:[(g,S)=>g>=70||S>=100&&g>=50,(g,S)=>S>=70]},h={rules:[(g,S)=>g>=70,(g,S)=>S>=70]};_.rules.every(g=>g(r,a))||(u.s_65.check=!1,u.s_70.check=!1,u.esz_100.check=!1,u.leschu_n15.check=!1,u.matteco_elr08.check=!1,u.matteco_elr18.check=!1),h.rules.every(g=>g(r,a))||(u.conti_60.check=!1);const m=r*a;let p;o===0?p=m:p=Math.round(m-c*Math.PI*(s/2)**2);const v=Math.round(1e3*i/p*10)/10,M=t===0?10:10/2,C=Math.round(.625/r*1e3*10)/10+M,D=l+C,I=[];for(const[g,S]of Object.entries(u))if(S.check){const F=typeof R[g].thicknesses=="function"?R[g].thicknesses(r):R[g].thicknesses;for(const E of F){let y;!o||n?y=Math.round(m/(2*E*(r+a))*1e3)/1e3:y=Math.round((m-.25*Math.PI*c*E**2)/(2*E*(r+a)+E*Math.PI*c*s)*1e3)/1e3;const z=R[g].sigma_rd_rule(y),P=R[g].rot_b_rule(E,r),Re=R[g].rot_res_rule,ne=.6*(E-2),oe=v/z,se=d/ne,ae=D/P,Ne=oe<=1&&se<=1&&ae<=1;I.push({lagerType:g,thickness:E,s:y,sigma_rd:z,alpha_b_max:P,alpha_res_max:Re,v_x_max:ne,sigma_nachw:oe,v_x_nachw:se,rot_b_nachw:ae,passed:Ne})}}return I}const xt=Y([]),tn=Y(null),U={is_streifen:0,a:200,b:200,t:10,c_nom:25,is_dorn:1,d_b:50,d_d:20,n_b:1,ff_zd:800,v_a:0,alpha_b:2,gg:.9,v_b:0,alpha_a:0,ff_x:15,ff_y:0,is_ortbeton:0,is_wirksamgeschlossen:0};function Et(){const{subscribe:e,set:t,update:n}=Y(U),r={subscribe:e,set:a=>{t(a),$(a)},update:a=>{n(o=>{const s=a(o);return $(s),s})},reset:()=>{t(U),$(U)},updateField:(a,o)=>{r.update(s=>({...s,[a]:o}))}};return r}const O=Et();function $(e){yt(e);const t=St(e);xt.set(t)}var zt=Se("<!> <!>",1);function nn(e,t){ye(t,!1);const[n,r]=Qe(),a=()=>Ke(O,"$shearDeformationParameterStore",n);let o=T(t,"field",8),s=T(t,"label",8),c=T(t,"helperText",8,""),i=T(t,"step",8,1),d=T(t,"disabled",8,!1),l=T(t,"min",8,void 0),f=T(t,"max",8,void 0);function u(p){const v=p.detail;v!==null&&O.updateField(o(),v)}ze();var _=zt(),h=fe(_);Ve(h,{children:(p,v)=>{var M=Ye(),b=fe(M);wt(b,s),Q(p,M)},$$slots:{default:!0}});var m=Ze(h,2);je(m,{get value(){return a()[o()]},size:"sm",get step(){return i()},get helperText(){return c()},get disabled(){return d()},get min(){return l()},get max(){return f()},$$events:{change:u}}),Q(e,_),xe(),r()}const Ce=400,De=400,At=[[-.8,1,-.25],[-1.35,1,-.25],[-1.35,1,.25],[-.8,1,.25],[-1.0475,.3,.25],[-.8,.3,.25],[-1.35,.6,.25],[-1.35,.6,-.25],[-1.0475,.3,-.25],[-.8,.3,-.25],[-.8,0,.5],[-.8,2,.5],[-.8,2,-.5],[-.8,0,-.5],[.2,2,-.5],[.2,0,-.5],[.2,2,.5],[.2,0,.5]],It=[13,15,17,13,17,10,12,16,14,12,11,16,13,10,11,13,11,12,15,14,16,11,16,17,13,12,14,13,14,15,10,17,16,10,16,11],Pt=[0,1,2,0,2,3,1,7,6,1,6,2,0,3,5,0,5,9,0,9,8,0,8,7,0,7,1,3,2,6,3,6,4,3,4,5,9,5,4,9,4,8,8,4,6,8,6,7];function te(e,t){const n=At.map(o=>[o[0],o[1],o[2]]),r=(e-Ce)/1e3,a=(t-De)/2/1e3;return r>-.3?[1,2,4,6,7,8].forEach(o=>{n[o][0]-=r}):([1,2,6,7].forEach(o=>{n[o][0]-=r}),[4,8].forEach(o=>{n[o][0]-=-.1})),[0,1,7,8,9,12,13,14,15].forEach(o=>{n[o][2]-=a}),[2,3,4,5,6,10,11,16,17].forEach(o=>{n[o][2]+=a}),n}function Tt(e){const t=document.createElement("canvas");t.width=64,t.height=64;const n=t.getContext("2d");n.fillStyle="red",n.beginPath(),n.arc(32,32,28,0,Math.PI*2),n.fill(),n.fillStyle="white",n.font="bold 36px Arial",n.textAlign="center",n.textBaseline="middle",n.fillText(e,32,32);const r=new Ae(t),a=new et({map:r}),o=new Ie(a);return o.scale.set(.08,.08,1),o}function _e(e,t=Ce,n=De,r=!1){const a=new ee,o=new Z({color:12895428,shininess:100,flatShading:!0,transparent:!1}),s=te(t,n),c=new Float32Array(s.flat()),i=new G;i.setAttribute("position",new de(c,3)),i.setIndex(It),i.computeVertexNormals();const d=new x(i,o);d.castShadow=!0,d.receiveShadow=!0,a.add(d);const l=new G;l.setAttribute("position",new de(c,3)),l.setIndex(Pt),l.computeVertexNormals();const f=new x(l,o);return f.castShadow=!0,f.receiveShadow=!0,a.add(f),r&&s.forEach((u,_)=>{const h=Tt(_.toString());h.position.set(u[0],u[1],u[2]),a.add(h)}),e.add(a),a}function X(){const e=Ee(O),t=te(e.a,e.b),n=[t[0],t[1],t[2],t[3]];return{centerX:(n[0][0]+n[1][0]+n[2][0]+n[3][0])/4,centerY:n[0][1],centerZ:(n[0][2]+n[1][2]+n[2][2]+n[3][2])/4}}function he(e,t){t&&(t.traverse(n=>{n instanceof x&&(n.geometry.dispose(),Array.isArray(n.material)?n.material.forEach(r=>r.dispose()):n.material.dispose())}),e.remove(t))}let V=!0,J=0,L=0,H=null,k=null;const Ct=.07,K=[new w(-2.1247554456236646,1.8348909616249438,-.9418251993957858),new w(-2.298436211128349,2.1141465425086055,.0593750739688058),new w(-1.8215114290760264,1.8160993918937776,1.1472099754138583)];function Dt(){const e=X();return new w(e.centerX,e.centerY,e.centerZ)}function Rt(e,t,n){if(!V||!t)return;L===0&&(L=e,H=t.position.clone(),k=n.target.clone());const r=e-L,a=H||K[J],o=(J+1)%K.length,s=K[o],i=a.distanceTo(s)/Ct*1e3;if(r<i){const d=r/i;if(t.position.lerpVectors(a,s,d),n&&k){const l=Dt();n.target.lerpVectors(k,l,d),n.update()}}else J=o,L=e,H=null,k=null}function Nt(e){const t=()=>{V=!1},n=()=>{V=!0,L=0,H=null,k=null};return e.addEventListener("mouseenter",t),e.addEventListener("mouseleave",n),()=>{e.removeEventListener("mouseenter",t),e.removeEventListener("mouseleave",n)}}function Gt(){const e=new tt;return e.background=new nt(16777215),e}function Lt(e){const t=new ot({antialias:!0});return t.setPixelRatio(window.devicePixelRatio),t.shadowMap.enabled=!0,t.shadowMap.type=st,e.appendChild(t.domElement),t}function kt(e){const t=new x(new Pe(200,200),new Z({color:13355979,specular:4671303}));t.rotation.x=-Math.PI/2,t.position.y=-10,t.receiveShadow=!0}function Bt(e){return e.add(new at(9272444,4802918,3)),Ot(e,0,500,500,16777215,2)}function Ot(e,t,n,r,a,o){const s=new rt(a,o);s.position.set(t,n,r),s.castShadow=!0;const c=1e3;return s.shadow.camera.left=-1e3,s.shadow.camera.right=c,s.shadow.camera.top=c,s.shadow.camera.bottom=-1e3,s.shadow.camera.near=1,s.shadow.camera.far=2e3,s.shadow.mapSize.width=4096,s.shadow.mapSize.height=4096,s.shadow.radius=1,s.shadow.bias=-5e-4,e.add(s),e.add(s.target),s}const Ft=400,qt=400,Ht=10,Yt=.4,Zt=.4,Xt=.02;function me(e,t){const n=new ee,r=new Z({color:12895428,shininess:100,specular:2236962}),a=(t.a-Ft)/1e3,o=(t.b-qt)/1e3,s=(t.t-Ht)*2/1e3,c=Yt+a,i=Zt+o,d=Xt+s,l=new x(new it(c,d,i),r),f=X();l.position.set(f.centerX,f.centerY+d/2,f.centerZ),l.castShadow=!0,l.receiveShadow=!0,n.add(l),e.add(n),l.geometry.computeBoundingBox();const u=new ct;u.setFromObject(l);const _=f.centerY;return{group:n,boundingBox:u,height:_,lengthDiffX:a,lengthDiffZ:o}}function be(e,t){t&&(t.traverse(n=>{n instanceof x&&(n.geometry.dispose(),Array.isArray(n.material)?n.material.forEach(r=>r.dispose()):n.material.dispose())}),e.remove(t))}function ge(e,t){const n=new ee;if(!t.is_dorn)return e.add(n),n;const r=new Z({color:12895428,flatShading:!1}),a=.2,o=t.d_d/2/1e3,s=new x(new lt(o,o,a,16),r),c=X();return s.position.set(c.centerX,c.centerY+a/2,c.centerZ),s.castShadow=!0,s.receiveShadow=!0,n.add(s),e.add(n),n}function we(e,t){t&&(t.traverse(n=>{n instanceof x&&(n.geometry.dispose(),Array.isArray(n.material)?n.material.forEach(r=>r.dispose()):n.material.dispose())}),e.remove(t))}let N=[];function pe(e,t,n,r,a,o=0,s=0){const c=document.createElement("canvas"),i=c.getContext("2d");if(!i)return;const d=.5;c.width=512*d,c.height=128*d,i.font="Bold 19px Arial",i.fillStyle="#ff0000ff",i.textAlign="center",i.textBaseline="middle",i.lineWidth=3,i.fillText(a,c.width/2,c.height/2);const l=new Ae(c),f=new Te({map:l,transparent:!0,side:dt}),u=new Pe(.24,.072),_=new x(u,f),h=new w(n[0]-t[0],0,n[2]-t[2]).normalize(),m=new w(-h.z,0,h.x),p=(t[0]+n[0])/2+o+m.x*r,v=(t[2]+n[2])/2+s+m.z*r;_.position.set(p,t[1],v),_.rotation.x=-Math.PI/2,_.rotation.z=Math.atan2(h.z,h.x)+Math.PI,e.add(_),N.push(_)}function ve(e,t,n,r,a,o=.05){const s=new w(-r.z,0,r.x).normalize(),c=new G().setFromPoints([new w(t.x-s.x*o/2,t.y,t.z-s.z*o/2),new w(t.x+s.x*o/2,t.y,t.z+s.z*o/2)]),i=new B(c,a);e.add(i),N.push(i);const d=new G().setFromPoints([new w(n.x-s.x*o/2,n.y,n.z-s.z*o/2),new w(n.x+s.x*o/2,n.y,n.z+s.z*o/2)]),l=new B(d,a);e.add(l),N.push(l)}function j(e){N.forEach(t=>{e.remove(t),t instanceof x&&(t.geometry&&t.geometry.dispose(),t.material instanceof W&&t.material.dispose()),t instanceof B&&(t.geometry&&t.geometry.dispose(),t.material instanceof W&&t.material.dispose()),t instanceof Ie&&t.material instanceof W&&t.material.dispose()}),N=[]}function Me(e){j(e);const t=Ee(O),n=te(t.a,t.b),r=new ft({color:16711680}),a=.05,o=t.b/1e3,s=t.a/1e3,c=(n[1][0]+n[2][0])/2,i=n[1][1],d=(n[1][2]+n[2][2])/2,l=new w(c-a,i,d-o/2),f=new w(c-a,i,d+o/2),u=new G().setFromPoints([l,f]),_=new B(u,r);e.add(_),N.push(_);const h=new w().subVectors(f,l).normalize();ve(e,l,f,h,r),pe(e,[l.x,l.y,l.z],[f.x,f.y,f.z],.02,`b = ${t.b} mm`,0,0);const m=(n[0][0]+n[1][0])/2,p=n[0][1],v=(n[0][2]+n[1][2])/2,M=new w(m-s/2,p,v-a),b=new w(m+s/2,p,v-a),C=new G().setFromPoints([M,b]),D=new B(C,r);e.add(D),N.push(D);const I=new w().subVectors(b,M).normalize();ve(e,M,b,I,r),pe(e,[M.x,M.y,M.z],[b.x,b.y,b.z],-.02,`a = ${t.a} mm`,0,0)}var Wt=Se('<div class="scene-container svelte-5boshl"></div>');function on(e,t){ye(t,!1),T(t,"autoRotate",8,!1);let n;const r=new w(-3.6366326492655574,2.6403115127435544,-1.3328222766488578);let a=We(),o,s,c,i,d,l,f,u,_,h,m,p,v;Xe(async()=>{o=Gt(),c=Lt(A(a)),kt(),_=Bt(o),s=ut(35),s.position.copy(r),v=O.subscribe(y=>{n=y,o&&f!==void 0&&(l&&he(o,l),f&&be(o,f),u&&we(o,u),j(o),l=_e(o,n.a,n.b),f=me(o,n).group,u=ge(o,n),Me(o))});const b=X(),C=[b.centerX,b.centerY,b.centerZ];i=_t(s,c,C),h=ht(c,s,i),m=Nt(A(a)),l=_e(o,n.a,n.b),f=me(o,n).group,u=ge(o,n),Me(o);const I=new x(new mt(.01,16,16),new Te({color:16711680}));I.position.set(b.centerX,b.centerY,b.centerZ),o.add(I);const S=1e3/30;let F=0;const E=y=>{p=requestAnimationFrame(E);const z=y-F;if(!(z<S)){if(F=y-z%S,Rt(y,s,i),bt(i),_&&s){const P=new w(0,500,500);P.applyQuaternion(s.quaternion),_.position.copy(s.position).add(P),i&&i.target&&(_.target.position.copy(i.target),_.target.updateMatrixWorld())}c.render(o,s)}};if(E(0),await Ue(),A(a)&&A(a)instanceof Element){let y=!1;d=new ResizeObserver(()=>{A(a)&&c&&s&&!y&&(y=!0,requestAnimationFrame(()=>{if(A(a)&&c&&s){const z=A(a).clientWidth,P=A(a).clientHeight;console.log(`Resizing renderer to ${z}x${P}`),s.aspect=z/P,s.updateProjectionMatrix(),c.setSize(z,P)}y=!1}))}),d.observe(A(a))}console.log("ShearDeformationScene initialized")}),$e(()=>{p!==void 0&&cancelAnimationFrame(p),h&&h(),m&&m(),v&&v(),d&&d.disconnect(),i&&i.dispose(),c&&c.dispose(),l&&o&&he(o,l),f&&o&&be(o,f),u&&o&&we(o,u),o&&j(o),console.log("ShearDeformationScene destroyed")}),ze();var M=Wt();gt(M,b=>Je(a,b),()=>A(a)),Q(e,M),xe()}export{nn as P,on as S,vt as a,tn as b,xt as c,$ as p,O as s};
