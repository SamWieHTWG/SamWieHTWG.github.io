import"./CWj6FrbW.js";import"./Cj7Y9mmT.js";import{D as K,av as _e,aj as pe,al as we,F as k,G as R,I as X,y as ae,w as ne,A as t,J as N,P as q,O as ce,K as G,t as Y,M as W,L as U,ah as ye,ay as S,N as Te,C as Fe,ax as Be,aT as Ce,ap as Pe,am as Ee,a4 as Le}from"./CFSqIZJi.js";import{i as be,p as oe}from"./BKknmLaK.js";import{e as de,i as ue,S as se,a as J,c as Ae}from"./C34Z0wLV.js";import{i as xe}from"./BeWs9wo8.js";import{s as Q,a as ee}from"./PXgFDcwA.js";import{g as Re}from"./BRm1vDHm.js";import{p as Ie}from"./Ci62YUhJ.js";import"./B0_pXvnv.js";import{C as De,G as Oe,R as Ve,a as le,t as C}from"./CDS1BmQ1.js";import{E as z,H as ke,I as Ge,J as ze,K as Me,O as Ue,Q as Ne,L as We,f as je,i as ge,g as He,h as qe,R as ie,V as Z,j as me,a as Ye,b as Je,M as Ke,S as Xe,c as Ze,l as Qe,U as Se,x as et,y as tt,z as rt,A as at,W as nt,X as st,Y as ot,G as lt,Z as it,_ as ct,D as dt,$ as ut,a0 as pt,a1 as gt,T as mt,a2 as ft,a3 as fe}from"./DWqb9k5e.js";import{b as re}from"./D4O4QX4J.js";import{b as ht}from"./D_Oerkrh.js";var vt=k('<p class="footer__version svelte-17hdye4"> </p>'),$t=k('<button class="footer__link svelte-17hdye4" style="color: #000000;"> </button>'),_t=k('<nav class="footer__nav svelte-17hdye4"></nav>'),bt=k('<p class="footer__copyright svelte-17hdye4"> </p>'),xt=k("<!> <!> <!>",1),St=k('<footer class="footer svelte-17hdye4"><!></footer>');function Yt(_,p){K(p,!1);const[b,h]=Q(),F=()=>ee(Ie,"$page",b),c=ne(),l=ne(),g=new Date().getFullYear();let u=ne("");_e(async()=>{try{const o=await(await fetch("/version.json")).json();ae(u,o.version)}catch(n){console.error("Failed to load version:",n)}});function r(n){Re(n)}pe(()=>F(),()=>{ae(c,F().params.lang||"de")}),pe(()=>t(c),()=>{ae(l,[{href:`/${t(c)}/impressum`,label:"Impressum"},{href:`/${t(c)}/privacy`,label:"Privacy"}])}),we(),xe();var e=St(),a=N(e);De(a,{children:(n,o)=>{Oe(n,{noGutter:!0,padding:!0,children:(i,d)=>{Ve(i,{children:(s,w)=>{var y=xt(),T=q(y);le(T,{sm:16,md:16,lg:4,children:(f,A)=>{var $=ce(),B=q($);{var E=m=>{var I=vt(),v=N(I);G(I),Y(()=>W(v,`v${t(u)??""}`)),R(m,I)};be(B,m=>{t(u)&&m(E)})}R(f,$)},$$slots:{default:!0}});var P=U(T,2);le(P,{sm:16,md:16,lg:8,children:(f,A)=>{var $=_t();de($,5,()=>t(l),ue,(B,E)=>{var m=$t(),I=N(m,!0);G(m),Y(()=>W(I,t(E).label)),ye("click",m,()=>r(t(E).href)),R(B,m)}),G($),R(f,$)},$$slots:{default:!0}});var L=U(P,2);le(L,{sm:16,md:16,lg:4,children:(f,A)=>{var $=bt(),B=N($);G($),Y(()=>W(B,`© ${g??""} statiqs`)),R(f,$)},$$slots:{default:!0}}),R(s,y)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),G(e),R(_,e),X(),h()}var wt=k("<!> <!>",1);function Jt(_,p){K(p,!0);const[b,h]=Q();let c=S(()=>ee(z,"$parameterStore",b));function l(r){var n;const a=(r.detail||((n=r.target)==null?void 0:n.value))==="rund";z.updateField("isRound",a)}const g=S(()=>C("bridgeBearing.bearingShape")),u=S(()=>t(c).isRound?"rund":"rechteckig");se(_,{get labelText(){return t(g)},get selected(){return t(u)},light:!0,$$events:{change:l},children:(r,e)=>{var a=wt(),n=q(a);const o=S(()=>C("bridgeBearing.rectangular"));J(n,{value:"rechteckig",get text(){return t(o)}});var i=U(n,2);const d=S(()=>C("bridgeBearing.round"));J(i,{value:"rund",get text(){return t(d)}}),R(r,a)},$$slots:{default:!0}}),X(),h()}function Kt(_,p){K(p,!0);const[b,h]=Q();let c=S(()=>ee(z,"$parameterStore",b)),l=S(Ge),g=S(()=>ke.map(o=>o.diameter)),u=S(()=>t(c).isRound?t(g).findIndex(o=>o===t(c).d):t(l).findIndex(o=>o.length===t(c).a&&o.width===t(c).b)),r=S(()=>t(c).isRound?t(g).map((o,i)=>({value:i,label:`${o} mm`})):t(l).map((o,i)=>({value:i,label:`${o.length} mm x ${o.width} mm`})));function e(o){var d;const i=parseInt(((d=o.target)==null?void 0:d.value)||o.detail);if(t(c).isRound){const s=t(g)[i];s&&z.updateField("d",s)}else{const s=t(l)[i];s&&(z.updateField("a",s.length),z.updateField("b",s.width))}}const a=S(()=>t(c).isRound?C("bridgeBearing.dimensionsDiameter"):C("bridgeBearing.dimensionsLengthWidth")),n=S(()=>t(u).toString());se(_,{get labelText(){return t(a)},get selected(){return t(n)},light:!0,$$events:{change:e},children:(o,i)=>{var d=ce(),s=q(d);de(s,17,()=>t(r),ue,(w,y)=>{const T=S(()=>t(y).value.toString());J(w,{get value(){return t(T)},get text(){return t(y).label}})}),R(o,d)},$$slots:{default:!0}}),X(),h()}function Xt(_,p){K(p,!0);const[b,h]=Q();let c=S(()=>ee(z,"$parameterStore",b)),l=S(()=>t(c).isRound?ze(t(c).d).map(e=>({value:`${e.n}-${e.t_1}`,label:`${C("bridgeBearing.layerCount")} ${e.n}, ${C("bridgeBearing.layerHeight")} ${e.t_1}mm`,n:e.n,t_1:e.t_1})):Me(t(c).a,t(c).b).map(e=>({value:`${e.n}-${e.t_1}`,label:`${C("bridgeBearing.layerCount")} ${e.n}, ${C("bridgeBearing.layerHeight")} ${e.t_1}mm`,n:e.n,t_1:e.t_1})));Te(()=>{const e=`${t(c).n}-${t(c).t_1}`;if(!t(l).some(n=>n.value===e)&&t(l).length>0){const n=t(l)[0];z.update(o=>({...o,n:n.n,t_1:n.t_1}))}});function g(e){var s;const a=((s=e.target)==null?void 0:s.value)||e.detail,[n,o]=a.split("-"),i=parseInt(n),d=parseFloat(o);z.update(w=>({...w,n:i,t_1:d}))}const u=S(()=>C("bridgeBearing.elastomerLayers")),r=S(()=>`${t(c).n}-${t(c).t_1}`);se(_,{get labelText(){return t(u)},get selected(){return t(r)},light:!0,$$events:{change:g},children:(e,a)=>{var n=ce(),o=q(n);de(o,17,()=>t(l),ue,(i,d)=>{const s=S(()=>t(d).value.toString());J(i,{get value(){return t(s)},get text(){return t(d).label}})}),R(e,n)},$$slots:{default:!0}}),X(),h()}var yt=k('<span slot="tooltipText"> <br/> <br/> <br/> <br/> <br/> <br/> </span>'),Tt=k("<!> <!>",1),Ft=k('<div class="select-with-tooltip svelte-17kum7t"><div class="label-container svelte-17kum7t"><span class="label-text svelte-17kum7t"> </span> <!></div> <div style="margin-top: calc(-1 * var(--cds-spacing-03));"></div> <!></div>');function Zt(_,p){K(p,!0);const[b,h]=Q();let c=S(()=>ee(z,"$parameterStore",b));function l(i){var w;const s=(i.detail||((w=i.target)==null?void 0:w.value))==="Typ C"?"C":"B";z.updateField("l_typ",s)}var g=Ft(),u=N(g),r=N(u),e=N(r,!0);G(r);var a=U(r,2);Ue(a,{get icon(){return Ne},$$slots:{tooltipText:(i,d)=>{var s=yt(),w=N(s,!0),y=U(w,4),T=U(y,4),P=U(T,4);G(s),Y((L,f,A,$)=>{W(w,L),W(y,` ${f??""}`),W(T,` ${A??""}`),W(P,` ${$??""}`)},[()=>C("bridgeBearing.typeBTooltip"),()=>C("bridgeBearing.typeCTooltip"),()=>C("bridgeBearing.typeCRequired"),()=>C("bridgeBearing.typeB_DBRestriction")]),R(i,s)}}}),G(u);var n=U(u,4);const o=S(()=>t(c).l_typ==="C"?"Typ C":"Typ B");se(n,{labelText:"",get selected(){return t(o)},light:!0,$$events:{change:l},children:(i,d)=>{var s=Tt(),w=q(s);const y=S(()=>C("bridgeBearing.typeB"));J(w,{value:"Typ B",get text(){return t(y)}});var T=U(w,2);const P=S(()=>C("bridgeBearing.typeC"));J(T,{value:"Typ C",get text(){return t(P)}}),R(i,s)},$$slots:{default:!0}}),G(g),Y(i=>W(e,i),[()=>C("bridgeBearing.bearingType")]),R(_,g),X(),h()}class Bt extends We{constructor(p){super(p)}load(p,b,h,F){const c=this,l=new je(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(p,function(g){try{b(c.parse(g))}catch(u){F?F(u):console.error(u),c.manager.itemError(p)}},h,F)}parse(p){function b(r){const e=new DataView(r),a=32/8*3+32/8*3*3+16/8,n=e.getUint32(80,!0);if(80+32/8+n*a===e.byteLength)return!0;const i=[115,111,108,105,100];for(let d=0;d<5;d++)if(h(i,e,d))return!1;return!0}function h(r,e,a){for(let n=0,o=r.length;n<o;n++)if(r[n]!==e.getUint8(a+n))return!1;return!0}function F(r){const e=new DataView(r),a=e.getUint32(80,!0);let n,o,i,d=!1,s,w,y,T,P;for(let m=0;m<70;m++)e.getUint32(m,!1)==1129270351&&e.getUint8(m+4)==82&&e.getUint8(m+5)==61&&(d=!0,s=new Float32Array(a*3*3),w=e.getUint8(m+6)/255,y=e.getUint8(m+7)/255,T=e.getUint8(m+8)/255,P=e.getUint8(m+9)/255);const L=84,f=12*4+2,A=new ge,$=new Float32Array(a*3*3),B=new Float32Array(a*3*3),E=new He;for(let m=0;m<a;m++){const I=L+m*f,v=e.getFloat32(I,!0),D=e.getFloat32(I+4,!0),V=e.getFloat32(I+8,!0);if(d){const x=e.getUint16(I+48,!0);(x&32768)===0?(n=(x&31)/31,o=(x>>5&31)/31,i=(x>>10&31)/31):(n=w,o=y,i=T)}for(let x=1;x<=3;x++){const j=I+x*12,O=m*3*3+(x-1)*3;$[O]=e.getFloat32(j,!0),$[O+1]=e.getFloat32(j+4,!0),$[O+2]=e.getFloat32(j+8,!0),B[O]=v,B[O+1]=D,B[O+2]=V,d&&(E.setRGB(n,o,i,qe),s[O]=E.r,s[O+1]=E.g,s[O+2]=E.b)}}return A.setAttribute("position",new ie($,3)),A.setAttribute("normal",new ie(B,3)),d&&(A.setAttribute("color",new ie(s,3)),A.hasColors=!0,A.alpha=P),A}function c(r){const e=new ge,a=/solid([\s\S]*?)endsolid/g,n=/facet([\s\S]*?)endfacet/g,o=/solid\s(.+)/;let i=0;const d=/[\s]+([+-]?(?:\d*)(?:\.\d*)?(?:[eE][+-]?\d+)?)/.source,s=new RegExp("vertex"+d+d+d,"g"),w=new RegExp("normal"+d+d+d,"g"),y=[],T=[],P=[],L=new Z;let f,A=0,$=0,B=0;for(;(f=a.exec(r))!==null;){$=B;const E=f[0],m=(f=o.exec(E))!==null?f[1]:"";for(P.push(m);(f=n.exec(E))!==null;){let D=0,V=0;const x=f[0];for(;(f=w.exec(x))!==null;)L.x=parseFloat(f[1]),L.y=parseFloat(f[2]),L.z=parseFloat(f[3]),V++;for(;(f=s.exec(x))!==null;)y.push(parseFloat(f[1]),parseFloat(f[2]),parseFloat(f[3])),T.push(L.x,L.y,L.z),D++,B++;V!==1&&console.error("THREE.STLLoader: Something isn't right with the normal of face number "+i),D!==3&&console.error("THREE.STLLoader: Something isn't right with the vertices of face number "+i),i++}const I=$,v=B-$;e.userData.groupNames=P,e.addGroup(I,v,A),A++}return e.setAttribute("position",new me(y,3)),e.setAttribute("normal",new me(T,3)),e}function l(r){return typeof r!="string"?new TextDecoder().decode(r):r}function g(r){if(typeof r=="string"){const e=new Uint8Array(r.length);for(let a=0;a<r.length;a++)e[a]=r.charCodeAt(a)&255;return e.buffer||e}else return r}const u=g(p);return b(u)?F(u):c(l(p))}}function Ct(_){Ye(_,-20)}function Pt(_){Je(_,{x:0,y:500,z:0})}function Et(_,p="/Widerlager_klein.stl",b,h,F,c=0){new Bt().load(p,g=>{g.computeBoundingBox(),g.computeVertexNormals();const u=g.boundingBox,r=new Z;u.getSize(r);const e=new Ke({color:Xe,specular:1118481,shininess:30}),a=new Ze(g,e);g.computeBoundingBox();const n=new Z,o=new Z;g.boundingBox.getCenter(n),g.boundingBox.getSize(o),g.translate(-n.x,-n.y,-n.z),a.scale.setScalar(1),a.position.set(0,c,0),a.rotation.x=-Math.PI/2,a.castShadow=!0,a.receiveShadow=!0,_.add(a),b&&b(a)},()=>{},g=>{console.error("Error loading STL file:",g)})}let he=[];function ve(_){he.forEach(p=>{_.remove(p),p.geometry.dispose(),p.material instanceof Qe&&p.material.dispose()}),he=[]}function Lt(){const{subscribe:_,set:p,update:b}=Fe({renderer:null,camera:null,controls:null,scene:null,reloadTrigger:0});return{subscribe:_,setScene:h=>{b(F=>({...F,...h}))},reset:()=>{b(h=>({renderer:null,camera:null,controls:null,scene:null,reloadTrigger:h.reloadTrigger}))},reload:()=>{b(h=>({...h,reloadTrigger:h.reloadTrigger+1}))},captureScreenshot:async(h=!1)=>new Promise((F,c)=>{const l={renderer:null,camera:null,controls:null,scene:null,reloadTrigger:0};if(_(r=>{l.renderer=r.renderer,l.camera=r.camera,l.controls=r.controls,l.scene=r.scene,l.reloadTrigger=r.reloadTrigger})(),!l.renderer||!l.camera||!l.scene){c(new Error("Scene not initialized"));return}const u=()=>{if(!l.renderer||!l.camera||!l.scene){c(new Error("Scene not initialized"));return}l.renderer.render(l.scene,l.camera);const r=l.renderer.domElement.toDataURL("image/png");F(r)};h?(Se(),setTimeout(u,1200)):u()})}}const $e=Lt();var At=k('<!> <div class="top-view-button-container svelte-51mmbc"><!></div>',1),Rt=k('<div id="container" class="svelte-51mmbc"><!></div>');function Qt(_,p){K(p,!1);let b=oe(p,"parameters",8,void 0),h=oe(p,"autoRotate",8,!1),F=oe(p,"showTooltip",8,!0);const c=[.3,.6,0],l=new Z(3.033053660420776,2.3737696385820284,-.9540866817375618),g=-.15;let u=ne(),r,e,a,n,o,i,d,s,w,y,T,P,L;function f(){return pt(gt)}function A(v){return v.isRound?v.diameter>350?`${re}/Widerlager_groß.stl`:`${re}/Widerlager_klein.stl`:v.breiteElastomer>300?`${re}/Widerlager_groß.stl`:`${re}/Widerlager_klein.stl`}function $(v){const D=A(v);if(D===w)return;s&&(r.remove(s),s.geometry.dispose(),Array.isArray(s.material)?s.material.forEach(x=>x.dispose()):s.material.dispose(),s=void 0),w=D;const V=D.includes("klein")?g:0;Et(r,D,x=>{s=x},void 0,void 0,V)}function B(v){if(!o||!i){console.warn("CreateElastomer or elastomerGroup not initialized");return}i.clear(),o.updateElastomer(v,c).forEach(V=>{i.add(V)}),ve(r),$(v)}_e(async()=>{r=et(),a=tt(t(u)),Ct(r),Pt(r),e=rt(35),e.position.copy(l),n=at(e,a,c),$e.setScene({renderer:a,camera:e,controls:n,scene:r}),y=nt(a,e,n),T=st(t(u),n,h()),P=ot(t(u)),o=new it(r,e),i=new lt,r.add(i);const v=b()||f();o.createElastomer(v,c).forEach(M=>{i.add(M)}),$(v);const x=1e3/30;let j=0;const O=M=>{L=requestAnimationFrame(O);const H=M-j;H<x||(j=M-H%x,ct(M,e,n),dt(n),a.render(r,e))};if(O(0),fe(B),await Be(),t(u)&&t(u)instanceof Element){let M=!1;d=new ResizeObserver(()=>{t(u)&&a&&e&&!M&&(M=!0,requestAnimationFrame(()=>{if(t(u)&&a&&e){const H=t(u).clientWidth,te=t(u).clientHeight;a.setSize(H,te),e.aspect=H/te,e.updateProjectionMatrix()}M=!1}))}),d.observe(t(u))}}),Ce(()=>{$e.reset(),L!==void 0&&cancelAnimationFrame(L),a&&ut(a),y==null||y(),T==null||T(),P==null||P(),ve(r),s&&(r.remove(s),s.geometry.dispose(),Array.isArray(s.material)?s.material.forEach(v=>v.dispose()):s.material.dispose(),s=void 0),a==null||a.dispose(),fe(()=>{}),d==null||d.disconnect()}),xe();var E=Rt(),m=N(E);{var I=v=>{var D=At(),V=q(D);mt(V,{});var x=U(V,2),j=N(x);ft(j,{size:"small",kind:"secondary",$$events:{click:()=>Se()},children:(O,M)=>{Pe();var H=Ee();Y(te=>W(H,te),[()=>C("bridgeBearing.scene.topView")],Le),R(O,H)},$$slots:{default:!0}}),G(x),R(v,D)};be(m,v=>{F()&&v(I)})}return G(E),ht(E,v=>ae(u,v),()=>t(u)),R(_,E),Ae(p,"updateElastomer",B),X({updateElastomer:B})}export{Jt as B,Yt as F,Qt as T,Kt as a,Xt as b,Zt as c,$e as s};
