import{q as de,h as xe,aK as Se,aL as be,aM as ye,A as Te,B as Fe,p as Be,d as Ce,U as Le,r as Y,v as j,x as U,af as K,y as N,z,a7 as Q,T as t,ag as _,ab as Pe,ac as Ee,Y as Ae,ae as Re,aN as Ie,X as De}from"./BvKSVf51.js";import{f as M,a as R,c as he}from"./DXz0Kw33.js";import"./nQlYGMop.js";import{s as W}from"./n_GZXeQT.js";import{e as se,i as ie,S as ee,a as q,t as C,c as ke}from"./COkdQsEl.js";import{e as Oe,s as te,b as ae}from"./QHAL4GFR.js";import{i as ve}from"./BalNe5Rk.js";import{g as Me}from"./CaSjH2bv.js";import{C as Ge,G as Ve,R as Ne,a as re}from"./CkiPhp6w.js";import{p as k,r as ze,g as Ue,a as We,b as He,T as qe,I as Ye,L as je,F as Xe,B as ue,C as $e,S as Ze,c as ne,V as H,d as pe,e as Ke,f as Je,W as Qe,h as et,M as _e,P as tt,i as we,H as at,j as rt,D as nt,k as ot,l as st,m as it,n as lt,s as ct,o as dt,q as ut,G as pt,t as gt,u as mt,v as ft,w as ht,x as vt,y as $t,z as ge}from"./B2aZwDIm.js";import{p as oe,i as _t}from"./DdfLy4nw.js";import{b as wt}from"./BsNALBF4.js";import{b as J}from"./BZUiTs62.js";function Jt(m,s,$){de&&xe();var w=m,b=Le,i,l=Se()?be:ye;Te(()=>{l(b,b=s())&&(i&&Fe(i),i=Be(()=>$(w)))}),de&&(w=Ce)}var xt=M('<button class="footer__link svelte-7honmp" style="color: #000000;"> </button>'),St=M('<nav class="footer__nav svelte-7honmp"></nav>'),bt=M('<p class="footer__copyright svelte-7honmp"> </p>'),yt=M("<!> <!> <!>",1),Tt=M('<footer class="footer svelte-7honmp"><!></footer>');function Qt(m,s){Y(s,!1);const $=new Date().getFullYear(),w=[{href:"/impressum",label:"Impressum"},{href:"/privacy",label:"Privacy"}];function b(u){Me(u)}ve();var i=Tt(),l=U(i);Ge(l,{children:(u,S)=>{Ve(u,{noGutter:!0,padding:!0,children:(n,e)=>{Ne(n,{children:(r,a)=>{var o=yt(),d=K(o);re(d,{sm:16,md:16,lg:4});var c=N(d,2);re(c,{sm:16,md:16,lg:8,children:(g,y)=>{var v=St();se(v,5,()=>w,ie,(T,F)=>{var f=xt(),L=U(f,!0);z(f),Q(()=>W(L,t(F).label)),Oe("click",f,()=>b(t(F).href)),R(T,f)}),z(v),R(g,v)},$$slots:{default:!0}});var p=N(c,2);re(p,{sm:16,md:16,lg:4,children:(g,y)=>{var v=bt(),T=U(v);z(v),Q(()=>W(T,`© ${$??""} statiqs`)),R(g,v)},$$slots:{default:!0}}),R(r,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),z(i),R(m,i),j()}var Ft=M("<!> <!>",1);function ea(m,s){Y(s,!0);const[$,w]=te();let i=_(()=>ae(k,"$parameterStore",$));function l(n){var a;const r=(n.detail||((a=n.target)==null?void 0:a.value))==="rund";k.updateField("isRound",r)}const u=_(()=>C("bridgeBearing.bearingShape")),S=_(()=>t(i).isRound?"rund":"rechteckig");ee(m,{get labelText(){return t(u)},get selected(){return t(S)},light:!0,$$events:{change:l},children:(n,e)=>{var r=Ft(),a=K(r);const o=_(()=>C("bridgeBearing.rectangular"));q(a,{value:"rechteckig",get text(){return t(o)}});var d=N(a,2);const c=_(()=>C("bridgeBearing.round"));q(d,{value:"rund",get text(){return t(c)}}),R(n,r)},$$slots:{default:!0}}),j(),w()}function ta(m,s){Y(s,!0);const[$,w]=te();let i=_(()=>ae(k,"$parameterStore",$)),l=_(Ue),u=_(()=>ze.map(o=>o.diameter)),S=_(()=>t(i).isRound?t(u).findIndex(o=>o===t(i).d):t(l).findIndex(o=>o.length===t(i).a&&o.width===t(i).b)),n=_(()=>t(i).isRound?t(u).map((o,d)=>({value:d,label:`${o} mm`})):t(l).map((o,d)=>({value:d,label:`${o.length} mm x ${o.width} mm`})));function e(o){var c;const d=parseInt(((c=o.target)==null?void 0:c.value)||o.detail);if(t(i).isRound){const p=t(u)[d];p&&k.updateField("d",p)}else{const p=t(l)[d];p&&(k.updateField("a",p.length),k.updateField("b",p.width))}}const r=_(()=>t(i).isRound?C("bridgeBearing.dimensionsDiameter"):C("bridgeBearing.dimensionsLengthWidth")),a=_(()=>t(S).toString());ee(m,{get labelText(){return t(r)},get selected(){return t(a)},light:!0,$$events:{change:e},children:(o,d)=>{var c=he(),p=K(c);se(p,17,()=>t(n),ie,(g,y)=>{const v=_(()=>t(y).value.toString());q(g,{get value(){return t(v)},get text(){return t(y).label}})}),R(o,c)},$$slots:{default:!0}}),j(),w()}function aa(m,s){Y(s,!0);const[$,w]=te();let i=_(()=>ae(k,"$parameterStore",$)),l=_(()=>t(i).isRound?We(t(i).d).map(e=>({value:`${e.n}-${e.t_1}`,label:`${C("bridgeBearing.layerCount")} ${e.n}, ${C("bridgeBearing.layerHeight")} ${e.t_1}mm`,n:e.n,t_1:e.t_1})):He(t(i).a,t(i).b).map(e=>({value:`${e.n}-${e.t_1}`,label:`${C("bridgeBearing.layerCount")} ${e.n}, ${C("bridgeBearing.layerHeight")} ${e.t_1}mm`,n:e.n,t_1:e.t_1})));Pe(()=>{const e=`${t(i).n}-${t(i).t_1}`;if(!t(l).some(a=>a.value===e)&&t(l).length>0){const a=t(l)[0];k.update(o=>({...o,n:a.n,t_1:a.t_1}))}});function u(e){var p;const r=((p=e.target)==null?void 0:p.value)||e.detail,[a,o]=r.split("-"),d=parseInt(a),c=parseFloat(o);k.update(g=>({...g,n:d,t_1:c}))}const S=_(()=>C("bridgeBearing.elastomerLayers")),n=_(()=>`${t(i).n}-${t(i).t_1}`);ee(m,{get labelText(){return t(S)},get selected(){return t(n)},light:!0,$$events:{change:u},children:(e,r)=>{var a=he(),o=K(a);se(o,17,()=>t(l),ie,(d,c)=>{const p=_(()=>t(c).value.toString());q(d,{get value(){return t(p)},get text(){return t(c).label}})}),R(e,a)},$$slots:{default:!0}}),j(),w()}var Bt=M('<span slot="tooltipText"> <br/> <br/> <br/> <br/> <br/> <br/> </span>'),Ct=M("<!> <!>",1),Lt=M('<div class="select-with-tooltip svelte-17kum7t"><div class="label-container svelte-17kum7t"><span class="label-text svelte-17kum7t"> </span> <!></div> <div style="margin-top: calc(-1 * var(--cds-spacing-03));"></div> <!></div>');function ra(m,s){Y(s,!0);const[$,w]=te();let i=_(()=>ae(k,"$parameterStore",$));function l(d){var g;const p=(d.detail||((g=d.target)==null?void 0:g.value))==="Typ C"?"C":"B";k.updateField("l_typ",p)}var u=Lt(),S=U(u),n=U(S),e=U(n,!0);z(n);var r=N(n,2);qe(r,{get icon(){return Ye},$$slots:{tooltipText:(d,c)=>{var p=Bt(),g=U(p,!0),y=N(g,4),v=N(y,4),T=N(v,4);z(p),Q((F,f,L,E)=>{W(g,F),W(y,` ${f??""}`),W(v,` ${L??""}`),W(T,` ${E??""}`)},[()=>C("bridgeBearing.typeBTooltip"),()=>C("bridgeBearing.typeCTooltip"),()=>C("bridgeBearing.typeCRequired"),()=>C("bridgeBearing.typeB_DBRestriction")]),R(d,p)}}}),z(S);var a=N(S,4);const o=_(()=>t(i).l_typ==="C"?"Typ C":"Typ B");ee(a,{labelText:"",get selected(){return t(o)},light:!0,$$events:{change:l},children:(d,c)=>{var p=Ct(),g=K(p);const y=_(()=>C("bridgeBearing.typeB"));q(g,{value:"Typ B",get text(){return t(y)}});var v=N(g,2);const T=_(()=>C("bridgeBearing.typeC"));q(v,{value:"Typ C",get text(){return t(T)}}),R(d,p)},$$slots:{default:!0}}),z(u),Q(d=>W(e,d),[()=>C("bridgeBearing.bearingType")]),R(m,u),j(),w()}class Pt extends je{constructor(s){super(s)}load(s,$,w,b){const i=this,l=new Xe(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(s,function(u){try{$(i.parse(u))}catch(S){b?b(S):console.error(S),i.manager.itemError(s)}},w,b)}parse(s){function $(n){const e=new DataView(n),r=32/8*3+32/8*3*3+16/8,a=e.getUint32(80,!0);if(80+32/8+a*r===e.byteLength)return!0;const d=[115,111,108,105,100];for(let c=0;c<5;c++)if(w(d,e,c))return!1;return!0}function w(n,e,r){for(let a=0,o=n.length;a<o;a++)if(n[a]!==e.getUint8(r+a))return!1;return!0}function b(n){const e=new DataView(n),r=e.getUint32(80,!0);let a,o,d,c=!1,p,g,y,v,T;for(let x=0;x<70;x++)e.getUint32(x,!1)==1129270351&&e.getUint8(x+4)==82&&e.getUint8(x+5)==61&&(c=!0,p=new Float32Array(r*3*3),g=e.getUint8(x+6)/255,y=e.getUint8(x+7)/255,v=e.getUint8(x+8)/255,T=e.getUint8(x+9)/255);const F=84,f=12*4+2,L=new ue,E=new Float32Array(r*3*3),I=new Float32Array(r*3*3),D=new $e;for(let x=0;x<r;x++){const G=F+x*f,X=e.getFloat32(G,!0),h=e.getFloat32(G+4,!0),P=e.getFloat32(G+8,!0);if(c){const B=e.getUint16(G+48,!0);(B&32768)===0?(a=(B&31)/31,o=(B>>5&31)/31,d=(B>>10&31)/31):(a=g,o=y,d=v)}for(let B=1;B<=3;B++){const O=G+B*12,A=x*3*3+(B-1)*3;E[A]=e.getFloat32(O,!0),E[A+1]=e.getFloat32(O+4,!0),E[A+2]=e.getFloat32(O+8,!0),I[A]=X,I[A+1]=h,I[A+2]=P,c&&(D.setRGB(a,o,d,Ze),p[A]=D.r,p[A+1]=D.g,p[A+2]=D.b)}}return L.setAttribute("position",new ne(E,3)),L.setAttribute("normal",new ne(I,3)),c&&(L.setAttribute("color",new ne(p,3)),L.hasColors=!0,L.alpha=T),L}function i(n){const e=new ue,r=/solid([\s\S]*?)endsolid/g,a=/facet([\s\S]*?)endfacet/g,o=/solid\s(.+)/;let d=0;const c=/[\s]+([+-]?(?:\d*)(?:\.\d*)?(?:[eE][+-]?\d+)?)/.source,p=new RegExp("vertex"+c+c+c,"g"),g=new RegExp("normal"+c+c+c,"g"),y=[],v=[],T=[],F=new H;let f,L=0,E=0,I=0;for(;(f=r.exec(n))!==null;){E=I;const D=f[0],x=(f=o.exec(D))!==null?f[1]:"";for(T.push(x);(f=a.exec(D))!==null;){let h=0,P=0;const B=f[0];for(;(f=g.exec(B))!==null;)F.x=parseFloat(f[1]),F.y=parseFloat(f[2]),F.z=parseFloat(f[3]),P++;for(;(f=p.exec(B))!==null;)y.push(parseFloat(f[1]),parseFloat(f[2]),parseFloat(f[3])),v.push(F.x,F.y,F.z),h++,I++;P!==1&&console.error("THREE.STLLoader: Something isn't right with the normal of face number "+d),h!==3&&console.error("THREE.STLLoader: Something isn't right with the vertices of face number "+d),d++}const G=E,X=I-E;e.userData.groupNames=T,e.addGroup(G,X,L),L++}return e.setAttribute("position",new pe(y,3)),e.setAttribute("normal",new pe(v,3)),e}function l(n){return typeof n!="string"?new TextDecoder().decode(n):n}function u(n){if(typeof n=="string"){const e=new Uint8Array(n.length);for(let r=0;r<n.length;r++)e[r]=n.charCodeAt(r)&255;return e.buffer||e}else return n}const S=u(s);return $(S)?b(S):i(l(s))}}function Et(){const m=new Ke;return m.background=new $e(10526880),m.fog=new Je(10526880,10,500),m}function At(m){const s=new Qe({antialias:!0});return s.setPixelRatio(window.devicePixelRatio),s.shadowMap.enabled=!0,s.shadowMap.type=et,m.appendChild(s.domElement),s}function Rt(m){const s=new _e(new tt(1e3,1e3),new we({color:13355979,depthWrite:!1}));s.rotation.x=-Math.PI/2,s.position.y=-20,s.receiveShadow=!0,m.add(s)}function It(m){m.add(new at(9272444,4802918,3)),Dt(m,0,500,0,16777215,2)}function Dt(m,s,$,w,b,i){const l=new nt(b,i);l.position.set(s,$,w),l.castShadow=!0;const u=1e3;l.shadow.camera.left=-1e3,l.shadow.camera.right=u,l.shadow.camera.top=u,l.shadow.camera.bottom=-1e3,l.shadow.camera.near=1,l.shadow.camera.far=2e3,l.shadow.mapSize.width=4096,l.shadow.mapSize.height=4096,l.shadow.radius=1,l.shadow.bias=-5e-4,m.add(l)}function kt(m,s="/Widerlager_klein.stl",$,w,b,i=0){new Pt().load(s,u=>{u.computeBoundingBox(),u.computeVertexNormals();const S=u.boundingBox,n=new H;S.getSize(n);const e=new we({color:rt,specular:1118481,shininess:30}),r=new _e(u,e);u.computeBoundingBox();const a=new H,o=new H;u.boundingBox.getCenter(a),u.boundingBox.getSize(o),u.translate(-a.x,-a.y,-a.z),r.scale.setScalar(1),r.position.set(0,i,0),r.rotation.x=-Math.PI/2,r.castShadow=!0,r.receiveShadow=!0,m.add(r),console.log("STL model loaded successfully"),$&&$(r)},u=>{console.log("Loading progress:",u.loaded/u.total*100+"%")},u=>{console.error("Error loading STL file:",u)})}function Ot(m){m.setAnimationLoop(null)}let me=[];function fe(m){me.forEach(s=>{m.remove(s),s.geometry.dispose(),s.material instanceof ot&&s.material.dispose()}),me=[]}var Mt=M('<div id="container" class="svelte-1rlwp8i"><!></div>');function na(m,s){Y(s,!1);let $=oe(s,"parameters",8,void 0),w=oe(s,"autoRotate",8,!1),b=oe(s,"showTooltip",8,!0);const i=[.3,.6,0],l=[i[0]-.4,i[1]+.01,i[2]-.95],u=new H(3.033053660420776,2.3737696385820284,-.9540866817375618),S=-.15;let n=Ae(),e,r,a,o,d,c,p,g,y,v,T,F,f;function L(){return ht(vt)}function E(h){return h.isRound?h.diameter>350?`${J}/Widerlager_groß.stl`:`${J}/Widerlager_klein.stl`:h.breiteElastomer>300?`${J}/Widerlager_groß.stl`:`${J}/Widerlager_klein.stl`}function I(h){const P=E(h);if(P===y){console.log("STL model unchanged, skipping reload");return}console.log(`Switching STL model from ${y||"none"} to ${P}`),g&&(e.remove(g),g.geometry.dispose(),Array.isArray(g.material)?g.material.forEach(O=>O.dispose()):g.material.dispose(),g=void 0),y=P;const B=P.includes("klein")?S:0;kt(e,P,O=>{g=O,console.log(`STL model loaded: ${P} with y-offset: ${B}`)},void 0,void 0,B)}function D(h){if(!d||!c){console.warn("CreateElastomer or elastomerGroup not initialized");return}c.clear(),console.log("tt_e in updateElastomer:",h.selectedHeight),d.updateElastomer(h,i).forEach(B=>{c.add(B)}),fe(e),I(h),console.log("Elastomer updated with new parameters:",h)}Ee(async()=>{e=Et(),a=At(t(n)),Rt(e),It(e),st(e,new H(l[0],l[1],l[2])),r=it(35),r.position.copy(u),o=lt(r,a,i),o.addEventListener("change",()=>{}),v=ct(a,r,o),T=dt(t(n),o,w()),F=ut(t(n)),d=new gt(e,r),c=new pt,e.add(c);const h=$()||L(),P=d.createElastomer(h,i);P.forEach(V=>{c.add(V)}),console.log(P[0]),I(h);const O=1e3/30;let A=0;const le=V=>{f=requestAnimationFrame(le);const Z=V-A;Z<O||(A=V-Z%O,mt(V,r,o),ft(o),a.render(e,r))};if(le(0),ge(D),await Re(),t(n)&&t(n)instanceof Element){let V=!1;p=new ResizeObserver(()=>{t(n)&&a&&r&&!V&&(V=!0,requestAnimationFrame(()=>{if(t(n)&&a&&r){const Z=t(n).clientWidth,ce=t(n).clientHeight;a.setSize(Z,ce),r.aspect=Z/ce,r.updateProjectionMatrix()}V=!1}))}),p.observe(t(n))}}),Ie(()=>{f!==void 0&&cancelAnimationFrame(f),a&&Ot(a),v==null||v(),T==null||T(),F==null||F(),fe(e),g&&(e.remove(g),g.geometry.dispose(),Array.isArray(g.material)?g.material.forEach(h=>h.dispose()):g.material.dispose(),g=void 0),a==null||a.dispose(),ge(()=>{}),p==null||p.disconnect()}),ve();var x=Mt(),G=U(x);{var X=h=>{$t(h)};_t(G,h=>{b()&&h(X)})}return z(x),wt(x,h=>De(n,h),()=>t(n)),R(m,x),ke(s,"updateElastomer",D),j({updateElastomer:D})}export{ea as B,Qt as F,na as T,ta as a,aa as b,ra as c,Jt as k};
