import{e as bs}from"../chunks/DCVLB-DA.js";import"../chunks/CWj6FrbW.js";import"../chunks/DEnO1wqN.js";import{j as qt,an as He,Q as he,O as Re,ao as it,R as E,ap as si,aJ as Ji,o as ge,aa as Qt,t as de,v as ne,k as Ut,y as Xe,A as rt,l as Ee,x as ce,al as lt,ag as zr,w as wr,D as xs,aM as Fn,bf as en,ak as Yt,z as We,C as Ii,m as wt,am as on,aL as $n,bc as qn,aK as Un,ai as nn,aj as Dr}from"../chunks/xnjwUe9F.js";import{i as Ht,b as li,f as At,r as un,c as Wi,s as Dt,d as Hn,k as ys,o as ws,e as Xt,g as xi,S as Ss,j as Cs,t as Te,G as Sr,R as Yi,C as Ei,a as ks}from"../chunks/BIRBT8L_.js";import{l as Et,p as oe,i as Ct,a as yi,s as Li,c as Gn,b as ln}from"../chunks/BazRWhrm.js";import{W as Ps,B as fr,z as Hi,F as Cr,T as Fr,I as $r,N as hn,w as cn,x as tn,y as Is,A as Ts}from"../chunks/DDuZ9Q6t.js";import{b as As,I as Gt,s as vi,L as Es,a as Ls,c as Ns,B as Rs,S as Os,d as Ms,l as Tn,e as fn,p as Ds,f as Vs}from"../chunks/CNp9g2vU.js";import{b as Bs}from"../chunks/1JpAZMUF.js";import{f as dn}from"../chunks/DR8CTt4r.js";import{b as ft,e as or,s as zs,C as sn,i as Vr,S as Fs,a as An,T as Wn}from"../chunks/DDQeRYnl.js";import{c as $s,F as Bi}from"../chunks/NBQrnO7a.js";import{b as Gi}from"../chunks/B2UNj1ym.js";import{c as En}from"../chunks/tP-YpXDB.js";var qs=Ji("<title> </title>"),Us=Ji('<svg><!><path d="M22 16L12 26 10.6 24.6 19.2 16 10.6 7.4 12 6z"></path></svg>');function Ln(ye,N){const B=Et(N,["children","$$slots","$$events","$$legacy"]),le=Et(B,["size","title"]);qt(N,!1);const j=Re(),A=Re();let ue=oe(N,"size",8,16),X=oe(N,"title",8,void 0);He(()=>(it(B),it(X())),()=>{he(j,B["aria-label"]||B["aria-labelledby"]||X())}),He(()=>(E(j),it(B)),()=>{he(A,{"aria-hidden":E(j)?void 0:!0,role:E(j)?"img":void 0,focusable:Number(B.tabindex)===0?!0:void 0})}),si(),Ht();var fe=Us();li(fe,()=>({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:ue(),height:ue(),...E(A),...le}));var Oe=ge(fe);{var me=re=>{var _e=qs(),V=ge(_e,!0);de(_e),Xe(()=>rt(V,X())),ne(re,_e)};Ct(Oe,re=>{X()&&re(me)})}Qt(),de(fe),ne(ye,fe),Ut()}var Hs=Ee("<div><input/> <label></label></div>");function Nn(ye,N){const B=Et(N,["children","$$slots","$$events","$$legacy"]),le=Et(B,["checked","indeterminate","title","id","ref"]);qt(N,!1);let j=oe(N,"checked",8,!1),A=oe(N,"indeterminate",12,!1),ue=oe(N,"title",8,void 0),X=oe(N,"id",24,()=>"ccs-"+Math.random().toString(36)),fe=oe(N,"ref",12,null);Ht();var Oe=Hs();At(Oe,1,"",null,{},{"bx--checkbox--inline":!0});var me=ge(Oe);un(me),li(me,()=>({type:"checkbox",checked:A()?!1:j(),id:X(),...le,"aria-checked":A()?void 0:j(),[Wi]:{"bx--checkbox":!0}})),Gi(me,_e=>fe(_e),()=>fe());var re=ce(me,2);At(re,1,"",null,{},{"bx--checkbox-label":!0}),de(Oe),Xe(()=>{Dt(re,"for",X()),Dt(re,"title",ue()),Dt(re,"aria-label",B["aria-label"])}),Ps("indeterminate","change",me,A,A),lt("change",me,function(_e){ft.call(this,N,_e)}),lt("focus",me,function(_e){ft.call(this,N,_e)}),lt("blur",me,function(_e){ft.call(this,N,_e)}),ne(ye,Oe),Ut()}const an=new Set,jn=wr(0),Rn=()=>jn.set([...an].filter(ye=>xs(ye)).length),Gs=ye=>zr(()=>{an.add(ye);const N=ye.subscribe(Rn);return()=>{N(),an.delete(ye),Rn()}});jn.subscribe(ye=>{typeof document<"u"&&document.body.classList.toggle("bx--body--with-modal-open",ye>0)});var Ws=Ee("<span><!></span>"),js=Ee('<div><input type="radio"/> <label><span></span> <!></label></div>');function Zs(ye,N){const B=Hn(N),le=Et(N,["children","$$slots","$$events","$$legacy"]),j=Et(le,["value","checked","disabled","required","labelPosition","labelText","hideLabel","id","name","ref"]);qt(N,!1);const[A,ue]=Li(),X=()=>yi(w,"$selectedValue",A),fe=()=>yi(Me,"$groupName",A),Oe=()=>yi(ke,"$groupRequired",A);let me=oe(N,"value",8,""),re=oe(N,"checked",12,!1),_e=oe(N,"disabled",8,!1),V=oe(N,"required",8,!1),Se=oe(N,"labelPosition",8,"right"),Q=oe(N,"labelText",8,""),se=oe(N,"hideLabel",8,!1),W=oe(N,"id",24,()=>"ccs-"+Math.random().toString(36)),De=oe(N,"name",8,void 0),ve=oe(N,"ref",12,null);const{add:Be,update:xe,selectedValue:w,groupName:Me,groupRequired:ke}=Fn("RadioButtonGroup")??{groupName:en(void 0),groupRequired:en(void 0),selectedValue:en(re()?me():void 0)};Be&&Be({id:W(),checked:re(),disabled:_e(),value:me()}),He(()=>(X(),it(me())),()=>{re(X()===me())}),si(),Ht();var Ze=js();li(Ze,qe=>({...j,[Wi]:qe}),[()=>({"bx--radio-button-wrapper":!0,"bx--radio-button-wrapper--label-left":Se()==="left"})]);var st=ge(Ze);un(st),At(st,1,"",null,{},{"bx--radio-button":!0}),Gi(st,qe=>ve(qe),()=>ve());var tt=ce(st,2);At(tt,1,"",null,{},{"bx--radio-button__label":!0});var ut=ge(tt);At(ut,1,"",null,{},{"bx--radio-button__appearance":!0});var Qe=ce(ut,2);{var we=qe=>{var J=Ws();let Ge;var Ye=ge(J);Xt(Ye,N,"labelText",{},Le=>{var Ke=Yt();Xe(()=>rt(Ke,Q())),ne(Le,Ke)}),de(J),Xe(Le=>Ge=At(J,1,"",null,Ge,Le),[()=>({"bx--visually-hidden":se()})],We),ne(qe,J)};Ct(Qe,qe=>{(Q()||B.labelText)&&qe(we)})}de(tt),de(Ze),Xe(()=>{Dt(st,"id",W()),Dt(st,"name",fe()??De()),ys(st,re()),st.disabled=_e(),st.required=Oe()??V(),ws(st,me()),Dt(tt,"for",W())}),lt("focus",st,function(qe){ft.call(this,N,qe)}),lt("blur",st,function(qe){ft.call(this,N,qe)}),lt("change",st,function(qe){ft.call(this,N,qe)}),lt("change",st,()=>{xe&&xe(me())}),ne(ye,Ze),Ut(),ue()}var Ks=Ee("<section><table><!></table></section>"),Xs=Ee("<table><!></table>");function Qs(ye,N){const B=Et(N,["children","$$slots","$$events","$$legacy"]),le=Et(B,["size","zebra","useStaticWidth","sortable","stickyHeader","tableStyle"]);let j=oe(N,"size",8,void 0),A=oe(N,"zebra",8,!1),ue=oe(N,"useStaticWidth",8,!1),X=oe(N,"sortable",8,!1),fe=oe(N,"stickyHeader",8,!1),Oe=oe(N,"tableStyle",8,void 0);var me=Ii(),re=wt(me);{var _e=Se=>{var Q=Ks();li(Q,()=>({...le,[Wi]:{"bx--data-table_inner-container":!0}}));var se=ge(Q);let W;var De=ge(se);Xt(De,N,"default",{},null),de(se),de(Q),Xe(ve=>{xi(se,Oe()),W=At(se,1,"",null,W,ve)},[()=>({"bx--data-table":!0,"bx--data-table--compact":j()==="compact","bx--data-table--short":j()==="short","bx--data-table--tall":j()==="tall","bx--data-table--md":j()==="medium","bx--data-table--sort":X(),"bx--data-table--zebra":A(),"bx--data-table--static":ue(),"bx--data-table--sticky-header":fe()})],We),ne(Se,Q)},V=Se=>{var Q=Xs();li(Q,W=>({...le,style:Oe(),[Wi]:W}),[()=>({"bx--data-table":!0,"bx--data-table--compact":j()==="compact","bx--data-table--short":j()==="short","bx--data-table--tall":j()==="tall","bx--data-table--md":j()==="medium","bx--data-table--sort":X(),"bx--data-table--zebra":A(),"bx--data-table--static":ue(),"bx--data-table--sticky-header":fe()})]);var se=ge(Q);Xt(se,N,"default",{},null),de(Q),ne(Se,Q)};Ct(re,Se=>{fe()?Se(_e):Se(V,!1)})}ne(ye,me)}var Ys=Ee("<tbody><!></tbody>");function Js(ye,N){const B=Et(N,["children","$$slots","$$events","$$legacy"]),le=Et(B,[]);var j=Ys();li(j,()=>({"aria-live":"polite",...le}));var A=ge(j);Xt(A,N,"default",{},null),de(j),ne(ye,j)}var ea=Ee("<td><!></td>");function rn(ye,N){const B=Et(N,["children","$$slots","$$events","$$legacy"]),le=Et(B,[]);var j=ea();li(j,()=>({...le}));var A=ge(j);Xt(A,N,"default",{},null),de(j),lt("click",j,function(ue){ft.call(this,N,ue)}),lt("mouseover",j,function(ue){ft.call(this,N,ue)}),lt("mouseenter",j,function(ue){ft.call(this,N,ue)}),lt("mouseleave",j,function(ue){ft.call(this,N,ue)}),ne(ye,j)}var ta=Ee("<div><h4> </h4> <p> </p></div>"),ia=Ee("<div><!> <!></div>");function ra(ye,N){const B=Et(N,["children","$$slots","$$events","$$legacy"]),le=Et(B,["title","description","stickyHeader","useStaticWidth"]);let j=oe(N,"title",8,""),A=oe(N,"description",8,""),ue=oe(N,"stickyHeader",8,!1),X=oe(N,"useStaticWidth",8,!1);var fe=ia();li(fe,_e=>({...le,[Wi]:_e}),[()=>({"bx--data-table-container":!0,"bx--data-table-container--static":X(),"bx--data-table--max-width":ue()})]);var Oe=ge(fe);{var me=_e=>{var V=ta();At(V,1,"",null,{},{"bx--data-table-header":!0});var Se=ge(V);At(Se,1,"",null,{},{"bx--data-table-header__title":!0});var Q=ge(Se,!0);de(Se);var se=ce(Se,2);At(se,1,"",null,{},{"bx--data-table-header__description":!0});var W=ge(se,!0);de(se),de(V),Xe(()=>{rt(Q,j()),rt(W,A())}),ne(_e,V)};Ct(Oe,_e=>{j()&&_e(me)})}var re=ce(Oe,2);Xt(re,N,"default",{},null),de(fe),ne(ye,fe)}var na=Ee("<thead><!></thead>");function sa(ye,N){const B=Et(N,["children","$$slots","$$events","$$legacy"]),le=Et(B,[]);var j=na();li(j,()=>({...le}));var A=ge(j);Xt(A,N,"default",{},null),de(j),lt("click",j,function(ue){ft.call(this,N,ue)}),lt("mouseover",j,function(ue){ft.call(this,N,ue)}),lt("mouseenter",j,function(ue){ft.call(this,N,ue)}),lt("mouseleave",j,function(ue){ft.call(this,N,ue)}),ne(ye,j)}var aa=Ji("<title> </title>"),oa=Ji('<svg><!><path d="M16 4L6 14 7.41 15.41 15 7.83 15 28 17 28 17 7.83 24.59 15.41 26 14 16 4z"></path></svg>');function ua(ye,N){const B=Et(N,["children","$$slots","$$events","$$legacy"]),le=Et(B,["size","title"]);qt(N,!1);const j=Re(),A=Re();let ue=oe(N,"size",8,16),X=oe(N,"title",8,void 0);He(()=>(it(B),it(X())),()=>{he(j,B["aria-label"]||B["aria-labelledby"]||X())}),He(()=>(E(j),it(B)),()=>{he(A,{"aria-hidden":E(j)?void 0:!0,role:E(j)?"img":void 0,focusable:Number(B.tabindex)===0?!0:void 0})}),si(),Ht();var fe=oa();li(fe,()=>({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:ue(),height:ue(),...E(A),...le}));var Oe=ge(fe);{var me=re=>{var _e=aa(),V=ge(_e,!0);de(_e),Xe(()=>rt(V,X())),ne(re,_e)};Ct(Oe,re=>{X()&&re(me)})}Qt(),de(fe),ne(ye,fe),Ut()}var la=Ji("<title> </title>"),ha=Ji('<svg><!><path d="M27.6 20.6L24 24.2 24 4 22 4 22 24.2 18.4 20.6 17 22 23 28 29 22zM9 4L3 10 4.4 11.4 8 7.8 8 28 10 28 10 7.8 13.6 11.4 15 10z"></path></svg>');function ca(ye,N){const B=Et(N,["children","$$slots","$$events","$$legacy"]),le=Et(B,["size","title"]);qt(N,!1);const j=Re(),A=Re();let ue=oe(N,"size",8,16),X=oe(N,"title",8,void 0);He(()=>(it(B),it(X())),()=>{he(j,B["aria-label"]||B["aria-labelledby"]||X())}),He(()=>(E(j),it(B)),()=>{he(A,{"aria-hidden":E(j)?void 0:!0,role:E(j)?"img":void 0,focusable:Number(B.tabindex)===0?!0:void 0})}),si(),Ht();var fe=ha();li(fe,()=>({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:ue(),height:ue(),...E(A),...le}));var Oe=ge(fe);{var me=re=>{var _e=la(),V=ge(_e,!0);de(_e),Xe(()=>rt(V,X())),ne(re,_e)};Ct(Oe,re=>{X()&&re(me)})}Qt(),de(fe),ne(ye,fe),Ut()}var fa=Ee('<th><button type="button"><div><!></div> <!> <!></button></th>'),da=Ee("<th><div><!></div></th>");function pa(ye,N){const B=Et(N,["children","$$slots","$$events","$$legacy"]),le=Et(B,["sortable","sortDirection","active","scope","translateWithId","id"]);qt(N,!1);const j=Re();let A=oe(N,"sortable",8,!1),ue=oe(N,"sortDirection",8,"none"),X=oe(N,"active",8,!1),fe=oe(N,"scope",8,"col"),Oe=oe(N,"translateWithId",8,()=>""),me=oe(N,"id",24,()=>"ccs-"+Math.random().toString(36));He(()=>it(Oe()),()=>{he(j,Oe()())}),si(),Ht();var re=Ii(),_e=wt(re);{var V=Q=>{var se=fa();li(se,()=>({"aria-sort":X()?ue():"none",scope:fe(),"data-header":me(),...le}));var W=ge(se);let De;var ve=ge(W);At(ve,1,"",null,{},{"bx--table-header-label":!0});var Be=ge(ve);Xt(Be,N,"default",{},null),de(ve);var xe=ce(ve,2);ua(xe,{size:20,get"aria-label"(){return E(j)},class:"bx--table-sort__icon"});var w=ce(xe,2);ca(w,{size:20,get"aria-label"(){return E(j)},class:"bx--table-sort__icon-unsorted"}),de(W),de(se),Xe(Me=>De=At(W,1,"",null,De,Me),[()=>({"bx--table-sort":!0,"bx--table-sort--active":X(),"bx--table-sort--ascending":X()&&ue()==="descending"})],We),lt("click",W,function(Me){ft.call(this,N,Me)}),lt("mouseover",se,function(Me){ft.call(this,N,Me)}),lt("mouseenter",se,function(Me){ft.call(this,N,Me)}),lt("mouseleave",se,function(Me){ft.call(this,N,Me)}),ne(Q,se)},Se=Q=>{var se=da();li(se,()=>({scope:fe(),"data-header":me(),...le}));var W=ge(se);At(W,1,"",null,{},{"bx--table-header-label":!0});var De=ge(W);Xt(De,N,"default",{},null),de(W),de(se),lt("click",se,function(ve){ft.call(this,N,ve)}),lt("mouseover",se,function(ve){ft.call(this,N,ve)}),lt("mouseenter",se,function(ve){ft.call(this,N,ve)}),lt("mouseleave",se,function(ve){ft.call(this,N,ve)}),ne(Q,se)};Ct(_e,Q=>{A()?Q(V):Q(Se,!1)})}ne(ye,re),Ut()}var ga=Ee("<tr><!></tr>");function On(ye,N){const B=Et(N,["children","$$slots","$$events","$$legacy"]),le=Et(B,[]);var j=ga();li(j,()=>({...le}));var A=ge(j);Xt(A,N,"default",{},null),de(j),lt("click",j,function(ue){ft.call(this,N,ue)}),lt("mouseover",j,function(ue){ft.call(this,N,ue)}),lt("mouseenter",j,function(ue){ft.call(this,N,ue)}),lt("mouseleave",j,function(ue){ft.call(this,N,ue)}),ne(ye,j)}var va=Ee("<h4><!></h4>"),_a=Ee("<p><!></p>"),ma=Ee("<div><!> <!></div>"),ba=Ee('<button type="button"><!></button>'),xa=Ee('<th scope="col"><!></th>'),ya=Ee('<th scope="col"></th>'),wa=Ee('<th scope="col"><!></th>'),Sa=Ee('<th scope="col"></th>'),Ca=Ee("<!> <!> <!> <!>",1),ka=Ee('<button type="button"><!></button>'),Pa=Ee("<td><!></td>"),Ia=Ee("<td><!></td>"),Ta=Ee("<!> <!> <!>",1),Aa=Ee("<div><!></div>"),Ea=Ee('<tr data-child-row=""><!></tr>'),La=Ee("<!> <!>",1),Na=Ee("<!> <!>",1),Ra=Ee("<!> <!> <!>",1);function Oa(ye,N){const B=Hn(N),le=Et(N,["children","$$slots","$$events","$$legacy"]),j=Et(le,["headers","rows","size","title","description","inputName","zebra","sortable","sortKey","sortDirection","expandable","batchExpansion","expandedRowIds","nonExpandableRowIds","radio","selectable","batchSelection","selectedRowIds","nonSelectableRowIds","stickyHeader","useStaticWidth","pageSize","page"]);qt(N,!1);const[A,ue]=Li(),X=()=>yi(ei,"$tableRows",A),fe=Re(),Oe=Re(),me=Re(),re=Re(),_e=Re(),V=Re(),Se=Re(),Q=Re(),se=Re(),W=Re(),De=Re(),ve=Re(),Be=Re(),xe=Re(),w=Re(),Me=Re();let ke=oe(N,"headers",24,()=>[]),Ze=oe(N,"rows",24,()=>[]),st=oe(N,"size",8,void 0),tt=oe(N,"title",8,""),ut=oe(N,"description",8,""),Qe=oe(N,"inputName",24,()=>"ccs-"+Math.random().toString(36)),we=oe(N,"zebra",8,!1),qe=oe(N,"sortable",8,!1),J=oe(N,"sortKey",12,null),Ge=oe(N,"sortDirection",12,"none"),Ye=oe(N,"expandable",12,!1),Le=oe(N,"batchExpansion",8,!1),Ke=oe(N,"expandedRowIds",28,()=>[]),vt=oe(N,"nonExpandableRowIds",24,()=>[]),ze=oe(N,"radio",8,!1),ht=oe(N,"selectable",12,!1),Nt=oe(N,"batchSelection",8,!1),at=oe(N,"selectedRowIds",28,()=>[]),Rt=oe(N,"nonSelectableRowIds",24,()=>[]),Jt=oe(N,"stickyHeader",8,!1),zt=oe(N,"useStaticWidth",8,!1),dt=oe(N,"pageSize",8,0),pt=oe(N,"page",8,0);const Pt={none:"ascending",ascending:"descending",descending:"none"},Lt=on(),ai=wr(!1),ei=wr(Ze()),Ft="ccs-"+Math.random().toString(36),Wt=(Ue,Je)=>Je in Ue?Ue[Je]:Je.split(/[\.\[\]\'\"]/).filter(gt=>gt).reduce((gt,nt)=>gt&&typeof gt=="object"?gt[nt]:gt,Ue);$n("DataTable",{batchSelectedIds:ai,tableRows:ei,resetSelectedRowIds:()=>{he(Se,!1),at([]),E(_i)&&qn(_i,E(_i).checked=!1)},filterRows:(Ue,Je)=>{const gt=Ue.trim().toLowerCase();if(gt.length===0)return ei.set(E(fe)),E(fe).map(e=>e.id);let nt=[];return typeof Je=="function"?nt=E(fe).filter(e=>Je(e,gt)):nt=E(fe).filter(e=>Object.entries(e).filter(([t])=>t!=="id").some(([t,r])=>{if(typeof r=="string"||typeof r=="number")return(r+"").toLowerCase().includes(gt)})),ei.set(nt),nt.map(e=>e.id)}});let Vt=Re(!1),hi=Re(null),_i=Re(null);const Ni=(Ue,Je,gt)=>Je&&gt?Ue.slice((Je-1)*gt,Je*gt):Ue,je=Ue=>{const Je=[Ue.width&&`width: ${Ue.width}`,Ue.minWidth&&`min-width: ${Ue.minWidth}`].filter(Boolean);if(Je.length!==0)return Je.join(";")};He(()=>it(Ze()),()=>{he(fe,[...Ze()])}),He(()=>it(ke()),()=>{he(Oe,ke().reduce((Ue,Je)=>({...Ue,[Je.key]:Je.key}),{}))}),He(()=>it(Ke()),()=>{he(me,Ke().reduce((Ue,Je)=>({...Ue,[Je]:!0}),{}))}),He(()=>it(at()),()=>{ai.set(at())}),He(()=>it(Ze()),()=>{Gn(ei,Ze())}),He(()=>X(),()=>{he(re,X().map(Ue=>Ue.id))}),He(()=>(E(re),it(vt())),()=>{he(_e,E(re).filter(Ue=>!vt().includes(Ue)))}),He(()=>(E(re),it(Rt())),()=>{he(V,E(re).filter(Ue=>!Rt().includes(Ue)))}),He(()=>(E(V),it(at())),()=>{he(Se,E(V).length>0&&at().length===E(V).length)}),He(()=>(it(at()),E(V)),()=>{he(Q,at().length>0&&at().length<E(V).length)}),He(()=>(it(Le()),it(Ke()),E(_e)),()=>{Le()&&(Ye(!0),he(Vt,Ke().length===E(_e).length))}),He(()=>(it(ze()),it(Nt())),()=>{(ze()||Nt())&&ht(!0)}),He(()=>(it(Ze()),it(ke())),()=>{he(se,Ze().reduce((Ue,Je)=>(Ue[Je.id]=ke().map((gt,nt)=>({key:gt.key||`key-${nt}`,value:gt.key?Wt(Je,gt.key):void 0,display:gt.display,empty:gt.empty,columnMenu:gt.columnMenu})),Ue),{}))}),He(()=>X(),()=>{he(W,[...X()])}),He(()=>it(Ge()),()=>{he(De,Ge()==="ascending")}),He(()=>(it(qe()),it(J())),()=>{he(ve,qe()&&J()!=null)}),He(()=>(it(ke()),it(J())),()=>{he(Be,ke().find(Ue=>Ue.key===J()))}),He(()=>(E(ve),it(Ge()),X(),E(De),it(J()),E(Be)),()=>{E(ve)&&(Ge()==="none"?he(W,X()):he(W,[...X()].sort((Ue,Je)=>{var e;const gt=E(De)?Wt(Ue,J()):Wt(Je,J()),nt=E(De)?Wt(Je,J()):Wt(Ue,J());return(e=E(Be))!=null&&e.sort?E(Be).sort(gt,nt):typeof gt=="number"&&typeof nt=="number"?gt-nt:[gt,nt].every(t=>!t&&t!==0)?0:!gt&&gt!==0?E(De)?1:-1:!nt&&nt!==0?E(De)?-1:1:gt.toString().localeCompare(nt.toString(),"en",{numeric:!0})})))}),He(()=>(X(),it(pt()),it(dt())),()=>{he(xe,Ni(X(),pt(),dt()))}),He(()=>(E(W),it(pt()),it(dt())),()=>{he(w,Ni(E(W),pt(),dt()))}),He(()=>it(ke()),()=>{he(Me,ke().some(Ue=>Ue.width||Ue.minWidth))}),si(),Ht(),ra(ye,ln({get useStaticWidth(){return zt()}},()=>j,{children:(Ue,Je)=>{var gt=Ra(),nt=wt(gt);{var e=s=>{var o=ma();At(o,1,"",null,{},{"bx--data-table-header":!0});var u=ge(o);{var l=g=>{var _=va();At(_,1,"",null,{},{"bx--data-table-header__title":!0});var p=ge(_);Xt(p,N,"title",{},d=>{var x=Yt();Xe(()=>rt(x,tt())),ne(d,x)}),de(_),ne(g,_)};Ct(u,g=>{(tt()||B.title)&&g(l)})}var h=ce(u,2);{var c=g=>{var _=_a();At(_,1,"",null,{},{"bx--data-table-header__description":!0});var p=ge(_);Xt(p,N,"description",{},d=>{var x=Yt();Xe(()=>rt(x,ut())),ne(d,x)}),de(_),ne(g,_)};Ct(h,g=>{(ut()||B.description)&&g(c)})}de(o),ne(s,o)};Ct(nt,s=>{(tt()||B.title||ut()||B.description)&&s(e)})}var t=ce(nt,2);Xt(t,N,"default",{},null);var r=ce(t,2);const n=We(()=>E(Me)&&"table-layout: fixed");Qs(r,{get zebra(){return we()},get size(){return st()},get stickyHeader(){return Jt()},get sortable(){return qe()},get useStaticWidth(){return zt()},get tableStyle(){return E(n)},children:(s,o)=>{var u=Na(),l=wt(u);sa(l,{children:(c,g)=>{On(c,{children:(_,p)=>{var d=Ca(),x=wt(d);{var b=k=>{var T=xa();At(T,1,"",null,{},{"bx--table-expand":!0});var C=ge(T);{var L=O=>{var M=ba();At(M,1,"",null,{},{"bx--table-expand__button":!0});var $=ge(M);Ln($,{"aria-hidden":"true",class:"bx--table-expand__svg"}),de(M),Xe(R=>{Dt(M,"aria-label",E(Vt)?"Collapse all rows":"Expand all rows"),Dt(M,"aria-controls",R)},[()=>E(_e).map(R=>`expandable-row-${R}`).join(" ")],We),lt("click",M,()=>{he(Vt,!E(Vt)),Ke(E(Vt)?E(_e):[]),Lt("click:header--expand",{expanded:E(Vt)})}),ne(O,M)};Ct(C,O=>{Le()&&O(L)})}de(T),Xe(()=>Dt(T,"data-previous-value",E(Vt)?"collapsed":void 0)),ne(k,T)};Ct(x,k=>{Ye()&&k(b)})}var P=ce(x,2);{var v=k=>{var T=ya();ne(k,T)};Ct(P,k=>{ht()&&!Nt()&&k(v)})}var S=ce(P,2);{var f=k=>{var T=wa();At(T,1,"",null,{},{"bx--table-column-checkbox":!0});var C=ge(T);Nn(C,{"aria-label":"Select all rows",get name(){return`${Ft}-select-all`},value:"all",get checked(){return E(Se)},get indeterminate(){return E(Q)},get ref(){return E(_i)},set ref(L){he(_i,L)},$$events:{change:L=>{if(Lt("click:header--select",{indeterminate:E(Q),selected:!E(Q)&&L.target.checked}),E(Q)){L.target.checked=!1,he(Se,!1),at([]);return}L.target.checked?at(E(V)):at([])}},$$legacy:!0}),de(T),ne(k,T)};Ct(S,k=>{Nt()&&!ze()&&k(f)})}var y=ce(S,2);or(y,1,ke,k=>k.key,(k,T)=>{var C=Ii(),L=wt(C);{var O=$=>{var R=Sa();Xe(F=>xi(R,F),[()=>je(E(T))],We),ne($,R)},M=$=>{const R=We(()=>je(E(T))),F=We(()=>qe()&&E(T).sort!==!1),q=We(()=>J()===E(T).key?Ge():"none"),H=We(()=>J()===E(T).key);pa($,{get id(){return E(T).key},get style(){return E(R)},get sortable(){return E(F)},get sortDirection(){return E(q)},get active(){return E(H)},$$events:{click:()=>{if(Lt("click",{header:E(T)}),E(T).sort===!1)Lt("click:header",{header:E(T)});else{let G=J()===E(T).key?Ge():"none";Ge(Pt[G]),J(Ge()==="none"?null:E(Oe)[E(T).key]),Lt("click:header",{header:E(T),sortDirection:Ge()})}}},children:(G,Z)=>{var ie=Ii(),be=wt(ie);Xt(be,N,"cell-header",{get header(){return E(T)}},Pe=>{var Ve=Yt();Xe(()=>rt(Ve,E(T).value)),ne(Pe,Ve)}),ne(G,ie)},$$slots:{default:!0}})};Ct(L,$=>{E(T).empty?$(O):$(M,!1)})}ne(k,C)}),ne(_,d)},$$slots:{default:!0}})},$$slots:{default:!0}});var h=ce(l,2);Js(h,{children:(c,g)=>{var _=Ii(),p=wt(_);or(p,3,()=>E(ve)?E(w):E(xe),d=>d.id,(d,x,b)=>{var P=La(),v=wt(P);const S=We(()=>Ye()?!0:void 0),f=We(()=>at().includes(E(x).id)?"bx--data-table--selected":""),y=We(()=>E(me)[E(x).id]?"bx--expandable-row":""),k=We(()=>Ye()?"bx--parent-row":""),T=We(()=>Ye()&&E(hi)===E(x).id?"bx--expandable-row--hover":"");On(v,{get"data-row"(){return E(x).id},get"data-parent-row"(){return E(S)},get class(){return`${E(f)??""} ${E(y)??""} ${E(k)??""} ${E(T)??""}`},$$events:{click:({target:O})=>{[...O.classList].some(M=>/^bx--(overflow-menu|checkbox|radio-button)/.test(M))||(Lt("click",{row:E(x)}),Lt("click:row",E(x)))},mouseenter:()=>{Lt("mouseenter:row",E(x))},mouseleave:()=>{Lt("mouseleave:row",E(x))}},children:(O,M)=>{var $=Ta(),R=wt($);{var F=Z=>{const ie=We(()=>!vt().includes(E(x).id)&&E(me)[E(x).id]?"collapsed":void 0);rn(Z,{class:"bx--table-expand",headers:"expand",get"data-previous-value"(){return E(ie)},children:(be,Pe)=>{var Ve=Ii(),ee=wt(Ve);{var ae=Ce=>{var Ae=ka();At(Ae,1,"",null,{},{"bx--table-expand__button":!0});var Fe=ge(Ae);Ln(Fe,{"aria-hidden":"true",class:"bx--table-expand__svg"}),de(Ae),Xe(()=>{Dt(Ae,"aria-controls",`expandable-row-${E(x).id}`),Dt(Ae,"aria-label",E(me)[E(x).id]?"Collapse current row":"Expand current row")}),lt("click",Ae,zs(()=>{const ot=!!E(me)[E(x).id];Ke(ot?Ke().filter(et=>et!==E(x).id):[...Ke(),E(x).id]),Lt("click:row--expand",{row:E(x),expanded:!ot})})),ne(Ce,Ae)};Ct(ee,Ce=>{vt().includes(E(x).id)||Ce(ae)})}ne(be,Ve)},$$slots:{default:!0}})};Ct(R,Z=>{Ye()&&Z(F)})}var q=ce(R,2);{var H=Z=>{var ie=Pa();let be;var Pe=ge(ie);{var Ve=ee=>{var ae=Ii();const Ce=We(()=>`${Ft}-${E(x).id}`);var Ae=wt(ae);{var Fe=et=>{const ct=We(()=>at().includes(E(x).id));Zs(et,{get id(){return E(Ce)},get name(){return Qe()},get checked(){return E(ct)},get value(){return E(x).id},$$events:{change:()=>{at([E(x).id]),Lt("click:row--select",{row:E(x),selected:!0})}}})},ot=et=>{const ct=We(()=>at().includes(E(x).id));Nn(et,{get id(){return E(Ce)},get name(){return Qe()},get checked(){return E(ct)},get value(){return E(x).id},$$events:{change:()=>{at().includes(E(x).id)?(at(at().filter(_t=>_t!==E(x).id)),Lt("click:row--select",{row:E(x),selected:!1})):(at([...at(),E(x).id]),Lt("click:row--select",{row:E(x),selected:!0}))}}})};Ct(Ae,et=>{ze()?et(Fe):et(ot,!1)})}ne(ee,ae)};Ct(Pe,ee=>{Rt().includes(E(x).id)||ee(Ve)})}de(ie),Xe(ee=>be=At(ie,1,"",null,be,ee),[()=>({"bx--table-column-checkbox":!0,"bx--table-column-radio":ze()})],We),ne(Z,ie)};Ct(q,Z=>{ht()&&Z(H)})}var G=ce(q,2);or(G,3,()=>E(se)[E(x).id],Z=>Z.key,(Z,ie,be)=>{var Pe=Ii(),Ve=wt(Pe);{var ee=Ce=>{var Ae=Ia();let Fe;var ot=ge(Ae);Xt(ot,N,"cell",{get row(){return E(x)},get cell(){return E(ie)},get rowIndex(){return E(b)},get cellIndex(){return E(be)}},et=>{var ct=Yt();Xe(_t=>rt(ct,_t),[()=>E(ie).display?E(ie).display(E(ie).value,E(x)):E(ie).value],We),ne(et,ct)}),de(Ae),Xe(et=>Fe=At(Ae,1,"",null,Fe,et),[()=>({"bx--table-column-menu":E(ie).columnMenu})],We),ne(Ce,Ae)},ae=Ce=>{rn(Ce,{$$events:{click:()=>{Lt("click",{row:E(x),cell:E(ie)}),Lt("click:cell",E(ie))}},children:(Ae,Fe)=>{var ot=Ii(),et=wt(ot);Xt(et,N,"cell",{get row(){return E(x)},get cell(){return E(ie)},get rowIndex(){return E(b)},get cellIndex(){return E(be)}},ct=>{var _t=Yt();Xe(mt=>rt(_t,mt),[()=>E(ie).display?E(ie).display(E(ie).value,E(x)):E(ie).value],We),ne(ct,_t)}),ne(Ae,ot)},$$slots:{default:!0}})};Ct(Ve,Ce=>{E(ie).empty?Ce(ee):Ce(ae,!1)})}ne(Z,Pe)}),ne(O,$)},$$slots:{default:!0}});var C=ce(v,2);{var L=O=>{var M=Ea();At(M,1,"",null,{},{"bx--expandable-row":!0});var $=ge(M);{var R=F=>{const q=We(()=>ht()?ke().length+2:ke().length+1);rn(F,{get colspan(){return E(q)},children:(H,G)=>{var Z=Aa();At(Z,1,"",null,{},{"bx--child-row-inner-container":!0});var ie=ge(Z);Xt(ie,N,"expanded-row",{get row(){return E(x)}},null),de(Z),ne(H,Z)},$$slots:{default:!0}})};Ct($,F=>{E(me)[E(x).id]&&!vt().includes(E(x).id)&&F(R)})}de(M),Xe(()=>Dt(M,"id",`expandable-row-${E(x).id}`)),lt("mouseenter",M,()=>{vt().includes(E(x).id)||he(hi,E(x).id)}),lt("mouseleave",M,()=>{vt().includes(E(x).id)||he(hi,null)}),ne(O,M)};Ct(C,O=>{Ye()&&O(L)})}ne(d,P)}),ne(c,_)},$$slots:{default:!0}}),ne(s,u)},$$slots:{default:!0}}),ne(Ue,gt)},$$slots:{default:!0}})),Ut(),ue()}var Ma=Ee("<section><!></section>");function Da(ye,N){const B=Et(N,["children","$$slots","$$events","$$legacy"]),le=Et(B,["size"]);qt(N,!1);let j=oe(N,"size",8,"default"),A=Re(null);const ue=wr(!1);$n("Toolbar",{overflowVisible:ue,setOverflowVisible:Oe=>{ue.set(Oe),E(A)&&qn(A,E(A).style.overflow=Oe?"visible":"inherit")}}),Ht();var X=Ma();li(X,Oe=>({"aria-label":"data table toolbar",...le,[Wi]:Oe,[Ss]:{"z-index":1}}),[()=>({"bx--table-toolbar":!0,"bx--table-toolbar--small":j()==="sm","bx--table-toolbar--normal":j()==="default"})]);var fe=ge(X);Xt(fe,N,"default",{},null),de(X),Gi(X,Oe=>he(A,Oe),()=>E(A)),ne(ye,X),Ut()}var Va=Ee("<div><!></div>");function Ba(ye,N){var B=Va();At(B,1,"",null,{},{"bx--toolbar-content":!0});var le=ge(B);Xt(le,N,"default",{},null),de(B),ne(ye,B)}var za=Ji("<title> </title>"),Fa=Ji('<svg><!><path d="M29,27.5859l-7.5521-7.5521a11.0177,11.0177,0,1,0-1.4141,1.4141L27.5859,29ZM4,13a9,9,0,1,1,9,9A9.01,9.01,0,0,1,4,13Z"></path></svg>');function $a(ye,N){const B=Et(N,["children","$$slots","$$events","$$legacy"]),le=Et(B,["size","title"]);qt(N,!1);const j=Re(),A=Re();let ue=oe(N,"size",8,16),X=oe(N,"title",8,void 0);He(()=>(it(B),it(X())),()=>{he(j,B["aria-label"]||B["aria-labelledby"]||X())}),He(()=>(E(j),it(B)),()=>{he(A,{"aria-hidden":E(j)?void 0:!0,role:E(j)?"img":void 0,focusable:Number(B.tabindex)===0?!0:void 0})}),si(),Ht();var fe=Fa();li(fe,()=>({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:ue(),height:ue(),...E(A),...le}));var Oe=ge(fe);{var me=re=>{var _e=za(),V=ge(_e,!0);de(_e),Xe(()=>rt(V,X())),ne(re,_e)};Ct(Oe,re=>{X()&&re(me)})}Qt(),de(fe),ne(ye,fe),Ut()}var qa=Ee("<div><span></span> <div></div></div>");function Ua(ye,N){const B=Et(N,["children","$$slots","$$events","$$legacy"]),le=Et(B,["size"]);let j=oe(N,"size",8,"xl");var A=qa();li(A,fe=>({...le,[Wi]:fe}),[()=>({"bx--skeleton":!0,"bx--search--sm":j()==="sm","bx--search--lg":j()==="lg","bx--search--xl":j()==="xl"})]);var ue=ge(A);At(ue,1,"",null,{},{"bx--label":!0});var X=ce(ue,2);At(X,1,"",null,{},{"bx--search-input":!0}),de(A),lt("click",A,function(fe){ft.call(this,N,fe)}),lt("mouseover",A,function(fe){ft.call(this,N,fe)}),lt("mouseenter",A,function(fe){ft.call(this,N,fe)}),lt("mouseleave",A,function(fe){ft.call(this,N,fe)}),ne(ye,A)}var Ha=Ee('<div role="search"><div><!></div> <label><!></label> <input/> <button type="button"><!></button></div>');function Ga(ye,N){const B=Et(N,["children","$$slots","$$events","$$legacy"]),le=Et(B,["value","size","searchClass","skeleton","light","disabled","expandable","expanded","placeholder","autocomplete","autofocus","closeButtonLabelText","labelText","icon","id","ref"]);qt(N,!1);let j=oe(N,"value",12,""),A=oe(N,"size",8,"xl"),ue=oe(N,"searchClass",8,""),X=oe(N,"skeleton",8,!1),fe=oe(N,"light",8,!1),Oe=oe(N,"disabled",8,!1),me=oe(N,"expandable",8,!1),re=oe(N,"expanded",12,!1),_e=oe(N,"placeholder",8,"Search..."),V=oe(N,"autocomplete",8,"off"),Se=oe(N,"autofocus",8,!1),Q=oe(N,"closeButtonLabelText",8,"Clear search input"),se=oe(N,"labelText",8,""),W=oe(N,"icon",8,$a),De=oe(N,"id",24,()=>"ccs-"+Math.random().toString(36)),ve=oe(N,"ref",12,null);const Be=on();let xe=Re(null);He(()=>(it(re()),it(ve())),()=>{re()&&ve()&&ve().focus()}),He(()=>it(re()),()=>{Be(re()?"expand":"collapse")}),si(),Ht();var w=Ii(),Me=wt(w);{var ke=st=>{Ua(st,ln({get size(){return A()}},()=>le,{$$events:{click(tt){ft.call(this,N,tt)},mouseover(tt){ft.call(this,N,tt)},mouseenter(tt){ft.call(this,N,tt)},mouseleave(tt){ft.call(this,N,tt)}}}))},Ze=st=>{var tt=Ha();let ut;var Qe=ge(tt);At(Qe,1,"",null,{},{"bx--search-magnifier":!0});var we=ge(Qe);En(we,W,(ze,ht)=>{ht(ze,{class:"bx--search-magnifier-icon"})}),de(Qe),Gi(Qe,ze=>he(xe,ze),()=>E(xe));var qe=ce(Qe,2);At(qe,1,"",null,{},{"bx--label":!0});var J=ge(qe);Xt(J,N,"labelText",{},ze=>{var ht=Yt();Xe(()=>rt(ht,se())),ne(ze,ht)}),de(qe);var Ge=ce(qe,2);un(Ge),li(Ge,()=>({type:"text",role:"searchbox",autofocus:Se()===!0?!0:void 0,autocomplete:V(),disabled:Oe(),id:De(),placeholder:_e(),...le,[Wi]:{"bx--search-input":!0}})),Gi(Ge,ze=>ve(ze),()=>ve());var Ye=ce(Ge,2);let Le;var Ke=ge(Ye);const vt=We(()=>A()==="xl"?20:16);En(Ke,()=>sn,(ze,ht)=>{ht(ze,{get size(){return E(vt)}})}),de(Ye),de(tt),Xe((ze,ht)=>{Dt(tt,"aria-labelledby",`${De()??""}-search`),ut=At(tt,1,Cs(ue()),null,ut,ze),Dt(qe,"id",`${De()??""}-search`),Dt(qe,"for",De()),Dt(Ye,"aria-label",Q()),Ye.disabled=Oe(),Le=At(Ye,1,"",null,Le,ht)},[()=>({"bx--search":!0,"bx--search--light":fe(),"bx--search--disabled":Oe(),"bx--search--sm":A()==="sm","bx--search--lg":A()==="lg","bx--search--xl":A()==="xl","bx--search--expandable":me(),"bx--search--expanded":re()}),()=>({"bx--search-close":!0,"bx--search-close--hidden":j()===""||j()==null})],We),lt("click",Qe,()=>{me()&&re(!0)}),As(Ge,j),lt("change",Ge,function(ze){ft.call(this,N,ze)}),lt("input",Ge,function(ze){ft.call(this,N,ze)}),lt("focus",Ge,function(ze){ft.call(this,N,ze)}),lt("focus",Ge,()=>{me()&&re(!0)}),lt("blur",Ge,function(ze){ft.call(this,N,ze)}),lt("blur",Ge,()=>{re()&&(j()===""||j()==null)&&re(!1)}),lt("keydown",Ge,function(ze){ft.call(this,N,ze)}),lt("keydown",Ge,({key:ze})=>{ze==="Escape"&&(j(""),Be("clear"))}),lt("keyup",Ge,function(ze){ft.call(this,N,ze)}),lt("paste",Ge,function(ze){ft.call(this,N,ze)}),lt("click",Ye,function(ze){ft.call(this,N,ze)}),lt("click",Ye,()=>{j(""),ve().focus(),Be("clear")}),ne(st,tt)};Ct(Me,st=>{X()?st(ke):st(Ze,!1)})}ne(ye,w),Ut()}function Wa(ye,N){const B=Et(N,["children","$$slots","$$events","$$legacy"]),le=Et(B,["value","expanded","persistent","disabled","shouldFilterRows","filteredRowIds","tabindex","ref"]);qt(N,!1);const j=Re();let A=oe(N,"value",12,""),ue=oe(N,"expanded",12,!1),X=oe(N,"persistent",8,!1),fe=oe(N,"disabled",8,!1),Oe=oe(N,"shouldFilterRows",8,!1),me=oe(N,"filteredRowIds",28,()=>[]),re=oe(N,"tabindex",8,"0"),_e=oe(N,"ref",12,null);const V=Fn("DataTable")??{};let Se=Re(null),Q=Re(null);zr(()=>()=>{var W;(W=E(Q))==null||W()}),Un(()=>{E(Se)!==null&&me(V==null?void 0:V.filterRows(A(),Oe()))});async function se(){await nn(),!(fe()||X()||ue())&&(ue(!0),await nn(),_e().focus())}He(()=>(it(Oe()),E(Se)),()=>{Oe()?he(Q,V==null?void 0:V.tableRows.subscribe(W=>{JSON.stringify(W)!==JSON.stringify(E(Se))&&he(Se,W)})):he(Se,null)}),He(()=>it(A()),()=>{ue(!!A().length)}),He(()=>(it(ue()),it(X()),it(fe())),()=>{he(j,[ue()&&"bx--toolbar-search-container-active",X()?"bx--toolbar-search-container-persistent":"bx--toolbar-search-container-expandable",fe()&&"bx--toolbar-search-container-disabled"].filter(Boolean).join(" "))}),si(),Ht(),Ga(ye,ln({get tabindex(){return re()},get disabled(){return fe()}},()=>le,{get searchClass(){return`${E(j)??""} ${le.class??""}`},get ref(){return _e()},set ref(W){_e(W)},get value(){return A()},set value(W){A(W)},$$events:{clear:[function(W){ft.call(this,N,W)},se],change(W){ft.call(this,N,W)},input(W){ft.call(this,N,W)},focus:[function(W){ft.call(this,N,W)},se],blur:[function(W){ft.call(this,N,W)},()=>{ue(!X()&&!!A().length)}],keyup(W){ft.call(this,N,W)},keydown(W){ft.call(this,N,W)},paste(W){ft.call(this,N,W)}},$$legacy:!0})),Ut()}var ja=Ee('<button type="button"><!></button>'),Za=Ee("<h2><!></h2>"),Ka=Ee('<button type="button"><!></button>'),Xa=Ee("<div></div>"),Qa=Ee("<div><!> <!></div>"),Ya=Ee('<div><div tabindex="-1" aria-modal="true"><div><!> <!> <h3><!></h3> <!></div> <div><!></div> <!> <!></div></div>');function Ja(ye,N){const B=Et(N,["children","$$slots","$$events","$$legacy"]),le=Et(B,["size","open","danger","alert","passiveModal","modalHeading","modalLabel","modalAriaLabel","iconDescription","hasForm","hasScrollingContent","primaryButtonText","primaryButtonDisabled","primaryButtonIcon","shouldSubmitOnEnter","secondaryButtonText","secondaryButtons","selectorPrimaryFocus","preventCloseOnClickOutside","id","ref"]);qt(N,!1);const[j,A]=Li(),ue=Re(),X=Re(),fe=Re(),Oe=Re();let me=oe(N,"size",8,void 0),re=oe(N,"open",12,!1),_e=oe(N,"danger",8,!1),V=oe(N,"alert",8,!1),Se=oe(N,"passiveModal",8,!1),Q=oe(N,"modalHeading",8,void 0),se=oe(N,"modalLabel",8,void 0),W=oe(N,"modalAriaLabel",8,void 0),De=oe(N,"iconDescription",8,"Close the modal"),ve=oe(N,"hasForm",8,!1),Be=oe(N,"hasScrollingContent",8,!1),xe=oe(N,"primaryButtonText",8,""),w=oe(N,"primaryButtonDisabled",8,!1),Me=oe(N,"primaryButtonIcon",8,void 0),ke=oe(N,"shouldSubmitOnEnter",8,!0),Ze=oe(N,"secondaryButtonText",8,""),st=oe(N,"secondaryButtons",24,()=>[]),tt=oe(N,"selectorPrimaryFocus",8,"[data-modal-primary-focus]"),ut=oe(N,"preventCloseOnClickOutside",8,!1),Qe=oe(N,"id",24,()=>"ccs-"+Math.random().toString(36)),we=oe(N,"ref",12,null);const qe=on();let J=Re(null),Ge=Re(null),Ye=!1,Le=Re(!1);function Ke(je){(E(Ge).querySelector(tt())||E(J)).focus()}const vt=wr(re());Gs(vt),Un(()=>{Ye?re()||(Ye=!1,qe("close")):re()&&(Ye=!0,Ke(),qe("open"))}),He(()=>it(re()),()=>{Gn(vt,re())}),He(()=>it(Qe()),()=>{he(ue,`bx--modal-header__label--modal-${Qe()}`)}),He(()=>it(Qe()),()=>{he(X,`bx--modal-header__heading--modal-${Qe()}`)}),He(()=>it(Qe()),()=>{he(fe,`bx--modal-body--${Qe()}`)}),He(()=>(it(se()),it(B),it(W()),it(Q())),()=>{he(Oe,se()||B["aria-label"]||W()||Q())}),si(),Ht();var ze=Ya();li(ze,je=>({role:"presentation",id:Qe(),...le,[Wi]:je}),[()=>({"bx--modal":!0,"bx--modal-tall":!Se(),"is-visible":re(),"bx--modal--danger":_e()})]);var ht=ge(ze);let Nt;var at=ge(ht);At(at,1,"",null,{},{"bx--modal-header":!0});var Rt=ge(at);{var Jt=je=>{var Ue=ja();At(Ue,1,"",null,{},{"bx--modal-close":!0});var Je=ge(Ue);sn(Je,{size:20,class:"bx--modal-close__icon","aria-hidden":"true"}),de(Ue),Gi(Ue,gt=>he(J,gt),()=>E(J)),Xe(()=>Dt(Ue,"aria-label",De())),lt("click",Ue,()=>{re(!1)}),ne(je,Ue)};Ct(Rt,je=>{Se()&&je(Jt)})}var zt=ce(Rt,2);{var dt=je=>{var Ue=Za();At(Ue,1,"",null,{},{"bx--modal-header__label":!0});var Je=ge(Ue);Xt(Je,N,"label",{},gt=>{var nt=Yt();Xe(()=>rt(nt,se())),ne(gt,nt)}),de(Ue),Xe(()=>Dt(Ue,"id",E(ue))),ne(je,Ue)};Ct(zt,je=>{se()&&je(dt)})}var pt=ce(zt,2);At(pt,1,"",null,{},{"bx--modal-header__heading":!0});var Pt=ge(pt);Xt(Pt,N,"heading",{},je=>{var Ue=Yt();Xe(()=>rt(Ue,Q())),ne(je,Ue)}),de(pt);var Lt=ce(pt,2);{var ai=je=>{var Ue=Ka();At(Ue,1,"",null,{},{"bx--modal-close":!0});var Je=ge(Ue);sn(Je,{size:20,class:"bx--modal-close__icon","aria-hidden":"true"}),de(Ue),Gi(Ue,gt=>he(J,gt),()=>E(J)),Xe(()=>Dt(Ue,"aria-label",De())),lt("click",Ue,()=>{re(!1)}),ne(je,Ue)};Ct(Lt,je=>{Se()||je(ai)})}de(at);var ei=ce(at,2);let Ft;var Wt=ge(ei);Xt(Wt,N,"default",{},null),de(ei);var Vt=ce(ei,2);{var hi=je=>{var Ue=Xa();At(Ue,1,"",null,{},{"bx--modal-content--overflow-indicator":!0}),ne(je,Ue)};Ct(Vt,je=>{Be()&&je(hi)})}var _i=ce(Vt,2);{var Ni=je=>{var Ue=Qa();let Je;var gt=ge(Ue);{var nt=n=>{var s=Ii(),o=wt(s);or(o,1,st,Vr,(u,l)=>{fr(u,{kind:"secondary",$$events:{click:()=>{qe("click:button--secondary",{text:E(l).text})}},children:(h,c)=>{Qt();var g=Yt();Xe(()=>rt(g,E(l).text)),ne(h,g)},$$slots:{default:!0}})}),ne(n,s)},e=(n,s)=>{{var o=u=>{fr(u,{kind:"secondary",$$events:{click:()=>{qe("click:button--secondary",{text:Ze()})}},children:(l,h)=>{Qt();var c=Yt();Xe(()=>rt(c,Ze())),ne(l,c)},$$slots:{default:!0}})};Ct(n,u=>{Ze()&&u(o)},s)}};Ct(gt,n=>{st().length>0?n(nt):n(e,!1)})}var t=ce(gt,2);const r=We(()=>_e()?"danger":"primary");fr(t,{get kind(){return E(r)},get disabled(){return w()},get icon(){return Me()},$$events:{click:()=>{qe("submit"),qe("click:button--primary")}},children:(n,s)=>{Qt();var o=Yt();Xe(()=>rt(o,xe())),ne(n,o)},$$slots:{default:!0}}),de(Ue),Xe(n=>Je=At(Ue,1,"",null,Je,n),[()=>({"bx--modal-footer":!0,"bx--modal-footer--three-button":st().length===2})],We),ne(je,Ue)};Ct(_i,je=>{Se()||je(Ni)})}de(ht),Gi(ht,je=>he(Ge,je),()=>E(Ge)),de(ze),Gi(ze,je=>we(je),()=>we()),Xe((je,Ue)=>{Dt(ht,"role",V()?Se()?"alert":"alertdialog":"dialog"),Dt(ht,"aria-describedby",V()&&!Se()?E(fe):void 0),Dt(ht,"aria-label",E(Oe)),Nt=At(ht,1,"",null,Nt,je),Dt(pt,"id",E(X)),Dt(ei,"id",E(fe)),Dt(ei,"tabindex",Be()?"0":void 0),Dt(ei,"role",Be()?"region":void 0),Dt(ei,"aria-label",Be()?E(Oe):void 0),Dt(ei,"aria-labelledby",se()?E(ue):E(X)),Ft=At(ei,1,"",null,Ft,Ue)},[()=>({"bx--modal-container":!0,"bx--modal-container--xs":me()==="xs","bx--modal-container--sm":me()==="sm","bx--modal-container--lg":me()==="lg"}),()=>({"bx--modal-content":!0,"bx--modal-content--with-form":ve(),"bx--modal-scroll-content":Be()})],We),lt("click",ht,()=>{he(Le,!0)}),lt("keydown",ze,function(je){ft.call(this,N,je)}),lt("keydown",ze,je=>{if(re())if(je.key==="Escape")re(!1);else if(je.key==="Tab"){const Je=Array.from(we().querySelectorAll(`
  a[href], area[href], input:not([disabled]):not([tabindex='-1']),
  button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']),
  textarea:not([disabled]):not([tabindex='-1']),
  iframe, object, embed, *[tabindex]:not([tabindex='-1']):not([disabled]), *[contenteditable=true]
`));let gt=Je.indexOf(document.activeElement);gt===-1&&je.shiftKey&&(gt=0),gt+=Je.length+(je.shiftKey?-1:1),gt%=Je.length,Je[gt].focus(),je.preventDefault()}else ke()&&je.key==="Enter"&&!w()&&(qe("submit"),qe("click:button--primary"))}),lt("click",ze,function(je){ft.call(this,N,je)}),lt("click",ze,()=>{!E(Le)&&!ut()&&re(!1),he(Le,!1)}),lt("mouseover",ze,function(je){ft.call(this,N,je)}),lt("mouseenter",ze,function(je){ft.call(this,N,je)}),lt("mouseleave",ze,function(je){ft.call(this,N,je)}),lt("transitionend",ze,je=>{je.propertyName==="transform"&&qe("transitionend",{open:re()})}),ne(ye,ze),Ut(),A()}const eo=!1,to=!0,io=({params:ye})=>{if(ye.lang!=="de")throw bs(404,"This page is only available in German (de)");return{}};function ro(){return[{lang:"de"}]}const Bu=Object.freeze(Object.defineProperty({__proto__:null,entries:ro,load:io,prerender:to,ssr:eo},Symbol.toStringTag,{value:"Module"}));var no=Ee(" <!>",1),so=Ee('<span slot="tooltipText"> </span>'),ao=Ee('<div style="display: flex; align-items: center; gap: var(--cds-spacing-03);"><!> <!></div> <!>',1);function oo(ye,N){qt(N,!1);const[B,le]=Li(),j=()=>yi(vi,"$shearDeformationParameterStore",B),A=Re(),ue=Re();let X=oe(N,"invalid",8,!1),fe=oe(N,"invalidText",8,""),Oe=Re(),me=Re(!1),re=Re(""),_e=null;function V(Be){let xe=Be,w=!1,Me="";Be<Gt.BOHRUNGSDURCHMESSER_MIN?(xe=Gt.BOHRUNGSDURCHMESSER_MIN,w=!0,Me=`${Te("shearDeformation.parameters.minValue")}: ${Gt.BOHRUNGSDURCHMESSER_MIN} mm`):Be>Gt.BOHRUNGSDURCHMESSER_MAX&&(xe=Gt.BOHRUNGSDURCHMESSER_MAX,w=!0,Me=`${Te("shearDeformation.parameters.maxValue")}: ${Gt.BOHRUNGSDURCHMESSER_MAX} mm`),w&&(he(me,!0),he(re,Me),_e&&clearTimeout(_e),_e=setTimeout(()=>{he(me,!1),he(re,"")},3e3)),vi.updateField("d_b",xe)}He(()=>j(),()=>{he(Oe,j().d_b)}),He(()=>(E(me),it(X())),()=>{he(A,E(me)||X())}),He(()=>(it(X()),it(fe()),E(re)),()=>{he(ue,X()?fe():E(re))}),si(),Ht();var Se=ao(),Q=wt(Se),se=ge(Q);Hi(se,{children:(Be,xe)=>{Qt();var w=no(),Me=wt(w),ke=ce(Me);Cr(ke,{get formula(){return dn.d_b}}),Xe(Ze=>rt(Me,`${Ze??""} `),[()=>Te("shearDeformation.parameters.holeDiameter")],We),ne(Be,w)},$$slots:{default:!0}});var W=ce(se,2);Fr(W,{get icon(){return $r},$$slots:{tooltipText:(Be,xe)=>{var w=so(),Me=ge(w,!0);de(w),Xe(ke=>rt(Me,ke),[()=>Te("shearDeformation.parameters.holeDiameterTooltip")],We),ne(Be,w)}}}),de(Q);var De=ce(Q,2);const ve=We(()=>j().is_dorn===0);hn(De,{size:"sm",step:1,helperText:"mm",get disabled(){return E(ve)},get min(){return Gt.BOHRUNGSDURCHMESSER_MIN},get max(){return Gt.BOHRUNGSDURCHMESSER_MAX},light:!0,get invalid(){return E(A)},get invalidText(){return E(ue)},get value(){return E(Oe)},set value(Be){he(Oe,Be)},$$events:{change:()=>V(E(Oe))},$$legacy:!0}),ne(ye,Se),Ut(),le()}var uo=Ee(" <!>",1),lo=Ee('<span slot="tooltipText"> </span>'),ho=Ee('<div style="display: flex; align-items: center; gap: var(--cds-spacing-03);"><!> <!></div> <!>',1);function co(ye,N){qt(N,!1);const[B,le]=Li(),j=()=>yi(vi,"$shearDeformationParameterStore",B);let A=Re(),ue=Re(!1),X=Re(""),fe=null;function Oe(Q){let se=Q,W=!1,De="";Q<Gt.LAGERVERDREHUNG_MIN?(se=Gt.LAGERVERDREHUNG_MIN,W=!0,De=`${Te("shearDeformation.parameters.minValue")}: ${Gt.LAGERVERDREHUNG_MIN} mrad`):Q>Gt.LAGERVERDREHUNG_MAX&&(se=Gt.LAGERVERDREHUNG_MAX,W=!0,De=`${Te("shearDeformation.parameters.maxValue")}: ${Gt.LAGERVERDREHUNG_MAX} mrad`),W&&(he(ue,!0),he(X,De),fe&&clearTimeout(fe),fe=setTimeout(()=>{he(ue,!1),he(X,"")},3e3)),vi.updateField("alpha_y",se)}He(()=>j(),()=>{he(A,j().alpha_y)}),si(),Ht();var me=ho(),re=wt(me),_e=ge(re);Hi(_e,{children:(Q,se)=>{Qt();var W=uo(),De=wt(W),ve=ce(De);Cr(ve,{get formula(){return dn.alpha_y}}),Xe(Be=>rt(De,`${Be??""} `),[()=>Te("shearDeformation.parameters.bearingRotation")],We),ne(Q,W)},$$slots:{default:!0}});var V=ce(_e,2);Fr(V,{get icon(){return $r},$$slots:{tooltipText:(Q,se)=>{var W=lo(),De=ge(W,!0);de(W),Xe(ve=>rt(De,ve),[()=>Te("shearDeformation.parameters.bearingRotationTooltip")],We),ne(Q,W)}}}),de(re);var Se=ce(re,2);hn(Se,{size:"sm",step:1,helperText:"mrad / â€°",get min(){return Gt.LAGERVERDREHUNG_MIN},get max(){return Gt.LAGERVERDREHUNG_MAX},light:!0,get invalid(){return E(ue)},get invalidText(){return E(X)},get value(){return E(A)},set value(Q){he(A,Q)},$$events:{change:()=>Oe(E(A))},$$legacy:!0}),ne(ye,me),Ut(),le()}var fo=Ee(" <!>",1),po=Ee('<span slot="tooltipText"> </span>'),go=Ee('<div style="display: flex; align-items: center; gap: var(--cds-spacing-03);"><!> <!></div> <!>',1);function vo(ye,N){qt(N,!1);const[B,le]=Li(),j=()=>yi(vi,"$shearDeformationParameterStore",B);let A=Re(),ue=Re(!1),X=Re(""),fe=null;function Oe(Q){let se=Q,W=!1,De="";Q<Gt.LAGERVERSCHIEBUNG_MIN?(se=Gt.LAGERVERSCHIEBUNG_MIN,W=!0,De=`${Te("shearDeformation.parameters.minValue")}: ${Gt.LAGERVERSCHIEBUNG_MIN} mm`):Q>Gt.LAGERVERSCHIEBUNG_MAX&&(se=Gt.LAGERVERSCHIEBUNG_MAX,W=!0,De=`${Te("shearDeformation.parameters.maxValue")}: ${Gt.LAGERVERSCHIEBUNG_MAX} mm`),W&&(he(ue,!0),he(X,De),fe&&clearTimeout(fe),fe=setTimeout(()=>{he(ue,!1),he(X,"")},3e3)),vi.updateField("v_x",se)}He(()=>j(),()=>{he(A,j().v_x)}),si(),Ht();var me=go(),re=wt(me),_e=ge(re);Hi(_e,{children:(Q,se)=>{Qt();var W=fo(),De=wt(W),ve=ce(De);Cr(ve,{get formula(){return dn.v_x}}),Xe(Be=>rt(De,`${Be??""} `),[()=>Te("shearDeformation.parameters.bearingDisplacement")],We),ne(Q,W)},$$slots:{default:!0}});var V=ce(_e,2);Fr(V,{get icon(){return $r},$$slots:{tooltipText:(Q,se)=>{var W=po(),De=ge(W,!0);de(W),Xe(ve=>rt(De,ve),[()=>Te("shearDeformation.parameters.bearingDisplacementTooltip")],We),ne(Q,W)}}}),de(re);var Se=ce(re,2);hn(Se,{size:"sm",step:1,helperText:"mm",get min(){return Gt.LAGERVERSCHIEBUNG_MIN},get max(){return Gt.LAGERVERSCHIEBUNG_MAX},light:!0,get invalid(){return E(ue)},get invalidText(){return E(X)},get value(){return E(A)},set value(Q){he(A,Q)},$$events:{change:()=>Oe(E(A))},$$legacy:!0}),ne(ye,me),Ut(),le()}var _o=Ee('<div style="padding-top:var(--cds-spacing-03)"></div> <h5 class="bx--type-expressive-heading-02"> </h5> <div style="padding-top:var(--cds-spacing-05)"></div>',1),mo=Ee("<!> <!>",1),bo=Ee('<h6 class="bx--type-expressive-heading-01"> </h6>  <!> <div></div> <!> <div></div> <!> <div></div> <!> <div></div> <!> <div></div> <!> <!> <div></div>  <!>',1),xo=Ee('<span slot="tooltipText"> </span>'),yo=Ee('<h6 class="bx--type-expressive-heading-01"> </h6>  <!> <div></div> <!> <div></div> <!> <div></div>  <div style="padding-top:var(--cds-spacing-07)"></div> <h6 class="bx--type-expressive-heading-01"> </h6> <div></div>  <div style="display: flex; align-items: center; gap: var(--cds-spacing-03);"><!> <!></div> <div></div>',1),wo=Ee("<!> <!>",1),So=Ee("<!> <!>",1);function Co(ye,N){qt(N,!1);const[B,le]=Li(),j=()=>yi(vi,"$shearDeformationParameterStore",B);let A=null,ue=Re(!1),X=Re("");const fe=me=>re=>{const V=re.target.checked;me==="is_streifen"?vi.update(Se=>{if(V)return A=Se.b,{...Se,is_streifen:1,b:1e3,is_dorn:0};{const Q=A!==null?A:Se.b;return A=null,{...Se,is_streifen:0,b:Q}}}):vi.updateField(me,V?1:0)};function Oe(me){return re=>{const _e=re.target;_e&&vi.updateField(me,parseInt(_e.value))}}He(()=>(j(),vi),()=>{const{a:me,b:re,is_dorn:_e,d_b:V,n_b:Se}=j(),Q=me*re;let se=Q,W=!1;if(_e===1){const De=20+Se*V+(Se-1)*2*V,ve=2*10+V;me<ve||re<De?W=!0:(se=Math.round(Q-Se*Math.PI*Math.pow(V/2,2)),Math.round((1-se/Q)*100)/100>.1&&(W=!0)),W?(he(ue,!0),he(X,Te("shearDeformation.parameters.minDistanceViolation")),V!==12&&vi.updateField("d_b",12)):(he(ue,!1),he(X,""))}else he(ue,!1),he(X,"")}),si(),Ht(),cn(ye,{children:(me,re)=>{Sr(me,{style:"padding:0",children:(_e,V)=>{var Se=So(),Q=wt(Se);Yi(Q,{children:(W,De)=>{Ei(W,{sm:16,md:16,lg:16,children:(ve,Be)=>{var xe=_o(),w=ce(wt(xe),2),Me=ge(w,!0);de(w),Qt(2),Xe(ke=>rt(Me,ke),[()=>Te("shearDeformation.parameters.title")],We),ne(ve,xe)},$$slots:{default:!0}})},$$slots:{default:!0}});var se=ce(Q,2);Yi(se,{children:(W,De)=>{var ve=wo(),Be=wt(ve);Ei(Be,{sm:16,md:16,lg:8,style:"border-right: 1px solid var(--cds-border-subtle); padding-right: var(--cds-spacing-05);",children:(w,Me)=>{var ke=bo(),Ze=wt(ke),st=ge(Ze,!0);de(Ze);var tt=ce(Ze,2);Es(tt,{});var ut=ce(tt,2);xi(ut,"padding-top:var(--cds-spacing-05)");var Qe=ce(ut,2);Ls(Qe,{});var we=ce(Qe,2);xi(we,"padding-top:var(--cds-spacing-05)");var qe=ce(we,2);Ns(qe,{});var J=ce(qe,2);xi(J,"padding-top:var(--cds-spacing-05)");var Ge=ce(J,2);const Ye=We(()=>Te("shearDeformation.parameters.streifenlager")),Le=We(()=>j().is_streifen===1);var Ke=Dr(()=>fe("is_streifen"));tn(Ge,{get labelText(){return E(Ye)},get checked(){return E(Le)},$$events:{change(...Ft){var Wt;(Wt=E(Ke))==null||Wt.apply(this,Ft)}}});var vt=ce(Ge,2);xi(vt,"padding-top:var(--cds-spacing-05)");var ze=ce(vt,2);const ht=We(()=>Te("shearDeformation.parameters.schubdornPresent")),Nt=We(()=>j().is_dorn===1);var at=Dr(()=>fe("is_dorn"));const Rt=We(()=>j().is_streifen===1);tn(ze,{get labelText(){return E(ht)},get checked(){return E(Nt)},get disabled(){return E(Rt)},$$events:{change(...Ft){var Wt;(Wt=E(at))==null||Wt.apply(this,Ft)}}});var Jt=ce(ze,2);xi(Jt,"padding-top:var(--cds-spacing-05)");var zt=ce(Jt,2);Hi(zt,{children:(Ft,Wt)=>{Qt();var Vt=Yt();Xe(hi=>rt(Vt,hi),[()=>Te("shearDeformation.parameters.schubdornCount")],We),ne(Ft,Vt)},$$slots:{default:!0}});var dt=ce(zt,2);const pt=We(()=>j().n_b.toString());var Pt=Dr(()=>Oe("n_b"));const Lt=We(()=>j().is_dorn===0);Fs(dt,{get selected(){return E(pt)},size:"sm",get disabled(){return E(Lt)},light:!0,$$events:{change(...Ft){var Wt;(Wt=E(Pt))==null||Wt.apply(this,Ft)}},children:(Ft,Wt)=>{var Vt=mo(),hi=wt(Vt);An(hi,{value:"1",text:"1"});var _i=ce(hi,2);An(_i,{value:"2",text:"2"}),ne(Ft,Vt)},$$slots:{default:!0}});var ai=ce(dt,2);xi(ai,"padding-top:var(--cds-spacing-05)");var ei=ce(ai,2);oo(ei,{get invalid(){return E(ue)},get invalidText(){return E(X)}}),Xe(Ft=>rt(st,Ft),[()=>Te("shearDeformation.parameters.bearingValues")],We),ne(w,ke)},$$slots:{default:!0}});var xe=ce(Be,2);Ei(xe,{sm:16,md:16,lg:8,style:"padding-left: var(--cds-spacing-05);",children:(w,Me)=>{var ke=yo(),Ze=wt(ke),st=ge(Ze,!0);de(Ze);var tt=ce(Ze,2);Rs(tt,{});var ut=ce(tt,2);xi(ut,"padding-top:var(--cds-spacing-05)");var Qe=ce(ut,2);co(Qe,{});var we=ce(Qe,2);xi(we,"padding-top:var(--cds-spacing-05)");var qe=ce(we,2);vo(qe,{});var J=ce(qe,2);xi(J,"padding-top:var(--cds-spacing-05)");var Ge=ce(J,4),Ye=ge(Ge,!0);de(Ge);var Le=ce(Ge,2);xi(Le,"padding-top:var(--cds-spacing-05)");var Ke=ce(Le,2),vt=ge(Ke);const ze=We(()=>Te("shearDeformation.parameters.concreteSteelContact")),ht=We(()=>j().is_ortbeton===1);var Nt=Dr(()=>fe("is_ortbeton"));tn(vt,{get labelText(){return E(ze)},get checked(){return E(ht)},$$events:{change(...Jt){var zt;(zt=E(Nt))==null||zt.apply(this,Jt)}}});var at=ce(vt,2);Fr(at,{get icon(){return $r},$$slots:{tooltipText:(Jt,zt)=>{var dt=xo(),pt=ge(dt,!0);de(dt),Xe(Pt=>rt(pt,Pt),[()=>Te("shearDeformation.parameters.concreteSteelTooltip")],We),ne(Jt,dt)}}}),de(Ke);var Rt=ce(Ke,2);xi(Rt,"padding-top:var(--cds-spacing-05)"),Xe((Jt,zt)=>{rt(st,Jt),rt(Ye,zt)},[()=>Te("shearDeformation.parameters.inputLoads"),()=>Te("shearDeformation.parameters.additionalSpecifications")],We),ne(w,ke)},$$slots:{default:!0}}),ne(W,ve)},$$slots:{default:!0}}),ne(_e,Se)},$$slots:{default:!0}})},$$slots:{default:!0}}),Ut(),le()}function ko(ye){if(Object.prototype.hasOwnProperty.call(ye,"__esModule"))return ye;var N=ye.default;if(typeof N=="function"){var B=function le(){return this instanceof le?Reflect.construct(N,arguments,this.constructor):N.apply(this,arguments)};B.prototype=N.prototype}else B={};return Object.defineProperty(B,"__esModule",{value:!0}),Object.keys(ye).forEach(function(le){var j=Object.getOwnPropertyDescriptor(ye,le);Object.defineProperty(B,le,j.get?j:{enumerable:!0,get:function(){return ye[le]}})}),B}function Po(ye){throw new Error('Could not dynamically require "'+ye+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Br={exports:{}};const Io={},To=Object.freeze(Object.defineProperty({__proto__:null,default:Io},Symbol.toStringTag,{value:"Module"})),Mn=ko(To);var yr={exports:{}},Ao=yr.exports,Dn;function Eo(){return Dn||(Dn=1,function(ye,N){(function(B,le){le(N)})(Ao,function(B){var le=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239],j=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],A="â€Œâ€Â·Ì€-Í¯Î‡Òƒ-Ò‡Ö‘-Ö½Ö¿××‚×„×…×‡Ø-ØšÙ‹-Ù©Ù°Û–-ÛœÛŸ-Û¤Û§Û¨Ûª-Û­Û°-Û¹Ü‘Ü°-ÝŠÞ¦-Þ°ß€-ß‰ß«-ß³ß½à –-à ™à ›-à £à ¥-à §à ©-à ­à¡™-à¡›à¢—-à¢Ÿà£Š-à£¡à££-à¤ƒà¤º-à¤¼à¤¾-à¥à¥‘-à¥—à¥¢à¥£à¥¦-à¥¯à¦-à¦ƒà¦¼à¦¾-à§„à§‡à§ˆà§‹-à§à§—à§¢à§£à§¦-à§¯à§¾à¨-à¨ƒà¨¼à¨¾-à©‚à©‡à©ˆà©‹-à©à©‘à©¦-à©±à©µàª-àªƒàª¼àª¾-à«…à«‡-à«‰à«‹-à«à«¢à«£à«¦-à«¯à«º-à«¿à¬-à¬ƒà¬¼à¬¾-à­„à­‡à­ˆà­‹-à­à­•-à­—à­¢à­£à­¦-à­¯à®‚à®¾-à¯‚à¯†-à¯ˆà¯Š-à¯à¯—à¯¦-à¯¯à°€-à°„à°¼à°¾-à±„à±†-à±ˆà±Š-à±à±•à±–à±¢à±£à±¦-à±¯à²-à²ƒà²¼à²¾-à³„à³†-à³ˆà³Š-à³à³•à³–à³¢à³£à³¦-à³¯à³³à´€-à´ƒà´»à´¼à´¾-àµ„àµ†-àµˆàµŠ-àµàµ—àµ¢àµ£àµ¦-àµ¯à¶-à¶ƒà·Šà·-à·”à·–à·˜-à·Ÿà·¦-à·¯à·²à·³à¸±à¸´-à¸ºà¹‡-à¹Žà¹-à¹™àº±àº´-àº¼à»ˆ-à»Žà»-à»™à¼˜à¼™à¼ -à¼©à¼µà¼·à¼¹à¼¾à¼¿à½±-à¾„à¾†à¾‡à¾-à¾—à¾™-à¾¼à¿†á€«-á€¾á€-á‰á–-á™áž-á á¢-á¤á§-á­á±-á´á‚‚-á‚á‚-á‚á-áŸá©-á±áœ’-áœ•áœ²-áœ´á’á“á²á³áž´-áŸ“áŸáŸ -áŸ©á ‹-á á -á ™á¢©á¤ -á¤«á¤°-á¤»á¥†-á¥á§-á§šá¨—-á¨›á©•-á©žá© -á©¼á©¿-áª‰áª-áª™áª°-áª½áª¿-á«Žá¬€-á¬„á¬´-á­„á­-á­™á­«-á­³á®€-á®‚á®¡-á®­á®°-á®¹á¯¦-á¯³á°¤-á°·á±€-á±‰á±-á±™á³-á³’á³”-á³¨á³­á³´á³·-á³¹á·€-á·¿â€Œâ€â€¿â€â”âƒ-âƒœâƒ¡âƒ¥-âƒ°â³¯-â³±âµ¿â· -â·¿ã€ª-ã€¯ã‚™ã‚šãƒ»ê˜ -ê˜©ê™¯ê™´-ê™½êšžêšŸê›°ê›±ê ‚ê †ê ‹ê £-ê §ê ¬ê¢€ê¢ê¢´-ê£…ê£-ê£™ê£ -ê£±ê£¿-ê¤‰ê¤¦-ê¤­ê¥‡-ê¥“ê¦€-ê¦ƒê¦³-ê§€ê§-ê§™ê§¥ê§°-ê§¹ê¨©-ê¨¶ê©ƒê©Œê©ê©-ê©™ê©»-ê©½êª°êª²-êª´êª·êª¸êª¾êª¿ê«ê««-ê«¯ê«µê«¶ê¯£-ê¯ªê¯¬ê¯­ê¯°-ê¯¹ï¬žï¸€-ï¸ï¸ -ï¸¯ï¸³ï¸´ï¹-ï¹ï¼-ï¼™ï¼¿ï½¥",ue="ÂªÂµÂºÃ€-Ã–Ã˜-Ã¶Ã¸-ËË†-Ë‘Ë -Ë¤Ë¬Ë®Í°-Í´Í¶Í·Íº-Í½Í¿Î†Îˆ-ÎŠÎŒÎŽ-Î¡Î£-ÏµÏ·-ÒÒŠ-Ô¯Ô±-Õ–Õ™Õ -Öˆ×-×ª×¯-×²Ø -ÙŠÙ®Ù¯Ù±-Û“Û•Û¥Û¦Û®Û¯Ûº-Û¼Û¿ÜÜ’-Ü¯Ý-Þ¥Þ±ßŠ-ßªß´ßµßºà €-à •à šà ¤à ¨à¡€-à¡˜à¡ -à¡ªà¡°-à¢‡à¢‰-à¢Žà¢ -à£‰à¤„-à¤¹à¤½à¥à¥˜-à¥¡à¥±-à¦€à¦…-à¦Œà¦à¦à¦“-à¦¨à¦ª-à¦°à¦²à¦¶-à¦¹à¦½à§Žà§œà§à§Ÿ-à§¡à§°à§±à§¼à¨…-à¨Šà¨à¨à¨“-à¨¨à¨ª-à¨°à¨²à¨³à¨µà¨¶à¨¸à¨¹à©™-à©œà©žà©²-à©´àª…-àªàª-àª‘àª“-àª¨àªª-àª°àª²àª³àªµ-àª¹àª½à«à« à«¡à«¹à¬…-à¬Œà¬à¬à¬“-à¬¨à¬ª-à¬°à¬²à¬³à¬µ-à¬¹à¬½à­œà­à­Ÿ-à­¡à­±à®ƒà®…-à®Šà®Ž-à®à®’-à®•à®™à®šà®œà®žà®Ÿà®£à®¤à®¨-à®ªà®®-à®¹à¯à°…-à°Œà°Ž-à°à°’-à°¨à°ª-à°¹à°½à±˜-à±šà±à± à±¡à²€à²…-à²Œà²Ž-à²à²’-à²¨à²ª-à²³à²µ-à²¹à²½à³à³žà³ à³¡à³±à³²à´„-à´Œà´Ž-à´à´’-à´ºà´½àµŽàµ”-àµ–àµŸ-àµ¡àµº-àµ¿à¶…-à¶–à¶š-à¶±à¶³-à¶»à¶½à·€-à·†à¸-à¸°à¸²à¸³à¹€-à¹†àºàº‚àº„àº†-àºŠàºŒ-àº£àº¥àº§-àº°àº²àº³àº½à»€-à»„à»†à»œ-à»Ÿà¼€à½€-à½‡à½‰-à½¬à¾ˆ-à¾Œá€€-á€ªá€¿á-á•áš-áá¡á¥á¦á®-á°áµ-á‚á‚Žá‚ -áƒ…áƒ‡áƒáƒ-áƒºáƒ¼-á‰ˆá‰Š-á‰á‰-á‰–á‰˜á‰š-á‰á‰ -áŠˆáŠŠ-áŠáŠ-áŠ°áŠ²-áŠµáŠ¸-áŠ¾á‹€á‹‚-á‹…á‹ˆ-á‹–á‹˜-áŒáŒ’-áŒ•áŒ˜-ášáŽ€-áŽáŽ -áµá¸-á½á-á™¬á™¯-á™¿áš-áššáš -á›ªá›®-á›¸áœ€-áœ‘áœŸ-áœ±á€-á‘á -á¬á®-á°áž€-áž³áŸ—áŸœá  -á¡¸á¢€-á¢¨á¢ªá¢°-á£µá¤€-á¤žá¥-á¥­á¥°-á¥´á¦€-á¦«á¦°-á§‰á¨€-á¨–á¨ -á©”áª§á¬…-á¬³á­…-á­Œá®ƒ-á® á®®á®¯á®º-á¯¥á°€-á°£á±-á±á±š-á±½á²€-á²Šá²-á²ºá²½-á²¿á³©-á³¬á³®-á³³á³µá³¶á³ºá´€-á¶¿á¸€-á¼•á¼˜-á¼á¼ -á½…á½ˆ-á½á½-á½—á½™á½›á½á½Ÿ-á½½á¾€-á¾´á¾¶-á¾¼á¾¾á¿‚-á¿„á¿†-á¿Œá¿-á¿“á¿–-á¿›á¿ -á¿¬á¿²-á¿´á¿¶-á¿¼â±â¿â‚-â‚œâ„‚â„‡â„Š-â„“â„•â„˜-â„â„¤â„¦â„¨â„ª-â„¹â„¼-â„¿â……-â…‰â…Žâ… -â†ˆâ°€-â³¤â³«-â³®â³²â³³â´€-â´¥â´§â´­â´°-âµ§âµ¯â¶€-â¶–â¶ -â¶¦â¶¨-â¶®â¶°-â¶¶â¶¸-â¶¾â·€-â·†â·ˆ-â·Žâ·-â·–â·˜-â·žã€…-ã€‡ã€¡-ã€©ã€±-ã€µã€¸-ã€¼ã-ã‚–ã‚›-ã‚Ÿã‚¡-ãƒºãƒ¼-ãƒ¿ã„…-ã„¯ã„±-ã†Žã† -ã†¿ã‡°-ã‡¿ã€-ä¶¿ä¸€-ê’Œê“-ê“½ê”€-ê˜Œê˜-ê˜Ÿê˜ªê˜«ê™€-ê™®ê™¿-êšêš -ê›¯êœ—-êœŸêœ¢-êžˆêž‹-êŸêŸêŸ‘êŸ“êŸ•-êŸœêŸ²-ê ê ƒ-ê …ê ‡-ê Šê Œ-ê ¢ê¡€-ê¡³ê¢‚-ê¢³ê£²-ê£·ê£»ê£½ê£¾ê¤Š-ê¤¥ê¤°-ê¥†ê¥ -ê¥¼ê¦„-ê¦²ê§ê§ -ê§¤ê§¦-ê§¯ê§º-ê§¾ê¨€-ê¨¨ê©€-ê©‚ê©„-ê©‹ê© -ê©¶ê©ºê©¾-êª¯êª±êªµêª¶êª¹-êª½ê«€ê«‚ê«›-ê«ê« -ê«ªê«²-ê«´ê¬-ê¬†ê¬‰-ê¬Žê¬‘-ê¬–ê¬ -ê¬¦ê¬¨-ê¬®ê¬°-ê­šê­œ-ê­©ê­°-ê¯¢ê°€-íž£íž°-íŸ†íŸ‹-íŸ»ï¤€-ï©­ï©°-ï«™ï¬€-ï¬†ï¬“-ï¬—ï¬ï¬Ÿ-ï¬¨ï¬ª-ï¬¶ï¬¸-ï¬¼ï¬¾ï­€ï­ï­ƒï­„ï­†-ï®±ï¯“-ï´½ïµ-ï¶ï¶’-ï·‡ï·°-ï·»ï¹°-ï¹´ï¹¶-ï»¼ï¼¡-ï¼ºï½-ï½šï½¦-ï¾¾ï¿‚-ï¿‡ï¿Š-ï¿ï¿’-ï¿—ï¿š-ï¿œ",X={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},fe="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",Oe={5:fe,"5module":fe+" export import",6:fe+" const class extends export import super"},me=/^in(stanceof)?$/,re=new RegExp("["+ue+"]"),_e=new RegExp("["+ue+A+"]");function V(i,a){for(var m=65536,I=0;I<a.length;I+=2){if(m+=a[I],m>i)return!1;if(m+=a[I+1],m>=i)return!0}return!1}function Se(i,a){return i<65?i===36:i<91?!0:i<97?i===95:i<123?!0:i<=65535?i>=170&&re.test(String.fromCharCode(i)):a===!1?!1:V(i,j)}function Q(i,a){return i<48?i===36:i<58?!0:i<65?!1:i<91?!0:i<97?i===95:i<123?!0:i<=65535?i>=170&&_e.test(String.fromCharCode(i)):a===!1?!1:V(i,j)||V(i,le)}var se=function(a,m){m===void 0&&(m={}),this.label=a,this.keyword=m.keyword,this.beforeExpr=!!m.beforeExpr,this.startsExpr=!!m.startsExpr,this.isLoop=!!m.isLoop,this.isAssign=!!m.isAssign,this.prefix=!!m.prefix,this.postfix=!!m.postfix,this.binop=m.binop||null,this.updateContext=null};function W(i,a){return new se(i,{beforeExpr:!0,binop:a})}var De={beforeExpr:!0},ve={startsExpr:!0},Be={};function xe(i,a){return a===void 0&&(a={}),a.keyword=i,Be[i]=new se(i,a)}var w={num:new se("num",ve),regexp:new se("regexp",ve),string:new se("string",ve),name:new se("name",ve),privateId:new se("privateId",ve),eof:new se("eof"),bracketL:new se("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new se("]"),braceL:new se("{",{beforeExpr:!0,startsExpr:!0}),braceR:new se("}"),parenL:new se("(",{beforeExpr:!0,startsExpr:!0}),parenR:new se(")"),comma:new se(",",De),semi:new se(";",De),colon:new se(":",De),dot:new se("."),question:new se("?",De),questionDot:new se("?."),arrow:new se("=>",De),template:new se("template"),invalidTemplate:new se("invalidTemplate"),ellipsis:new se("...",De),backQuote:new se("`",ve),dollarBraceL:new se("${",{beforeExpr:!0,startsExpr:!0}),eq:new se("=",{beforeExpr:!0,isAssign:!0}),assign:new se("_=",{beforeExpr:!0,isAssign:!0}),incDec:new se("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new se("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:W("||",1),logicalAND:W("&&",2),bitwiseOR:W("|",3),bitwiseXOR:W("^",4),bitwiseAND:W("&",5),equality:W("==/!=/===/!==",6),relational:W("</>/<=/>=",7),bitShift:W("<</>>/>>>",8),plusMin:new se("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:W("%",10),star:W("*",10),slash:W("/",10),starstar:new se("**",{beforeExpr:!0}),coalesce:W("??",1),_break:xe("break"),_case:xe("case",De),_catch:xe("catch"),_continue:xe("continue"),_debugger:xe("debugger"),_default:xe("default",De),_do:xe("do",{isLoop:!0,beforeExpr:!0}),_else:xe("else",De),_finally:xe("finally"),_for:xe("for",{isLoop:!0}),_function:xe("function",ve),_if:xe("if"),_return:xe("return",De),_switch:xe("switch"),_throw:xe("throw",De),_try:xe("try"),_var:xe("var"),_const:xe("const"),_while:xe("while",{isLoop:!0}),_with:xe("with"),_new:xe("new",{beforeExpr:!0,startsExpr:!0}),_this:xe("this",ve),_super:xe("super",ve),_class:xe("class",ve),_extends:xe("extends",De),_export:xe("export"),_import:xe("import",ve),_null:xe("null",ve),_true:xe("true",ve),_false:xe("false",ve),_in:xe("in",{beforeExpr:!0,binop:7}),_instanceof:xe("instanceof",{beforeExpr:!0,binop:7}),_typeof:xe("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:xe("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:xe("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Me=/\r\n?|\n|\u2028|\u2029/,ke=new RegExp(Me.source,"g");function Ze(i){return i===10||i===13||i===8232||i===8233}function st(i,a,m){m===void 0&&(m=i.length);for(var I=a;I<m;I++){var D=i.charCodeAt(I);if(Ze(D))return I<m-1&&D===13&&i.charCodeAt(I+1)===10?I+2:I+1}return-1}var tt=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,ut=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Qe=Object.prototype,we=Qe.hasOwnProperty,qe=Qe.toString,J=Object.hasOwn||function(i,a){return we.call(i,a)},Ge=Array.isArray||function(i){return qe.call(i)==="[object Array]"},Ye=Object.create(null);function Le(i){return Ye[i]||(Ye[i]=new RegExp("^(?:"+i.replace(/ /g,"|")+")$"))}function Ke(i){return i<=65535?String.fromCharCode(i):(i-=65536,String.fromCharCode((i>>10)+55296,(i&1023)+56320))}var vt=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,ze=function(a,m){this.line=a,this.column=m};ze.prototype.offset=function(a){return new ze(this.line,this.column+a)};var ht=function(a,m,I){this.start=m,this.end=I,a.sourceFile!==null&&(this.source=a.sourceFile)};function Nt(i,a){for(var m=1,I=0;;){var D=st(i,I,a);if(D<0)return new ze(m,a-I);++m,I=D}}var at={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},Rt=!1;function Jt(i){var a={};for(var m in at)a[m]=i&&J(i,m)?i[m]:at[m];if(a.ecmaVersion==="latest"?a.ecmaVersion=1e8:a.ecmaVersion==null?(!Rt&&typeof console=="object"&&console.warn&&(Rt=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),a.ecmaVersion=11):a.ecmaVersion>=2015&&(a.ecmaVersion-=2009),a.allowReserved==null&&(a.allowReserved=a.ecmaVersion<5),(!i||i.allowHashBang==null)&&(a.allowHashBang=a.ecmaVersion>=14),Ge(a.onToken)){var I=a.onToken;a.onToken=function(D){return I.push(D)}}return Ge(a.onComment)&&(a.onComment=zt(a,a.onComment)),a}function zt(i,a){return function(m,I,D,K,Y,Ne){var $e={type:m?"Block":"Line",value:I,start:D,end:K};i.locations&&($e.loc=new ht(this,Y,Ne)),i.ranges&&($e.range=[D,K]),a.push($e)}}var dt=1,pt=2,Pt=4,Lt=8,ai=16,ei=32,Ft=64,Wt=128,Vt=256,hi=512,_i=dt|pt|Vt;function Ni(i,a){return pt|(i?Pt:0)|(a?Lt:0)}var je=0,Ue=1,Je=2,gt=3,nt=4,e=5,t=function(a,m,I){this.options=a=Jt(a),this.sourceFile=a.sourceFile,this.keywords=Le(Oe[a.ecmaVersion>=6?6:a.sourceType==="module"?"5module":5]);var D="";a.allowReserved!==!0&&(D=X[a.ecmaVersion>=6?6:a.ecmaVersion===5?5:3],a.sourceType==="module"&&(D+=" await")),this.reservedWords=Le(D);var K=(D?D+" ":"")+X.strict;this.reservedWordsStrict=Le(K),this.reservedWordsStrictBind=Le(K+" "+X.strictBind),this.input=String(m),this.containsEsc=!1,I?(this.pos=I,this.lineStart=this.input.lastIndexOf(`
`,I-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Me).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=w.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=a.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&a.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(dt),this.regexpState=null,this.privateNameStack=[]},r={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};t.prototype.parse=function(){var a=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(a)},r.inFunction.get=function(){return(this.currentVarScope().flags&pt)>0},r.inGenerator.get=function(){return(this.currentVarScope().flags&Lt)>0},r.inAsync.get=function(){return(this.currentVarScope().flags&Pt)>0},r.canAwait.get=function(){for(var i=this.scopeStack.length-1;i>=0;i--){var a=this.scopeStack[i],m=a.flags;if(m&(Vt|hi))return!1;if(m&pt)return(m&Pt)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},r.allowSuper.get=function(){var i=this.currentThisScope(),a=i.flags;return(a&Ft)>0||this.options.allowSuperOutsideMethod},r.allowDirectSuper.get=function(){return(this.currentThisScope().flags&Wt)>0},r.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},r.allowNewDotTarget.get=function(){for(var i=this.scopeStack.length-1;i>=0;i--){var a=this.scopeStack[i],m=a.flags;if(m&(Vt|hi)||m&pt&&!(m&ai))return!0}return!1},r.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Vt)>0},t.extend=function(){for(var a=[],m=arguments.length;m--;)a[m]=arguments[m];for(var I=this,D=0;D<a.length;D++)I=a[D](I);return I},t.parse=function(a,m){return new this(m,a).parse()},t.parseExpressionAt=function(a,m,I){var D=new this(I,a,m);return D.nextToken(),D.parseExpression()},t.tokenizer=function(a,m){return new this(m,a)},Object.defineProperties(t.prototype,r);var n=t.prototype,s=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;n.strictDirective=function(i){if(this.options.ecmaVersion<5)return!1;for(;;){ut.lastIndex=i,i+=ut.exec(this.input)[0].length;var a=s.exec(this.input.slice(i));if(!a)return!1;if((a[1]||a[2])==="use strict"){ut.lastIndex=i+a[0].length;var m=ut.exec(this.input),I=m.index+m[0].length,D=this.input.charAt(I);return D===";"||D==="}"||Me.test(m[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(D)||D==="!"&&this.input.charAt(I+1)==="=")}i+=a[0].length,ut.lastIndex=i,i+=ut.exec(this.input)[0].length,this.input[i]===";"&&i++}},n.eat=function(i){return this.type===i?(this.next(),!0):!1},n.isContextual=function(i){return this.type===w.name&&this.value===i&&!this.containsEsc},n.eatContextual=function(i){return this.isContextual(i)?(this.next(),!0):!1},n.expectContextual=function(i){this.eatContextual(i)||this.unexpected()},n.canInsertSemicolon=function(){return this.type===w.eof||this.type===w.braceR||Me.test(this.input.slice(this.lastTokEnd,this.start))},n.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},n.semicolon=function(){!this.eat(w.semi)&&!this.insertSemicolon()&&this.unexpected()},n.afterTrailingComma=function(i,a){if(this.type===i)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),a||this.next(),!0},n.expect=function(i){this.eat(i)||this.unexpected()},n.unexpected=function(i){this.raise(i??this.start,"Unexpected token")};var o=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};n.checkPatternErrors=function(i,a){if(i){i.trailingComma>-1&&this.raiseRecoverable(i.trailingComma,"Comma is not permitted after the rest element");var m=a?i.parenthesizedAssign:i.parenthesizedBind;m>-1&&this.raiseRecoverable(m,a?"Assigning to rvalue":"Parenthesized pattern")}},n.checkExpressionErrors=function(i,a){if(!i)return!1;var m=i.shorthandAssign,I=i.doubleProto;if(!a)return m>=0||I>=0;m>=0&&this.raise(m,"Shorthand property assignments are valid only in destructuring patterns"),I>=0&&this.raiseRecoverable(I,"Redefinition of __proto__ property")},n.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},n.isSimpleAssignTarget=function(i){return i.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(i.expression):i.type==="Identifier"||i.type==="MemberExpression"};var u=t.prototype;u.parseTopLevel=function(i){var a=Object.create(null);for(i.body||(i.body=[]);this.type!==w.eof;){var m=this.parseStatement(null,!0,a);i.body.push(m)}if(this.inModule)for(var I=0,D=Object.keys(this.undefinedExports);I<D.length;I+=1){var K=D[I];this.raiseRecoverable(this.undefinedExports[K].start,"Export '"+K+"' is not defined")}return this.adaptDirectivePrologue(i.body),this.next(),i.sourceType=this.options.sourceType,this.finishNode(i,"Program")};var l={kind:"loop"},h={kind:"switch"};u.isLet=function(i){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;ut.lastIndex=this.pos;var a=ut.exec(this.input),m=this.pos+a[0].length,I=this.input.charCodeAt(m);if(I===91||I===92)return!0;if(i)return!1;if(I===123||I>55295&&I<56320)return!0;if(Se(I,!0)){for(var D=m+1;Q(I=this.input.charCodeAt(D),!0);)++D;if(I===92||I>55295&&I<56320)return!0;var K=this.input.slice(m,D);if(!me.test(K))return!0}return!1},u.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;ut.lastIndex=this.pos;var i=ut.exec(this.input),a=this.pos+i[0].length,m;return!Me.test(this.input.slice(this.pos,a))&&this.input.slice(a,a+8)==="function"&&(a+8===this.input.length||!(Q(m=this.input.charCodeAt(a+8))||m>55295&&m<56320))},u.parseStatement=function(i,a,m){var I=this.type,D=this.startNode(),K;switch(this.isLet(i)&&(I=w._var,K="let"),I){case w._break:case w._continue:return this.parseBreakContinueStatement(D,I.keyword);case w._debugger:return this.parseDebuggerStatement(D);case w._do:return this.parseDoStatement(D);case w._for:return this.parseForStatement(D);case w._function:return i&&(this.strict||i!=="if"&&i!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(D,!1,!i);case w._class:return i&&this.unexpected(),this.parseClass(D,!0);case w._if:return this.parseIfStatement(D);case w._return:return this.parseReturnStatement(D);case w._switch:return this.parseSwitchStatement(D);case w._throw:return this.parseThrowStatement(D);case w._try:return this.parseTryStatement(D);case w._const:case w._var:return K=K||this.value,i&&K!=="var"&&this.unexpected(),this.parseVarStatement(D,K);case w._while:return this.parseWhileStatement(D);case w._with:return this.parseWithStatement(D);case w.braceL:return this.parseBlock(!0,D);case w.semi:return this.parseEmptyStatement(D);case w._export:case w._import:if(this.options.ecmaVersion>10&&I===w._import){ut.lastIndex=this.pos;var Y=ut.exec(this.input),Ne=this.pos+Y[0].length,$e=this.input.charCodeAt(Ne);if($e===40||$e===46)return this.parseExpressionStatement(D,this.parseExpression())}return this.options.allowImportExportEverywhere||(a||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),I===w._import?this.parseImport(D):this.parseExport(D,m);default:if(this.isAsyncFunction())return i&&this.unexpected(),this.next(),this.parseFunctionStatement(D,!0,!i);var It=this.value,xt=this.parseExpression();return I===w.name&&xt.type==="Identifier"&&this.eat(w.colon)?this.parseLabeledStatement(D,It,xt,i):this.parseExpressionStatement(D,xt)}},u.parseBreakContinueStatement=function(i,a){var m=a==="break";this.next(),this.eat(w.semi)||this.insertSemicolon()?i.label=null:this.type!==w.name?this.unexpected():(i.label=this.parseIdent(),this.semicolon());for(var I=0;I<this.labels.length;++I){var D=this.labels[I];if((i.label==null||D.name===i.label.name)&&(D.kind!=null&&(m||D.kind==="loop")||i.label&&m))break}return I===this.labels.length&&this.raise(i.start,"Unsyntactic "+a),this.finishNode(i,m?"BreakStatement":"ContinueStatement")},u.parseDebuggerStatement=function(i){return this.next(),this.semicolon(),this.finishNode(i,"DebuggerStatement")},u.parseDoStatement=function(i){return this.next(),this.labels.push(l),i.body=this.parseStatement("do"),this.labels.pop(),this.expect(w._while),i.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(w.semi):this.semicolon(),this.finishNode(i,"DoWhileStatement")},u.parseForStatement=function(i){this.next();var a=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(l),this.enterScope(0),this.expect(w.parenL),this.type===w.semi)return a>-1&&this.unexpected(a),this.parseFor(i,null);var m=this.isLet();if(this.type===w._var||this.type===w._const||m){var I=this.startNode(),D=m?"let":this.value;return this.next(),this.parseVar(I,!0,D),this.finishNode(I,"VariableDeclaration"),(this.type===w._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&I.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===w._in?a>-1&&this.unexpected(a):i.await=a>-1),this.parseForIn(i,I)):(a>-1&&this.unexpected(a),this.parseFor(i,I))}var K=this.isContextual("let"),Y=!1,Ne=this.containsEsc,$e=new o,It=this.start,xt=a>-1?this.parseExprSubscripts($e,"await"):this.parseExpression(!0,$e);return this.type===w._in||(Y=this.options.ecmaVersion>=6&&this.isContextual("of"))?(a>-1?(this.type===w._in&&this.unexpected(a),i.await=!0):Y&&this.options.ecmaVersion>=8&&(xt.start===It&&!Ne&&xt.type==="Identifier"&&xt.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(i.await=!1)),K&&Y&&this.raise(xt.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(xt,!1,$e),this.checkLValPattern(xt),this.parseForIn(i,xt)):(this.checkExpressionErrors($e,!0),a>-1&&this.unexpected(a),this.parseFor(i,xt))},u.parseFunctionStatement=function(i,a,m){return this.next(),this.parseFunction(i,g|(m?0:_),!1,a)},u.parseIfStatement=function(i){return this.next(),i.test=this.parseParenExpression(),i.consequent=this.parseStatement("if"),i.alternate=this.eat(w._else)?this.parseStatement("if"):null,this.finishNode(i,"IfStatement")},u.parseReturnStatement=function(i){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(w.semi)||this.insertSemicolon()?i.argument=null:(i.argument=this.parseExpression(),this.semicolon()),this.finishNode(i,"ReturnStatement")},u.parseSwitchStatement=function(i){this.next(),i.discriminant=this.parseParenExpression(),i.cases=[],this.expect(w.braceL),this.labels.push(h),this.enterScope(0);for(var a,m=!1;this.type!==w.braceR;)if(this.type===w._case||this.type===w._default){var I=this.type===w._case;a&&this.finishNode(a,"SwitchCase"),i.cases.push(a=this.startNode()),a.consequent=[],this.next(),I?a.test=this.parseExpression():(m&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),m=!0,a.test=null),this.expect(w.colon)}else a||this.unexpected(),a.consequent.push(this.parseStatement(null));return this.exitScope(),a&&this.finishNode(a,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(i,"SwitchStatement")},u.parseThrowStatement=function(i){return this.next(),Me.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),i.argument=this.parseExpression(),this.semicolon(),this.finishNode(i,"ThrowStatement")};var c=[];u.parseCatchClauseParam=function(){var i=this.parseBindingAtom(),a=i.type==="Identifier";return this.enterScope(a?ei:0),this.checkLValPattern(i,a?nt:Je),this.expect(w.parenR),i},u.parseTryStatement=function(i){if(this.next(),i.block=this.parseBlock(),i.handler=null,this.type===w._catch){var a=this.startNode();this.next(),this.eat(w.parenL)?a.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),a.param=null,this.enterScope(0)),a.body=this.parseBlock(!1),this.exitScope(),i.handler=this.finishNode(a,"CatchClause")}return i.finalizer=this.eat(w._finally)?this.parseBlock():null,!i.handler&&!i.finalizer&&this.raise(i.start,"Missing catch or finally clause"),this.finishNode(i,"TryStatement")},u.parseVarStatement=function(i,a,m){return this.next(),this.parseVar(i,!1,a,m),this.semicolon(),this.finishNode(i,"VariableDeclaration")},u.parseWhileStatement=function(i){return this.next(),i.test=this.parseParenExpression(),this.labels.push(l),i.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(i,"WhileStatement")},u.parseWithStatement=function(i){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),i.object=this.parseParenExpression(),i.body=this.parseStatement("with"),this.finishNode(i,"WithStatement")},u.parseEmptyStatement=function(i){return this.next(),this.finishNode(i,"EmptyStatement")},u.parseLabeledStatement=function(i,a,m,I){for(var D=0,K=this.labels;D<K.length;D+=1){var Y=K[D];Y.name===a&&this.raise(m.start,"Label '"+a+"' is already declared")}for(var Ne=this.type.isLoop?"loop":this.type===w._switch?"switch":null,$e=this.labels.length-1;$e>=0;$e--){var It=this.labels[$e];if(It.statementStart===i.start)It.statementStart=this.start,It.kind=Ne;else break}return this.labels.push({name:a,kind:Ne,statementStart:this.start}),i.body=this.parseStatement(I?I.indexOf("label")===-1?I+"label":I:"label"),this.labels.pop(),i.label=m,this.finishNode(i,"LabeledStatement")},u.parseExpressionStatement=function(i,a){return i.expression=a,this.semicolon(),this.finishNode(i,"ExpressionStatement")},u.parseBlock=function(i,a,m){for(i===void 0&&(i=!0),a===void 0&&(a=this.startNode()),a.body=[],this.expect(w.braceL),i&&this.enterScope(0);this.type!==w.braceR;){var I=this.parseStatement(null);a.body.push(I)}return m&&(this.strict=!1),this.next(),i&&this.exitScope(),this.finishNode(a,"BlockStatement")},u.parseFor=function(i,a){return i.init=a,this.expect(w.semi),i.test=this.type===w.semi?null:this.parseExpression(),this.expect(w.semi),i.update=this.type===w.parenR?null:this.parseExpression(),this.expect(w.parenR),i.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(i,"ForStatement")},u.parseForIn=function(i,a){var m=this.type===w._in;return this.next(),a.type==="VariableDeclaration"&&a.declarations[0].init!=null&&(!m||this.options.ecmaVersion<8||this.strict||a.kind!=="var"||a.declarations[0].id.type!=="Identifier")&&this.raise(a.start,(m?"for-in":"for-of")+" loop variable declaration may not have an initializer"),i.left=a,i.right=m?this.parseExpression():this.parseMaybeAssign(),this.expect(w.parenR),i.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(i,m?"ForInStatement":"ForOfStatement")},u.parseVar=function(i,a,m,I){for(i.declarations=[],i.kind=m;;){var D=this.startNode();if(this.parseVarId(D,m),this.eat(w.eq)?D.init=this.parseMaybeAssign(a):!I&&m==="const"&&!(this.type===w._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!I&&D.id.type!=="Identifier"&&!(a&&(this.type===w._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):D.init=null,i.declarations.push(this.finishNode(D,"VariableDeclarator")),!this.eat(w.comma))break}return i},u.parseVarId=function(i,a){i.id=this.parseBindingAtom(),this.checkLValPattern(i.id,a==="var"?Ue:Je,!1)};var g=1,_=2,p=4;u.parseFunction=function(i,a,m,I,D){this.initFunction(i),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!I)&&(this.type===w.star&&a&_&&this.unexpected(),i.generator=this.eat(w.star)),this.options.ecmaVersion>=8&&(i.async=!!I),a&g&&(i.id=a&p&&this.type!==w.name?null:this.parseIdent(),i.id&&!(a&_)&&this.checkLValSimple(i.id,this.strict||i.generator||i.async?this.treatFunctionsAsVar?Ue:Je:gt));var K=this.yieldPos,Y=this.awaitPos,Ne=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Ni(i.async,i.generator)),a&g||(i.id=this.type===w.name?this.parseIdent():null),this.parseFunctionParams(i),this.parseFunctionBody(i,m,!1,D),this.yieldPos=K,this.awaitPos=Y,this.awaitIdentPos=Ne,this.finishNode(i,a&g?"FunctionDeclaration":"FunctionExpression")},u.parseFunctionParams=function(i){this.expect(w.parenL),i.params=this.parseBindingList(w.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},u.parseClass=function(i,a){this.next();var m=this.strict;this.strict=!0,this.parseClassId(i,a),this.parseClassSuper(i);var I=this.enterClassBody(),D=this.startNode(),K=!1;for(D.body=[],this.expect(w.braceL);this.type!==w.braceR;){var Y=this.parseClassElement(i.superClass!==null);Y&&(D.body.push(Y),Y.type==="MethodDefinition"&&Y.kind==="constructor"?(K&&this.raiseRecoverable(Y.start,"Duplicate constructor in the same class"),K=!0):Y.key&&Y.key.type==="PrivateIdentifier"&&d(I,Y)&&this.raiseRecoverable(Y.key.start,"Identifier '#"+Y.key.name+"' has already been declared"))}return this.strict=m,this.next(),i.body=this.finishNode(D,"ClassBody"),this.exitClassBody(),this.finishNode(i,a?"ClassDeclaration":"ClassExpression")},u.parseClassElement=function(i){if(this.eat(w.semi))return null;var a=this.options.ecmaVersion,m=this.startNode(),I="",D=!1,K=!1,Y="method",Ne=!1;if(this.eatContextual("static")){if(a>=13&&this.eat(w.braceL))return this.parseClassStaticBlock(m),m;this.isClassElementNameStart()||this.type===w.star?Ne=!0:I="static"}if(m.static=Ne,!I&&a>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===w.star)&&!this.canInsertSemicolon()?K=!0:I="async"),!I&&(a>=9||!K)&&this.eat(w.star)&&(D=!0),!I&&!K&&!D){var $e=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?Y=$e:I=$e)}if(I?(m.computed=!1,m.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),m.key.name=I,this.finishNode(m.key,"Identifier")):this.parseClassElementName(m),a<13||this.type===w.parenL||Y!=="method"||D||K){var It=!m.static&&x(m,"constructor"),xt=It&&i;It&&Y!=="method"&&this.raise(m.key.start,"Constructor can't have get/set modifier"),m.kind=It?"constructor":Y,this.parseClassMethod(m,D,K,xt)}else this.parseClassField(m);return m},u.isClassElementNameStart=function(){return this.type===w.name||this.type===w.privateId||this.type===w.num||this.type===w.string||this.type===w.bracketL||this.type.keyword},u.parseClassElementName=function(i){this.type===w.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),i.computed=!1,i.key=this.parsePrivateIdent()):this.parsePropertyName(i)},u.parseClassMethod=function(i,a,m,I){var D=i.key;i.kind==="constructor"?(a&&this.raise(D.start,"Constructor can't be a generator"),m&&this.raise(D.start,"Constructor can't be an async method")):i.static&&x(i,"prototype")&&this.raise(D.start,"Classes may not have a static property named prototype");var K=i.value=this.parseMethod(a,m,I);return i.kind==="get"&&K.params.length!==0&&this.raiseRecoverable(K.start,"getter should have no params"),i.kind==="set"&&K.params.length!==1&&this.raiseRecoverable(K.start,"setter should have exactly one param"),i.kind==="set"&&K.params[0].type==="RestElement"&&this.raiseRecoverable(K.params[0].start,"Setter cannot use rest params"),this.finishNode(i,"MethodDefinition")},u.parseClassField=function(i){return x(i,"constructor")?this.raise(i.key.start,"Classes can't have a field named 'constructor'"):i.static&&x(i,"prototype")&&this.raise(i.key.start,"Classes can't have a static field named 'prototype'"),this.eat(w.eq)?(this.enterScope(hi|Ft),i.value=this.parseMaybeAssign(),this.exitScope()):i.value=null,this.semicolon(),this.finishNode(i,"PropertyDefinition")},u.parseClassStaticBlock=function(i){i.body=[];var a=this.labels;for(this.labels=[],this.enterScope(Vt|Ft);this.type!==w.braceR;){var m=this.parseStatement(null);i.body.push(m)}return this.next(),this.exitScope(),this.labels=a,this.finishNode(i,"StaticBlock")},u.parseClassId=function(i,a){this.type===w.name?(i.id=this.parseIdent(),a&&this.checkLValSimple(i.id,Je,!1)):(a===!0&&this.unexpected(),i.id=null)},u.parseClassSuper=function(i){i.superClass=this.eat(w._extends)?this.parseExprSubscripts(null,!1):null},u.enterClassBody=function(){var i={declared:Object.create(null),used:[]};return this.privateNameStack.push(i),i.declared},u.exitClassBody=function(){var i=this.privateNameStack.pop(),a=i.declared,m=i.used;if(this.options.checkPrivateFields)for(var I=this.privateNameStack.length,D=I===0?null:this.privateNameStack[I-1],K=0;K<m.length;++K){var Y=m[K];J(a,Y.name)||(D?D.used.push(Y):this.raiseRecoverable(Y.start,"Private field '#"+Y.name+"' must be declared in an enclosing class"))}};function d(i,a){var m=a.key.name,I=i[m],D="true";return a.type==="MethodDefinition"&&(a.kind==="get"||a.kind==="set")&&(D=(a.static?"s":"i")+a.kind),I==="iget"&&D==="iset"||I==="iset"&&D==="iget"||I==="sget"&&D==="sset"||I==="sset"&&D==="sget"?(i[m]="true",!1):I?!0:(i[m]=D,!1)}function x(i,a){var m=i.computed,I=i.key;return!m&&(I.type==="Identifier"&&I.name===a||I.type==="Literal"&&I.value===a)}u.parseExportAllDeclaration=function(i,a){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(i.exported=this.parseModuleExportName(),this.checkExport(a,i.exported,this.lastTokStart)):i.exported=null),this.expectContextual("from"),this.type!==w.string&&this.unexpected(),i.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(i.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(i,"ExportAllDeclaration")},u.parseExport=function(i,a){if(this.next(),this.eat(w.star))return this.parseExportAllDeclaration(i,a);if(this.eat(w._default))return this.checkExport(a,"default",this.lastTokStart),i.declaration=this.parseExportDefaultDeclaration(),this.finishNode(i,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())i.declaration=this.parseExportDeclaration(i),i.declaration.type==="VariableDeclaration"?this.checkVariableExport(a,i.declaration.declarations):this.checkExport(a,i.declaration.id,i.declaration.id.start),i.specifiers=[],i.source=null,this.options.ecmaVersion>=16&&(i.attributes=[]);else{if(i.declaration=null,i.specifiers=this.parseExportSpecifiers(a),this.eatContextual("from"))this.type!==w.string&&this.unexpected(),i.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(i.attributes=this.parseWithClause());else{for(var m=0,I=i.specifiers;m<I.length;m+=1){var D=I[m];this.checkUnreserved(D.local),this.checkLocalExport(D.local),D.local.type==="Literal"&&this.raise(D.local.start,"A string literal cannot be used as an exported binding without `from`.")}i.source=null,this.options.ecmaVersion>=16&&(i.attributes=[])}this.semicolon()}return this.finishNode(i,"ExportNamedDeclaration")},u.parseExportDeclaration=function(i){return this.parseStatement(null)},u.parseExportDefaultDeclaration=function(){var i;if(this.type===w._function||(i=this.isAsyncFunction())){var a=this.startNode();return this.next(),i&&this.next(),this.parseFunction(a,g|p,!1,i)}else if(this.type===w._class){var m=this.startNode();return this.parseClass(m,"nullableID")}else{var I=this.parseMaybeAssign();return this.semicolon(),I}},u.checkExport=function(i,a,m){i&&(typeof a!="string"&&(a=a.type==="Identifier"?a.name:a.value),J(i,a)&&this.raiseRecoverable(m,"Duplicate export '"+a+"'"),i[a]=!0)},u.checkPatternExport=function(i,a){var m=a.type;if(m==="Identifier")this.checkExport(i,a,a.start);else if(m==="ObjectPattern")for(var I=0,D=a.properties;I<D.length;I+=1){var K=D[I];this.checkPatternExport(i,K)}else if(m==="ArrayPattern")for(var Y=0,Ne=a.elements;Y<Ne.length;Y+=1){var $e=Ne[Y];$e&&this.checkPatternExport(i,$e)}else m==="Property"?this.checkPatternExport(i,a.value):m==="AssignmentPattern"?this.checkPatternExport(i,a.left):m==="RestElement"&&this.checkPatternExport(i,a.argument)},u.checkVariableExport=function(i,a){if(i)for(var m=0,I=a;m<I.length;m+=1){var D=I[m];this.checkPatternExport(i,D.id)}},u.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},u.parseExportSpecifier=function(i){var a=this.startNode();return a.local=this.parseModuleExportName(),a.exported=this.eatContextual("as")?this.parseModuleExportName():a.local,this.checkExport(i,a.exported,a.exported.start),this.finishNode(a,"ExportSpecifier")},u.parseExportSpecifiers=function(i){var a=[],m=!0;for(this.expect(w.braceL);!this.eat(w.braceR);){if(m)m=!1;else if(this.expect(w.comma),this.afterTrailingComma(w.braceR))break;a.push(this.parseExportSpecifier(i))}return a},u.parseImport=function(i){return this.next(),this.type===w.string?(i.specifiers=c,i.source=this.parseExprAtom()):(i.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),i.source=this.type===w.string?this.parseExprAtom():this.unexpected()),this.options.ecmaVersion>=16&&(i.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(i,"ImportDeclaration")},u.parseImportSpecifier=function(){var i=this.startNode();return i.imported=this.parseModuleExportName(),this.eatContextual("as")?i.local=this.parseIdent():(this.checkUnreserved(i.imported),i.local=i.imported),this.checkLValSimple(i.local,Je),this.finishNode(i,"ImportSpecifier")},u.parseImportDefaultSpecifier=function(){var i=this.startNode();return i.local=this.parseIdent(),this.checkLValSimple(i.local,Je),this.finishNode(i,"ImportDefaultSpecifier")},u.parseImportNamespaceSpecifier=function(){var i=this.startNode();return this.next(),this.expectContextual("as"),i.local=this.parseIdent(),this.checkLValSimple(i.local,Je),this.finishNode(i,"ImportNamespaceSpecifier")},u.parseImportSpecifiers=function(){var i=[],a=!0;if(this.type===w.name&&(i.push(this.parseImportDefaultSpecifier()),!this.eat(w.comma)))return i;if(this.type===w.star)return i.push(this.parseImportNamespaceSpecifier()),i;for(this.expect(w.braceL);!this.eat(w.braceR);){if(a)a=!1;else if(this.expect(w.comma),this.afterTrailingComma(w.braceR))break;i.push(this.parseImportSpecifier())}return i},u.parseWithClause=function(){var i=[];if(!this.eat(w._with))return i;this.expect(w.braceL);for(var a={},m=!0;!this.eat(w.braceR);){if(m)m=!1;else if(this.expect(w.comma),this.afterTrailingComma(w.braceR))break;var I=this.parseImportAttribute(),D=I.key.type==="Identifier"?I.key.name:I.key.value;J(a,D)&&this.raiseRecoverable(I.key.start,"Duplicate attribute key '"+D+"'"),a[D]=!0,i.push(I)}return i},u.parseImportAttribute=function(){var i=this.startNode();return i.key=this.type===w.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never"),this.expect(w.colon),this.type!==w.string&&this.unexpected(),i.value=this.parseExprAtom(),this.finishNode(i,"ImportAttribute")},u.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===w.string){var i=this.parseLiteral(this.value);return vt.test(i.value)&&this.raise(i.start,"An export name cannot include a lone surrogate."),i}return this.parseIdent(!0)},u.adaptDirectivePrologue=function(i){for(var a=0;a<i.length&&this.isDirectiveCandidate(i[a]);++a)i[a].directive=i[a].expression.raw.slice(1,-1)},u.isDirectiveCandidate=function(i){return this.options.ecmaVersion>=5&&i.type==="ExpressionStatement"&&i.expression.type==="Literal"&&typeof i.expression.value=="string"&&(this.input[i.start]==='"'||this.input[i.start]==="'")};var b=t.prototype;b.toAssignable=function(i,a,m){if(this.options.ecmaVersion>=6&&i)switch(i.type){case"Identifier":this.inAsync&&i.name==="await"&&this.raise(i.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":i.type="ObjectPattern",m&&this.checkPatternErrors(m,!0);for(var I=0,D=i.properties;I<D.length;I+=1){var K=D[I];this.toAssignable(K,a),K.type==="RestElement"&&(K.argument.type==="ArrayPattern"||K.argument.type==="ObjectPattern")&&this.raise(K.argument.start,"Unexpected token")}break;case"Property":i.kind!=="init"&&this.raise(i.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(i.value,a);break;case"ArrayExpression":i.type="ArrayPattern",m&&this.checkPatternErrors(m,!0),this.toAssignableList(i.elements,a);break;case"SpreadElement":i.type="RestElement",this.toAssignable(i.argument,a),i.argument.type==="AssignmentPattern"&&this.raise(i.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":i.operator!=="="&&this.raise(i.left.end,"Only '=' operator can be used for specifying default value."),i.type="AssignmentPattern",delete i.operator,this.toAssignable(i.left,a);break;case"ParenthesizedExpression":this.toAssignable(i.expression,a,m);break;case"ChainExpression":this.raiseRecoverable(i.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!a)break;default:this.raise(i.start,"Assigning to rvalue")}else m&&this.checkPatternErrors(m,!0);return i},b.toAssignableList=function(i,a){for(var m=i.length,I=0;I<m;I++){var D=i[I];D&&this.toAssignable(D,a)}if(m){var K=i[m-1];this.options.ecmaVersion===6&&a&&K&&K.type==="RestElement"&&K.argument.type!=="Identifier"&&this.unexpected(K.argument.start)}return i},b.parseSpread=function(i){var a=this.startNode();return this.next(),a.argument=this.parseMaybeAssign(!1,i),this.finishNode(a,"SpreadElement")},b.parseRestBinding=function(){var i=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==w.name&&this.unexpected(),i.argument=this.parseBindingAtom(),this.finishNode(i,"RestElement")},b.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case w.bracketL:var i=this.startNode();return this.next(),i.elements=this.parseBindingList(w.bracketR,!0,!0),this.finishNode(i,"ArrayPattern");case w.braceL:return this.parseObj(!0)}return this.parseIdent()},b.parseBindingList=function(i,a,m,I){for(var D=[],K=!0;!this.eat(i);)if(K?K=!1:this.expect(w.comma),a&&this.type===w.comma)D.push(null);else{if(m&&this.afterTrailingComma(i))break;if(this.type===w.ellipsis){var Y=this.parseRestBinding();this.parseBindingListItem(Y),D.push(Y),this.type===w.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(i);break}else D.push(this.parseAssignableListItem(I))}return D},b.parseAssignableListItem=function(i){var a=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(a),a},b.parseBindingListItem=function(i){return i},b.parseMaybeDefault=function(i,a,m){if(m=m||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(w.eq))return m;var I=this.startNodeAt(i,a);return I.left=m,I.right=this.parseMaybeAssign(),this.finishNode(I,"AssignmentPattern")},b.checkLValSimple=function(i,a,m){a===void 0&&(a=je);var I=a!==je;switch(i.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(i.name)&&this.raiseRecoverable(i.start,(I?"Binding ":"Assigning to ")+i.name+" in strict mode"),I&&(a===Je&&i.name==="let"&&this.raiseRecoverable(i.start,"let is disallowed as a lexically bound name"),m&&(J(m,i.name)&&this.raiseRecoverable(i.start,"Argument name clash"),m[i.name]=!0),a!==e&&this.declareName(i.name,a,i.start));break;case"ChainExpression":this.raiseRecoverable(i.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":I&&this.raiseRecoverable(i.start,"Binding member expression");break;case"ParenthesizedExpression":return I&&this.raiseRecoverable(i.start,"Binding parenthesized expression"),this.checkLValSimple(i.expression,a,m);default:this.raise(i.start,(I?"Binding":"Assigning to")+" rvalue")}},b.checkLValPattern=function(i,a,m){switch(a===void 0&&(a=je),i.type){case"ObjectPattern":for(var I=0,D=i.properties;I<D.length;I+=1){var K=D[I];this.checkLValInnerPattern(K,a,m)}break;case"ArrayPattern":for(var Y=0,Ne=i.elements;Y<Ne.length;Y+=1){var $e=Ne[Y];$e&&this.checkLValInnerPattern($e,a,m)}break;default:this.checkLValSimple(i,a,m)}},b.checkLValInnerPattern=function(i,a,m){switch(a===void 0&&(a=je),i.type){case"Property":this.checkLValInnerPattern(i.value,a,m);break;case"AssignmentPattern":this.checkLValPattern(i.left,a,m);break;case"RestElement":this.checkLValPattern(i.argument,a,m);break;default:this.checkLValPattern(i,a,m)}};var P=function(a,m,I,D,K){this.token=a,this.isExpr=!!m,this.preserveSpace=!!I,this.override=D,this.generator=!!K},v={b_stat:new P("{",!1),b_expr:new P("{",!0),b_tmpl:new P("${",!1),p_stat:new P("(",!1),p_expr:new P("(",!0),q_tmpl:new P("`",!0,!0,function(i){return i.tryReadTemplateToken()}),f_stat:new P("function",!1),f_expr:new P("function",!0),f_expr_gen:new P("function",!0,!1,null,!0),f_gen:new P("function",!1,!1,null,!0)},S=t.prototype;S.initialContext=function(){return[v.b_stat]},S.curContext=function(){return this.context[this.context.length-1]},S.braceIsBlock=function(i){var a=this.curContext();return a===v.f_expr||a===v.f_stat?!0:i===w.colon&&(a===v.b_stat||a===v.b_expr)?!a.isExpr:i===w._return||i===w.name&&this.exprAllowed?Me.test(this.input.slice(this.lastTokEnd,this.start)):i===w._else||i===w.semi||i===w.eof||i===w.parenR||i===w.arrow?!0:i===w.braceL?a===v.b_stat:i===w._var||i===w._const||i===w.name?!1:!this.exprAllowed},S.inGeneratorContext=function(){for(var i=this.context.length-1;i>=1;i--){var a=this.context[i];if(a.token==="function")return a.generator}return!1},S.updateContext=function(i){var a,m=this.type;m.keyword&&i===w.dot?this.exprAllowed=!1:(a=m.updateContext)?a.call(this,i):this.exprAllowed=m.beforeExpr},S.overrideContext=function(i){this.curContext()!==i&&(this.context[this.context.length-1]=i)},w.parenR.updateContext=w.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var i=this.context.pop();i===v.b_stat&&this.curContext().token==="function"&&(i=this.context.pop()),this.exprAllowed=!i.isExpr},w.braceL.updateContext=function(i){this.context.push(this.braceIsBlock(i)?v.b_stat:v.b_expr),this.exprAllowed=!0},w.dollarBraceL.updateContext=function(){this.context.push(v.b_tmpl),this.exprAllowed=!0},w.parenL.updateContext=function(i){var a=i===w._if||i===w._for||i===w._with||i===w._while;this.context.push(a?v.p_stat:v.p_expr),this.exprAllowed=!0},w.incDec.updateContext=function(){},w._function.updateContext=w._class.updateContext=function(i){i.beforeExpr&&i!==w._else&&!(i===w.semi&&this.curContext()!==v.p_stat)&&!(i===w._return&&Me.test(this.input.slice(this.lastTokEnd,this.start)))&&!((i===w.colon||i===w.braceL)&&this.curContext()===v.b_stat)?this.context.push(v.f_expr):this.context.push(v.f_stat),this.exprAllowed=!1},w.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0},w.backQuote.updateContext=function(){this.curContext()===v.q_tmpl?this.context.pop():this.context.push(v.q_tmpl),this.exprAllowed=!1},w.star.updateContext=function(i){if(i===w._function){var a=this.context.length-1;this.context[a]===v.f_expr?this.context[a]=v.f_expr_gen:this.context[a]=v.f_gen}this.exprAllowed=!0},w.name.updateContext=function(i){var a=!1;this.options.ecmaVersion>=6&&i!==w.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(a=!0),this.exprAllowed=a};var f=t.prototype;f.checkPropClash=function(i,a,m){if(!(this.options.ecmaVersion>=9&&i.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(i.computed||i.method||i.shorthand))){var I=i.key,D;switch(I.type){case"Identifier":D=I.name;break;case"Literal":D=String(I.value);break;default:return}var K=i.kind;if(this.options.ecmaVersion>=6){D==="__proto__"&&K==="init"&&(a.proto&&(m?m.doubleProto<0&&(m.doubleProto=I.start):this.raiseRecoverable(I.start,"Redefinition of __proto__ property")),a.proto=!0);return}D="$"+D;var Y=a[D];if(Y){var Ne;K==="init"?Ne=this.strict&&Y.init||Y.get||Y.set:Ne=Y.init||Y[K],Ne&&this.raiseRecoverable(I.start,"Redefinition of property")}else Y=a[D]={init:!1,get:!1,set:!1};Y[K]=!0}},f.parseExpression=function(i,a){var m=this.start,I=this.startLoc,D=this.parseMaybeAssign(i,a);if(this.type===w.comma){var K=this.startNodeAt(m,I);for(K.expressions=[D];this.eat(w.comma);)K.expressions.push(this.parseMaybeAssign(i,a));return this.finishNode(K,"SequenceExpression")}return D},f.parseMaybeAssign=function(i,a,m){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(i);this.exprAllowed=!1}var I=!1,D=-1,K=-1,Y=-1;a?(D=a.parenthesizedAssign,K=a.trailingComma,Y=a.doubleProto,a.parenthesizedAssign=a.trailingComma=-1):(a=new o,I=!0);var Ne=this.start,$e=this.startLoc;(this.type===w.parenL||this.type===w.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=i==="await");var It=this.parseMaybeConditional(i,a);if(m&&(It=m.call(this,It,Ne,$e)),this.type.isAssign){var xt=this.startNodeAt(Ne,$e);return xt.operator=this.value,this.type===w.eq&&(It=this.toAssignable(It,!1,a)),I||(a.parenthesizedAssign=a.trailingComma=a.doubleProto=-1),a.shorthandAssign>=It.start&&(a.shorthandAssign=-1),this.type===w.eq?this.checkLValPattern(It):this.checkLValSimple(It),xt.left=It,this.next(),xt.right=this.parseMaybeAssign(i),Y>-1&&(a.doubleProto=Y),this.finishNode(xt,"AssignmentExpression")}else I&&this.checkExpressionErrors(a,!0);return D>-1&&(a.parenthesizedAssign=D),K>-1&&(a.trailingComma=K),It},f.parseMaybeConditional=function(i,a){var m=this.start,I=this.startLoc,D=this.parseExprOps(i,a);if(this.checkExpressionErrors(a))return D;if(this.eat(w.question)){var K=this.startNodeAt(m,I);return K.test=D,K.consequent=this.parseMaybeAssign(),this.expect(w.colon),K.alternate=this.parseMaybeAssign(i),this.finishNode(K,"ConditionalExpression")}return D},f.parseExprOps=function(i,a){var m=this.start,I=this.startLoc,D=this.parseMaybeUnary(a,!1,!1,i);return this.checkExpressionErrors(a)||D.start===m&&D.type==="ArrowFunctionExpression"?D:this.parseExprOp(D,m,I,-1,i)},f.parseExprOp=function(i,a,m,I,D){var K=this.type.binop;if(K!=null&&(!D||this.type!==w._in)&&K>I){var Y=this.type===w.logicalOR||this.type===w.logicalAND,Ne=this.type===w.coalesce;Ne&&(K=w.logicalAND.binop);var $e=this.value;this.next();var It=this.start,xt=this.startLoc,ni=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,D),It,xt,K,D),$i=this.buildBinary(a,m,i,ni,$e,Y||Ne);return(Y&&this.type===w.coalesce||Ne&&(this.type===w.logicalOR||this.type===w.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp($i,a,m,I,D)}return i},f.buildBinary=function(i,a,m,I,D,K){I.type==="PrivateIdentifier"&&this.raise(I.start,"Private identifier can only be left side of binary expression");var Y=this.startNodeAt(i,a);return Y.left=m,Y.operator=D,Y.right=I,this.finishNode(Y,K?"LogicalExpression":"BinaryExpression")},f.parseMaybeUnary=function(i,a,m,I){var D=this.start,K=this.startLoc,Y;if(this.isContextual("await")&&this.canAwait)Y=this.parseAwait(I),a=!0;else if(this.type.prefix){var Ne=this.startNode(),$e=this.type===w.incDec;Ne.operator=this.value,Ne.prefix=!0,this.next(),Ne.argument=this.parseMaybeUnary(null,!0,$e,I),this.checkExpressionErrors(i,!0),$e?this.checkLValSimple(Ne.argument):this.strict&&Ne.operator==="delete"&&y(Ne.argument)?this.raiseRecoverable(Ne.start,"Deleting local variable in strict mode"):Ne.operator==="delete"&&k(Ne.argument)?this.raiseRecoverable(Ne.start,"Private fields can not be deleted"):a=!0,Y=this.finishNode(Ne,$e?"UpdateExpression":"UnaryExpression")}else if(!a&&this.type===w.privateId)(I||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),Y=this.parsePrivateIdent(),this.type!==w._in&&this.unexpected();else{if(Y=this.parseExprSubscripts(i,I),this.checkExpressionErrors(i))return Y;for(;this.type.postfix&&!this.canInsertSemicolon();){var It=this.startNodeAt(D,K);It.operator=this.value,It.prefix=!1,It.argument=Y,this.checkLValSimple(Y),this.next(),Y=this.finishNode(It,"UpdateExpression")}}if(!m&&this.eat(w.starstar))if(a)this.unexpected(this.lastTokStart);else return this.buildBinary(D,K,Y,this.parseMaybeUnary(null,!1,!1,I),"**",!1);else return Y};function y(i){return i.type==="Identifier"||i.type==="ParenthesizedExpression"&&y(i.expression)}function k(i){return i.type==="MemberExpression"&&i.property.type==="PrivateIdentifier"||i.type==="ChainExpression"&&k(i.expression)||i.type==="ParenthesizedExpression"&&k(i.expression)}f.parseExprSubscripts=function(i,a){var m=this.start,I=this.startLoc,D=this.parseExprAtom(i,a);if(D.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return D;var K=this.parseSubscripts(D,m,I,!1,a);return i&&K.type==="MemberExpression"&&(i.parenthesizedAssign>=K.start&&(i.parenthesizedAssign=-1),i.parenthesizedBind>=K.start&&(i.parenthesizedBind=-1),i.trailingComma>=K.start&&(i.trailingComma=-1)),K},f.parseSubscripts=function(i,a,m,I,D){for(var K=this.options.ecmaVersion>=8&&i.type==="Identifier"&&i.name==="async"&&this.lastTokEnd===i.end&&!this.canInsertSemicolon()&&i.end-i.start===5&&this.potentialArrowAt===i.start,Y=!1;;){var Ne=this.parseSubscript(i,a,m,I,K,Y,D);if(Ne.optional&&(Y=!0),Ne===i||Ne.type==="ArrowFunctionExpression"){if(Y){var $e=this.startNodeAt(a,m);$e.expression=Ne,Ne=this.finishNode($e,"ChainExpression")}return Ne}i=Ne}},f.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(w.arrow)},f.parseSubscriptAsyncArrow=function(i,a,m,I){return this.parseArrowExpression(this.startNodeAt(i,a),m,!0,I)},f.parseSubscript=function(i,a,m,I,D,K,Y){var Ne=this.options.ecmaVersion>=11,$e=Ne&&this.eat(w.questionDot);I&&$e&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var It=this.eat(w.bracketL);if(It||$e&&this.type!==w.parenL&&this.type!==w.backQuote||this.eat(w.dot)){var xt=this.startNodeAt(a,m);xt.object=i,It?(xt.property=this.parseExpression(),this.expect(w.bracketR)):this.type===w.privateId&&i.type!=="Super"?xt.property=this.parsePrivateIdent():xt.property=this.parseIdent(this.options.allowReserved!=="never"),xt.computed=!!It,Ne&&(xt.optional=$e),i=this.finishNode(xt,"MemberExpression")}else if(!I&&this.eat(w.parenL)){var ni=new o,$i=this.yieldPos,ir=this.awaitPos,qi=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var Vi=this.parseExprList(w.parenR,this.options.ecmaVersion>=8,!1,ni);if(D&&!$e&&this.shouldParseAsyncArrow())return this.checkPatternErrors(ni,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=$i,this.awaitPos=ir,this.awaitIdentPos=qi,this.parseSubscriptAsyncArrow(a,m,Vi,Y);this.checkExpressionErrors(ni,!0),this.yieldPos=$i||this.yieldPos,this.awaitPos=ir||this.awaitPos,this.awaitIdentPos=qi||this.awaitIdentPos;var Zi=this.startNodeAt(a,m);Zi.callee=i,Zi.arguments=Vi,Ne&&(Zi.optional=$e),i=this.finishNode(Zi,"CallExpression")}else if(this.type===w.backQuote){($e||K)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var Ki=this.startNodeAt(a,m);Ki.tag=i,Ki.quasi=this.parseTemplate({isTagged:!0}),i=this.finishNode(Ki,"TaggedTemplateExpression")}return i},f.parseExprAtom=function(i,a,m){this.type===w.slash&&this.readRegexp();var I,D=this.potentialArrowAt===this.start;switch(this.type){case w._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),I=this.startNode(),this.next(),this.type===w.parenL&&!this.allowDirectSuper&&this.raise(I.start,"super() call outside constructor of a subclass"),this.type!==w.dot&&this.type!==w.bracketL&&this.type!==w.parenL&&this.unexpected(),this.finishNode(I,"Super");case w._this:return I=this.startNode(),this.next(),this.finishNode(I,"ThisExpression");case w.name:var K=this.start,Y=this.startLoc,Ne=this.containsEsc,$e=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!Ne&&$e.name==="async"&&!this.canInsertSemicolon()&&this.eat(w._function))return this.overrideContext(v.f_expr),this.parseFunction(this.startNodeAt(K,Y),0,!1,!0,a);if(D&&!this.canInsertSemicolon()){if(this.eat(w.arrow))return this.parseArrowExpression(this.startNodeAt(K,Y),[$e],!1,a);if(this.options.ecmaVersion>=8&&$e.name==="async"&&this.type===w.name&&!Ne&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return $e=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(w.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(K,Y),[$e],!0,a)}return $e;case w.regexp:var It=this.value;return I=this.parseLiteral(It.value),I.regex={pattern:It.pattern,flags:It.flags},I;case w.num:case w.string:return this.parseLiteral(this.value);case w._null:case w._true:case w._false:return I=this.startNode(),I.value=this.type===w._null?null:this.type===w._true,I.raw=this.type.keyword,this.next(),this.finishNode(I,"Literal");case w.parenL:var xt=this.start,ni=this.parseParenAndDistinguishExpression(D,a);return i&&(i.parenthesizedAssign<0&&!this.isSimpleAssignTarget(ni)&&(i.parenthesizedAssign=xt),i.parenthesizedBind<0&&(i.parenthesizedBind=xt)),ni;case w.bracketL:return I=this.startNode(),this.next(),I.elements=this.parseExprList(w.bracketR,!0,!0,i),this.finishNode(I,"ArrayExpression");case w.braceL:return this.overrideContext(v.b_expr),this.parseObj(!1,i);case w._function:return I=this.startNode(),this.next(),this.parseFunction(I,0);case w._class:return this.parseClass(this.startNode(),!1);case w._new:return this.parseNew();case w.backQuote:return this.parseTemplate();case w._import:return this.options.ecmaVersion>=11?this.parseExprImport(m):this.unexpected();default:return this.parseExprAtomDefault()}},f.parseExprAtomDefault=function(){this.unexpected()},f.parseExprImport=function(i){var a=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===w.parenL&&!i)return this.parseDynamicImport(a);if(this.type===w.dot){var m=this.startNodeAt(a.start,a.loc&&a.loc.start);return m.name="import",a.meta=this.finishNode(m,"Identifier"),this.parseImportMeta(a)}else this.unexpected()},f.parseDynamicImport=function(i){if(this.next(),i.source=this.parseMaybeAssign(),this.options.ecmaVersion>=16)this.eat(w.parenR)?i.options=null:(this.expect(w.comma),this.afterTrailingComma(w.parenR)?i.options=null:(i.options=this.parseMaybeAssign(),this.eat(w.parenR)||(this.expect(w.comma),this.afterTrailingComma(w.parenR)||this.unexpected())));else if(!this.eat(w.parenR)){var a=this.start;this.eat(w.comma)&&this.eat(w.parenR)?this.raiseRecoverable(a,"Trailing comma is not allowed in import()"):this.unexpected(a)}return this.finishNode(i,"ImportExpression")},f.parseImportMeta=function(i){this.next();var a=this.containsEsc;return i.property=this.parseIdent(!0),i.property.name!=="meta"&&this.raiseRecoverable(i.property.start,"The only valid meta property for import is 'import.meta'"),a&&this.raiseRecoverable(i.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(i.start,"Cannot use 'import.meta' outside a module"),this.finishNode(i,"MetaProperty")},f.parseLiteral=function(i){var a=this.startNode();return a.value=i,a.raw=this.input.slice(this.start,this.end),a.raw.charCodeAt(a.raw.length-1)===110&&(a.bigint=a.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(a,"Literal")},f.parseParenExpression=function(){this.expect(w.parenL);var i=this.parseExpression();return this.expect(w.parenR),i},f.shouldParseArrow=function(i){return!this.canInsertSemicolon()},f.parseParenAndDistinguishExpression=function(i,a){var m=this.start,I=this.startLoc,D,K=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var Y=this.start,Ne=this.startLoc,$e=[],It=!0,xt=!1,ni=new o,$i=this.yieldPos,ir=this.awaitPos,qi;for(this.yieldPos=0,this.awaitPos=0;this.type!==w.parenR;)if(It?It=!1:this.expect(w.comma),K&&this.afterTrailingComma(w.parenR,!0)){xt=!0;break}else if(this.type===w.ellipsis){qi=this.start,$e.push(this.parseParenItem(this.parseRestBinding())),this.type===w.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else $e.push(this.parseMaybeAssign(!1,ni,this.parseParenItem));var Vi=this.lastTokEnd,Zi=this.lastTokEndLoc;if(this.expect(w.parenR),i&&this.shouldParseArrow($e)&&this.eat(w.arrow))return this.checkPatternErrors(ni,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=$i,this.awaitPos=ir,this.parseParenArrowList(m,I,$e,a);(!$e.length||xt)&&this.unexpected(this.lastTokStart),qi&&this.unexpected(qi),this.checkExpressionErrors(ni,!0),this.yieldPos=$i||this.yieldPos,this.awaitPos=ir||this.awaitPos,$e.length>1?(D=this.startNodeAt(Y,Ne),D.expressions=$e,this.finishNodeAt(D,"SequenceExpression",Vi,Zi)):D=$e[0]}else D=this.parseParenExpression();if(this.options.preserveParens){var Ki=this.startNodeAt(m,I);return Ki.expression=D,this.finishNode(Ki,"ParenthesizedExpression")}else return D},f.parseParenItem=function(i){return i},f.parseParenArrowList=function(i,a,m,I){return this.parseArrowExpression(this.startNodeAt(i,a),m,!1,I)};var T=[];f.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var i=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===w.dot){var a=this.startNodeAt(i.start,i.loc&&i.loc.start);a.name="new",i.meta=this.finishNode(a,"Identifier"),this.next();var m=this.containsEsc;return i.property=this.parseIdent(!0),i.property.name!=="target"&&this.raiseRecoverable(i.property.start,"The only valid meta property for new is 'new.target'"),m&&this.raiseRecoverable(i.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(i.start,"'new.target' can only be used in functions and class static block"),this.finishNode(i,"MetaProperty")}var I=this.start,D=this.startLoc;return i.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),I,D,!0,!1),this.eat(w.parenL)?i.arguments=this.parseExprList(w.parenR,this.options.ecmaVersion>=8,!1):i.arguments=T,this.finishNode(i,"NewExpression")},f.parseTemplateElement=function(i){var a=i.isTagged,m=this.startNode();return this.type===w.invalidTemplate?(a||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),m.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):m.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),m.tail=this.type===w.backQuote,this.finishNode(m,"TemplateElement")},f.parseTemplate=function(i){i===void 0&&(i={});var a=i.isTagged;a===void 0&&(a=!1);var m=this.startNode();this.next(),m.expressions=[];var I=this.parseTemplateElement({isTagged:a});for(m.quasis=[I];!I.tail;)this.type===w.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(w.dollarBraceL),m.expressions.push(this.parseExpression()),this.expect(w.braceR),m.quasis.push(I=this.parseTemplateElement({isTagged:a}));return this.next(),this.finishNode(m,"TemplateLiteral")},f.isAsyncProp=function(i){return!i.computed&&i.key.type==="Identifier"&&i.key.name==="async"&&(this.type===w.name||this.type===w.num||this.type===w.string||this.type===w.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===w.star)&&!Me.test(this.input.slice(this.lastTokEnd,this.start))},f.parseObj=function(i,a){var m=this.startNode(),I=!0,D={};for(m.properties=[],this.next();!this.eat(w.braceR);){if(I)I=!1;else if(this.expect(w.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(w.braceR))break;var K=this.parseProperty(i,a);i||this.checkPropClash(K,D,a),m.properties.push(K)}return this.finishNode(m,i?"ObjectPattern":"ObjectExpression")},f.parseProperty=function(i,a){var m=this.startNode(),I,D,K,Y;if(this.options.ecmaVersion>=9&&this.eat(w.ellipsis))return i?(m.argument=this.parseIdent(!1),this.type===w.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(m,"RestElement")):(m.argument=this.parseMaybeAssign(!1,a),this.type===w.comma&&a&&a.trailingComma<0&&(a.trailingComma=this.start),this.finishNode(m,"SpreadElement"));this.options.ecmaVersion>=6&&(m.method=!1,m.shorthand=!1,(i||a)&&(K=this.start,Y=this.startLoc),i||(I=this.eat(w.star)));var Ne=this.containsEsc;return this.parsePropertyName(m),!i&&!Ne&&this.options.ecmaVersion>=8&&!I&&this.isAsyncProp(m)?(D=!0,I=this.options.ecmaVersion>=9&&this.eat(w.star),this.parsePropertyName(m)):D=!1,this.parsePropertyValue(m,i,I,D,K,Y,a,Ne),this.finishNode(m,"Property")},f.parseGetterSetter=function(i){var a=i.key.name;this.parsePropertyName(i),i.value=this.parseMethod(!1),i.kind=a;var m=i.kind==="get"?0:1;if(i.value.params.length!==m){var I=i.value.start;i.kind==="get"?this.raiseRecoverable(I,"getter should have no params"):this.raiseRecoverable(I,"setter should have exactly one param")}else i.kind==="set"&&i.value.params[0].type==="RestElement"&&this.raiseRecoverable(i.value.params[0].start,"Setter cannot use rest params")},f.parsePropertyValue=function(i,a,m,I,D,K,Y,Ne){(m||I)&&this.type===w.colon&&this.unexpected(),this.eat(w.colon)?(i.value=a?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,Y),i.kind="init"):this.options.ecmaVersion>=6&&this.type===w.parenL?(a&&this.unexpected(),i.method=!0,i.value=this.parseMethod(m,I),i.kind="init"):!a&&!Ne&&this.options.ecmaVersion>=5&&!i.computed&&i.key.type==="Identifier"&&(i.key.name==="get"||i.key.name==="set")&&this.type!==w.comma&&this.type!==w.braceR&&this.type!==w.eq?((m||I)&&this.unexpected(),this.parseGetterSetter(i)):this.options.ecmaVersion>=6&&!i.computed&&i.key.type==="Identifier"?((m||I)&&this.unexpected(),this.checkUnreserved(i.key),i.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=D),a?i.value=this.parseMaybeDefault(D,K,this.copyNode(i.key)):this.type===w.eq&&Y?(Y.shorthandAssign<0&&(Y.shorthandAssign=this.start),i.value=this.parseMaybeDefault(D,K,this.copyNode(i.key))):i.value=this.copyNode(i.key),i.kind="init",i.shorthand=!0):this.unexpected()},f.parsePropertyName=function(i){if(this.options.ecmaVersion>=6){if(this.eat(w.bracketL))return i.computed=!0,i.key=this.parseMaybeAssign(),this.expect(w.bracketR),i.key;i.computed=!1}return i.key=this.type===w.num||this.type===w.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},f.initFunction=function(i){i.id=null,this.options.ecmaVersion>=6&&(i.generator=i.expression=!1),this.options.ecmaVersion>=8&&(i.async=!1)},f.parseMethod=function(i,a,m){var I=this.startNode(),D=this.yieldPos,K=this.awaitPos,Y=this.awaitIdentPos;return this.initFunction(I),this.options.ecmaVersion>=6&&(I.generator=i),this.options.ecmaVersion>=8&&(I.async=!!a),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Ni(a,I.generator)|Ft|(m?Wt:0)),this.expect(w.parenL),I.params=this.parseBindingList(w.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(I,!1,!0,!1),this.yieldPos=D,this.awaitPos=K,this.awaitIdentPos=Y,this.finishNode(I,"FunctionExpression")},f.parseArrowExpression=function(i,a,m,I){var D=this.yieldPos,K=this.awaitPos,Y=this.awaitIdentPos;return this.enterScope(Ni(m,!1)|ai),this.initFunction(i),this.options.ecmaVersion>=8&&(i.async=!!m),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,i.params=this.toAssignableList(a,!0),this.parseFunctionBody(i,!0,!1,I),this.yieldPos=D,this.awaitPos=K,this.awaitIdentPos=Y,this.finishNode(i,"ArrowFunctionExpression")},f.parseFunctionBody=function(i,a,m,I){var D=a&&this.type!==w.braceL,K=this.strict,Y=!1;if(D)i.body=this.parseMaybeAssign(I),i.expression=!0,this.checkParams(i,!1);else{var Ne=this.options.ecmaVersion>=7&&!this.isSimpleParamList(i.params);(!K||Ne)&&(Y=this.strictDirective(this.end),Y&&Ne&&this.raiseRecoverable(i.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var $e=this.labels;this.labels=[],Y&&(this.strict=!0),this.checkParams(i,!K&&!Y&&!a&&!m&&this.isSimpleParamList(i.params)),this.strict&&i.id&&this.checkLValSimple(i.id,e),i.body=this.parseBlock(!1,void 0,Y&&!K),i.expression=!1,this.adaptDirectivePrologue(i.body.body),this.labels=$e}this.exitScope()},f.isSimpleParamList=function(i){for(var a=0,m=i;a<m.length;a+=1){var I=m[a];if(I.type!=="Identifier")return!1}return!0},f.checkParams=function(i,a){for(var m=Object.create(null),I=0,D=i.params;I<D.length;I+=1){var K=D[I];this.checkLValInnerPattern(K,Ue,a?null:m)}},f.parseExprList=function(i,a,m,I){for(var D=[],K=!0;!this.eat(i);){if(K)K=!1;else if(this.expect(w.comma),a&&this.afterTrailingComma(i))break;var Y=void 0;m&&this.type===w.comma?Y=null:this.type===w.ellipsis?(Y=this.parseSpread(I),I&&this.type===w.comma&&I.trailingComma<0&&(I.trailingComma=this.start)):Y=this.parseMaybeAssign(!1,I),D.push(Y)}return D},f.checkUnreserved=function(i){var a=i.start,m=i.end,I=i.name;if(this.inGenerator&&I==="yield"&&this.raiseRecoverable(a,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&I==="await"&&this.raiseRecoverable(a,"Cannot use 'await' as identifier inside an async function"),!(this.currentThisScope().flags&_i)&&I==="arguments"&&this.raiseRecoverable(a,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(I==="arguments"||I==="await")&&this.raise(a,"Cannot use "+I+" in class static initialization block"),this.keywords.test(I)&&this.raise(a,"Unexpected keyword '"+I+"'"),!(this.options.ecmaVersion<6&&this.input.slice(a,m).indexOf("\\")!==-1)){var D=this.strict?this.reservedWordsStrict:this.reservedWords;D.test(I)&&(!this.inAsync&&I==="await"&&this.raiseRecoverable(a,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(a,"The keyword '"+I+"' is reserved"))}},f.parseIdent=function(i){var a=this.parseIdentNode();return this.next(!!i),this.finishNode(a,"Identifier"),i||(this.checkUnreserved(a),a.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=a.start)),a},f.parseIdentNode=function(){var i=this.startNode();return this.type===w.name?i.name=this.value:this.type.keyword?(i.name=this.type.keyword,(i.name==="class"||i.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=w.name):this.unexpected(),i},f.parsePrivateIdent=function(){var i=this.startNode();return this.type===w.privateId?i.name=this.value:this.unexpected(),this.next(),this.finishNode(i,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(i.start,"Private field '#"+i.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(i)),i},f.parseYield=function(i){this.yieldPos||(this.yieldPos=this.start);var a=this.startNode();return this.next(),this.type===w.semi||this.canInsertSemicolon()||this.type!==w.star&&!this.type.startsExpr?(a.delegate=!1,a.argument=null):(a.delegate=this.eat(w.star),a.argument=this.parseMaybeAssign(i)),this.finishNode(a,"YieldExpression")},f.parseAwait=function(i){this.awaitPos||(this.awaitPos=this.start);var a=this.startNode();return this.next(),a.argument=this.parseMaybeUnary(null,!0,!1,i),this.finishNode(a,"AwaitExpression")};var C=t.prototype;C.raise=function(i,a){var m=Nt(this.input,i);a+=" ("+m.line+":"+m.column+")",this.sourceFile&&(a+=" in "+this.sourceFile);var I=new SyntaxError(a);throw I.pos=i,I.loc=m,I.raisedAt=this.pos,I},C.raiseRecoverable=C.raise,C.curPosition=function(){if(this.options.locations)return new ze(this.curLine,this.pos-this.lineStart)};var L=t.prototype,O=function(a){this.flags=a,this.var=[],this.lexical=[],this.functions=[]};L.enterScope=function(i){this.scopeStack.push(new O(i))},L.exitScope=function(){this.scopeStack.pop()},L.treatFunctionsAsVarInScope=function(i){return i.flags&pt||!this.inModule&&i.flags&dt},L.declareName=function(i,a,m){var I=!1;if(a===Je){var D=this.currentScope();I=D.lexical.indexOf(i)>-1||D.functions.indexOf(i)>-1||D.var.indexOf(i)>-1,D.lexical.push(i),this.inModule&&D.flags&dt&&delete this.undefinedExports[i]}else if(a===nt){var K=this.currentScope();K.lexical.push(i)}else if(a===gt){var Y=this.currentScope();this.treatFunctionsAsVar?I=Y.lexical.indexOf(i)>-1:I=Y.lexical.indexOf(i)>-1||Y.var.indexOf(i)>-1,Y.functions.push(i)}else for(var Ne=this.scopeStack.length-1;Ne>=0;--Ne){var $e=this.scopeStack[Ne];if($e.lexical.indexOf(i)>-1&&!($e.flags&ei&&$e.lexical[0]===i)||!this.treatFunctionsAsVarInScope($e)&&$e.functions.indexOf(i)>-1){I=!0;break}if($e.var.push(i),this.inModule&&$e.flags&dt&&delete this.undefinedExports[i],$e.flags&_i)break}I&&this.raiseRecoverable(m,"Identifier '"+i+"' has already been declared")},L.checkLocalExport=function(i){this.scopeStack[0].lexical.indexOf(i.name)===-1&&this.scopeStack[0].var.indexOf(i.name)===-1&&(this.undefinedExports[i.name]=i)},L.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},L.currentVarScope=function(){for(var i=this.scopeStack.length-1;;i--){var a=this.scopeStack[i];if(a.flags&(_i|hi|Vt))return a}},L.currentThisScope=function(){for(var i=this.scopeStack.length-1;;i--){var a=this.scopeStack[i];if(a.flags&(_i|hi|Vt)&&!(a.flags&ai))return a}};var M=function(a,m,I){this.type="",this.start=m,this.end=0,a.options.locations&&(this.loc=new ht(a,I)),a.options.directSourceFile&&(this.sourceFile=a.options.directSourceFile),a.options.ranges&&(this.range=[m,0])},$=t.prototype;$.startNode=function(){return new M(this,this.start,this.startLoc)},$.startNodeAt=function(i,a){return new M(this,i,a)};function R(i,a,m,I){return i.type=a,i.end=m,this.options.locations&&(i.loc.end=I),this.options.ranges&&(i.range[1]=m),i}$.finishNode=function(i,a){return R.call(this,i,a,this.lastTokEnd,this.lastTokEndLoc)},$.finishNodeAt=function(i,a,m,I){return R.call(this,i,a,m,I)},$.copyNode=function(i){var a=new M(this,i.start,this.startLoc);for(var m in i)a[m]=i[m];return a};var F="Gara Garay Gukh Gurung_Khema Hrkt Katakana_Or_Hiragana Kawi Kirat_Rai Krai Nag_Mundari Nagm Ol_Onal Onao Sunu Sunuwar Todhri Todr Tulu_Tigalari Tutg Unknown Zzzz",q="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",H=q+" Extended_Pictographic",G=H,Z=G+" EBase EComp EMod EPres ExtPict",ie=Z,be=ie,Pe={9:q,10:H,11:G,12:Z,13:ie,14:be},Ve="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",ee={9:"",10:"",11:"",12:"",13:"",14:Ve},ae="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Ce="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Ae=Ce+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Fe=Ae+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",ot=Fe+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",et=ot+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",ct=et+" "+F,_t={9:Ce,10:Ae,11:Fe,12:ot,13:et,14:ct},mt={};function ti(i){var a=mt[i]={binary:Le(Pe[i]+" "+ae),binaryOfStrings:Le(ee[i]),nonBinary:{General_Category:Le(ae),Script:Le(_t[i])}};a.nonBinary.Script_Extensions=a.nonBinary.Script,a.nonBinary.gc=a.nonBinary.General_Category,a.nonBinary.sc=a.nonBinary.Script,a.nonBinary.scx=a.nonBinary.Script_Extensions}for(var jt=0,oi=[9,10,11,12,13,14];jt<oi.length;jt+=1){var Zt=oi[jt];ti(Zt)}var Ie=t.prototype,Bt=function(a,m){this.parent=a,this.base=m||this};Bt.prototype.separatedFrom=function(a){for(var m=this;m;m=m.parent)for(var I=a;I;I=I.parent)if(m.base===I.base&&m!==I)return!0;return!1},Bt.prototype.sibling=function(){return new Bt(this.parent,this.base)};var $t=function(a){this.parser=a,this.validFlags="gim"+(a.options.ecmaVersion>=6?"uy":"")+(a.options.ecmaVersion>=9?"s":"")+(a.options.ecmaVersion>=13?"d":"")+(a.options.ecmaVersion>=15?"v":""),this.unicodeProperties=mt[a.options.ecmaVersion>=14?14:a.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};$t.prototype.reset=function(a,m,I){var D=I.indexOf("v")!==-1,K=I.indexOf("u")!==-1;this.start=a|0,this.source=m+"",this.flags=I,D&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=K&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=K&&this.parser.options.ecmaVersion>=9)},$t.prototype.raise=function(a){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+a)},$t.prototype.at=function(a,m){m===void 0&&(m=!1);var I=this.source,D=I.length;if(a>=D)return-1;var K=I.charCodeAt(a);if(!(m||this.switchU)||K<=55295||K>=57344||a+1>=D)return K;var Y=I.charCodeAt(a+1);return Y>=56320&&Y<=57343?(K<<10)+Y-56613888:K},$t.prototype.nextIndex=function(a,m){m===void 0&&(m=!1);var I=this.source,D=I.length;if(a>=D)return D;var K=I.charCodeAt(a),Y;return!(m||this.switchU)||K<=55295||K>=57344||a+1>=D||(Y=I.charCodeAt(a+1))<56320||Y>57343?a+1:a+2},$t.prototype.current=function(a){return a===void 0&&(a=!1),this.at(this.pos,a)},$t.prototype.lookahead=function(a){return a===void 0&&(a=!1),this.at(this.nextIndex(this.pos,a),a)},$t.prototype.advance=function(a){a===void 0&&(a=!1),this.pos=this.nextIndex(this.pos,a)},$t.prototype.eat=function(a,m){return m===void 0&&(m=!1),this.current(m)===a?(this.advance(m),!0):!1},$t.prototype.eatChars=function(a,m){m===void 0&&(m=!1);for(var I=this.pos,D=0,K=a;D<K.length;D+=1){var Y=K[D],Ne=this.at(I,m);if(Ne===-1||Ne!==Y)return!1;I=this.nextIndex(I,m)}return this.pos=I,!0},Ie.validateRegExpFlags=function(i){for(var a=i.validFlags,m=i.flags,I=!1,D=!1,K=0;K<m.length;K++){var Y=m.charAt(K);a.indexOf(Y)===-1&&this.raise(i.start,"Invalid regular expression flag"),m.indexOf(Y,K+1)>-1&&this.raise(i.start,"Duplicate regular expression flag"),Y==="u"&&(I=!0),Y==="v"&&(D=!0)}this.options.ecmaVersion>=15&&I&&D&&this.raise(i.start,"Invalid regular expression flag")};function ii(i){for(var a in i)return!0;return!1}Ie.validateRegExpPattern=function(i){this.regexp_pattern(i),!i.switchN&&this.options.ecmaVersion>=9&&ii(i.groupNames)&&(i.switchN=!0,this.regexp_pattern(i))},Ie.regexp_pattern=function(i){i.pos=0,i.lastIntValue=0,i.lastStringValue="",i.lastAssertionIsQuantifiable=!1,i.numCapturingParens=0,i.maxBackReference=0,i.groupNames=Object.create(null),i.backReferenceNames.length=0,i.branchID=null,this.regexp_disjunction(i),i.pos!==i.source.length&&(i.eat(41)&&i.raise("Unmatched ')'"),(i.eat(93)||i.eat(125))&&i.raise("Lone quantifier brackets")),i.maxBackReference>i.numCapturingParens&&i.raise("Invalid escape");for(var a=0,m=i.backReferenceNames;a<m.length;a+=1){var I=m[a];i.groupNames[I]||i.raise("Invalid named capture referenced")}},Ie.regexp_disjunction=function(i){var a=this.options.ecmaVersion>=16;for(a&&(i.branchID=new Bt(i.branchID,null)),this.regexp_alternative(i);i.eat(124);)a&&(i.branchID=i.branchID.sibling()),this.regexp_alternative(i);a&&(i.branchID=i.branchID.parent),this.regexp_eatQuantifier(i,!0)&&i.raise("Nothing to repeat"),i.eat(123)&&i.raise("Lone quantifier brackets")},Ie.regexp_alternative=function(i){for(;i.pos<i.source.length&&this.regexp_eatTerm(i););},Ie.regexp_eatTerm=function(i){return this.regexp_eatAssertion(i)?(i.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(i)&&i.switchU&&i.raise("Invalid quantifier"),!0):(i.switchU?this.regexp_eatAtom(i):this.regexp_eatExtendedAtom(i))?(this.regexp_eatQuantifier(i),!0):!1},Ie.regexp_eatAssertion=function(i){var a=i.pos;if(i.lastAssertionIsQuantifiable=!1,i.eat(94)||i.eat(36))return!0;if(i.eat(92)){if(i.eat(66)||i.eat(98))return!0;i.pos=a}if(i.eat(40)&&i.eat(63)){var m=!1;if(this.options.ecmaVersion>=9&&(m=i.eat(60)),i.eat(61)||i.eat(33))return this.regexp_disjunction(i),i.eat(41)||i.raise("Unterminated group"),i.lastAssertionIsQuantifiable=!m,!0}return i.pos=a,!1},Ie.regexp_eatQuantifier=function(i,a){return a===void 0&&(a=!1),this.regexp_eatQuantifierPrefix(i,a)?(i.eat(63),!0):!1},Ie.regexp_eatQuantifierPrefix=function(i,a){return i.eat(42)||i.eat(43)||i.eat(63)||this.regexp_eatBracedQuantifier(i,a)},Ie.regexp_eatBracedQuantifier=function(i,a){var m=i.pos;if(i.eat(123)){var I=0,D=-1;if(this.regexp_eatDecimalDigits(i)&&(I=i.lastIntValue,i.eat(44)&&this.regexp_eatDecimalDigits(i)&&(D=i.lastIntValue),i.eat(125)))return D!==-1&&D<I&&!a&&i.raise("numbers out of order in {} quantifier"),!0;i.switchU&&!a&&i.raise("Incomplete quantifier"),i.pos=m}return!1},Ie.regexp_eatAtom=function(i){return this.regexp_eatPatternCharacters(i)||i.eat(46)||this.regexp_eatReverseSolidusAtomEscape(i)||this.regexp_eatCharacterClass(i)||this.regexp_eatUncapturingGroup(i)||this.regexp_eatCapturingGroup(i)},Ie.regexp_eatReverseSolidusAtomEscape=function(i){var a=i.pos;if(i.eat(92)){if(this.regexp_eatAtomEscape(i))return!0;i.pos=a}return!1},Ie.regexp_eatUncapturingGroup=function(i){var a=i.pos;if(i.eat(40)){if(i.eat(63)){if(this.options.ecmaVersion>=16){var m=this.regexp_eatModifiers(i),I=i.eat(45);if(m||I){for(var D=0;D<m.length;D++){var K=m.charAt(D);m.indexOf(K,D+1)>-1&&i.raise("Duplicate regular expression modifiers")}if(I){var Y=this.regexp_eatModifiers(i);!m&&!Y&&i.current()===58&&i.raise("Invalid regular expression modifiers");for(var Ne=0;Ne<Y.length;Ne++){var $e=Y.charAt(Ne);(Y.indexOf($e,Ne+1)>-1||m.indexOf($e)>-1)&&i.raise("Duplicate regular expression modifiers")}}}}if(i.eat(58)){if(this.regexp_disjunction(i),i.eat(41))return!0;i.raise("Unterminated group")}}i.pos=a}return!1},Ie.regexp_eatCapturingGroup=function(i){if(i.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(i):i.current()===63&&i.raise("Invalid group"),this.regexp_disjunction(i),i.eat(41))return i.numCapturingParens+=1,!0;i.raise("Unterminated group")}return!1},Ie.regexp_eatModifiers=function(i){for(var a="",m=0;(m=i.current())!==-1&&wi(m);)a+=Ke(m),i.advance();return a};function wi(i){return i===105||i===109||i===115}Ie.regexp_eatExtendedAtom=function(i){return i.eat(46)||this.regexp_eatReverseSolidusAtomEscape(i)||this.regexp_eatCharacterClass(i)||this.regexp_eatUncapturingGroup(i)||this.regexp_eatCapturingGroup(i)||this.regexp_eatInvalidBracedQuantifier(i)||this.regexp_eatExtendedPatternCharacter(i)},Ie.regexp_eatInvalidBracedQuantifier=function(i){return this.regexp_eatBracedQuantifier(i,!0)&&i.raise("Nothing to repeat"),!1},Ie.regexp_eatSyntaxCharacter=function(i){var a=i.current();return Ri(a)?(i.lastIntValue=a,i.advance(),!0):!1};function Ri(i){return i===36||i>=40&&i<=43||i===46||i===63||i>=91&&i<=94||i>=123&&i<=125}Ie.regexp_eatPatternCharacters=function(i){for(var a=i.pos,m=0;(m=i.current())!==-1&&!Ri(m);)i.advance();return i.pos!==a},Ie.regexp_eatExtendedPatternCharacter=function(i){var a=i.current();return a!==-1&&a!==36&&!(a>=40&&a<=43)&&a!==46&&a!==63&&a!==91&&a!==94&&a!==124?(i.advance(),!0):!1},Ie.regexp_groupSpecifier=function(i){if(i.eat(63)){this.regexp_eatGroupName(i)||i.raise("Invalid group");var a=this.options.ecmaVersion>=16,m=i.groupNames[i.lastStringValue];if(m)if(a)for(var I=0,D=m;I<D.length;I+=1){var K=D[I];K.separatedFrom(i.branchID)||i.raise("Duplicate capture group name")}else i.raise("Duplicate capture group name");a?(m||(i.groupNames[i.lastStringValue]=[])).push(i.branchID):i.groupNames[i.lastStringValue]=!0}},Ie.regexp_eatGroupName=function(i){if(i.lastStringValue="",i.eat(60)){if(this.regexp_eatRegExpIdentifierName(i)&&i.eat(62))return!0;i.raise("Invalid capture group name")}return!1},Ie.regexp_eatRegExpIdentifierName=function(i){if(i.lastStringValue="",this.regexp_eatRegExpIdentifierStart(i)){for(i.lastStringValue+=Ke(i.lastIntValue);this.regexp_eatRegExpIdentifierPart(i);)i.lastStringValue+=Ke(i.lastIntValue);return!0}return!1},Ie.regexp_eatRegExpIdentifierStart=function(i){var a=i.pos,m=this.options.ecmaVersion>=11,I=i.current(m);return i.advance(m),I===92&&this.regexp_eatRegExpUnicodeEscapeSequence(i,m)&&(I=i.lastIntValue),Si(I)?(i.lastIntValue=I,!0):(i.pos=a,!1)};function Si(i){return Se(i,!0)||i===36||i===95}Ie.regexp_eatRegExpIdentifierPart=function(i){var a=i.pos,m=this.options.ecmaVersion>=11,I=i.current(m);return i.advance(m),I===92&&this.regexp_eatRegExpUnicodeEscapeSequence(i,m)&&(I=i.lastIntValue),Ci(I)?(i.lastIntValue=I,!0):(i.pos=a,!1)};function Ci(i){return Q(i,!0)||i===36||i===95||i===8204||i===8205}Ie.regexp_eatAtomEscape=function(i){return this.regexp_eatBackReference(i)||this.regexp_eatCharacterClassEscape(i)||this.regexp_eatCharacterEscape(i)||i.switchN&&this.regexp_eatKGroupName(i)?!0:(i.switchU&&(i.current()===99&&i.raise("Invalid unicode escape"),i.raise("Invalid escape")),!1)},Ie.regexp_eatBackReference=function(i){var a=i.pos;if(this.regexp_eatDecimalEscape(i)){var m=i.lastIntValue;if(i.switchU)return m>i.maxBackReference&&(i.maxBackReference=m),!0;if(m<=i.numCapturingParens)return!0;i.pos=a}return!1},Ie.regexp_eatKGroupName=function(i){if(i.eat(107)){if(this.regexp_eatGroupName(i))return i.backReferenceNames.push(i.lastStringValue),!0;i.raise("Invalid named reference")}return!1},Ie.regexp_eatCharacterEscape=function(i){return this.regexp_eatControlEscape(i)||this.regexp_eatCControlLetter(i)||this.regexp_eatZero(i)||this.regexp_eatHexEscapeSequence(i)||this.regexp_eatRegExpUnicodeEscapeSequence(i,!1)||!i.switchU&&this.regexp_eatLegacyOctalEscapeSequence(i)||this.regexp_eatIdentityEscape(i)},Ie.regexp_eatCControlLetter=function(i){var a=i.pos;if(i.eat(99)){if(this.regexp_eatControlLetter(i))return!0;i.pos=a}return!1},Ie.regexp_eatZero=function(i){return i.current()===48&&!ji(i.lookahead())?(i.lastIntValue=0,i.advance(),!0):!1},Ie.regexp_eatControlEscape=function(i){var a=i.current();return a===116?(i.lastIntValue=9,i.advance(),!0):a===110?(i.lastIntValue=10,i.advance(),!0):a===118?(i.lastIntValue=11,i.advance(),!0):a===102?(i.lastIntValue=12,i.advance(),!0):a===114?(i.lastIntValue=13,i.advance(),!0):!1},Ie.regexp_eatControlLetter=function(i){var a=i.current();return di(a)?(i.lastIntValue=a%32,i.advance(),!0):!1};function di(i){return i>=65&&i<=90||i>=97&&i<=122}Ie.regexp_eatRegExpUnicodeEscapeSequence=function(i,a){a===void 0&&(a=!1);var m=i.pos,I=a||i.switchU;if(i.eat(117)){if(this.regexp_eatFixedHexDigits(i,4)){var D=i.lastIntValue;if(I&&D>=55296&&D<=56319){var K=i.pos;if(i.eat(92)&&i.eat(117)&&this.regexp_eatFixedHexDigits(i,4)){var Y=i.lastIntValue;if(Y>=56320&&Y<=57343)return i.lastIntValue=(D-55296)*1024+(Y-56320)+65536,!0}i.pos=K,i.lastIntValue=D}return!0}if(I&&i.eat(123)&&this.regexp_eatHexDigits(i)&&i.eat(125)&&bi(i.lastIntValue))return!0;I&&i.raise("Invalid unicode escape"),i.pos=m}return!1};function bi(i){return i>=0&&i<=1114111}Ie.regexp_eatIdentityEscape=function(i){if(i.switchU)return this.regexp_eatSyntaxCharacter(i)?!0:i.eat(47)?(i.lastIntValue=47,!0):!1;var a=i.current();return a!==99&&(!i.switchN||a!==107)?(i.lastIntValue=a,i.advance(),!0):!1},Ie.regexp_eatDecimalEscape=function(i){i.lastIntValue=0;var a=i.current();if(a>=49&&a<=57){do i.lastIntValue=10*i.lastIntValue+(a-48),i.advance();while((a=i.current())>=48&&a<=57);return!0}return!1};var Oi=0,ri=1,pi=2;Ie.regexp_eatCharacterClassEscape=function(i){var a=i.current();if(kr(a))return i.lastIntValue=-1,i.advance(),ri;var m=!1;if(i.switchU&&this.options.ecmaVersion>=9&&((m=a===80)||a===112)){i.lastIntValue=-1,i.advance();var I;if(i.eat(123)&&(I=this.regexp_eatUnicodePropertyValueExpression(i))&&i.eat(125))return m&&I===pi&&i.raise("Invalid property name"),I;i.raise("Invalid property name")}return Oi};function kr(i){return i===100||i===68||i===115||i===83||i===119||i===87}Ie.regexp_eatUnicodePropertyValueExpression=function(i){var a=i.pos;if(this.regexp_eatUnicodePropertyName(i)&&i.eat(61)){var m=i.lastStringValue;if(this.regexp_eatUnicodePropertyValue(i)){var I=i.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(i,m,I),ri}}if(i.pos=a,this.regexp_eatLoneUnicodePropertyNameOrValue(i)){var D=i.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(i,D)}return Oi},Ie.regexp_validateUnicodePropertyNameAndValue=function(i,a,m){J(i.unicodeProperties.nonBinary,a)||i.raise("Invalid property name"),i.unicodeProperties.nonBinary[a].test(m)||i.raise("Invalid property value")},Ie.regexp_validateUnicodePropertyNameOrValue=function(i,a){if(i.unicodeProperties.binary.test(a))return ri;if(i.switchV&&i.unicodeProperties.binaryOfStrings.test(a))return pi;i.raise("Invalid property name")},Ie.regexp_eatUnicodePropertyName=function(i){var a=0;for(i.lastStringValue="";dr(a=i.current());)i.lastStringValue+=Ke(a),i.advance();return i.lastStringValue!==""};function dr(i){return di(i)||i===95}Ie.regexp_eatUnicodePropertyValue=function(i){var a=0;for(i.lastStringValue="";Pr(a=i.current());)i.lastStringValue+=Ke(a),i.advance();return i.lastStringValue!==""};function Pr(i){return dr(i)||ji(i)}Ie.regexp_eatLoneUnicodePropertyNameOrValue=function(i){return this.regexp_eatUnicodePropertyValue(i)},Ie.regexp_eatCharacterClass=function(i){if(i.eat(91)){var a=i.eat(94),m=this.regexp_classContents(i);return i.eat(93)||i.raise("Unterminated character class"),a&&m===pi&&i.raise("Negated character class may contain strings"),!0}return!1},Ie.regexp_classContents=function(i){return i.current()===93?ri:i.switchV?this.regexp_classSetExpression(i):(this.regexp_nonEmptyClassRanges(i),ri)},Ie.regexp_nonEmptyClassRanges=function(i){for(;this.regexp_eatClassAtom(i);){var a=i.lastIntValue;if(i.eat(45)&&this.regexp_eatClassAtom(i)){var m=i.lastIntValue;i.switchU&&(a===-1||m===-1)&&i.raise("Invalid character class"),a!==-1&&m!==-1&&a>m&&i.raise("Range out of order in character class")}}},Ie.regexp_eatClassAtom=function(i){var a=i.pos;if(i.eat(92)){if(this.regexp_eatClassEscape(i))return!0;if(i.switchU){var m=i.current();(m===99||zi(m))&&i.raise("Invalid class escape"),i.raise("Invalid escape")}i.pos=a}var I=i.current();return I!==93?(i.lastIntValue=I,i.advance(),!0):!1},Ie.regexp_eatClassEscape=function(i){var a=i.pos;if(i.eat(98))return i.lastIntValue=8,!0;if(i.switchU&&i.eat(45))return i.lastIntValue=45,!0;if(!i.switchU&&i.eat(99)){if(this.regexp_eatClassControlLetter(i))return!0;i.pos=a}return this.regexp_eatCharacterClassEscape(i)||this.regexp_eatCharacterEscape(i)},Ie.regexp_classSetExpression=function(i){var a=ri,m;if(!this.regexp_eatClassSetRange(i))if(m=this.regexp_eatClassSetOperand(i)){m===pi&&(a=pi);for(var I=i.pos;i.eatChars([38,38]);){if(i.current()!==38&&(m=this.regexp_eatClassSetOperand(i))){m!==pi&&(a=ri);continue}i.raise("Invalid character in character class")}if(I!==i.pos)return a;for(;i.eatChars([45,45]);)this.regexp_eatClassSetOperand(i)||i.raise("Invalid character in character class");if(I!==i.pos)return a}else i.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(i)){if(m=this.regexp_eatClassSetOperand(i),!m)return a;m===pi&&(a=pi)}},Ie.regexp_eatClassSetRange=function(i){var a=i.pos;if(this.regexp_eatClassSetCharacter(i)){var m=i.lastIntValue;if(i.eat(45)&&this.regexp_eatClassSetCharacter(i)){var I=i.lastIntValue;return m!==-1&&I!==-1&&m>I&&i.raise("Range out of order in character class"),!0}i.pos=a}return!1},Ie.regexp_eatClassSetOperand=function(i){return this.regexp_eatClassSetCharacter(i)?ri:this.regexp_eatClassStringDisjunction(i)||this.regexp_eatNestedClass(i)},Ie.regexp_eatNestedClass=function(i){var a=i.pos;if(i.eat(91)){var m=i.eat(94),I=this.regexp_classContents(i);if(i.eat(93))return m&&I===pi&&i.raise("Negated character class may contain strings"),I;i.pos=a}if(i.eat(92)){var D=this.regexp_eatCharacterClassEscape(i);if(D)return D;i.pos=a}return null},Ie.regexp_eatClassStringDisjunction=function(i){var a=i.pos;if(i.eatChars([92,113])){if(i.eat(123)){var m=this.regexp_classStringDisjunctionContents(i);if(i.eat(125))return m}else i.raise("Invalid escape");i.pos=a}return null},Ie.regexp_classStringDisjunctionContents=function(i){for(var a=this.regexp_classString(i);i.eat(124);)this.regexp_classString(i)===pi&&(a=pi);return a},Ie.regexp_classString=function(i){for(var a=0;this.regexp_eatClassSetCharacter(i);)a++;return a===1?ri:pi},Ie.regexp_eatClassSetCharacter=function(i){var a=i.pos;if(i.eat(92))return this.regexp_eatCharacterEscape(i)||this.regexp_eatClassSetReservedPunctuator(i)?!0:i.eat(98)?(i.lastIntValue=8,!0):(i.pos=a,!1);var m=i.current();return m<0||m===i.lookahead()&&Ir(m)||Tr(m)?!1:(i.advance(),i.lastIntValue=m,!0)};function Ir(i){return i===33||i>=35&&i<=38||i>=42&&i<=44||i===46||i>=58&&i<=64||i===94||i===96||i===126}function Tr(i){return i===40||i===41||i===45||i===47||i>=91&&i<=93||i>=123&&i<=125}Ie.regexp_eatClassSetReservedPunctuator=function(i){var a=i.current();return ur(a)?(i.lastIntValue=a,i.advance(),!0):!1};function ur(i){return i===33||i===35||i===37||i===38||i===44||i===45||i>=58&&i<=62||i===64||i===96||i===126}Ie.regexp_eatClassControlLetter=function(i){var a=i.current();return ji(a)||a===95?(i.lastIntValue=a%32,i.advance(),!0):!1},Ie.regexp_eatHexEscapeSequence=function(i){var a=i.pos;if(i.eat(120)){if(this.regexp_eatFixedHexDigits(i,2))return!0;i.switchU&&i.raise("Invalid escape"),i.pos=a}return!1},Ie.regexp_eatDecimalDigits=function(i){var a=i.pos,m=0;for(i.lastIntValue=0;ji(m=i.current());)i.lastIntValue=10*i.lastIntValue+(m-48),i.advance();return i.pos!==a};function ji(i){return i>=48&&i<=57}Ie.regexp_eatHexDigits=function(i){var a=i.pos,m=0;for(i.lastIntValue=0;er(m=i.current());)i.lastIntValue=16*i.lastIntValue+tr(m),i.advance();return i.pos!==a};function er(i){return i>=48&&i<=57||i>=65&&i<=70||i>=97&&i<=102}function tr(i){return i>=65&&i<=70?10+(i-65):i>=97&&i<=102?10+(i-97):i-48}Ie.regexp_eatLegacyOctalEscapeSequence=function(i){if(this.regexp_eatOctalDigit(i)){var a=i.lastIntValue;if(this.regexp_eatOctalDigit(i)){var m=i.lastIntValue;a<=3&&this.regexp_eatOctalDigit(i)?i.lastIntValue=a*64+m*8+i.lastIntValue:i.lastIntValue=a*8+m}else i.lastIntValue=a;return!0}return!1},Ie.regexp_eatOctalDigit=function(i){var a=i.current();return zi(a)?(i.lastIntValue=a-48,i.advance(),!0):(i.lastIntValue=0,!1)};function zi(i){return i>=48&&i<=55}Ie.regexp_eatFixedHexDigits=function(i,a){var m=i.pos;i.lastIntValue=0;for(var I=0;I<a;++I){var D=i.current();if(!er(D))return i.pos=m,!1;i.lastIntValue=16*i.lastIntValue+tr(D),i.advance()}return!0};var Ti=function(a){this.type=a.type,this.value=a.value,this.start=a.start,this.end=a.end,a.options.locations&&(this.loc=new ht(a,a.startLoc,a.endLoc)),a.options.ranges&&(this.range=[a.start,a.end])},St=t.prototype;St.next=function(i){!i&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Ti(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},St.getToken=function(){return this.next(),new Ti(this)},typeof Symbol<"u"&&(St[Symbol.iterator]=function(){var i=this;return{next:function(){var a=i.getToken();return{done:a.type===w.eof,value:a}}}}),St.nextToken=function(){var i=this.curContext();if((!i||!i.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(w.eof);if(i.override)return i.override(this);this.readToken(this.fullCharCodeAtPos())},St.readToken=function(i){return Se(i,this.options.ecmaVersion>=6)||i===92?this.readWord():this.getTokenFromCode(i)},St.fullCharCodeAtPos=function(){var i=this.input.charCodeAt(this.pos);if(i<=55295||i>=56320)return i;var a=this.input.charCodeAt(this.pos+1);return a<=56319||a>=57344?i:(i<<10)+a-56613888},St.skipBlockComment=function(){var i=this.options.onComment&&this.curPosition(),a=this.pos,m=this.input.indexOf("*/",this.pos+=2);if(m===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=m+2,this.options.locations)for(var I=void 0,D=a;(I=st(this.input,D,this.pos))>-1;)++this.curLine,D=this.lineStart=I;this.options.onComment&&this.options.onComment(!0,this.input.slice(a+2,m),a,this.pos,i,this.curPosition())},St.skipLineComment=function(i){for(var a=this.pos,m=this.options.onComment&&this.curPosition(),I=this.input.charCodeAt(this.pos+=i);this.pos<this.input.length&&!Ze(I);)I=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(a+i,this.pos),a,this.pos,m,this.curPosition())},St.skipSpace=function(){e:for(;this.pos<this.input.length;){var i=this.input.charCodeAt(this.pos);switch(i){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(i>8&&i<14||i>=5760&&tt.test(String.fromCharCode(i)))++this.pos;else break e}}},St.finishToken=function(i,a){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var m=this.type;this.type=i,this.value=a,this.updateContext(m)},St.readToken_dot=function(){var i=this.input.charCodeAt(this.pos+1);if(i>=48&&i<=57)return this.readNumber(!0);var a=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&i===46&&a===46?(this.pos+=3,this.finishToken(w.ellipsis)):(++this.pos,this.finishToken(w.dot))},St.readToken_slash=function(){var i=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):i===61?this.finishOp(w.assign,2):this.finishOp(w.slash,1)},St.readToken_mult_modulo_exp=function(i){var a=this.input.charCodeAt(this.pos+1),m=1,I=i===42?w.star:w.modulo;return this.options.ecmaVersion>=7&&i===42&&a===42&&(++m,I=w.starstar,a=this.input.charCodeAt(this.pos+2)),a===61?this.finishOp(w.assign,m+1):this.finishOp(I,m)},St.readToken_pipe_amp=function(i){var a=this.input.charCodeAt(this.pos+1);if(a===i){if(this.options.ecmaVersion>=12){var m=this.input.charCodeAt(this.pos+2);if(m===61)return this.finishOp(w.assign,3)}return this.finishOp(i===124?w.logicalOR:w.logicalAND,2)}return a===61?this.finishOp(w.assign,2):this.finishOp(i===124?w.bitwiseOR:w.bitwiseAND,1)},St.readToken_caret=function(){var i=this.input.charCodeAt(this.pos+1);return i===61?this.finishOp(w.assign,2):this.finishOp(w.bitwiseXOR,1)},St.readToken_plus_min=function(i){var a=this.input.charCodeAt(this.pos+1);return a===i?a===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||Me.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(w.incDec,2):a===61?this.finishOp(w.assign,2):this.finishOp(w.plusMin,1)},St.readToken_lt_gt=function(i){var a=this.input.charCodeAt(this.pos+1),m=1;return a===i?(m=i===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+m)===61?this.finishOp(w.assign,m+1):this.finishOp(w.bitShift,m)):a===33&&i===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(a===61&&(m=2),this.finishOp(w.relational,m))},St.readToken_eq_excl=function(i){var a=this.input.charCodeAt(this.pos+1);return a===61?this.finishOp(w.equality,this.input.charCodeAt(this.pos+2)===61?3:2):i===61&&a===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(w.arrow)):this.finishOp(i===61?w.eq:w.prefix,1)},St.readToken_question=function(){var i=this.options.ecmaVersion;if(i>=11){var a=this.input.charCodeAt(this.pos+1);if(a===46){var m=this.input.charCodeAt(this.pos+2);if(m<48||m>57)return this.finishOp(w.questionDot,2)}if(a===63){if(i>=12){var I=this.input.charCodeAt(this.pos+2);if(I===61)return this.finishOp(w.assign,3)}return this.finishOp(w.coalesce,2)}}return this.finishOp(w.question,1)},St.readToken_numberSign=function(){var i=this.options.ecmaVersion,a=35;if(i>=13&&(++this.pos,a=this.fullCharCodeAtPos(),Se(a,!0)||a===92))return this.finishToken(w.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Ke(a)+"'")},St.getTokenFromCode=function(i){switch(i){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(w.parenL);case 41:return++this.pos,this.finishToken(w.parenR);case 59:return++this.pos,this.finishToken(w.semi);case 44:return++this.pos,this.finishToken(w.comma);case 91:return++this.pos,this.finishToken(w.bracketL);case 93:return++this.pos,this.finishToken(w.bracketR);case 123:return++this.pos,this.finishToken(w.braceL);case 125:return++this.pos,this.finishToken(w.braceR);case 58:return++this.pos,this.finishToken(w.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(w.backQuote);case 48:var a=this.input.charCodeAt(this.pos+1);if(a===120||a===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(a===111||a===79)return this.readRadixNumber(8);if(a===98||a===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(i);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(i);case 124:case 38:return this.readToken_pipe_amp(i);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(i);case 60:case 62:return this.readToken_lt_gt(i);case 61:case 33:return this.readToken_eq_excl(i);case 63:return this.readToken_question();case 126:return this.finishOp(w.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Ke(i)+"'")},St.finishOp=function(i,a){var m=this.input.slice(this.pos,this.pos+a);return this.pos+=a,this.finishToken(i,m)},St.readRegexp=function(){for(var i,a,m=this.pos;;){this.pos>=this.input.length&&this.raise(m,"Unterminated regular expression");var I=this.input.charAt(this.pos);if(Me.test(I)&&this.raise(m,"Unterminated regular expression"),i)i=!1;else{if(I==="[")a=!0;else if(I==="]"&&a)a=!1;else if(I==="/"&&!a)break;i=I==="\\"}++this.pos}var D=this.input.slice(m,this.pos);++this.pos;var K=this.pos,Y=this.readWord1();this.containsEsc&&this.unexpected(K);var Ne=this.regexpState||(this.regexpState=new $t(this));Ne.reset(m,D,Y),this.validateRegExpFlags(Ne),this.validateRegExpPattern(Ne);var $e=null;try{$e=new RegExp(D,Y)}catch{}return this.finishToken(w.regexp,{pattern:D,flags:Y,value:$e})},St.readInt=function(i,a,m){for(var I=this.options.ecmaVersion>=12&&a===void 0,D=m&&this.input.charCodeAt(this.pos)===48,K=this.pos,Y=0,Ne=0,$e=0,It=a??1/0;$e<It;++$e,++this.pos){var xt=this.input.charCodeAt(this.pos),ni=void 0;if(I&&xt===95){D&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),Ne===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),$e===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),Ne=xt;continue}if(xt>=97?ni=xt-97+10:xt>=65?ni=xt-65+10:xt>=48&&xt<=57?ni=xt-48:ni=1/0,ni>=i)break;Ne=xt,Y=Y*i+ni}return I&&Ne===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===K||a!=null&&this.pos-K!==a?null:Y};function ki(i,a){return a?parseInt(i,8):parseFloat(i.replace(/_/g,""))}function Ai(i){return typeof BigInt!="function"?null:BigInt(i.replace(/_/g,""))}St.readRadixNumber=function(i){var a=this.pos;this.pos+=2;var m=this.readInt(i);return m==null&&this.raise(this.start+2,"Expected number in radix "+i),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(m=Ai(this.input.slice(a,this.pos)),++this.pos):Se(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(w.num,m)},St.readNumber=function(i){var a=this.pos;!i&&this.readInt(10,void 0,!0)===null&&this.raise(a,"Invalid number");var m=this.pos-a>=2&&this.input.charCodeAt(a)===48;m&&this.strict&&this.raise(a,"Invalid number");var I=this.input.charCodeAt(this.pos);if(!m&&!i&&this.options.ecmaVersion>=11&&I===110){var D=Ai(this.input.slice(a,this.pos));return++this.pos,Se(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(w.num,D)}m&&/[89]/.test(this.input.slice(a,this.pos))&&(m=!1),I===46&&!m&&(++this.pos,this.readInt(10),I=this.input.charCodeAt(this.pos)),(I===69||I===101)&&!m&&(I=this.input.charCodeAt(++this.pos),(I===43||I===45)&&++this.pos,this.readInt(10)===null&&this.raise(a,"Invalid number")),Se(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var K=ki(this.input.slice(a,this.pos),m);return this.finishToken(w.num,K)},St.readCodePoint=function(){var i=this.input.charCodeAt(this.pos),a;if(i===123){this.options.ecmaVersion<6&&this.unexpected();var m=++this.pos;a=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,a>1114111&&this.invalidStringToken(m,"Code point out of bounds")}else a=this.readHexChar(4);return a},St.readString=function(i){for(var a="",m=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var I=this.input.charCodeAt(this.pos);if(I===i)break;I===92?(a+=this.input.slice(m,this.pos),a+=this.readEscapedChar(!1),m=this.pos):I===8232||I===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Ze(I)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return a+=this.input.slice(m,this.pos++),this.finishToken(w.string,a)};var Pi={};St.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(i){if(i===Pi)this.readInvalidTemplateToken();else throw i}this.inTemplateElement=!1},St.invalidStringToken=function(i,a){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Pi;this.raise(i,a)},St.readTmplToken=function(){for(var i="",a=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var m=this.input.charCodeAt(this.pos);if(m===96||m===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===w.template||this.type===w.invalidTemplate)?m===36?(this.pos+=2,this.finishToken(w.dollarBraceL)):(++this.pos,this.finishToken(w.backQuote)):(i+=this.input.slice(a,this.pos),this.finishToken(w.template,i));if(m===92)i+=this.input.slice(a,this.pos),i+=this.readEscapedChar(!0),a=this.pos;else if(Ze(m)){switch(i+=this.input.slice(a,this.pos),++this.pos,m){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:i+=`
`;break;default:i+=String.fromCharCode(m);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),a=this.pos}else++this.pos}},St.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(w.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")},St.readEscapedChar=function(i){var a=this.input.charCodeAt(++this.pos);switch(++this.pos,a){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Ke(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),i){var m=this.pos-1;this.invalidStringToken(m,"Invalid escape sequence in template string")}default:if(a>=48&&a<=55){var I=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],D=parseInt(I,8);return D>255&&(I=I.slice(0,-1),D=parseInt(I,8)),this.pos+=I.length-1,a=this.input.charCodeAt(this.pos),(I!=="0"||a===56||a===57)&&(this.strict||i)&&this.invalidStringToken(this.pos-1-I.length,i?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(D)}return Ze(a)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(a)}},St.readHexChar=function(i){var a=this.pos,m=this.readInt(16,i);return m===null&&this.invalidStringToken(a,"Bad character escape sequence"),m},St.readWord1=function(){this.containsEsc=!1;for(var i="",a=!0,m=this.pos,I=this.options.ecmaVersion>=6;this.pos<this.input.length;){var D=this.fullCharCodeAtPos();if(Q(D,I))this.pos+=D<=65535?1:2;else if(D===92){this.containsEsc=!0,i+=this.input.slice(m,this.pos);var K=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var Y=this.readCodePoint();(a?Se:Q)(Y,I)||this.invalidStringToken(K,"Invalid Unicode escape"),i+=Ke(Y),m=this.pos}else break;a=!1}return i+this.input.slice(m,this.pos)},St.readWord=function(){var i=this.readWord1(),a=w.name;return this.keywords.test(i)&&(a=Be[i]),this.finishToken(a,i)};var Fi="8.14.1";t.acorn={Parser:t,version:Fi,defaultOptions:at,Position:ze,SourceLocation:ht,getLineInfo:Nt,Node:M,TokenType:se,tokTypes:w,keywordTypes:Be,TokContext:P,tokContexts:v,isIdentifierChar:Q,isIdentifierStart:Se,Token:Ti,isNewLine:Ze,lineBreak:Me,lineBreakG:ke,nonASCIIwhitespace:tt};function pr(i,a){return t.parse(i,a)}function gr(i,a,m){return t.parseExpressionAt(i,a,m)}function vr(i,a){return t.tokenizer(i,a)}B.Node=M,B.Parser=t,B.Position=ze,B.SourceLocation=ht,B.TokContext=P,B.Token=Ti,B.TokenType=se,B.defaultOptions=at,B.getLineInfo=Nt,B.isIdentifierChar=Q,B.isIdentifierStart=Se,B.isNewLine=Ze,B.keywordTypes=Be,B.lineBreak=Me,B.lineBreakG=ke,B.nonASCIIwhitespace=tt,B.parse=pr,B.parseExpressionAt=gr,B.tokContexts=v,B.tokTypes=w,B.tokenizer=vr,B.version=Fi})}(yr,yr.exports)),yr.exports}/*!
 * Paper.js v0.12.18 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, JÃ¼rg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Wed Jul 17 14:57:24 2024 +0200
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 JÃ¼rg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */var Lo=Br.exports,Vn;function No(){return Vn||(Vn=1,function(ye){(function(N,B){N=N||Mn;var le=N.window,j=N.document,A=new function(){var e=/^(statics|enumerable|beans|preserve)$/,t=[],r=t.slice,n=Object.create,s=Object.getOwnPropertyDescriptor,o=Object.defineProperty,u=t.forEach||function(p,d){for(var x=0,b=this.length;x<b;x++)p.call(d,this[x],x,this)},l=function(p,d){for(var x in this)this.hasOwnProperty(x)&&p.call(d,this[x],x,this)},h=Object.assign||function(p){for(var d=1,x=arguments.length;d<x;d++){var b=arguments[d];for(var P in b)b.hasOwnProperty(P)&&(p[P]=b[P])}return p},c=function(p,d,x){if(p){var b=s(p,"length");(b&&typeof b.value=="number"?u:l).call(p,d,x=x||p)}return x};function g(p,d,x,b,P){var v={};function S(C,L){L=L||(L=s(d,C))&&(L.get?L:L.value),typeof L=="string"&&L[0]==="#"&&(L=p[L.substring(1)]||L);var O=typeof L=="function",M=L,$=P||O&&!L.base?L&&L.get?C in p:p[C]:null,R;(!P||!$)&&(O&&$&&(L.base=$),O&&b!==!1&&(R=C.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(v[R[3].toLowerCase()+R[4]]=R[2]),(!M||O||!M.get||typeof M.get!="function"||!_.isPlainObject(M))&&(M={value:M,writable:!0}),(s(p,C)||{configurable:!0}).configurable&&(M.configurable=!0,M.enumerable=x??!R),o(p,C,M))}if(d){for(var f in d)d.hasOwnProperty(f)&&!e.test(f)&&S(f);for(var f in v){var y=v[f],k=p["set"+y],T=p["get"+y]||k&&p["is"+y];T&&(b===!0||T.length===0)&&S(f,{get:T,set:k})}}return p}function _(){for(var p=0,d=arguments.length;p<d;p++){var x=arguments[p];x&&h(this,x)}return this}return g(_,{inject:function(p){if(p){var d=p.statics===!0?p:p.statics,x=p.beans,b=p.preserve;d!==p&&g(this.prototype,p,p.enumerable,x,b),g(this,d,null,x,b)}for(var P=1,v=arguments.length;P<v;P++)this.inject(arguments[P]);return this},extend:function(){for(var p=this,d,x,b=0,P,v=arguments.length;b<v&&!(d&&x);b++)P=arguments[b],d=d||P.initialize,x=x||P.prototype;return d=d||function(){p.apply(this,arguments)},x=d.prototype=x||n(this.prototype),o(x,"constructor",{value:d,writable:!0,configurable:!0}),g(d,this),arguments.length&&this.inject.apply(d,arguments),d.base=p,d}}).inject({enumerable:!1,initialize:_,set:_,inject:function(){for(var p=0,d=arguments.length;p<d;p++){var x=arguments[p];x&&g(this,x,x.enumerable,x.beans,x.preserve)}return this},extend:function(){var p=n(this);return p.inject.apply(p,arguments)},each:function(p,d){return c(this,p,d)},clone:function(){return new this.constructor(this)},statics:{set:h,each:c,create:n,define:o,describe:s,clone:function(p){return h(new p.constructor,p)},isPlainObject:function(p){var d=p!=null&&p.constructor;return d&&(d===Object||d===_||d.name==="Object")},pick:function(p,d){return p!==B?p:d},slice:function(p,d,x){return r.call(p,d,x)}}})};ye.exports=A,A.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+A.each(this,function(e,t){if(!/^_/.test(t)){var r=typeof e;this.push(t+": "+(r==="number"?me.instance.number(e):r==="string"?"'"+e+"'":e))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(e){return A.importJSON(e,this)},exportJSON:function(e){return A.exportJSON(this,e)},toJSON:function(){return A.serialize(this)},set:function(e,t){return e&&A.filter(this,e,t,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function e(){var t=e.base.apply(this,arguments),r=t.prototype._class;return r&&!A.exports[r]&&(A.exports[r]=t),t},equals:function(e,t){if(e===t)return!0;if(e&&e.equals)return e.equals(t);if(t&&t.equals)return t.equals(e);if(e&&t&&typeof e=="object"&&typeof t=="object"){if(Array.isArray(e)&&Array.isArray(t)){var r=e.length;if(r!==t.length)return!1;for(;r--;)if(!A.equals(e[r],t[r]))return!1}else{var n=Object.keys(e),r=n.length;if(r!==Object.keys(t).length)return!1;for(;r--;){var s=n[r];if(!(t.hasOwnProperty(s)&&A.equals(e[s],t[s])))return!1}}return!0}return!1},read:function(e,t,r,n){if(this===A){var s=this.peek(e,t);return e.__index++,s}var o=this.prototype,u=o._readIndex,l=t||u&&e.__index||0,h=e.length,c=e[l];if(n=n||h-l,c instanceof this||r&&r.readNull&&c==null&&n<=1)return u&&(e.__index=l+1),c&&r&&r.clone?c.clone():c;if(c=A.create(o),u&&(c.__read=!0),c=c.initialize.apply(c,l>0||l+n<h?A.slice(e,l,l+n):e)||c,u){e.__index=l+c.__read;var g=c.__filtered;g&&(e.__filtered=g,c.__filtered=B),c.__read=B}return c},peek:function(e,t){return e[e.__index=t||e.__index||0]},remain:function(e){return e.length-(e.__index||0)},readList:function(e,t,r,n){for(var s=[],o,u=t||0,l=n?u+n:e.length,h=u;h<l;h++)s.push(Array.isArray(o=e[h])?this.read(o,0,r):this.read(e,h,r,1));return s},readNamed:function(e,t,r,n,s){var o=this.getNamed(e,t),u=o!==B;if(u){var l=e.__filtered;if(!l){var h=this.getSource(e);l=e.__filtered=A.create(h),l.__unfiltered=h}l[t]=B}return this.read(u?[o]:e,r,n,s)},readSupported:function(e,t){var r=this.getSource(e),n=this,s=!1;return r&&Object.keys(r).forEach(function(o){if(o in t){var u=n.readNamed(e,o);u!==B&&(t[o]=u),s=!0}}),s},getSource:function(e){var t=e.__source;if(t===B){var r=e.length===1&&e[0];t=e.__source=r&&A.isPlainObject(r)?r:null}return t},getNamed:function(e,t){var r=this.getSource(e);if(r)return t?r[t]:e.__filtered||r},hasNamed:function(e,t){return!!this.getNamed(e,t)},filter:function(e,t,r,n){var s;function o(g){if(!(r&&g in r)&&!(s&&g in s)){var _=t[g];_!==B&&(e[g]=_)}}if(n){for(var u={},l=0,h,c=n.length;l<c;l++)(h=n[l])in t&&(o(h),u[h]=!0);s=u}return Object.keys(t.__unfiltered||t).forEach(o),e},isPlainValue:function(e,t){return A.isPlainObject(e)||Array.isArray(e)||t&&typeof e=="string"},serialize:function(e,t,r,n){t=t||{};var s=!n,o;if(s&&(t.formatter=new me(t.precision),n={length:0,definitions:{},references:{},add:function(_,p){var d="#"+_._id,x=this.references[d];if(!x){this.length++;var b=p.call(_),P=_._class;P&&b[0]!==P&&b.unshift(P),this.definitions[d]=b,x=this.references[d]=[d]}return x}}),e&&e._serialize){o=e._serialize(t,n);var u=e._class;u&&!e._compactSerialize&&(s||!r)&&o[0]!==u&&o.unshift(u)}else if(Array.isArray(e)){o=[];for(var l=0,h=e.length;l<h;l++)o[l]=A.serialize(e[l],t,r,n)}else if(A.isPlainObject(e)){o={};for(var c=Object.keys(e),l=0,h=c.length;l<h;l++){var g=c[l];o[g]=A.serialize(e[g],t,r,n)}}else typeof e=="number"?o=t.formatter.number(e,t.precision):o=e;return s&&n.length>0?[["dictionary",n.definitions],o]:o},deserialize:function(e,t,r,n,s){var o=e,u=!r,l=u&&e&&e.length&&e[0][0]==="dictionary";if(r=r||{},Array.isArray(e)){var h=e[0],c=h==="dictionary";if(e.length==1&&/^#/.test(h))return r.dictionary[h];h=A.exports[h],o=[];for(var g=h?1:0,_=e.length;g<_;g++)o.push(A.deserialize(e[g],t,r,c,l));if(h){var p=o;t?o=t(h,p,u||s):o=new h(p)}}else if(A.isPlainObject(e)){o={},n&&(r.dictionary=o);for(var d in e)o[d]=A.deserialize(e[d],t,r)}return l?o[1]:o},exportJSON:function(e,t){var r=A.serialize(e,t);return t&&t.asString==!1?r:JSON.stringify(r)},importJSON:function(e,t){return A.deserialize(typeof e=="string"?JSON.parse(e):e,function(r,n,s){var o=s&&t&&t.constructor===r,u=o?t:A.create(r.prototype);if(n.length===1&&u instanceof w&&(o||!(u instanceof ke))){var l=n[0];A.isPlainObject(l)&&(l.insert=!1,o&&(n=n.concat([w.INSERT])))}return(o?u.set:r).apply(u,n),o&&(t=null),u})},push:function(e,t){var r=t.length;if(r<4096)e.push.apply(e,t);else{var n=e.length;e.length+=r;for(var s=0;s<r;s++)e[n+s]=t[s]}return e},splice:function(e,t,r,n){var s=t&&t.length,o=r===B;r=o?e.length:r,r>e.length&&(r=e.length);for(var u=0;u<s;u++)t[u]._index=r+u;if(o)return A.push(e,t),[];var l=[r,n];t&&A.push(l,t);for(var h=e.splice.apply(e,l),u=0,c=h.length;u<c;u++)h[u]._index=B;for(var u=r+s,c=e.length;u<c;u++)e[u]._index=u;return h},capitalize:function(e){return e.replace(/\b[a-z]/g,function(t){return t.toUpperCase()})},camelize:function(e){return e.replace(/-(.)/g,function(t,r){return r.toUpperCase()})},hyphenate:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var ue={on:function(e,t){if(typeof e!="string")A.each(e,function(o,u){this.on(u,o)},this);else{var r=this._eventTypes,n=r&&r[e],s=this._callbacks=this._callbacks||{};s=s[e]=s[e]||[],s.indexOf(t)===-1&&(s.push(t),n&&n.install&&s.length===1&&n.install.call(this,e))}return this},off:function(e,t){if(typeof e!="string"){A.each(e,function(u,l){this.off(l,u)},this);return}var r=this._eventTypes,n=r&&r[e],s=this._callbacks&&this._callbacks[e],o;return s&&(!t||(o=s.indexOf(t))!==-1&&s.length===1?(n&&n.uninstall&&n.uninstall.call(this,e),delete this._callbacks[e]):o!==-1&&s.splice(o,1)),this},once:function(e,t){return this.on(e,function r(){t.apply(this,arguments),this.off(e,r)})},emit:function(e,t){var r=this._callbacks&&this._callbacks[e];if(!r)return!1;var n=A.slice(arguments,1),s=t&&t.target&&!t.currentTarget;r=r.slice(),s&&(t.currentTarget=this);for(var o=0,u=r.length;o<u;o++)if(r[o].apply(this,n)==!1){t&&t.stop&&t.stop();break}return s&&delete t.currentTarget,!0},responds:function(e){return!!(this._callbacks&&this._callbacks[e])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(e){var t=this._eventTypes,r=this._callbacks,n=e?"install":"uninstall";if(t){for(var s in r)if(r[s].length>0){var o=t[s],u=o&&o[n];u&&u.call(this,s)}}},statics:{inject:function e(t){var r=t._events;if(r){var n={};A.each(r,function(s,o){var u=typeof s=="string",l=u?s:o,h=A.capitalize(l),c=l.substring(2).toLowerCase();n[c]=u?{}:s,l="_"+l,t["get"+h]=function(){return this[l]},t["set"+h]=function(g){var _=this[l];_&&this.off(c,_),g&&this.on(c,g),this[l]=g}}),t._eventTypes=n}return e.base.apply(this,arguments)}}},X=A.extend({_class:"PaperScope",initialize:function e(){nt=this,this.settings=new A({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=e._id++,e._scopes[this._id]=this;var t=e.prototype;if(!this.support){var r=je.getContext(1,1)||{};t.support={nativeDash:"setLineDash"in r||"mozDash"in r,nativeBlendModes:Ue.nativeModes},je.release(r)}if(!this.agent){var n=N.navigator.userAgent.toLowerCase(),s=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(n)||[])[0],o=s==="darwin"?"mac":s,u=t.agent=t.browser={platform:o};o&&(u[o]=!0),n.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(l,h,c,g,_){if(!u.chrome){var p=h==="opera"?g:/^(node|trident)$/.test(h)?_:c;u.version=p,u.versionNumber=parseFloat(p),h={trident:"msie",jsdom:"node"}[h]||h,u.name=h,u[h]=!0}}),u.chrome&&delete u.webkit,u.atom&&delete u.chrome}},version:"0.12.18",getView:function(){var e=this.project;return e&&e._view},getPaper:function(){return this},execute:function(e,t){var r=nt.PaperScript.execute(e,this,t);return Pt.updateFocus(),r},install:function(e){var t=this;A.each(["project","view","tool"],function(n){A.define(e,n,{configurable:!0,get:function(){return t[n]}})});for(var r in this)!/^_/.test(r)&&this[r]&&(e[r]=this[r])},setup:function(e){return nt=this,this.project=new xe(e),this},createCanvas:function(e,t){return je.getCanvas(e,t)},activate:function(){nt=this},clear:function(){for(var e=this.projects,t=this.tools,r=e.length-1;r>=0;r--)e[r].remove();for(var r=t.length-1;r>=0;r--)t[r].remove()},remove:function(){this.clear(),delete X._scopes[this._id]},statics:new function(){function e(t){return t+="Attribute",function(r,n){return r[t](n)||r[t]("data-paper-"+n)}}return{_scopes:{},_id:0,get:function(t){return this._scopes[t]||null},getAttribute:e("get"),hasAttribute:e("has")}}}),fe=A.extend(ue,{initialize:function(e){this._scope=nt,this._index=this._scope[this._list].push(this)-1,(e||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var e=this._scope[this._reference];return e&&e!==this&&e.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",e),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return this._index==null?!1:(A.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),Oe={findItemBoundsCollisions:function(e,t,r){function n(u){for(var l=new Array(u.length),h=0;h<u.length;h++){var c=u[h].getBounds();l[h]=[c.left,c.top,c.right,c.bottom]}return l}var s=n(e),o=!t||t===e?s:n(t);return this.findBoundsCollisions(s,o,r||0)},findCurveBoundsCollisions:function(e,t,r,n){function s(p){for(var d=Math.min,x=Math.max,b=new Array(p.length),P=0;P<p.length;P++){var v=p[P];b[P]=[d(v[0],v[2],v[4],v[6]),d(v[1],v[3],v[5],v[7]),x(v[0],v[2],v[4],v[6]),x(v[1],v[3],v[5],v[7])]}return b}var o=s(e),u=!t||t===e?o:s(t);if(n){for(var l=this.findBoundsCollisions(o,u,r||0,!1,!0),h=this.findBoundsCollisions(o,u,r||0,!0,!0),c=[],g=0,_=l.length;g<_;g++)c[g]={hor:l[g],ver:h[g]};return c}return this.findBoundsCollisions(o,u,r||0)},findBoundsCollisions:function(e,t,r,n,s){var o=!t||e===t,u=o?e:e.concat(t),l=e.length,h=u.length;function c(be,Pe,Ve){for(var ee=0,ae=be.length;ee<ae;){var Ce=ae+ee>>>1;u[be[Ce]][Pe]<Ve?ee=Ce+1:ae=Ce}return ee-1}for(var g=n?1:0,_=g+2,p=n?0:1,d=p+2,x=new Array(h),b=0;b<h;b++)x[b]=b;x.sort(function(be,Pe){return u[be][g]-u[Pe][g]});for(var P=[],v=new Array(l),b=0;b<h;b++){var S=x[b],f=u[S],y=o?S:S-l,k=S<l,T=o||!k,C=k?[]:null;if(P.length){var L=c(P,_,f[g]-r)+1;if(P.splice(0,L),o&&s){C=C.concat(P);for(var O=0;O<P.length;O++){var M=P[O];v[M].push(y)}}else for(var $=f[d],R=f[p],O=0;O<P.length;O++){var M=P[O],F=u[M],q=M<l,H=o||M>=l;(s||(k&&H||T&&q)&&$>=F[p]-r&&R<=F[d]+r)&&(k&&H&&C.push(o?M:M-l),T&&q&&v[M].push(y))}}if(k&&(e===t&&C.push(S),v[S]=C),P.length){var G=f[_],Z=c(P,_,G);P.splice(Z+1,0,S)}else P.push(S)}for(var b=0;b<v.length;b++){var ie=v[b];ie&&ie.sort(function(Pe,Ve){return Pe-Ve})}return v}},me=A.extend({initialize:function(e){this.precision=A.pick(e,5),this.multiplier=Math.pow(10,this.precision)},number:function(e){return this.precision<16?Math.round(e*this.multiplier)/this.multiplier:e},pair:function(e,t,r){return this.number(e)+(r||",")+this.number(t)},point:function(e,t){return this.number(e.x)+(t||",")+this.number(e.y)},size:function(e,t){return this.number(e.width)+(t||",")+this.number(e.height)},rectangle:function(e,t){return this.point(e,t)+(t||",")+this.size(e,t)}});me.instance=new me;var re=new function(){var e=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],t=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],r=Math.abs,n=Math.sqrt,s=Math.pow,o=Math.log2||function(_){return Math.log(_)*Math.LOG2E},u=1e-12,l=112e-18;function h(_,p,d){return _<p?p:_>d?d:_}function c(_,p,d){function x(L){var O=L*134217729,M=L-O,$=M+O,R=L-$;return[$,R]}var b=p*p-_*d,P=p*p+_*d;if(r(b)*3<P){var v=x(_),S=x(p),f=x(d),y=p*p,k=S[0]*S[0]-y+2*S[0]*S[1]+S[1]*S[1],T=_*d,C=v[0]*f[0]-T+v[0]*f[1]+v[1]*f[0]+v[1]*f[1];b=y-T+(k-C)}return b}function g(){var _=Math.max.apply(Math,arguments);return _&&(_<1e-8||_>1e8)?s(2,-Math.round(o(_))):0}return{EPSILON:u,MACHINE_EPSILON:l,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,ANGULAR_EPSILON:1e-5,KAPPA:4*(n(2)-1)/3,isZero:function(_){return _>=-1e-12&&_<=u},isMachineZero:function(_){return _>=-112e-18&&_<=l},clamp:h,integrate:function(_,p,d,x){for(var b=e[x-2],P=t[x-2],v=(d-p)*.5,S=v+p,f=0,y=x+1>>1,k=x&1?P[f++]*_(S):0;f<y;){var T=v*b[f];k+=P[f++]*(_(S+T)+_(S-T))}return v*k},findRoot:function(_,p,d,x,b,P,v){for(var S=0;S<P;S++){var f=_(d),y=f/p(d),k=d-y;if(r(y)<v){d=k;break}f>0?(b=d,d=k<=x?(x+b)*.5:k):(x=d,d=k>=b?(x+b)*.5:k)}return h(d,x,b)},solveQuadratic:function(_,p,d,x,b,P){var v,S=1/0;if(r(_)<u){if(r(p)<u)return r(d)<u?-1:0;v=-d/p}else{p*=-.5;var f=c(_,p,d);if(f&&r(f)<l){var y=g(r(_),r(p),r(d));y&&(_*=y,p*=y,d*=y,f=c(_,p,d))}if(f>=-112e-18){var k=f<0?0:n(f),T=p+(p<0?-k:k);T===0?(v=d/_,S=-v):(v=T/_,S=d/T)}}var C=0,L=b==null,O=b-u,M=P+u;return isFinite(v)&&(L||v>O&&v<M)&&(x[C++]=L?v:h(v,b,P)),S!==v&&isFinite(S)&&(L||S>O&&S<M)&&(x[C++]=L?S:h(S,b,P)),C},solveCubic:function(_,p,d,x,b,P,v){var S=g(r(_),r(p),r(d),r(x)),f,y,k,T,C;S&&(_*=S,p*=S,d*=S,x*=S);function L(Z){f=Z;var ie=_*f;y=ie+p,k=y*f+d,T=(ie+y)*f+k,C=k*f+x}if(r(_)<u)_=p,y=d,k=x,f=1/0;else if(r(x)<u)y=p,k=d,f=0;else{L(-(p/_)/3);var O=C/_,M=s(r(O),1/3),$=O<0?-1:1,R=-T/_,F=R>0?1.324717957244746*Math.max(M,n(R)):M,q=f-$*F;if(q!==f){do L(q),q=T===0?f:f-C/T/(1+l);while($*q>$*f);r(_)*f*f>r(x/f)&&(k=-x/f,y=(k-d)/f)}}var H=re.solveQuadratic(_,y,k,b,P,v),G=P==null;return isFinite(f)&&(H===0||H>0&&f!==b[0]&&f!==b[1])&&(G||f>P-u&&f<v+u)&&(b[H++]=G?f:h(f,P,v)),H}}},_e={_id:1,_pools:{},get:function(e){if(e){var t=this._pools[e];return t||(t=this._pools[e]={_id:1}),t._id++}else return this._id++}},V=A.extend({_class:"Point",_readIndex:!0,initialize:function(t,r){var n=typeof t,s=this.__read,o=0;if(n==="number"){var u=typeof r=="number";this._set(t,u?r:t),s&&(o=u?2:1)}else if(n==="undefined"||t===null)this._set(0,0),s&&(o=t===null?1:0);else{var l=n==="string"?t.split(/[\s,]+/)||[]:t;o=1,Array.isArray(l)?this._set(+l[0],+(l.length>1?l[1]:l[0])):"x"in l?this._set(l.x||0,l.y||0):"width"in l?this._set(l.width||0,l.height||0):"angle"in l?(this._set(l.length||0,0),this.setAngle(l.angle||0)):(this._set(0,0),o=0)}return s&&(this.__read=o),this},set:"#initialize",_set:function(e,t){return this.x=e,this.y=t,this},equals:function(e){return this===e||e&&(this.x===e.x&&this.y===e.y||Array.isArray(e)&&this.x===e[0]&&this.y===e[1])||!1},clone:function(){return new V(this.x,this.y)},toString:function(){var e=me.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.x),t.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(e){if(this.isZero()){var t=this._angle||0;this._set(Math.cos(t)*e,Math.sin(t)*e)}else{var r=e/this.getLength();re.isZero(r)&&this.getAngle(),this._set(this.x*r,this.y*r)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(e){this.setAngleInRadians.call(this,e*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var e=V.read(arguments),t=this.getLength()*e.getLength();if(re.isZero(t))return NaN;var r=this.dot(e)/t;return Math.acos(r<-1?-1:r>1?1:r)}else return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(e){if(this._angle=e,!this.isZero()){var t=this.getLength();this._set(Math.cos(e)*t,Math.sin(e)*t)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var e=V.read(arguments);return Math.atan2(this.cross(e),this.dot(e))*180/Math.PI},getDistance:function(){var e=arguments,t=V.read(e),r=t.x-this.x,n=t.y-this.y,s=r*r+n*n,o=A.read(e);return o?s:Math.sqrt(s)},normalize:function(e){e===B&&(e=1);var t=this.getLength(),r=t!==0?e/t:0,n=new V(this.x*r,this.y*r);return r>=0&&(n._angle=this._angle),n},rotate:function(e,t){if(e===0)return this.clone();e=e*Math.PI/180;var r=t?this.subtract(t):this,n=Math.sin(e),s=Math.cos(e);return r=new V(r.x*s-r.y*n,r.x*n+r.y*s),t?r.add(t):r},transform:function(e){return e?e._transformPoint(this):this},add:function(){var e=V.read(arguments);return new V(this.x+e.x,this.y+e.y)},subtract:function(){var e=V.read(arguments);return new V(this.x-e.x,this.y-e.y)},multiply:function(){var e=V.read(arguments);return new V(this.x*e.x,this.y*e.y)},divide:function(){var e=V.read(arguments);return new V(this.x/e.x,this.y/e.y)},modulo:function(){var e=V.read(arguments);return new V(this.x%e.x,this.y%e.y)},negate:function(){return new V(-this.x,-this.y)},isInside:function(){return W.read(arguments).contains(this)},isClose:function(){var e=arguments,t=V.read(e),r=A.read(e);return this.getDistance(t)<=r},isCollinear:function(){var e=V.read(arguments);return V.isCollinear(this.x,this.y,e.x,e.y)},isColinear:"#isCollinear",isOrthogonal:function(){var e=V.read(arguments);return V.isOrthogonal(this.x,this.y,e.x,e.y)},isZero:function(){var e=re.isZero;return e(this.x)&&e(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(e){return this.x*(e>1&&e<4?-1:1)>=0&&this.y*(e>2?-1:1)>=0},dot:function(){var e=V.read(arguments);return this.x*e.x+this.y*e.y},cross:function(){var e=V.read(arguments);return this.x*e.y-this.y*e.x},project:function(){var e=V.read(arguments),t=e.isZero()?0:this.dot(e)/e.dot(e);return new V(e.x*t,e.y*t)},statics:{min:function(){var e=arguments,t=V.read(e),r=V.read(e);return new V(Math.min(t.x,r.x),Math.min(t.y,r.y))},max:function(){var e=arguments,t=V.read(e),r=V.read(e);return new V(Math.max(t.x,r.x),Math.max(t.y,r.y))},random:function(){return new V(Math.random(),Math.random())},isCollinear:function(e,t,r,n){return Math.abs(e*n-t*r)<=Math.sqrt((e*e+t*t)*(r*r+n*n))*1e-8},isOrthogonal:function(e,t,r,n){return Math.abs(e*r+t*n)<=Math.sqrt((e*e+t*t)*(r*r+n*n))*1e-8}}},A.each(["round","ceil","floor","abs"],function(e){var t=Math[e];this[e]=function(){return new V(t(this.x),t(this.y))}},{})),Se=V.extend({initialize:function(t,r,n,s){this._x=t,this._y=r,this._owner=n,this._setter=s},_set:function(e,t,r){return this._x=e,this._y=t,r||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),Q=A.extend({_class:"Size",_readIndex:!0,initialize:function(t,r){var n=typeof t,s=this.__read,o=0;if(n==="number"){var u=typeof r=="number";this._set(t,u?r:t),s&&(o=u?2:1)}else if(n==="undefined"||t===null)this._set(0,0),s&&(o=t===null?1:0);else{var l=n==="string"?t.split(/[\s,]+/)||[]:t;o=1,Array.isArray(l)?this._set(+l[0],+(l.length>1?l[1]:l[0])):"width"in l?this._set(l.width||0,l.height||0):"x"in l?this._set(l.x||0,l.y||0):(this._set(0,0),o=0)}return s&&(this.__read=o),this},set:"#initialize",_set:function(e,t){return this.width=e,this.height=t,this},equals:function(e){return e===this||e&&(this.width===e.width&&this.height===e.height||Array.isArray(e)&&this.width===e[0]&&this.height===e[1])||!1},clone:function(){return new Q(this.width,this.height)},toString:function(){var e=me.instance;return"{ width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.width),t.number(this.height)]},add:function(){var e=Q.read(arguments);return new Q(this.width+e.width,this.height+e.height)},subtract:function(){var e=Q.read(arguments);return new Q(this.width-e.width,this.height-e.height)},multiply:function(){var e=Q.read(arguments);return new Q(this.width*e.width,this.height*e.height)},divide:function(){var e=Q.read(arguments);return new Q(this.width/e.width,this.height/e.height)},modulo:function(){var e=Q.read(arguments);return new Q(this.width%e.width,this.height%e.height)},negate:function(){return new Q(-this.width,-this.height)},isZero:function(){var e=re.isZero;return e(this.width)&&e(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(e,t){return new Q(Math.min(e.width,t.width),Math.min(e.height,t.height))},max:function(e,t){return new Q(Math.max(e.width,t.width),Math.max(e.height,t.height))},random:function(){return new Q(Math.random(),Math.random())}}},A.each(["round","ceil","floor","abs"],function(e){var t=Math[e];this[e]=function(){return new Q(t(this.width),t(this.height))}},{})),se=Q.extend({initialize:function(t,r,n,s){this._width=t,this._height=r,this._owner=n,this._setter=s},_set:function(e,t,r){return this._width=e,this._height=t,r||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(e){this._width=e,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(e){this._height=e,this._owner[this._setter](this)}}),W=A.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(t,r,n,s){var o=arguments,u=typeof t,l;if(u==="number"?(this._set(t,r,n,s),l=4):u==="undefined"||t===null?(this._set(0,0,0,0),l=t===null?1:0):o.length===1&&(Array.isArray(t)?(this._set.apply(this,t),l=1):t.x!==B||t.width!==B?(this._set(t.x||0,t.y||0,t.width||0,t.height||0),l=1):t.from===B&&t.to===B&&(this._set(0,0,0,0),A.readSupported(o,this)&&(l=1))),l===B){var h=V.readNamed(o,"from"),c=A.peek(o),g=h.x,_=h.y,p,d;if(c&&c.x!==B||A.hasNamed(o,"to")){var x=V.readNamed(o,"to");p=x.x-g,d=x.y-_,p<0&&(g=x.x,p=-p),d<0&&(_=x.y,d=-d)}else{var b=Q.read(o);p=b.width,d=b.height}this._set(g,_,p,d),l=o.__index}var P=o.__filtered;return P&&(this.__filtered=P),this.__read&&(this.__read=l),this},set:"#initialize",_set:function(e,t,r,n){return this.x=e,this.y=t,this.width=r,this.height=n,this},clone:function(){return new W(this.x,this.y,this.width,this.height)},equals:function(e){var t=A.isPlainValue(e)?W.read(arguments):e;return t===this||t&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height||!1},toString:function(){var e=me.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+", width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.x),t.number(this.y),t.number(this.width),t.number(this.height)]},getPoint:function(e){var t=e?V:Se;return new t(this.x,this.y,this,"setPoint")},setPoint:function(){var e=V.read(arguments);this.x=e.x,this.y=e.y},getSize:function(e){var t=e?Q:se;return new t(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var e=Q.read(arguments),t=this._sx,r=this._sy,n=e.width,s=e.height;t&&(this.x+=(this.width-n)*t),r&&(this.y+=(this.height-s)*r),this.width=n,this.height=s,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(e){if(!this._fw){var t=e-this.x;this.width-=this._sx===.5?t*2:t}this.x=e,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(e){if(!this._fh){var t=e-this.y;this.height-=this._sy===.5?t*2:t}this.y=e,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(e){if(!this._fw){var t=e-this.x;this.width=this._sx===.5?t*2:t}this.x=e-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(e){if(!this._fh){var t=e-this.y;this.height=this._sy===.5?t*2:t}this.y=e-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(e){this._fw||this._sx===.5?this.x=e-this.width/2:(this._sx&&(this.x+=(e-this.x)*2*this._sx),this.width=(e-this.x)*2),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(e){this._fh||this._sy===.5?this.y=e-this.height/2:(this._sy&&(this.y+=(e-this.y)*2*this._sy),this.height=(e-this.y)*2),this._sy=.5,this._fh=0},getCenter:function(e){var t=e?V:Se;return new t(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var e=V.read(arguments);return this.setCenterX(e.x),this.setCenterY(e.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(e){return e&&e.width!==B||(Array.isArray(e)?e:arguments).length===4?this._containsRectangle(W.read(arguments)):this._containsPoint(V.read(arguments))},_containsPoint:function(e){var t=e.x,r=e.y;return t>=this.x&&r>=this.y&&t<=this.x+this.width&&r<=this.y+this.height},_containsRectangle:function(e){var t=e.x,r=e.y;return t>=this.x&&r>=this.y&&t+e.width<=this.x+this.width&&r+e.height<=this.y+this.height},intersects:function(){var e=W.read(arguments),t=A.read(arguments)||0;return e.x+e.width>this.x-t&&e.y+e.height>this.y-t&&e.x<this.x+this.width+t&&e.y<this.y+this.height+t},intersect:function(){var e=W.read(arguments),t=Math.max(this.x,e.x),r=Math.max(this.y,e.y),n=Math.min(this.x+this.width,e.x+e.width),s=Math.min(this.y+this.height,e.y+e.height);return new W(t,r,n-t,s-r)},unite:function(){var e=W.read(arguments),t=Math.min(this.x,e.x),r=Math.min(this.y,e.y),n=Math.max(this.x+this.width,e.x+e.width),s=Math.max(this.y+this.height,e.y+e.height);return new W(t,r,n-t,s-r)},include:function(){var e=V.read(arguments),t=Math.min(this.x,e.x),r=Math.min(this.y,e.y),n=Math.max(this.x+this.width,e.x),s=Math.max(this.y+this.height,e.y);return new W(t,r,n-t,s-r)},expand:function(){var e=Q.read(arguments),t=e.width,r=e.height;return new W(this.x-t/2,this.y-r/2,this.width+t,this.height+r)},scale:function(e,t){return this.expand(this.width*e-this.width,this.height*(t===B?e:t)-this.height)}},A.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(e,t){var r=e.join(""),n=/^[RL]/.test(r);t>=4&&(e[1]+=n?"Y":"X");var s=e[n?0:1],o=e[n?1:0],u="get"+s,l="get"+o,h="set"+s,c="set"+o,g="get"+r,_="set"+r;this[g]=function(p){var d=p?V:Se;return new d(this[u](),this[l](),this,_)},this[_]=function(){var p=V.read(arguments);this[h](p.x),this[c](p.y)}},{beans:!0})),De=W.extend({initialize:function(t,r,n,s,o,u){this._set(t,r,n,s,!0),this._owner=o,this._setter=u},_set:function(e,t,r,n,s){return this._x=e,this._y=t,this._width=r,this._height=n,s||this._owner[this._setter](this),this}},new function(){var e=W.prototype;return A.each(["x","y","width","height"],function(t){var r=A.capitalize(t),n="_"+t;this["get"+r]=function(){return this[n]},this["set"+r]=function(s){this[n]=s,this._dontNotify||this._owner[this._setter](this)}},A.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(t){var r="set"+t;this[r]=function(){this._dontNotify=!0,e[r].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(t){var r=this._owner;r._changeSelection&&r._changeSelection(2,t)}}))}),ve=A.extend({_class:"Matrix",initialize:function e(t,r){var n=arguments,s=n.length,o=!0;if(s>=6?this._set.apply(this,n):s===1||s===2?t instanceof e?this._set(t._a,t._b,t._c,t._d,t._tx,t._ty,r):Array.isArray(t)?this._set.apply(this,r?t.concat([r]):t):o=!1:s?o=!1:this.reset(),!o)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(e,t,r,n,s,o,u){return this._a=e,this._b=t,this._c=r,this._d=n,this._tx=s,this._ty=o,u||this._changed(),this},_serialize:function(e,t){return A.serialize(this.getValues(),e,!0,t)},_changed:function(){var e=this._owner;e&&(e._applyMatrix?e.transform(null,!0):e._changed(25))},clone:function(){return new ve(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(e){return e===this||e&&this._a===e._a&&this._b===e._b&&this._c===e._c&&this._d===e._d&&this._tx===e._tx&&this._ty===e._ty},toString:function(){var e=me.instance;return"[["+[e.number(this._a),e.number(this._c),e.number(this._tx)].join(", ")+"], ["+[e.number(this._b),e.number(this._d),e.number(this._ty)].join(", ")+"]]"},reset:function(e){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,e||this._changed(),this},apply:function(e,t){var r=this._owner;return r?(r.transform(null,A.pick(e,!0),t),this.isIdentity()):!1},translate:function(){var e=V.read(arguments),t=e.x,r=e.y;return this._tx+=t*this._a+r*this._c,this._ty+=t*this._b+r*this._d,this._changed(),this},scale:function(){var e=arguments,t=V.read(e),r=V.read(e,0,{readNull:!0});return r&&this.translate(r),this._a*=t.x,this._b*=t.x,this._c*=t.y,this._d*=t.y,r&&this.translate(r.negate()),this._changed(),this},rotate:function(e){e*=Math.PI/180;var t=V.read(arguments,1),r=t.x,n=t.y,s=Math.cos(e),o=Math.sin(e),u=r-r*s+n*o,l=n-r*o-n*s,h=this._a,c=this._b,g=this._c,_=this._d;return this._a=s*h+o*g,this._b=s*c+o*_,this._c=-o*h+s*g,this._d=-o*c+s*_,this._tx+=u*h+l*g,this._ty+=u*c+l*_,this._changed(),this},shear:function(){var e=arguments,t=V.read(e),r=V.read(e,0,{readNull:!0});r&&this.translate(r);var n=this._a,s=this._b;return this._a+=t.y*this._c,this._b+=t.y*this._d,this._c+=t.x*n,this._d+=t.x*s,r&&this.translate(r.negate()),this._changed(),this},skew:function(){var e=arguments,t=V.read(e),r=V.read(e,0,{readNull:!0}),n=Math.PI/180,s=new V(Math.tan(t.x*n),Math.tan(t.y*n));return this.shear(s,r)},append:function(e,t){if(e){var r=this._a,n=this._b,s=this._c,o=this._d,u=e._a,l=e._c,h=e._b,c=e._d,g=e._tx,_=e._ty;this._a=u*r+h*s,this._c=l*r+c*s,this._b=u*n+h*o,this._d=l*n+c*o,this._tx+=g*r+_*s,this._ty+=g*n+_*o,t||this._changed()}return this},prepend:function(e,t){if(e){var r=this._a,n=this._b,s=this._c,o=this._d,u=this._tx,l=this._ty,h=e._a,c=e._c,g=e._b,_=e._d,p=e._tx,d=e._ty;this._a=h*r+c*n,this._c=h*s+c*o,this._b=g*r+_*n,this._d=g*s+_*o,this._tx=h*u+c*l+p,this._ty=g*u+_*l+d,t||this._changed()}return this},appended:function(e){return this.clone().append(e)},prepended:function(e){return this.clone().prepend(e)},invert:function(){var e=this._a,t=this._b,r=this._c,n=this._d,s=this._tx,o=this._ty,u=e*n-t*r,l=null;return u&&!isNaN(u)&&isFinite(s)&&isFinite(o)&&(this._a=n/u,this._b=-t/u,this._c=-r/u,this._d=e/u,this._tx=(r*o-n*s)/u,this._ty=(t*s-e*o)/u,l=this),l},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new ve(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var e=this._a*this._d-this._c*this._b;return e&&!isNaN(e)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(e,t,r){return arguments.length<3?this._transformPoint(V.read(arguments)):this._transformCoordinates(e,t,r)},_transformPoint:function(e,t,r){var n=e.x,s=e.y;return t||(t=new V),t._set(n*this._a+s*this._c+this._tx,n*this._b+s*this._d+this._ty,r)},_transformCoordinates:function(e,t,r){for(var n=0,s=2*r;n<s;n+=2){var o=e[n],u=e[n+1];t[n]=o*this._a+u*this._c+this._tx,t[n+1]=o*this._b+u*this._d+this._ty}return t},_transformCorners:function(e){var t=e.x,r=e.y,n=t+e.width,s=r+e.height,o=[t,r,n,r,n,s,t,s];return this._transformCoordinates(o,o,4)},_transformBounds:function(e,t,r){for(var n=this._transformCorners(e),s=n.slice(0,2),o=s.slice(),u=2;u<8;u++){var l=n[u],h=u&1;l<s[h]?s[h]=l:l>o[h]&&(o[h]=l)}return t||(t=new W),t._set(s[0],s[1],o[0]-s[0],o[1]-s[1],r)},inverseTransform:function(){return this._inverseTransform(V.read(arguments))},_inverseTransform:function(e,t,r){var n=this._a,s=this._b,o=this._c,u=this._d,l=this._tx,h=this._ty,c=n*u-s*o,g=null;if(c&&!isNaN(c)&&isFinite(l)&&isFinite(h)){var _=e.x-this._tx,p=e.y-this._ty;t||(t=new V),g=t._set((_*u-p*o)/c,(p*n-_*s)/c,r)}return g},decompose:function(){var e=this._a,t=this._b,r=this._c,n=this._d,s=e*n-t*r,o=Math.sqrt,u=Math.atan2,l=180/Math.PI,h,c,g;if(e!==0||t!==0){var _=o(e*e+t*t);h=Math.acos(e/_)*(t>0?1:-1),c=[_,s/_],g=[u(e*r+t*n,_*_),0]}else if(r!==0||n!==0){var p=o(r*r+n*n);h=Math.asin(r/p)*(n>0?1:-1),c=[s/p,p],g=[0,u(e*r+t*n,p*p)]}else h=0,g=c=[0,0];return{translation:this.getTranslation(),rotation:h*l,scaling:new V(c),skewing:new V(g[0]*l,g[1]*l)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new V(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(e){this.isIdentity()||e.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},A.each(["a","b","c","d","tx","ty"],function(e){var t=A.capitalize(e),r="_"+e;this["get"+t]=function(){return this[r]},this["set"+t]=function(n){this[r]=n,this._changed()}},{})),Be=A.extend({_class:"Line",initialize:function(t,r,n,s,o){var u=!1;arguments.length>=4?(this._px=t,this._py=r,this._vx=n,this._vy=s,u=o):(this._px=t.x,this._py=t.y,this._vx=r.x,this._vy=r.y,u=n),u||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new V(this._px,this._py)},getVector:function(){return new V(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(e,t){return Be.intersect(this._px,this._py,this._vx,this._vy,e._px,e._py,e._vx,e._vy,!0,t)},getSide:function(e,t){return Be.getSide(this._px,this._py,this._vx,this._vy,e.x,e.y,!0,t)},getDistance:function(e){return Math.abs(this.getSignedDistance(e))},getSignedDistance:function(e){return Be.getSignedDistance(this._px,this._py,this._vx,this._vy,e.x,e.y,!0)},isCollinear:function(e){return V.isCollinear(this._vx,this._vy,e._vx,e._vy)},isOrthogonal:function(e){return V.isOrthogonal(this._vx,this._vy,e._vx,e._vy)},statics:{intersect:function(e,t,r,n,s,o,u,l,h,c){h||(r-=e,n-=t,u-=s,l-=o);var g=r*l-n*u;if(!re.isMachineZero(g)){var _=e-s,p=t-o,d=(u*p-l*_)/g,x=(r*p-n*_)/g,b=1e-12,P=-b,v=1+b;if(c||P<d&&d<v&&P<x&&x<v)return c||(d=d<=0?0:d>=1?1:d),new V(e+d*r,t+d*n)}},getSide:function(e,t,r,n,s,o,u,l){u||(r-=e,n-=t);var h=s-e,c=o-t,g=h*n-c*r;return!l&&re.isMachineZero(g)&&(g=(h*r+h*r)/(r*r+n*n),g>=0&&g<=1&&(g=0)),g<0?-1:g>0?1:0},getSignedDistance:function(e,t,r,n,s,o,u){return u||(r-=e,n-=t),r===0?n>0?s-e:e-s:n===0?r<0?o-t:t-o:((s-e)*n-(o-t)*r)/(n>r?n*Math.sqrt(1+r*r/(n*n)):r*Math.sqrt(1+n*n/(r*r)))},getDistance:function(e,t,r,n,s,o,u){return Math.abs(Be.getSignedDistance(e,t,r,n,s,o,u))}}}),xe=fe.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(t){fe.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new zt(null,null,this),this._view=Pt.create(this,t||je.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(e,t){return A.serialize(this._children,e,!0,t)},_changed:function(e,t){if(e&1){var r=this._view;r&&(r._needsUpdate=!0,!r._requested&&r._autoUpdate&&r.requestUpdate())}var n=this._changes;if(n&&t){var s=this._changesById,o=t._id,u=s[o];u?u.flags|=e:n.push(s[o]={item:t,flags:e})}},clear:function(){for(var e=this._children,t=e.length-1;t>=0;t--)e[t].remove()},isEmpty:function(){return!this._children.length},remove:function e(){return e.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(e){this._currentStyle.set(e)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new ke({project:this,insert:!0})},getSymbolDefinitions:function(){var e=[],t={};return this.getItems({class:tt,match:function(r){var n=r._definition,s=n._id;return t[s]||(t[s]=!0,e.push(n)),!1}}),e},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var e=this._selectionItems,t=[];for(var r in e){var n=e[r],s=n._selection;s&1&&n.isInserted()?t.push(n):s||this._updateSelection(n)}return t},_updateSelection:function(e){var t=e._id,r=this._selectionItems;e._selection?r[t]!==e&&(this._selectionCount++,r[t]=e):r[t]===e&&(this._selectionCount--,delete r[t])},selectAll:function(){for(var e=this._children,t=0,r=e.length;t<r;t++)e[t].setFullySelected(!0)},deselectAll:function(){var e=this._selectionItems;for(var t in e)e[t].setFullySelected(!1)},addLayer:function(e){return this.insertLayer(B,e)},insertLayer:function(e,t){if(t instanceof ke){t._remove(!1,!0),A.splice(this._children,[t],e,0),t._setProject(this,!0);var r=t._name;r&&t.setName(r),this._changes&&t._changed(5),this._activeLayer||(this._activeLayer=t)}else t=null;return t},_insertItem:function(e,t,r){return t=this.insertLayer(e,t)||(this._activeLayer||this._insertItem(B,new ke(w.NO_INSERT),!0)).insertChild(e,t),r&&t.activate&&t.activate(),t},getItems:function(e){return w._getItems(this,e)},getItem:function(e){return w._getItems(this,e,null,null,!0)[0]||null},importJSON:function(e){this.activate();var t=this._activeLayer;return A.importJSON(e,t&&t.isEmpty()&&t)},removeOn:function(e){var t=this._removeSets;if(t){e==="mouseup"&&(t.mousedrag=null);var r=t[e];if(r){for(var n in r){var s=r[n];for(var o in t){var u=t[o];u&&u!=r&&delete u[s._id]}s.remove()}t[e]=null}}},draw:function(e,t,r){this._updateVersion++,e.save(),t.applyToContext(e);for(var n=this._children,s=new A({offset:new V(0,0),pixelRatio:r,viewMatrix:t.isIdentity()?null:t,matrices:[new ve],updateMatrix:!0}),o=0,u=n.length;o<u;o++)n[o].draw(e,s);if(e.restore(),this._selectionCount>0){e.save(),e.strokeWidth=1;var l=this._selectionItems,h=this._scope.settings.handleSize,c=this._updateVersion;for(var g in l)l[g]._drawSelection(e,t,h,l,c);e.restore()}}}),w=A.extend(ue,{statics:{extend:function e(t){return t._serializeFields&&(t._serializeFields=A.set({},this.prototype._serializeFields,t._serializeFields)),e.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new ve,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var e=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return A.each(e,function(t){this._events[t]={install:function(r){this.getView()._countItemEvent(r,1)},uninstall:function(r){this.getView()._countItemEvent(r,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:e}})},{initialize:function(){},_initialize:function(e,t){var r=e&&A.isPlainObject(e),n=r&&e.internal===!0,s=this._matrix=new ve,o=r&&e.project||nt.project,u=nt.settings;return this._id=n?null:_e.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&u.applyMatrix,t&&s.translate(t),s._owner=this,this._style=new zt(o._currentStyle,this,o),n||r&&e.insert==!1||!u.insertItems&&!(r&&e.insert==!0)?this._setProject(o):(r&&e.parent||o)._insertItem(B,this,!0),r&&e!==w.NO_INSERT&&e!==w.INSERT&&this.set(e,{internal:!0,insert:!0,project:!0,parent:!0}),r},_serialize:function(e,t){var r={},n=this;function s(o){for(var u in o){var l=n[u];A.equals(l,u==="leading"?o.fontSize*1.2:o[u])||(r[u]=A.serialize(l,e,u!=="data",t))}}return s(this._serializeFields),this instanceof Me||s(this._style._defaults),[this._class,r]},_changed:function(e){var t=this._symbol,r=this._parent||t,n=this._project;e&8&&(this._bounds=this._position=this._decomposed=B),e&16&&(this._globalMatrix=B),r&&e&72&&w._clearBoundsCache(r),e&2&&w._clearBoundsCache(this),n&&n._changed(e,this),t&&t._changed(e)},getId:function(){return this._id},getName:function(){return this._name},setName:function(e){if(this._name&&this._removeNamed(),e===+e+"")throw new Error("Names consisting only of numbers are not supported.");var t=this._getOwner();if(e&&t){var r=t._children,n=t._namedChildren;(n[e]=n[e]||[]).push(this),e in r||(r[e]=this)}this._name=e||B,this._changed(256)},getStyle:function(){return this._style},setStyle:function(e){this.getStyle().set(e)}},A.each(["locked","visible","blendMode","opacity","guide"],function(e){var t=A.capitalize(e),r="_"+e,n={locked:256,visible:265};this["get"+t]=function(){return this[r]},this["set"+t]=function(s){s!=this[r]&&(this[r]=s,this._changed(n[e]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(e){if(e!==this._selection){this._selection=e;var t=this._project;t&&(t._updateSelection(this),this._changed(257))}},_changeSelection:function(e,t){var r=this._selection;this.setSelection(t?r|e:r&~e)},isSelected:function(){if(this._selectChildren){for(var e=this._children,t=0,r=e.length;t<r;t++)if(e[t].isSelected())return!0}return!!(this._selection&1)},setSelected:function(e){if(this._selectChildren)for(var t=this._children,r=0,n=t.length;r<n;r++)t[r].setSelected(e);this._changeSelection(1,e)},isFullySelected:function(){var e=this._children,t=!!(this._selection&1);if(e&&t){for(var r=0,n=e.length;r<n;r++)if(!e[r].isFullySelected())return!1;return!0}return t},setFullySelected:function(e){var t=this._children;if(t)for(var r=0,n=t.length;r<n;r++)t[r].setFullySelected(e);this._changeSelection(1,e)},isClipMask:function(){return this._clipMask},setClipMask:function(e){this._clipMask!=(e=!!e)&&(this._clipMask=e,e&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(e){this._data=e},getPosition:function(e){var t=e?V:Se,r=this._position||(this._position=this._getPositionFromBounds());return new t(r.x,r.y,this,"setPosition")},setPosition:function(){this.translate(V.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(e){return this._pivot?this._matrix._transformPoint(this._pivot):(e||this.getBounds()).getCenter(!0)},getPivot:function(){var e=this._pivot;return e?new Se(e.x,e.y,this,"setPivot"):null},setPivot:function(){this._pivot=V.read(arguments,0,{clone:!0,readNull:!0}),this._position=B}},A.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(e,t){this[t]=function(r){return this.getBounds(r,e)}},{beans:!0,getBounds:function(e,t){var r=t||e instanceof ve,n=A.set({},r?t:e,this._boundsOptions);(!n.stroke||this.getStrokeScaling())&&(n.cacheItem=this);var s=this._getCachedBounds(r&&e,n).rect;return arguments.length?s:new De(s.x,s.y,s.width,s.height,this,"setBounds")},setBounds:function(){var e=W.read(arguments),t=this.getBounds(),r=this._matrix,n=new ve,s=e.getCenter();n.translate(s),(e.width!=t.width||e.height!=t.height)&&(r.isInvertible()||(r.set(r._backup||new ve().translate(r.getTranslation())),t=this.getBounds()),n.scale(t.width!==0?e.width/t.width:0,t.height!==0?e.height/t.height:0)),s=t.getCenter(),n.translate(-s.x,-s.y),this.transform(n)},_getBounds:function(e,t){var r=this._children;return!r||!r.length?new W:(w._updateBoundsCache(this,t.cacheItem),w._getBounds(r,e,t))},_getBoundsCacheKey:function(e,t){return[e.stroke?1:0,e.handle?1:0,t?1:0].join("")},_getCachedBounds:function(e,t,r){e=e&&e._orNullIfIdentity();var n=t.internal&&!r,s=t.cacheItem,o=n?null:this._matrix._orNullIfIdentity(),u=s&&(!e||e.equals(o))&&this._getBoundsCacheKey(t,n),l=this._bounds;if(w._updateBoundsCache(this._parent||this._symbol,s),u&&l&&u in l){var h=l[u];return{rect:h.rect.clone(),nonscaling:h.nonscaling}}var c=this._getBounds(e||o,t),g=c.rect||c,_=this._style,p=c.nonscaling||_.hasStroke()&&!_.getStrokeScaling();if(u){l||(this._bounds=l={});var h=l[u]={rect:g.clone(),nonscaling:p,internal:n}}return{rect:g,nonscaling:p}},_getStrokeMatrix:function(e,t){var r=this.getStrokeScaling()?null:t&&t.internal?this:this._parent||this._symbol&&this._symbol._item,n=r?r.getViewMatrix().invert():e;return n&&n._shiftless()},statics:{_updateBoundsCache:function(e,t){if(e&&t){var r=t._id,n=e._boundsCache=e._boundsCache||{ids:{},list:[]};n.ids[r]||(n.list.push(t),n.ids[r]=t)}},_clearBoundsCache:function(e){var t=e._boundsCache;if(t){e._bounds=e._position=e._boundsCache=B;for(var r=0,n=t.list,s=n.length;r<s;r++){var o=n[r];o!==e&&(o._bounds=o._position=B,o._boundsCache&&w._clearBoundsCache(o))}}},_getBounds:function(e,t,r){var n=1/0,s=-n,o=n,u=s,l=!1;r=r||{};for(var h=0,c=e.length;h<c;h++){var g=e[h];if(g._visible&&!g.isEmpty(!0)){var _=g._getCachedBounds(t&&t.appended(g._matrix),r,!0),p=_.rect;n=Math.min(p.x,n),o=Math.min(p.y,o),s=Math.max(p.x+p.width,s),u=Math.max(p.y+p.height,u),_.nonscaling&&(l=!0)}}return{rect:isFinite(n)?new W(n,o,s-n,u-o):new W,nonscaling:l}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var e=this._decompose();return e?e.rotation:0},setRotation:function(e){var t=this.getRotation();if(t!=null&&e!=null){var r=this._decomposed;this.rotate(e-t),r&&(r.rotation=e,this._decomposed=r)}},getScaling:function(){var e=this._decompose(),t=e&&e.scaling;return new Se(t?t.x:1,t?t.y:1,this,"setScaling")},setScaling:function(){var e=this.getScaling(),t=V.read(arguments,0,{clone:!0,readNull:!0});if(e&&t&&!e.equals(t)){var r=this.getRotation(),n=this._decomposed,s=new ve,o=re.isZero;if(o(e.x)||o(e.y))s.translate(n.translation),r&&s.rotate(r),s.scale(t.x,t.y),this._matrix.set(s);else{var u=this.getPosition(!0);s.translate(u),r&&s.rotate(r),s.scale(t.x/e.x,t.y/e.y),r&&s.rotate(-r),s.translate(u.negate()),this.transform(s)}n&&(n.scaling=t,this._decomposed=n)}},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.set.apply(e,arguments)},getGlobalMatrix:function(e){var t=this._globalMatrix;if(t)for(var r=this._parent,n=[];r;){if(!r._globalMatrix){t=null;for(var s=0,o=n.length;s<o;s++)n[s]._globalMatrix=null;break}n.push(r),r=r._parent}if(!t){t=this._globalMatrix=this._matrix.clone();var r=this._parent;r&&t.prepend(r.getGlobalMatrix(!0))}return e?t:t.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(e){(this._applyMatrix=this._canApplyMatrix&&!!e)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(e,t){if(this._project!==e){this._project&&this._installEvents(!1),this._project=e;for(var r=this._children,n=0,s=r&&r.length;n<s;n++)r[n]._setProject(e);t=!0}t&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function e(t){e.base.call(this,t);for(var r=this._children,n=0,s=r&&r.length;n<s;n++)r[n]._installEvents(t)},getLayer:function(){for(var e=this;e=e._parent;)if(e instanceof ke)return e;return null},getParent:function(){return this._parent},setParent:function(e){return e.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(e){this.removeChildren(),this.addChildren(e)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var e=this._getOwner();return e&&e._children[this._index+1]||null},getPreviousSibling:function(){var e=this._getOwner();return e&&e._children[this._index-1]||null},getIndex:function(){return this._index},setIndex:function(e){var t=this._parent,r=t&&t._children;r&&t.insertChildren(e in r?e:B,[this])},equals:function(e){return e===this||e&&this._class===e._class&&this._style.equals(e._style)&&this._matrix.equals(e._matrix)&&this._locked===e._locked&&this._visible===e._visible&&this._blendMode===e._blendMode&&this._opacity===e._opacity&&this._clipMask===e._clipMask&&this._guide===e._guide&&this._equals(e)||!1},_equals:function(e){return A.equals(this._children,e._children)},clone:function(e){var t=new this.constructor(w.NO_INSERT),r=this._children,n=A.pick(e?e.insert:B,e===B||e===!0),s=A.pick(e?e.deep:B,!0);r&&t.copyAttributes(this),(!r||s)&&t.copyContent(this),r||t.copyAttributes(this),n&&t.insertAbove(this);var o=this._name,u=this._parent;if(o&&u){for(var r=u._children,l=o,h=1;r[o];)o=l+" "+h++;o!==l&&t.setName(o)}return t},copyContent:function(e){for(var t=e._children,r=0,n=t&&t.length;r<n;r++)this.addChild(t[r].clone(!1),!0)},copyAttributes:function(e,t){this.setStyle(e._style);for(var r=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],n=0,s=r.length;n<s;n++){var o=r[n];e.hasOwnProperty(o)&&(this[o]=e[o])}t||this._matrix.set(e._matrix,!0),this.setApplyMatrix(e._applyMatrix),this.setPivot(e._pivot),this.setSelection(e._selection);var u=e._data,l=e._name;this._data=u?A.clone(u):null,l&&this.setName(l)},rasterize:function(e,t){var r,n,s;A.isPlainObject(e)?(r=e.resolution,n=e.insert,s=e.raster):(r=e,n=t),s||(s=new st(w.NO_INSERT));var o=this.getStrokeBounds(),u=(r||this.getView().getResolution())/72,l=o.getTopLeft().floor(),h=o.getBottomRight().ceil(),c=new Q(h.subtract(l)),g=c.multiply(u);if(s.setSize(g,!0),!g.isZero()){var _=s.getContext(!0),p=new ve().scale(u).translate(l.negate());_.save(),p.applyToContext(_),this.draw(_,new A({matrices:[p]})),_.restore()}return s._matrix.set(new ve().translate(l.add(c.divide(2))).scale(1/u)),(n===B||n)&&s.insertAbove(this),s},contains:function(){var e=this._matrix;return e.isInvertible()&&!!this._contains(e._inverseTransform(V.read(arguments)))},_contains:function(e){var t=this._children;if(t){for(var r=t.length-1;r>=0;r--)if(t[r].contains(e))return!0;return!1}return e.isInside(this.getInternalBounds())},isInside:function(){return W.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new Le.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(e,t){return e instanceof w?this._asPathItem().getIntersections(e._asPathItem(),null,t,!0).length>0:!1}},new function(){function e(){var n=arguments;return this._hitTest(V.read(n),Qe.getOptions(n))}function t(){var n=arguments,s=V.read(n),o=Qe.getOptions(n),u=[];return this._hitTest(s,new A({all:u},o)),u}function r(n,s,o,u){var l=this._children;if(l)for(var h=l.length-1;h>=0;h--){var c=l[h],g=c!==u&&c._hitTest(n,s,o);if(g&&!s.all)return g}return null}return xe.inject({hitTest:e,hitTestAll:t,_hitTest:r}),{hitTest:e,hitTestAll:t,_hitTestChildren:r}},{_hitTest:function(e,t,r){if(this._locked||!this._visible||this._guide&&!t.guides||this.isEmpty())return null;var n=this._matrix,s=r?r.appended(n):this.getGlobalMatrix().prepend(this.getView()._matrix),o=Math.max(t.tolerance,1e-12),u=t._tolerancePadding=new Q(Le._getStrokePadding(o,n._shiftless().invert()));if(e=n._inverseTransform(e),!e||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(u.multiply(2))._containsPoint(e))return null;var l=!(t.guides&&!this._guide||t.selected&&!this.isSelected()||t.type&&t.type!==A.hyphenate(this._class)||t.class&&!(this instanceof t.class)),h=t.match,c=this,g,_;function p(f){return f&&h&&!h(f)&&(f=null),f&&t.all&&t.all.push(f),f}function d(f,y){var k=y?g["get"+y]():c.getPosition();if(e.subtract(k).divide(u).length<=1)return new Qe(f,c,{name:y?A.hyphenate(y):f,point:k})}var x=t.position,b=t.center,P=t.bounds;if(l&&this._parent&&(x||b||P)){if((b||P)&&(g=this.getInternalBounds()),_=x&&d("position")||b&&d("center","Center"),!_&&P)for(var v=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],S=0;S<8&&!_;S++)_=d("bounds",v[S]);_=p(_)}return _||(_=this._hitTestChildren(e,t,s)||l&&p(this._hitTestSelf(e,t,s,this.getStrokeScaling()?null:s._shiftless().invert()))||null),_&&_.point&&(_.point=n.transform(_.point)),_},_hitTestSelf:function(e,t){if(t.fill&&this.hasFill()&&this._contains(e))return new Qe("fill",this)},matches:function(e,t){function r(u,l){for(var h in u)if(u.hasOwnProperty(h)){var c=u[h],g=l[h];if(A.isPlainObject(c)&&A.isPlainObject(g)){if(!r(c,g))return!1}else if(!A.equals(c,g))return!1}return!0}var n=typeof e;if(n==="object"){for(var s in e)if(e.hasOwnProperty(s)&&!this.matches(s,e[s]))return!1;return!0}else{if(n==="function")return e(this);if(e==="match")return t(this);var o=/^(empty|editable)$/.test(e)?this["is"+A.capitalize(e)]():e==="type"?A.hyphenate(this._class):this[e];if(e==="class"){if(typeof t=="function")return this instanceof t;o=this._class}if(typeof t=="function")return!!t(o);if(t){if(t.test)return t.test(o);if(A.isPlainObject(t))return r(t,o)}return A.equals(o,t)}},getItems:function(e){return w._getItems(this,e,this._matrix)},getItem:function(e){return w._getItems(this,e,this._matrix,null,!0)[0]||null},statics:{_getItems:function e(t,r,n,s,o){if(!s){var u=typeof r=="object"&&r,l=u&&u.overlapping,h=u&&u.inside,c=l||h,p=c&&W.read([c]);s={items:[],recursive:u&&u.recursive!==!1,inside:!!h,overlapping:!!l,rect:p,path:l&&new Le.Rectangle({rectangle:p,insert:!1})},u&&(r=A.filter({},r,{recursive:!0,inside:!0,overlapping:!0}))}var g=t._children,_=s.items,p=s.rect;n=p&&(n||new ve);for(var d=0,x=g&&g.length;d<x;d++){var b=g[d],P=n&&n.appended(b._matrix),v=!0;if(p){var c=b.getBounds(P);if(!p.intersects(c))continue;p.contains(c)||s.overlapping&&(c.contains(p)||s.path.intersects(b,P))||(v=!1)}if(v&&b.matches(r)&&(_.push(b),o)||(s.recursive!==!1&&e(b,r,P,s,o),o&&_.length>0))break}return _}}},{importJSON:function(e){var t=A.importJSON(e,this);return t!==this?this.addChild(t):t},addChild:function(e){return this.insertChild(B,e)},insertChild:function(e,t){var r=t?this.insertChildren(e,[t]):null;return r&&r[0]},addChildren:function(e){return this.insertChildren(this._children.length,e)},insertChildren:function(e,t){var r=this._children;if(r&&t&&t.length>0){t=A.slice(t);for(var n={},s=t.length-1;s>=0;s--){var o=t[s],u=o&&o._id;!o||n[u]?t.splice(s,1):(o._remove(!1,!0),n[u]=!0)}A.splice(r,t,e,0);for(var l=this._project,h=l._changes,s=0,c=t.length;s<c;s++){var o=t[s],g=o._name;o._parent=this,o._setProject(l,!0),g&&o.setName(g),h&&o._changed(5)}this._changed(11)}else t=null;return t},_insertItem:"#insertChild",_insertAt:function(e,t){var r=e&&e._getOwner(),n=e!==this&&r?this:null;return n&&(n._remove(!1,!0),r._insertItem(e._index+t,n)),n},insertAbove:function(e){return this._insertAt(e,1)},insertBelow:function(e){return this._insertAt(e,0)},sendToBack:function(){var e=this._getOwner();return e?e._insertItem(0,this):null},bringToFront:function(){var e=this._getOwner();return e?e._insertItem(B,this):null},appendTop:"#addChild",appendBottom:function(e){return this.insertChild(0,e)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(e){return e._insertItem(B,this)},copyTo:function(e){return this.clone(!1).addTo(e)},reduce:function(e){var t=this._children;if(t&&t.length===1){var r=t[0].reduce(e);return this._parent?(r.insertAbove(this),this.remove()):r.remove(),r}return this},_removeNamed:function(){var e=this._getOwner();if(e){var t=e._children,r=e._namedChildren,n=this._name,s=r[n],o=s?s.indexOf(this):-1;o!==-1&&(t[n]==this&&delete t[n],s.splice(o,1),s.length?t[n]=s[0]:delete r[n])}},_remove:function(e,t){var r=this._getOwner(),n=this._project,s=this._index;return this._style&&this._style._dispose(),r?(this._name&&this._removeNamed(),s!=null&&(n._activeLayer===this&&(n._activeLayer=this.getNextSibling()||this.getPreviousSibling()),A.splice(r._children,null,s,1)),this._installEvents(!1),e&&n._changes&&this._changed(5),t&&r._changed(11,this),this._parent=null,!0):!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(e){var t=e&&e.insertBelow(this);return t&&this.remove(),t},removeChildren:function(e,t){if(!this._children)return null;e=e||0,t=A.pick(t,this._children.length);for(var r=A.splice(this._children,null,e,t-e),n=r.length-1;n>=0;n--)r[n]._remove(!0,!1);return r.length>0&&this._changed(11),r},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var e=0,t=this._children.length;e<t;e++)this._children[e]._index=e;this._changed(11)}},isEmpty:function(e){var t=this._children,r=t?t.length:0;if(e){for(var n=0;n<r;n++)if(!t[n].isEmpty(e))return!1;return!0}return!r},isEditable:function(){for(var e=this;e;){if(!e._visible||e._locked)return!1;e=e._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(e){function t(u){var l=[];do l.unshift(u);while(u=u._parent);return l}for(var r=t(this),n=t(e),s=0,o=Math.min(r.length,n.length);s<o;s++)if(r[s]!=n[s])return r[s]._index<n[s]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(e){return this._getOrder(e)===-1},isBelow:function(e){return this._getOrder(e)===1},isParent:function(e){return this._parent===e},isChild:function(e){return e&&e._parent===this},isDescendant:function(e){for(var t=this;t=t._parent;)if(t===e)return!0;return!1},isAncestor:function(e){return e?e.isDescendant(this):!1},isSibling:function(e){return this._parent===e._parent},isGroupedWith:function(e){for(var t=this._parent;t;){if(t._parent&&/^(Group|Layer|CompoundPath)$/.test(t._class)&&e.isDescendant(t))return!0;t=t._parent}return!1}},A.each(["rotate","scale","shear","skew"],function(e){var t=e==="rotate";this[e]=function(){var r=arguments,n=(t?A:V).read(r),s=V.read(r,0,{readNull:!0});return this.transform(new ve()[e](n,s||this.getPosition(!0)))}},{translate:function(){var e=new ve;return this.transform(e.translate.apply(e,arguments))},transform:function(e,t,r){var n=this._matrix,s=e&&!e.isIdentity(),o=r&&this._canApplyMatrix||this._applyMatrix&&(s||!n.isIdentity()||t&&this._children);if(!s&&!o)return this;if(s){!e.isInvertible()&&n.isInvertible()&&(n._backup=n.getValues()),n.prepend(e,!0);var u=this._style,l=u.getFillColor(!0),h=u.getStrokeColor(!0);l&&l.transform(e),h&&h.transform(e)}if(o&&(o=this._transformContent(n,t,r))){var c=this._pivot;c&&n._transformPoint(c,c,!0),n.reset(!0),r&&this._canApplyMatrix&&(this._applyMatrix=!0)}var g=this._bounds,_=this._position;(s||o)&&this._changed(25);var p=s&&g&&e.decompose();if(p&&p.skewing.isZero()&&p.rotation%90===0){for(var d in g){var x=g[d];if(x.nonscaling)delete g[d];else if(o||!x.internal){var b=x.rect;e._transformBounds(b,b)}}this._bounds=g;var P=g[this._getBoundsCacheKey(this._boundsOptions||{})];P&&(this._position=this._getPositionFromBounds(P.rect))}else s&&_&&this._pivot&&(this._position=e._transformPoint(_,_));return this},_transformContent:function(e,t,r){var n=this._children;if(n){for(var s=0,o=n.length;s<o;s++)n[s].transform(e,t,r);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(V.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(V.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(V.read(arguments))},localToParent:function(){return this._matrix._transformPoint(V.read(arguments))},fitBounds:function(e,t){e=W.read(arguments);var r=this.getBounds(),n=r.height/r.width,s=e.height/e.width,o=(t?n>s:n<s)?e.width/r.width:e.height/r.height,u=new W(new V,new Q(r.width*o,r.height*o));u.setCenter(e.getCenter()),this.setBounds(u)}}),{_setStyles:function(e,t,r){var n=this._style,s=this._matrix;if(n.hasFill()&&(e.fillStyle=n.getFillColor().toCanvasStyle(e,s)),n.hasStroke()){e.strokeStyle=n.getStrokeColor().toCanvasStyle(e,s),e.lineWidth=n.getStrokeWidth();var o=n.getStrokeJoin(),u=n.getStrokeCap(),l=n.getMiterLimit();if(o&&(e.lineJoin=o),u&&(e.lineCap=u),l&&(e.miterLimit=l),nt.support.nativeDash){var h=n.getDashArray(),c=n.getDashOffset();h&&h.length&&("setLineDash"in e?(e.setLineDash(h),e.lineDashOffset=c):(e.mozDash=h,e.mozDashOffset=c))}}if(n.hasShadow()){var g=t.pixelRatio||1,_=r._shiftless().prepend(new ve().scale(g,g)),p=_.transform(new V(n.getShadowBlur(),0)),d=_.transform(this.getShadowOffset());e.shadowColor=n.getShadowColor().toCanvasStyle(e),e.shadowBlur=p.getLength(),e.shadowOffsetX=d.x,e.shadowOffsetY=d.y}},draw:function(e,t,r){if(this._updateVersion=this._project._updateVersion,!(!this._visible||this._opacity===0)){var n=t.matrices,s=t.viewMatrix,o=this._matrix,u=n[n.length-1].appended(o);if(u.isInvertible()){s=s?s.appended(u):u,n.push(u),t.updateMatrix&&(this._globalMatrix=u);var l=this._blendMode,h=re.clamp(this._opacity,0,1),c=l==="normal",g=Ue.nativeModes[l],_=c&&h===1||t.dontStart||t.clip||(g||c&&h<1)&&this._canComposite(),p=t.pixelRatio||1,d,x,b;if(!_){var P=this.getStrokeBounds(s);if(!P.width||!P.height){n.pop();return}b=t.offset,x=t.offset=P.getTopLeft().floor(),d=e,e=je.getContext(P.getSize().ceil().add(1).multiply(p)),p!==1&&e.scale(p,p)}e.save();var v=r?r.appended(o):this._canScaleStroke&&!this.getStrokeScaling(!0)&&s,S=!_&&t.clipItem,f=!v||S;if(_?(e.globalAlpha=h,g&&(e.globalCompositeOperation=l)):f&&e.translate(-x.x,-x.y),f&&(_?o:s).applyToContext(e),S&&t.clipItem.draw(e,t.extend({clip:!0})),v){e.setTransform(p,0,0,p,0,0);var y=t.offset;y&&e.translate(-y.x,-y.y)}this._draw(e,t,s,v),e.restore(),n.pop(),t.clip&&!t.dontFinish&&e.clip(this.getFillRule()),_||(Ue.process(l,e,d,h,x.subtract(b).multiply(p)),je.release(e),t.offset=b)}}},_isUpdated:function(e){var t=this._parent;if(t instanceof Ke)return t._isUpdated(e);var r=this._updateVersion===e;return!r&&t&&t._visible&&t._isUpdated(e)&&(this._updateVersion=e,r=!0),r},_drawSelection:function(e,t,r,n,s){var o=this._selection,u=o&1,l=o&2||u&&this._selectBounds,h=o&4;if(this._drawSelected||(u=!1),(u||l||h)&&this._isUpdated(s)){var c,g=this.getSelectedColor(!0)||(c=this.getLayer())&&c.getSelectedColor(!0),_=t.appended(this.getGlobalMatrix(!0)),p=r/2;if(e.strokeStyle=e.fillStyle=g?g.toCanvasStyle(e):"#009dec",u&&this._drawSelected(e,_,n),h){var d=this.getPosition(!0),x=this._parent,b=x?x.localToGlobal(d):d,P=b.x,v=b.y;e.beginPath(),e.arc(P,v,p,0,Math.PI*2,!0),e.stroke();for(var S=[[0,-1],[1,0],[0,1],[-1,0]],f=p,y=r+1,k=0;k<4;k++){var T=S[k],C=T[0],L=T[1];e.moveTo(P+C*f,v+L*f),e.lineTo(P+C*y,v+L*y),e.stroke()}}if(l){var O=_._transformCorners(this.getInternalBounds());e.beginPath();for(var k=0;k<8;k++)e[k?"lineTo":"moveTo"](O[k],O[++k]);e.closePath(),e.stroke();for(var k=0;k<8;k++)e.fillRect(O[k]-p,O[++k]-p,r,r)}}},_canComposite:function(){return!1}},A.each(["down","drag","up","move"],function(e){this["removeOn"+A.capitalize(e)]=function(){var t={};return t[e]=!0,this.removeOn(t)}},{removeOn:function(e){for(var t in e)if(e[t]){var r="mouse"+t,n=this._project,s=n._removeSets=n._removeSets||{};s[r]=s[r]||{},s[r][this._id]=this}return this}}),{tween:function(e,t,r){r||(r=t,t=e,e=null,r||(r=t,t=null));var n=r&&r.easing,s=r&&r.start,o=r!=null&&(typeof r=="number"?r:r.duration),u=new _i(this,e,t,o,n,s);function l(h){u._handleFrame(h.time*1e3),u.running||this.off("frame",l)}return o&&this.on("frame",l),u},tweenTo:function(e,t){return this.tween(null,e,t)},tweenFrom:function(e,t){return this.tween(e,null,t)}}),Me=w.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||this.addChildren(Array.isArray(t)?t:arguments)},_changed:function e(t){e.base.call(this,t),t&2050&&(this._clipItem=B)},_getClipItem:function(){var e=this._clipItem;if(e===B){e=null;for(var t=this._children,r=0,n=t.length;r<n;r++)if(t[r]._clipMask){e=t[r];break}this._clipItem=e}return e},isClipped:function(){return!!this._getClipItem()},setClipped:function(e){var t=this.getFirstChild();t&&t.setClipMask(e)},_getBounds:function e(t,r){var n=this._getClipItem();return n?n._getCachedBounds(n._matrix.prepended(t),A.set({},r,{stroke:!1})):e.base.call(this,t,r)},_hitTestChildren:function e(t,r,n){var s=this._getClipItem();return(!s||s.contains(t))&&e.base.call(this,t,r,n,s)},_draw:function(e,t){var r=t.clip,n=!r&&this._getClipItem();t=t.extend({clipItem:n,clip:!1}),r?(e.beginPath(),t.dontStart=t.dontFinish=!0):n&&n.draw(e,t.extend({clip:!0}));for(var s=this._children,o=0,u=s.length;o<u;o++){var l=s[o];l!==n&&l.draw(e,t)}}}),ke=Me.extend({_class:"Layer",initialize:function(){Me.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function e(){return this._parent?e.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),Ze=w.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(t,r){this._initialize(t,r)},_equals:function(e){return this._type===e._type&&this._size.equals(e._size)&&A.equals(this._radius,e._radius)},copyContent:function(e){this.setType(e._type),this.setSize(e._size),this.setRadius(e._radius)},getType:function(){return this._type},setType:function(e){this._type=e},getShape:"#getType",setShape:"#setType",getSize:function(){var e=this._size;return new se(e.width,e.height,this,"setSize")},setSize:function(){var e=Q.read(arguments);if(!this._size)this._size=e.clone();else if(!this._size.equals(e)){var t=this._type,r=e.width,n=e.height;t==="rectangle"?this._radius.set(Q.min(this._radius,e.divide(2).abs())):t==="circle"?(r=n=(r+n)/2,this._radius=r/2):t==="ellipse"&&this._radius._set(r/2,n/2),this._size._set(r,n),this._changed(9)}},getRadius:function(){var e=this._radius;return this._type==="circle"?e:new se(e.width,e.height,this,"setRadius")},setRadius:function(e){var t=this._type;if(t==="circle"){if(e===this._radius)return;var r=e*2;this._radius=e,this._size._set(r,r)}else if(e=Q.read(arguments),!this._radius)this._radius=e.clone();else{if(this._radius.equals(e))return;if(this._radius.set(e),t==="rectangle"){var r=Q.max(this._size,e.multiply(2));this._size.set(r)}else t==="ellipse"&&this._size._set(e.width*2,e.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(e){var t=new Le[A.capitalize(this._type)]({center:new V,size:this._size,radius:this._radius,insert:!1});return t.copyAttributes(this),nt.settings.applyMatrix&&t.setApplyMatrix(!0),(e===B||e)&&t.insertAbove(this),t},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(e,t,r,n){var s=this._style,o=s.hasFill(),u=s.hasStroke(),l=t.dontFinish||t.clip,h=!n;if(o||u||l){var c=this._type,g=this._radius,_=c==="circle";if(t.dontStart||e.beginPath(),h&&_)e.arc(0,0,g,0,Math.PI*2,!0);else{var p=_?g:g.width,d=_?g:g.height,x=this._size,b=x.width,P=x.height;if(h&&c==="rectangle"&&p===0&&d===0)e.rect(-b/2,-P/2,b,P);else{var v=b/2,S=P/2,f=1-.5522847498307936,y=p*f,k=d*f,T=[-v,-S+d,-v,-S+k,-v+y,-S,-v+p,-S,v-p,-S,v-y,-S,v,-S+k,v,-S+d,v,S-d,v,S-k,v-y,S,v-p,S,-v+p,S,-v+y,S,-v,S-k,-v,S-d];n&&n.transform(T,T,32),e.moveTo(T[0],T[1]),e.bezierCurveTo(T[2],T[3],T[4],T[5],T[6],T[7]),v!==p&&e.lineTo(T[8],T[9]),e.bezierCurveTo(T[10],T[11],T[12],T[13],T[14],T[15]),S!==d&&e.lineTo(T[16],T[17]),e.bezierCurveTo(T[18],T[19],T[20],T[21],T[22],T[23]),v!==p&&e.lineTo(T[24],T[25]),e.bezierCurveTo(T[26],T[27],T[28],T[29],T[30],T[31])}}e.closePath()}!l&&(o||u)&&(this._setStyles(e,t,r),o&&(e.fill(s.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),u&&e.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(e,t){var r=new W(this._size).setCenter(0,0),n=this._style,s=t.stroke&&n.hasStroke()&&n.getStrokeWidth();return e&&(r=e._transformBounds(r)),s?r.expand(Le._getStrokePadding(s,this._getStrokeMatrix(e,t))):r}},new function(){function e(r,n,s){var o=r._radius;if(!o.isZero())for(var u=r._size.divide(2),l=1;l<=4;l++){var h=new V(l>1&&l<4?-1:1,l>2?-1:1),c=h.multiply(u),g=c.subtract(h.multiply(o)),_=new W(s?c.add(h.multiply(s)):c,g);if(_.contains(n))return{point:g,quadrant:l}}}function t(r,n,s,o){var u=r.divide(n);return(!o||u.isInQuadrant(o))&&u.subtract(u.normalize()).multiply(n).divide(s).length<=1}return{_contains:function r(n){if(this._type==="rectangle"){var s=e(this,n);return s?n.subtract(s.point).divide(this._radius).getLength()<=1:r.base.call(this,n)}else return n.divide(this.size).getLength()<=.5},_hitTestSelf:function r(n,s,o,u){var l=!1,h=this._style,c=s.stroke&&h.hasStroke(),g=s.fill&&h.hasFill();if(c||g){var _=this._type,p=this._radius,d=c?h.getStrokeWidth()/2:0,x=s._tolerancePadding.add(Le._getStrokePadding(d,!h.getStrokeScaling()&&u));if(_==="rectangle"){var b=x.multiply(2),P=e(this,n,b);if(P)l=t(n.subtract(P.point),p,x,P.quadrant);else{var v=new W(this._size).setCenter(0,0),S=v.expand(b),f=v.expand(b.negate());l=S._containsPoint(n)&&!f._containsPoint(n)}}else l=t(n,p,x)}return l?new Qe(c?"stroke":"fill",this):r.base.apply(this,arguments)}}},{statics:new function(){function e(t,r,n,s,o){var u=A.create(Ze.prototype);return u._type=t,u._size=n,u._radius=s,u._initialize(A.getNamed(o),r),u}return{Circle:function(){var t=arguments,r=V.readNamed(t,"center"),n=A.readNamed(t,"radius");return e("circle",r,new Q(n*2),n,t)},Rectangle:function(){var t=arguments,r=W.readNamed(t,"rectangle"),n=Q.min(Q.readNamed(t,"radius"),r.getSize(!0).divide(2));return e("rectangle",r.getCenter(!0),r.getSize(!0),n,t)},Ellipse:function(){var t=arguments,r=Ze._readEllipse(t),n=r.radius;return e("ellipse",r.center,n.multiply(2),n,t)},_readEllipse:function(t){var r,n;if(A.hasNamed(t,"radius"))r=V.readNamed(t,"center"),n=Q.readNamed(t,"radius");else{var s=W.readNamed(t,"rectangle");r=s.getCenter(!0),n=s.getSize(!0).divide(2)}return{center:r,radius:n}}}}}),st=w.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(t,r){if(!this._initialize(t,r!==B&&V.read(arguments))){var n,s=typeof t,o=s==="string"?j.getElementById(t):s==="object"?t:null;if(o&&o!==w.NO_INSERT){if(o.getContext||o.naturalHeight!=null)n=o;else if(o){var u=Q.read(arguments);u.isZero()||(n=je.getCanvas(u))}}n?this.setImage(n):this.setSource(t)}this._size||(this._size=new Q,this._loaded=!1)},_equals:function(e){return this.getSource()===e.getSource()},copyContent:function(e){var t=e._image,r=e._canvas;if(t)this._setImage(t);else if(r){var n=je.getCanvas(e._size);n.getContext("2d").drawImage(r,0,0),this._setImage(n)}this._crossOrigin=e._crossOrigin},getSize:function(){var e=this._size;return new se(e?e.width:0,e?e.height:0,this,"setSize")},setSize:function(e,t){var r=Q.read(arguments);if(r.equals(this._size))t&&this.clear();else if(r.width>0&&r.height>0){var n=!t&&this.getElement();this._setImage(je.getCanvas(r)),n&&this.getContext(!0).drawImage(n,0,0,r.width,r.height)}else this._canvas&&je.release(this._canvas),this._size=r.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(e){this.setSize(e,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(e){this.setSize(this.getWidth(),e)},getLoaded:function(){return this._loaded},isEmpty:function(){var e=this._size;return!e||e.width===0&&e.height===0},getResolution:function(){var e=this._matrix,t=new V(0,0).transform(e),r=new V(1,0).transform(e).subtract(t),n=new V(0,1).transform(e).subtract(t);return new Q(72/r.getLength(),72/n.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(e){var t=this;function r(n){var s=t.getView(),o=n&&n.type||"load";s&&t.responds(o)&&(nt=s._scope,t.emit(o,new ai(n)))}this._setImage(e),this._loaded?setTimeout(r,0):e&&pt.add(e,{load:function(n){t._setImage(e),r(n)},error:r})},_setImage:function(e){this._canvas&&je.release(this._canvas),e&&e.getContext?(this._image=null,this._canvas=e,this._loaded=!0):(this._image=e,this._canvas=null,this._loaded=!!(e&&e.src&&e.complete)),this._size=new Q(e?e.naturalWidth||e.width:0,e?e.naturalHeight||e.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var e=je.getContext(this._size);try{this._image&&e.drawImage(this._image,0,0),this._canvas=e.canvas}catch{je.release(e)}}return this._canvas},setCanvas:"#setImage",getContext:function(e){return this._context||(this._context=this.getCanvas().getContext("2d")),e&&(this._image=null,this._changed(1025)),this._context},setContext:function(e){this._context=e},getSource:function(){var e=this._image;return e&&e.src||this.toDataURL()},setSource:function(e){var t=new N.Image,r=this._crossOrigin;r&&(t.crossOrigin=r),e&&(t.src=e),this.setImage(t)},getCrossOrigin:function(){var e=this._image;return e&&e.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(e){this._crossOrigin=e;var t=this._image;t&&(t.crossOrigin=e)},getSmoothing:function(){return this._smoothing},setSmoothing:function(e){this._smoothing=typeof e=="string"?e:e?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var e=W.read(arguments),t=je.getContext(e.getSize());return t.drawImage(this.getCanvas(),e.x,e.y,e.width,e.height,0,0,e.width,e.height),t.canvas},getSubRaster:function(){var e=W.read(arguments),t=new st(w.NO_INSERT);return t._setImage(this.getSubCanvas(e)),t.translate(e.getCenter().subtract(this.getSize().divide(2))),t._matrix.prepend(this._matrix),t.insertAbove(this),t},toDataURL:function(){var e=this._image,t=e&&e.src;if(/^data:/.test(t))return t;var r=this.getCanvas();return r?r.toDataURL.apply(r,arguments):null},drawImage:function(e){var t=V.read(arguments,1);this.getContext(!0).drawImage(e,t.x,t.y)},getAverageColor:function(e){var t,r;if(e?e instanceof Ye?(r=e,t=e.getBounds()):typeof e=="object"&&("width"in e?t=new W(e):"x"in e&&(t=new W(e.x-.5,e.y-.5,1,1))):t=this.getBounds(),!t)return null;var n=32,s=Math.min(t.width,n),o=Math.min(t.height,n),u=st._sampleContext;u?u.clearRect(0,0,n+1,n+1):u=st._sampleContext=je.getContext(new Q(n)),u.save();var l=new ve().scale(s/t.width,o/t.height).translate(-t.x,-t.y);l.applyToContext(u),r&&r.draw(u,new A({clip:!0,matrices:[l]})),this._matrix.applyToContext(u);var h=this.getElement(),c=this._size;h&&u.drawImage(h,-c.width/2,-c.height/2),u.restore();for(var g=u.getImageData(.5,.5,Math.ceil(s),Math.ceil(o)).data,_=[0,0,0],p=0,d=0,x=g.length;d<x;d+=4){var b=g[d+3];p+=b,b/=255,_[0]+=g[d]*b,_[1]+=g[d+1]*b,_[2]+=g[d+2]*b}for(var d=0;d<3;d++)_[d]/=p;return p?at.read(_):null},getPixel:function(){var e=V.read(arguments),t=this.getContext().getImageData(e.x,e.y,1,1).data;return new at("rgb",[t[0]/255,t[1]/255,t[2]/255],t[3]/255)},setPixel:function(){var e=arguments,t=V.read(e),r=at.read(e),n=r._convert("rgb"),s=r._alpha,o=this.getContext(!0),u=o.createImageData(1,1),l=u.data;l[0]=n[0]*255,l[1]=n[1]*255,l[2]=n[2]*255,l[3]=s!=null?s*255:255,o.putImageData(u,t.x,t.y)},clear:function(){var e=this._size;this.getContext(!0).clearRect(0,0,e.width+1,e.height+1)},createImageData:function(){var e=Q.read(arguments);return this.getContext().createImageData(e.width,e.height)},getImageData:function(){var e=W.read(arguments);return e.isEmpty()&&(e=new W(this._size)),this.getContext().getImageData(e.x,e.y,e.width,e.height)},putImageData:function(e){var t=V.read(arguments,1);this.getContext(!0).putImageData(e,t.x,t.y)},setImageData:function(e){this.setSize(e),this.getContext(!0).putImageData(e,0,0)},_getBounds:function(e,t){var r=new W(this._size).setCenter(0,0);return e?e._transformBounds(r):r},_hitTestSelf:function(e){if(this._contains(e)){var t=this;return new Qe("pixel",t,{offset:e.add(t._size.divide(2)).round(),color:{get:function(){return t.getPixel(this.offset)}}})}},_draw:function(e,t,r){var n=this.getElement();if(n&&n.width>0&&n.height>0){e.globalAlpha=re.clamp(this._opacity,0,1),this._setStyles(e,t,r);var s=this._smoothing,o=s==="off";dt.setPrefixed(e,o?"imageSmoothingEnabled":"imageSmoothingQuality",o?!1:s),e.drawImage(n,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),tt=w.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(t,r){this._initialize(t,r!==B&&V.read(arguments,1))||this.setDefinition(t instanceof ut?t:new ut(t))},_equals:function(e){return this._definition===e._definition},copyContent:function(e){this.setDefinition(e._definition)},getDefinition:function(){return this._definition},setDefinition:function(e){this._definition=e,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(e,t){var r=this._definition._item;return r._getCachedBounds(r._matrix.prepended(e),t)},_hitTestSelf:function(e,t,r){var n=t.extend({all:!1}),s=this._definition._item._hitTest(e,n,r);return s&&(s.item=this),s},_draw:function(e,t){this._definition._item.draw(e,t)}}),ut=A.extend({_class:"SymbolDefinition",initialize:function(t,r){this._id=_e.get(),this.project=nt.project,t&&this.setItem(t,r)},_serialize:function(e,t){return t.add(this,function(){return A.serialize([this._class,this._item],e,!1,t)})},_changed:function(e){e&8&&w._clearBoundsCache(this),e&1&&this.project._changed(e)},getItem:function(){return this._item},setItem:function(e,t){e._symbol&&(e=e.clone()),this._item&&(this._item._symbol=null),this._item=e,e.remove(),e.setSelected(!1),t||e.setPosition(new V),e._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(e){return new tt(this,e)},clone:function(){return new ut(this._item.clone(!1))},equals:function(e){return e===this||e&&this._item.equals(e._item)||!1}}),Qe=A.extend({_class:"HitResult",initialize:function(t,r,n){this.type=t,this.item=r,n&&this.inject(n)},statics:{getOptions:function(e){var t=e&&A.read(e);return new A({type:null,tolerance:nt.settings.hitTolerance,fill:!t,stroke:!t,segments:!t,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},t)}}}),we=A.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(t,r,n,s,o,u){var l=arguments.length,h,c,g,_;l>0&&(t==null||typeof t=="object"?l===1&&t&&"point"in t?(h=t.point,c=t.handleIn,g=t.handleOut,_=t.selection):(h=t,c=r,g=n,_=s):(h=[t,r],c=n!==B?[n,s]:null,g=o!==B?[o,u]:null)),new qe(h,this,"_point"),new qe(c,this,"_handleIn"),new qe(g,this,"_handleOut"),_&&this.setSelection(_)},_serialize:function(e,t){var r=this._point,n=this._selection,s=n||this.hasHandles()?[r,this._handleIn,this._handleOut]:r;return n&&s.push(n),A.serialize(s,e,!0,t)},_changed:function(e){var t=this._path;if(t){var r=t._curves,n=this._index,s;r&&((!e||e===this._point||e===this._handleIn)&&(s=n>0?r[n-1]:t._closed?r[r.length-1]:null)&&s._changed(),(!e||e===this._point||e===this._handleOut)&&(s=r[n])&&s._changed()),t._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(V.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(V.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(V.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var e=this._handleIn,t=this._handleOut;return!e.isZero()&&!t.isZero()&&e.isCollinear(t)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(e){var t=this._selection,r=this._path;this._selection=e=e||0,r&&e!==t&&(r._updateSelection(this,t,e),r._changed(257))},_changeSelection:function(e,t){var r=this._selection;this.setSelection(t?r|e:r&~e)},isSelected:function(){return!!(this._selection&7)},setSelected:function(e){this._changeSelection(7,e)},getIndex:function(){return this._index!==B?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var e=this._path,t=this._index;return e?(t>0&&!e._closed&&t===e._segments.length-1&&t--,e.getCurves()[t]||null):null},getLocation:function(){var e=this.getCurve();return e?new Ge(e,this===e._segment1?0:1):null},getNext:function(){var e=this._path&&this._path._segments;return e&&(e[this._index+1]||this._path._closed&&e[0])||null},smooth:function(e,t,r){var n=e||{},s=n.type,o=n.factor,u=this.getPrevious(),l=this.getNext(),h=(u||this)._point,c=this._point,g=(l||this)._point,_=h.getDistance(c),p=c.getDistance(g);if(!s||s==="catmull-rom"){var d=o===B?.5:o,x=Math.pow(_,d),b=x*x,P=Math.pow(p,d),v=P*P;if(!t&&u){var S=2*v+3*P*x+b,f=3*P*(P+x);this.setHandleIn(f!==0?new V((v*h._x+S*c._x-b*g._x)/f-c._x,(v*h._y+S*c._y-b*g._y)/f-c._y):new V)}if(!r&&l){var S=2*b+3*x*P+v,f=3*x*(x+P);this.setHandleOut(f!==0?new V((b*g._x+S*c._x-v*h._x)/f-c._x,(b*g._y+S*c._y-v*h._y)/f-c._y):new V)}}else if(s==="geometric"){if(u&&l){var y=h.subtract(g),k=o===B?.4:o,T=k*_/(_+p);t||this.setHandleIn(y.multiply(T)),r||this.setHandleOut(y.multiply(T-k))}}else throw new Error("Smoothing method '"+s+"' not supported.")},getPrevious:function(){var e=this._path&&this._path._segments;return e&&(e[this._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var e=this._path;return e&&this._index===e._segments.length-1||!1},reverse:function(){var e=this._handleIn,t=this._handleOut,r=e.clone();e.set(t),t.set(r)},reversed:function(){return new we(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new we(this._point,this._handleIn,this._handleOut)},equals:function(e){return e===this||e&&this._class===e._class&&this._point.equals(e._point)&&this._handleIn.equals(e._handleIn)&&this._handleOut.equals(e._handleOut)||!1},toString:function(){var e=["point: "+this._point];return this._handleIn.isZero()||e.push("handleIn: "+this._handleIn),this._handleOut.isZero()||e.push("handleOut: "+this._handleOut),"{ "+e.join(", ")+" }"},transform:function(e){this._transformCoordinates(e,new Array(6),!0),this._changed()},interpolate:function(e,t,r){var n=1-r,s=r,o=e._point,u=t._point,l=e._handleIn,h=t._handleIn,c=t._handleOut,g=e._handleOut;this._point._set(n*o._x+s*u._x,n*o._y+s*u._y,!0),this._handleIn._set(n*l._x+s*h._x,n*l._y+s*h._y,!0),this._handleOut._set(n*g._x+s*c._x,n*g._y+s*c._y,!0),this._changed()},_transformCoordinates:function(e,t,r){var n=this._point,s=!r||!this._handleIn.isZero()?this._handleIn:null,o=!r||!this._handleOut.isZero()?this._handleOut:null,u=n._x,l=n._y,h=2;return t[0]=u,t[1]=l,s&&(t[h++]=s._x+u,t[h++]=s._y+l),o&&(t[h++]=o._x+u,t[h++]=o._y+l),e&&(e._transformCoordinates(t,t,h/2),u=t[0],l=t[1],r?(n._x=u,n._y=l,h=2,s&&(s._x=t[h++]-u,s._y=t[h++]-l),o&&(o._x=t[h++]-u,o._y=t[h++]-l)):(s||(t[h++]=u,t[h++]=l),o||(t[h++]=u,t[h++]=l))),t}}),qe=V.extend({initialize:function(t,r,n){var s,o,u;if(!t)s=o=0;else if((s=t[0])!==B)o=t[1];else{var l=t;(s=l.x)===B&&(l=V.read(arguments),s=l.x),o=l.y,u=l.selected}this._x=s,this._y=o,this._owner=r,r[n]=this,u&&this.setSelected(!0)},_set:function(e,t){return this._x=e,this._y=t,this._owner._changed(this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner._changed(this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner._changed(this)},isZero:function(){var e=re.isZero;return e(this._x)&&e(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){var e=this._owner;return this===e._point?1:this===e._handleIn?2:this===e._handleOut?4:0}}),J=A.extend({_class:"Curve",beans:!0,initialize:function(t,r,n,s,o,u,l,h){var c=arguments.length,g,_,p,d,x,b;c===3?(this._path=t,g=r,_=n):c?c===1?"segment1"in t?(g=new we(t.segment1),_=new we(t.segment2)):"point1"in t?(p=t.point1,x=t.handle1,b=t.handle2,d=t.point2):Array.isArray(t)&&(p=[t[0],t[1]],d=[t[6],t[7]],x=[t[2]-t[0],t[3]-t[1]],b=[t[4]-t[6],t[5]-t[7]]):c===2?(g=new we(t),_=new we(r)):c===4?(p=t,x=r,b=n,d=s):c===8&&(p=[t,r],d=[l,h],x=[n-t,s-r],b=[o-l,u-h]):(g=new we,_=new we),this._segment1=g||new we(p,null,x),this._segment2=_||new we(d,b,null)},_serialize:function(e,t){return A.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],e,!0,t)},_changed:function(){this._length=this._bounds=B},clone:function(){return new J(this._segment1,this._segment2)},toString:function(){var e=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||e.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||e.push("handle2: "+this._segment2._handleIn),e.push("point2: "+this._segment2._point),"{ "+e.join(", ")+" }"},classify:function(){return J.classify(this.getValues())},remove:function(){var e=!1;if(this._path){var t=this._segment2,r=t._handleOut;e=t.remove(),e&&this._segment1._handleOut.set(r)}return e},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(V.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(V.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(V.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(V.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index+1]||this._path._closed&&e[0])||null},getPrevious:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var e=this._path;return e&&this._segment1._index===e._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(e){this.getPoint1().setSelected(e),this.getHandle1().setSelected(e),this.getHandle2().setSelected(e),this.getPoint2().setSelected(e)},getValues:function(e){return J.getValues(this._segment1,this._segment2,e)},getPoints:function(){for(var e=this.getValues(),t=[],r=0;r<8;r+=2)t.push(new V(e[r],e[r+1]));return t}},{getLength:function(){return this._length==null&&(this._length=J.getLength(this.getValues(),0,1)),this._length},getArea:function(){return J.getArea(this.getValues())},getLine:function(){return new Be(this._segment1._point,this._segment2._point)},getPart:function(e,t){return new J(J.getPart(this.getValues(),e,t))},getPartLength:function(e,t){return J.getLength(this.getValues(),e,t)},divideAt:function(e){return this.divideAtTime(e&&e.curve===this?e.time:this.getTimeAt(e))},divideAtTime:function(e,t){var r=1e-8,n=1-r,s=null;if(e>=r&&e<=n){var o=J.subdivide(this.getValues(),e),u=o[0],l=o[1],h=t||this.hasHandles(),c=this._segment1,g=this._segment2,_=this._path;h&&(c._handleOut._set(u[2]-u[0],u[3]-u[1]),g._handleIn._set(l[4]-l[6],l[5]-l[7]));var p=u[6],d=u[7],x=new we(new V(p,d),h&&new V(u[4]-p,u[5]-d),h&&new V(l[2]-p,l[3]-d));_?(_.insert(c._index+1,x),s=this.getNext()):(this._segment2=x,this._changed(),s=new J(x,g))}return s},splitAt:function(e){var t=this._path;return t?t.splitAt(e):null},splitAtTime:function(e){return this.splitAt(this.getLocationAtTime(e))},divide:function(e,t){return this.divideAtTime(e===B?.5:t?e:this.getTimeAt(e))},split:function(e,t){return this.splitAtTime(e===B?.5:t?e:this.getTimeAt(e))},reversed:function(){return new J(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(e,t,r,n){var s=e._point,o=e._handleOut,u=t._handleIn,l=t._point,h=s.x,c=s.y,g=l.x,_=l.y,p=n?[h,c,h,c,g,_,g,_]:[h,c,h+o._x,c+o._y,g+u._x,_+u._y,g,_];return r&&r._transformCoordinates(p,p,4),p},subdivide:function(e,t){var r=e[0],n=e[1],s=e[2],o=e[3],u=e[4],l=e[5],h=e[6],c=e[7];t===B&&(t=.5);var g=1-t,_=g*r+t*s,p=g*n+t*o,d=g*s+t*u,x=g*o+t*l,b=g*u+t*h,P=g*l+t*c,v=g*_+t*d,S=g*p+t*x,f=g*d+t*b,y=g*x+t*P,k=g*v+t*f,T=g*S+t*y;return[[r,n,_,p,v,S,k,T],[k,T,f,y,b,P,h,c]]},getMonoCurves:function(e,t){var r=[],n=t?0:1,s=e[n+0],o=e[n+2],u=e[n+4],l=e[n+6];if(s>=o==o>=u&&o>=u==u>=l||J.isStraight(e))r.push(e);else{var h=3*(o-u)-s+l,c=2*(s+u)-4*o,g=o-s,_=1e-8,p=1-_,d=[],x=re.solveQuadratic(h,c,g,d,_,p);if(!x)r.push(e);else{d.sort();var b=d[0],P=J.subdivide(e,b);r.push(P[0]),x>1&&(b=(d[1]-b)/(1-b),P=J.subdivide(P[1],b),r.push(P[0])),r.push(P[1])}}return r},solveCubic:function(e,t,r,n,s,o){var u=e[t],l=e[t+2],h=e[t+4],c=e[t+6],g=0;if(!(u<r&&c<r&&l<r&&h<r||u>r&&c>r&&l>r&&h>r)){var _=3*(l-u),p=3*(h-l)-_,d=c-u-_-p;g=re.solveCubic(d,p,_,u-r,n,s,o)}return g},getTimeOf:function(e,t){var r=new V(e[0],e[1]),n=new V(e[6],e[7]),s=1e-12,o=1e-7,u=t.isClose(r,s)?0:t.isClose(n,s)?1:null;if(u===null)for(var l=[t.x,t.y],h=[],c=0;c<2;c++)for(var g=J.solveCubic(e,c,l[c],h,0,1),_=0;_<g;_++){var p=h[_];if(t.isClose(J.getPoint(e,p),o))return p}return t.isClose(r,o)?0:t.isClose(n,o)?1:null},getNearestTime:function(e,t){if(J.isStraight(e)){var r=e[0],n=e[1],s=e[6],o=e[7],u=s-r,l=o-n,h=u*u+l*l;if(h===0)return 0;var c=((t.x-r)*u+(t.y-n)*l)/h;return c<1e-12?0:c>.999999999999?1:J.getTimeOf(e,new V(r+c*u,n+c*l))}var g=100,_=1/0,p=0;function d(P){if(P>=0&&P<=1){var v=t.getDistance(J.getPoint(e,P),!0);if(v<_)return _=v,p=P,!0}}for(var x=0;x<=g;x++)d(x/g);for(var b=1/(g*2);b>1e-8;)!d(p-b)&&!d(p+b)&&(b/=2);return p},getPart:function(e,t,r){var n=t>r;if(n){var s=t;t=r,r=s}return t>0&&(e=J.subdivide(e,t)[1]),r<1&&(e=J.subdivide(e,(r-t)/(1-t))[0]),n?[e[6],e[7],e[4],e[5],e[2],e[3],e[0],e[1]]:e},isFlatEnough:function(e,t){var r=e[0],n=e[1],s=e[2],o=e[3],u=e[4],l=e[5],h=e[6],c=e[7],g=3*s-2*r-h,_=3*o-2*n-c,p=3*u-2*h-r,d=3*l-2*c-n;return Math.max(g*g,p*p)+Math.max(_*_,d*d)<=16*t*t},getArea:function(e){var t=e[0],r=e[1],n=e[2],s=e[3],o=e[4],u=e[5],l=e[6],h=e[7];return 3*((h-r)*(n+o)-(l-t)*(s+u)+s*(t-o)-n*(r-u)+h*(o+t/3)-l*(u+r/3))/20},getBounds:function(e){for(var t=e.slice(0,2),r=t.slice(),n=[0,0],s=0;s<2;s++)J._addBounds(e[s],e[s+2],e[s+4],e[s+6],s,0,t,r,n);return new W(t[0],t[1],r[0]-t[0],r[1]-t[1])},_addBounds:function(e,t,r,n,s,o,u,l,h){function c(k,T){var C=k-T,L=k+T;C<u[s]&&(u[s]=C),L>l[s]&&(l[s]=L)}o/=2;var g=u[s]+o,_=l[s]-o;if(e<g||t<g||r<g||n<g||e>_||t>_||r>_||n>_)if(t<e!=t<n&&r<e!=r<n)c(e,0),c(n,0);else{var p=3*(t-r)-e+n,d=2*(e+r)-4*t,x=t-e,b=re.solveQuadratic(p,d,x,h),P=1e-8,v=1-P;c(n,0);for(var S=0;S<b;S++){var f=h[S],y=1-f;P<=f&&f<=v&&c(y*y*y*e+3*y*y*f*t+3*y*f*f*r+f*f*f*n,o)}}}}},A.each(["getBounds","getStrokeBounds","getHandleBounds"],function(e){this[e]=function(){this._bounds||(this._bounds={});var t=this._bounds[e];return t||(t=this._bounds[e]=Le[e]([this._segment1,this._segment2],!1,this._path)),t.clone()}},{}),A.each({isStraight:function(e,t,r,n){if(t.isZero()&&r.isZero())return!0;var s=n.subtract(e);if(s.isZero())return!1;if(s.isCollinear(t)&&s.isCollinear(r)){var o=new Be(e,n),u=1e-7;if(o.getDistance(e.add(t))<u&&o.getDistance(n.add(r))<u){var l=s.dot(s),h=s.dot(t)/l,c=s.dot(r)/l;return h>=0&&h<=1&&c<=0&&c>=-1}}return!1},isLinear:function(e,t,r,n){var s=n.subtract(e).divide(3);return t.equals(s)&&r.negate().equals(s)}},function(e,t){this[t]=function(r){var n=this._segment1,s=this._segment2;return e(n._point,n._handleOut,s._handleIn,s._point,r)},this.statics[t]=function(r,n){var s=r[0],o=r[1],u=r[6],l=r[7];return e(new V(s,o),new V(r[2]-s,r[3]-o),new V(r[4]-u,r[5]-l),new V(u,l),n)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(e){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(e||0)},isCollinear:function(e){return e&&this.isStraight()&&e.isStraight()&&this.getLine().isCollinear(e.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(e,t){return this.getLocationAtTime(t?e:this.getTimeAt(e))},getLocationAtTime:function(e){return e!=null&&e>=0&&e<=1?new Ge(this,e):null},getTimeAt:function(e,t){return J.getTimeAt(this.getValues(),e,t)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var e=V.read(arguments);return e.isZero()?[]:J.getTimesWithTangent(this.getValues(),e)},getOffsetAtTime:function(e){return this.getPartLength(0,e)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(V.read(arguments)))},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getTimeOf:function(){return J.getTimeOf(this.getValues(),V.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var e=V.read(arguments),t=this.getValues(),r=J.getNearestTime(t,e),n=J.getPoint(t,r);return new Ge(this,r,n,null,e.getDistance(n))},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e&&e.getPoint()}},new function(){var e=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return A.each(e,function(t){this[t+"At"]=function(r,n){var s=this.getValues();return J[t](s,n?r:J.getTimeAt(s,r))},this[t+"AtTime"]=function(r){return J[t](this.getValues(),r)}},{statics:{_evaluateMethods:e}})},new function(){function e(n){var s=n[0],o=n[1],u=n[2],l=n[3],h=n[4],c=n[5],g=n[6],_=n[7],p=9*(u-h)+3*(g-s),d=6*(s+h)-12*u,x=3*(u-s),b=9*(l-c)+3*(_-o),P=6*(o+c)-12*l,v=3*(l-o);return function(S){var f=(p*S+d)*S+x,y=(b*S+P)*S+v;return Math.sqrt(f*f+y*y)}}function t(n,s){return Math.max(2,Math.min(16,Math.ceil(Math.abs(s-n)*32)))}function r(n,s,o,u){if(s==null||s<0||s>1)return null;var l=n[0],h=n[1],c=n[2],g=n[3],_=n[4],p=n[5],d=n[6],x=n[7],b=re.isZero;b(c-l)&&b(g-h)&&(c=l,g=h),b(_-d)&&b(p-x)&&(_=d,p=x);var P=3*(c-l),v=3*(_-c)-P,S=d-l-P-v,f=3*(g-h),y=3*(p-g)-f,k=x-h-f-y,T,C;if(o===0)T=s===0?l:s===1?d:((S*s+v)*s+P)*s+l,C=s===0?h:s===1?x:((k*s+y)*s+f)*s+h;else{var L=1e-8,O=1-L;if(s<L?(T=P,C=f):s>O?(T=3*(d-_),C=3*(x-p)):(T=(3*S*s+2*v)*s+P,C=(3*k*s+2*y)*s+f),u){T===0&&C===0&&(s<L||s>O)&&(T=_-c,C=p-g);var M=Math.sqrt(T*T+C*C);M&&(T/=M,C/=M)}if(o===3){var _=6*S*s+2*v,p=6*k*s+2*y,$=Math.pow(T*T+C*C,3/2);T=$!==0?(T*p-C*_)/$:0,C=0}}return o===2?new V(C,-T):new V(T,C)}return{statics:{classify:function(n){var s=n[0],o=n[1],u=n[2],l=n[3],h=n[4],c=n[5],g=n[6],_=n[7],p=s*(_-c)+o*(h-g)+g*c-_*h,d=u*(o-_)+l*(g-s)+s*_-o*g,x=h*(l-o)+c*(s-u)+u*o-l*s,b=3*x,P=b-d,v=P-d+p,S=Math.sqrt(v*v+P*P+b*b),f=S!==0?1/S:0,y=re.isZero,k="serpentine";v*=f,P*=f,b*=f;function T(M,$,R){var F=$!==B,q=F&&$>0&&$<1,H=F&&R>0&&R<1;return F&&(!(q||H)||M==="loop"&&!(q&&H))&&(M="arch",q=H=!1),{type:M,roots:q||H?q&&H?$<R?[$,R]:[R,$]:[q?$:R]:null}}if(y(v))return y(P)?T(y(b)?"line":"quadratic"):T(k,b/(3*P));var C=3*P*P-4*v*b;if(y(C))return T("cusp",P/(2*v));var L=C>0?Math.sqrt(C/3):Math.sqrt(-C),O=2*v;return T(C>0?k:"loop",(P+L)/O,(P-L)/O)},getLength:function(n,s,o,u){if(s===B&&(s=0),o===B&&(o=1),J.isStraight(n)){var l=n;o<1&&(l=J.subdivide(l,o)[0],s/=o),s>0&&(l=J.subdivide(l,s)[1]);var h=l[6]-l[0],c=l[7]-l[1];return Math.sqrt(h*h+c*c)}return re.integrate(u||e(n),s,o,t(s,o))},getTimeAt:function(n,s,o){if(o===B&&(o=s<0?1:0),s===0)return o;var u=Math.abs,l=1e-12,h=s>0,c=h?o:0,g=h?1:o,_=e(n),p=J.getLength(n,c,g,_),d=u(s)-p;if(u(d)<l)return h?g:c;if(d>l)return null;var x=s/p,b=0;function P(v){return b+=re.integrate(_,o,v,t(o,v)),o=v,b-s}return re.findRoot(P,_,o+x,c,g,32,1e-12)},getPoint:function(n,s){return r(n,s,0,!1)},getTangent:function(n,s){return r(n,s,1,!0)},getWeightedTangent:function(n,s){return r(n,s,1,!1)},getNormal:function(n,s){return r(n,s,2,!0)},getWeightedNormal:function(n,s){return r(n,s,2,!1)},getCurvature:function(n,s){return r(n,s,3,!1).x},getPeaks:function(n){var s=n[0],o=n[1],u=n[2],l=n[3],h=n[4],c=n[5],g=n[6],_=n[7],p=-s+3*u-3*h+g,d=3*s-6*u+3*h,x=-3*s+3*u,b=-o+3*l-3*c+_,P=3*o-6*l+3*c,v=-3*o+3*l,S=1e-8,f=1-S,y=[];return re.solveCubic(9*(p*p+b*b),9*(p*d+P*b),2*(d*d+P*P)+3*(x*p+v*b),x*d+P*v,y,S,f),y.sort()}}}},new function(){function e(d,x,b,P,v,S,f){var y=!f&&b.getPrevious()===v,k=!f&&b!==v&&b.getNext()===v,T=1e-8,C=1-T;if(P!==null&&P>=(y?T:0)&&P<=(k?C:1)&&S!==null&&S>=(k?T:0)&&S<=(y?C:1)){var L=new Ge(b,P,null,f),O=new Ge(v,S,null,f);L._intersection=O,O._intersection=L,(!x||x(L))&&Ge.insert(d,L,!0)}}function t(d,x,b,P,v,S,f,y,k,T,C,L,O){if(++k>=4096||++y>=40)return k;var M=1e-9,$=x[0],R=x[1],F=x[6],q=x[7],H=Be.getSignedDistance,G=H($,R,F,q,x[2],x[3]),Z=H($,R,F,q,x[4],x[5]),ie=G*Z>0?3/4:4/9,be=ie*Math.min(0,G,Z),Pe=ie*Math.max(0,G,Z),Ve=H($,R,F,q,d[0],d[1]),ee=H($,R,F,q,d[2],d[3]),ae=H($,R,F,q,d[4],d[5]),Ce=H($,R,F,q,d[6],d[7]),Ae=r(Ve,ee,ae,Ce),Fe=Ae[0],ot=Ae[1],et,ct;if(G===0&&Z===0&&Ve===0&&ee===0&&ae===0&&Ce===0||(et=n(Fe,ot,be,Pe))==null||(ct=n(Fe.reverse(),ot.reverse(),be,Pe))==null)return k;var _t=T+(C-T)*et,mt=T+(C-T)*ct;if(Math.max(O-L,mt-_t)<M){var ti=(_t+mt)/2,jt=(L+O)/2;e(v,S,f?P:b,f?jt:ti,f?b:P,f?ti:jt)}else{d=J.getPart(d,et,ct);var oi=O-L;if(ct-et>.8)if(mt-_t>oi){var Zt=J.subdivide(d,.5),ti=(_t+mt)/2;k=t(x,Zt[0],P,b,v,S,!f,y,k,L,O,_t,ti),k=t(x,Zt[1],P,b,v,S,!f,y,k,L,O,ti,mt)}else{var Zt=J.subdivide(x,.5),jt=(L+O)/2;k=t(Zt[0],d,P,b,v,S,!f,y,k,L,jt,_t,mt),k=t(Zt[1],d,P,b,v,S,!f,y,k,jt,O,_t,mt)}else oi===0||oi>=M?k=t(x,d,P,b,v,S,!f,y,k,L,O,_t,mt):k=t(d,x,b,P,v,S,f,y,k,_t,mt,L,O)}return k}function r(d,x,b,P){var v=[0,d],S=[1/3,x],f=[2/3,b],y=[1,P],k=x-(2*d+P)/3,T=b-(d+2*P)/3,C;if(k*T<0)C=[[v,S,y],[v,f,y]];else{var L=k/T;C=[L>=2?[v,S,y]:L<=.5?[v,f,y]:[v,S,f,y],[v,y]]}return(k||T)<0?C.reverse():C}function n(d,x,b,P){return d[0][1]<b?s(d,!0,b):x[0][1]>P?s(x,!1,P):d[0][0]}function s(d,x,b){for(var P=d[0][0],v=d[0][1],S=1,f=d.length;S<f;S++){var y=d[S][0],k=d[S][1];if(x?k>=b:k<=b)return k===b?y:P+(b-v)*(y-P)/(k-v);P=y,v=k}return null}function o(d,x,b,P,v){var S=re.isZero;if(S(P)&&S(v)){var f=J.getTimeOf(d,new V(x,b));return f===null?[]:[f]}for(var y=Math.atan2(-v,P),k=Math.sin(y),T=Math.cos(y),C=[],L=[],O=0;O<8;O+=2){var M=d[O]-x,$=d[O+1]-b;C.push(M*T-$*k,M*k+$*T)}return J.solveCubic(C,1,0,L,0,1),L}function u(d,x,b,P,v,S,f){for(var y=x[0],k=x[1],T=x[6],C=x[7],L=o(d,y,k,T-y,C-k),O=0,M=L.length;O<M;O++){var $=L[O],R=J.getPoint(d,$),F=J.getTimeOf(x,R);F!==null&&e(v,S,f?P:b,f?F:$,f?b:P,f?$:F)}}function l(d,x,b,P,v,S){var f=Be.intersect(d[0],d[1],d[6],d[7],x[0],x[1],x[6],x[7]);f&&e(v,S,b,J.getTimeOf(d,f),P,J.getTimeOf(x,f))}function h(d,x,b,P,v,S){var f=1e-12,y=Math.min,k=Math.max;if(k(d[0],d[2],d[4],d[6])+f>y(x[0],x[2],x[4],x[6])&&y(d[0],d[2],d[4],d[6])-f<k(x[0],x[2],x[4],x[6])&&k(d[1],d[3],d[5],d[7])+f>y(x[1],x[3],x[5],x[7])&&y(d[1],d[3],d[5],d[7])-f<k(x[1],x[3],x[5],x[7])){var T=_(d,x);if(T)for(var C=0;C<2;C++){var L=T[C];e(v,S,b,L[0],P,L[1],!0)}else{var O=J.isStraight(d),M=J.isStraight(x),$=O&&M,R=O&&!M,F=v.length;if(($?l:O||M?u:t)(R?x:d,R?d:x,R?P:b,R?b:P,v,S,R,0,0,0,1,0,1),!$||v.length===F)for(var C=0;C<4;C++){var q=C>>1,H=C&1,G=q*6,Z=H*6,ie=new V(d[G],d[G+1]),be=new V(x[Z],x[Z+1]);ie.isClose(be,f)&&e(v,S,b,q,P,H)}}}return v}function c(d,x,b,P){var v=J.classify(d);if(v.type==="loop"){var S=v.roots;e(b,P,x,S[0],x,S[1])}return b}function g(d,x,b,P,v,S){var f=1e-7,y=!x;y&&(x=d);for(var k=d.length,T=x.length,C=new Array(k),L=y?C:new Array(T),O=[],M=0;M<k;M++)C[M]=d[M].getValues(P);if(!y)for(var M=0;M<T;M++)L[M]=x[M].getValues(v);for(var $=Oe.findCurveBoundsCollisions(C,L,f),R=0;R<k;R++){var F=d[R],q=C[R];y&&c(q,F,O,b);var H=$[R];if(H)for(var G=0;G<H.length;G++){if(S&&O.length)return O;var Z=H[G];if(!y||Z>R){var ie=x[Z],be=L[Z];h(q,be,F,ie,O,b)}}}return O}function _(d,x){function b(Ce){var Ae=Ce[6]-Ce[0],Fe=Ce[7]-Ce[1];return Ae*Ae+Fe*Fe}var P=Math.abs,v=Be.getDistance,S=1e-8,f=1e-7,y=J.isStraight(d),k=J.isStraight(x),T=y&&k,C=b(d)<b(x),L=C?x:d,O=C?d:x,M=L[0],$=L[1],R=L[6]-M,F=L[7]-$;if(v(M,$,R,F,O[0],O[1],!0)<f&&v(M,$,R,F,O[6],O[7],!0)<f)!T&&v(M,$,R,F,L[2],L[3],!0)<f&&v(M,$,R,F,L[4],L[5],!0)<f&&v(M,$,R,F,O[2],O[3],!0)<f&&v(M,$,R,F,O[4],O[5],!0)<f&&(y=k=T=!0);else if(T)return null;if(y^k)return null;for(var q=[d,x],H=[],G=0;G<4&&H.length<2;G++){var Z=G&1,ie=Z^1,be=G>>1,Pe=J.getTimeOf(q[Z],new V(q[ie][be?6:0],q[ie][be?7:1]));if(Pe!=null){var Ve=Z?[be,Pe]:[Pe,be];(!H.length||P(Ve[0]-H[0][0])>S&&P(Ve[1]-H[0][1])>S)&&H.push(Ve)}if(G>2&&!H.length)break}if(H.length!==2)H=null;else if(!T){var ee=J.getPart(d,H[0][0],H[1][0]),ae=J.getPart(x,H[0][1],H[1][1]);(P(ae[2]-ee[2])>f||P(ae[3]-ee[3])>f||P(ae[4]-ee[4])>f||P(ae[5]-ee[5])>f)&&(H=null)}return H}function p(d,x){var b=d[0],P=d[1],v=d[2],S=d[3],f=d[4],y=d[5],k=d[6],T=d[7],C=x.normalize(),L=C.x,O=C.y,M=3*k-9*f+9*v-3*b,$=3*T-9*y+9*S-3*P,R=6*f-12*v+6*b,F=6*y-12*S+6*P,q=3*v-3*b,H=3*S-3*P,G=2*M*O-2*$*L,Z=[];if(Math.abs(G)<re.CURVETIME_EPSILON){var ie=M*H-$*q,G=M*F-$*R;if(G!=0){var be=-ie/G;be>=0&&be<=1&&Z.push(be)}}else{var Pe=(R*R-4*M*q)*O*O+(-2*R*F+4*$*q+4*M*H)*L*O+(F*F-4*$*H)*L*L,Ve=R*O-F*L;if(Pe>=0&&G!=0){var ee=Math.sqrt(Pe),ae=-(Ve+ee)/G,Ce=(-Ve+ee)/G;ae>=0&&ae<=1&&Z.push(ae),Ce>=0&&Ce<=1&&Z.push(Ce)}}return Z}return{getIntersections:function(d){var x=this.getValues(),b=d&&d!==this&&d.getValues();return b?h(x,b,this,d,[]):c(x,this,[])},statics:{getOverlaps:_,getIntersections:g,getCurveLineIntersections:o,getTimesWithTangent:p}}}),Ge=A.extend({_class:"CurveLocation",initialize:function(t,r,n,s,o){if(r>=.99999999){var u=t.getNext();u&&(r=0,t=u)}this._setCurve(t),this._time=r,this._point=n||t.getPointAtTime(r),this._overlap=s,this._distance=o,this._intersection=this._next=this._previous=null},_setPath:function(e){this._path=e,this._version=e?e._version:0},_setCurve:function(e){this._setPath(e._path),this._curve=e,this._segment=null,this._segment1=e._segment1,this._segment2=e._segment2},_setSegment:function(e){var t=e.getCurve();t?this._setCurve(t):(this._setPath(e._path),this._segment1=e,this._segment2=null),this._segment=e,this._time=e===this._segment1?0:1,this._point=e._point.clone()},getSegment:function(){var e=this._segment;if(!e){var t=this.getCurve(),r=this.getTime();r===0?e=t._segment1:r===1?e=t._segment2:r!=null&&(e=t.getPartLength(0,r)<t.getPartLength(r,1)?t._segment1:t._segment2),this._segment=e}return e},getCurve:function(){var e=this._path,t=this;e&&e._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null);function r(n){var s=n&&n.getCurve();if(s&&(t._time=s.getTimeOf(t._point))!=null)return t._setCurve(s),s}return this._curve||r(this._segment)||r(this._segment1)||r(this._segment2.getPrevious())},getPath:function(){var e=this.getCurve();return e&&e._path},getIndex:function(){var e=this.getCurve();return e&&e.getIndex()},getTime:function(){var e=this.getCurve(),t=this._time;return e&&t==null?this._time=e.getTimeOf(this._point):t},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var e=this._offset;if(e==null){e=0;var t=this.getPath(),r=this.getIndex();if(t&&r!=null)for(var n=t.getCurves(),s=0;s<r;s++)e+=n[s].getLength();this._offset=e+=this.getCurveOffset()}return e},getCurveOffset:function(){var e=this._curveOffset;if(e==null){var t=this.getCurve(),r=this.getTime();this._curveOffset=e=r!=null&&t&&t.getPartLength(0,r)}return e},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var e=this.getCurve(),t=e&&e.divideAtTime(this.getTime());return t&&this._setSegment(t._segment1),t},split:function(){var e=this.getCurve(),t=e._path,r=e&&e.splitAtTime(this.getTime());return r&&this._setSegment(t.getLastSegment()),r},equals:function(e,t){var r=this===e;if(!r&&e instanceof Ge){var n=this.getCurve(),s=e.getCurve(),o=n._path,u=s._path;if(o===u){var l=Math.abs,h=1e-7,c=l(this.getOffset()-e.getOffset()),g=!t&&this._intersection,_=!t&&e._intersection;r=(c<h||o&&l(o.getLength()-c)<h)&&(!g&&!_||g&&_&&g.equals(_,!0))}}return r},toString:function(){var e=[],t=this.getPoint(),r=me.instance;t&&e.push("point: "+t);var n=this.getIndex();n!=null&&e.push("index: "+n);var s=this.getTime();return s!=null&&e.push("time: "+r.number(s)),this._distance!=null&&e.push("distance: "+r.number(this._distance)),"{ "+e.join(", ")+" }"},isTouching:function(){var e=this._intersection;if(e&&this.getTangent().isCollinear(e.getTangent())){var t=this.getCurve(),r=e.getCurve();return!(t.isStraight()&&r.isStraight()&&t.getLine().intersect(r.getLine()))}return!1},isCrossing:function(){var e=this._intersection;if(!e)return!1;var t=this.getTime(),r=e.getTime(),n=1e-8,s=1-n,o=t>=n&&t<=s,u=r>=n&&r<=s;if(o&&u)return!this.isTouching();var l=this.getCurve(),h=l&&t<n?l.getPrevious():l,c=e.getCurve(),g=c&&r<n?c.getPrevious():c;if(t>s&&(l=l.getNext()),r>s&&(c=c.getNext()),!h||!l||!g||!c)return!1;var _=[];function p(L,O){var M=L.getValues(),$=J.classify(M).roots||J.getPeaks(M),R=$.length,F=J.getLength(M,O&&R?$[R-1]:0,!O&&R?$[0]:1);_.push(R?F:F/32)}function d(L,O,M){return O<M?L>O&&L<M:L>O||L<M}o||(p(h,!0),p(l,!1)),u||(p(g,!0),p(c,!1));var x=this.getPoint(),b=Math.min.apply(Math,_),P=o?l.getTangentAtTime(t):l.getPointAt(b).subtract(x),v=o?P.negate():h.getPointAt(-b).subtract(x),S=u?c.getTangentAtTime(r):c.getPointAt(b).subtract(x),f=u?S.negate():g.getPointAt(-b).subtract(x),y=v.getAngle(),k=P.getAngle(),T=f.getAngle(),C=S.getAngle();return!!(o?d(y,T,C)^d(k,T,C)&&d(y,C,T)^d(k,C,T):d(T,y,k)^d(C,y,k)&&d(T,k,y)^d(C,k,y))},hasOverlap:function(){return!!this._overlap}},A.each(J._evaluateMethods,function(e){var t=e+"At";this[e]=function(){var r=this.getCurve(),n=this.getTime();return n!=null&&r&&r[t](n,!0)}},{preserve:!0}),new function(){function e(t,r,n){var s=t.length,o=0,u=s-1;function l(x,b){for(var P=x+b;P>=-1&&P<=s;P+=b){var v=t[(P%s+s)%s];if(!r.getPoint().isClose(v.getPoint(),1e-7))break;if(r.equals(v))return v}return null}for(;o<=u;){var h=o+u>>>1,c=t[h],g;if(n&&(g=r.equals(c)?c:l(h,-1)||l(h,1)))return r._overlap&&(g._overlap=g._intersection._overlap=!0),g;var _=r.getPath(),p=c.getPath(),d=_!==p?_._id-p._id:r.getIndex()+r.getTime()-(c.getIndex()+c.getTime());d<0?u=h-1:o=h+1}return t.splice(o,0,r),r}return{statics:{insert:e,expand:function(t){for(var r=t.slice(),n=t.length-1;n>=0;n--)e(r,t[n]._intersection,!1);return r}}}}),Ye=w.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(e){var t,r,n;if(A.isPlainObject(e)?(r=e.segments,t=e.pathData):Array.isArray(e)?r=e:typeof e=="string"&&(t=e),r){var s=r[0];n=s&&Array.isArray(s[0])}else t&&(n=(t.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(t));var o=n?Ke:Le;return new o(e)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(e){this.isClockwise()!=(e=!!e)&&this.reverse()},setPathData:function(e){var t=e&&e.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),r,n=!1,s,o,u=new V,l=new V;function h(f,y){var k=+r[f];return n&&(k+=u[y]),k}function c(f){return new V(h(f,"x"),h(f+1,"y"))}this.clear();for(var g=0,_=t&&t.length;g<_;g++){var p=t[g],d=p[0],x=d.toLowerCase();r=p.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var b=r&&r.length;switch(n=d===x,s==="z"&&!/[mz]/.test(x)&&this.moveTo(u),x){case"m":case"l":for(var P=x==="m",v=0;v<b;v+=2)this[P?"moveTo":"lineTo"](u=c(v)),P&&(l=u,P=!1);o=u;break;case"h":case"v":var S=x==="h"?"x":"y";u=u.clone();for(var v=0;v<b;v++)u[S]=h(v,S),this.lineTo(u);o=u;break;case"c":for(var v=0;v<b;v+=6)this.cubicCurveTo(c(v),o=c(v+2),u=c(v+4));break;case"s":for(var v=0;v<b;v+=4)this.cubicCurveTo(/[cs]/.test(s)?u.multiply(2).subtract(o):u,o=c(v),u=c(v+2)),s=x;break;case"q":for(var v=0;v<b;v+=4)this.quadraticCurveTo(o=c(v),u=c(v+2));break;case"t":for(var v=0;v<b;v+=2)this.quadraticCurveTo(o=/[qt]/.test(s)?u.multiply(2).subtract(o):u,u=c(v)),s=x;break;case"a":for(var v=0;v<b;v+=7)this.arcTo(u=c(v+5),new Q(+r[v],+r[v+1]),+r[v+2],+r[v+4],+r[v+3]);break;case"z":this.closePath(1e-12),u=l;break}s=x}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(e){var t=e.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(e):{};return t.onPath||!!(this.getFillRule()==="evenodd"?t.windingL&1||t.windingR&1:t.winding)},getIntersections:function(e,t,r,n){var s=this===e||!e,o=this._matrix._orNullIfIdentity(),u=s?o:(r||e._matrix)._orNullIfIdentity();return s||this.getBounds(o).intersects(e.getBounds(u),1e-12)?J.getIntersections(this.getCurves(),!s&&e.getCurves(),t,o,u,n):[]},getCrossings:function(e){return this.getIntersections(e,function(t){return t.isCrossing()})},getNearestLocation:function(){for(var e=V.read(arguments),t=this.getCurves(),r=1/0,n=null,s=0,o=t.length;s<o;s++){var u=t[s].getNearestLocation(e);u._distance<r&&(r=u._distance,n=u)}return n},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e&&e.getPoint()},interpolate:function(e,t,r){var n=!this._children,s=n?"_segments":"_children",o=e[s],u=t[s],l=this[s];if(!o||!u||o.length!==u.length)throw new Error("Invalid operands in interpolate() call: "+e+", "+t);var h=l.length,c=u.length;if(h<c)for(var g=n?we:Le,_=h;_<c;_++)this.add(new g);else h>c&&this[n?"removeSegments":"removeChildren"](c,h);for(var _=0;_<c;_++)l[_].interpolate(o[_],u[_],r);n&&(this.setClosed(e._closed),this._changed(9))},compare:function(e){var t=!1;if(e){var r=this._children||[this],n=e._children?e._children.slice():[e],s=r.length,o=n.length,u=[],l=0;t=!0;for(var h=Oe.findItemBoundsCollisions(r,n,re.GEOMETRIC_EPSILON),c=s-1;c>=0&&t;c--){var g=r[c];t=!1;var _=h[c];if(_)for(var p=_.length-1;p>=0&&!t;p--)g.compare(n[_[p]])&&(u[_[p]]||(u[_[p]]=!0,l++),t=!0)}t=t&&l===o}return t}}),Le=Ye.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(t){this._closed=!1,this._segments=[],this._version=0;var r=arguments,n=Array.isArray(t)?typeof t[0]=="object"?t:r:t&&t.size===B&&(t.x!==B||t.point!==B)?r:null;n&&n.length>0?this.setSegments(n):(this._curves=B,this._segmentSelection=0,!n&&typeof t=="string"&&(this.setPathData(t),t=null)),this._initialize(!n&&t)},_equals:function(e){return this._closed===e._closed&&A.equals(this._segments,e._segments)},copyContent:function(e){this.setSegments(e._segments),this._closed=e._closed},_changed:function e(t){if(e.base.call(this,t),t&8){if(this._length=this._area=B,t&32)this._version++;else if(this._curves)for(var r=0,n=this._curves.length;r<n;r++)this._curves[r]._changed()}else t&64&&(this._bounds=B)},getStyle:function(){var e=this._parent;return(e instanceof Ke?e:this)._style},getSegments:function(){return this._segments},setSegments:function(e){var t=this.isFullySelected(),r=e&&e.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=B,r){var n=e[r-1];typeof n=="boolean"&&(this.setClosed(n),r--),this._add(we.readList(e,0,{},r))}t&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var e=this._curves,t=this._segments;if(!e){var r=this._countCurves();e=this._curves=new Array(r);for(var n=0;n<r;n++)e[n]=new J(this,t[n],t[n+1]||t[0])}return e},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var e=this.getCurves();return e[e.length-1]},isClosed:function(){return this._closed},setClosed:function(e){if(this._closed!=(e=!!e)){if(this._closed=e,this._curves){var t=this._curves.length=this._countCurves();e&&(this._curves[t-1]=new J(this,this._segments[t-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(e,t){var r=this._segments,n=r.length,s=new me(t),o=new Array(6),u=!0,l,h,c,g,_,p,d,x,b=[];function P(S,f){if(S._transformCoordinates(e,o),l=o[0],h=o[1],u)b.push("M"+s.pair(l,h)),u=!1;else if(_=o[2],p=o[3],_===l&&p===h&&d===c&&x===g){if(!f){var y=l-c,k=h-g;b.push(y===0?"v"+s.number(k):k===0?"h"+s.number(y):"l"+s.pair(y,k))}}else b.push("c"+s.pair(d-c,x-g)+" "+s.pair(_-c,p-g)+" "+s.pair(l-c,h-g));c=l,g=h,d=o[4],x=o[5]}if(!n)return"";for(var v=0;v<n;v++)P(r[v]);return this._closed&&n>0&&(P(r[0],!0),b.push("z")),b.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(e){for(var t=this._segments,r=new Array(6),n=0,s=t.length;n<s;n++)t[n]._transformCoordinates(e,r,!0);return!0},_add:function(e,u){for(var r=this._segments,n=this._curves,s=e.length,o=u==null,u=o?r.length:u,l=0;l<s;l++){var h=e[l];h._path&&(h=e[l]=h.clone()),h._path=this,h._index=u+l,h._selection&&this._updateSelection(h,0,h._selection)}if(o)A.push(r,e);else{r.splice.apply(r,[u,0].concat(e));for(var l=u+s,c=r.length;l<c;l++)r[l]._index=l}if(n){var g=this._countCurves(),_=u>0&&u+s-1===g?u-1:u,p=_,d=Math.min(_+s,g);e._curves&&(n.splice.apply(n,[_,0].concat(e._curves)),p+=e._curves.length);for(var l=p;l<d;l++)n.splice(l,0,new J(this,null,null));this._adjustCurves(_,d)}return this._changed(41),e},_adjustCurves:function(e,t){for(var r=this._segments,n=this._curves,s,o=e;o<t;o++)s=n[o],s._path=this,s._segment1=r[o],s._segment2=r[o+1]||r[0],s._changed();(s=n[this._closed&&!e?r.length-1:e-1])&&(s._segment2=r[e]||r[0],s._changed()),(s=n[t])&&(s._segment1=r[t],s._changed())},_countCurves:function(){var e=this._segments.length;return!this._closed&&e>0?e-1:e},add:function(e){var t=arguments;return t.length>1&&typeof e!="number"?this._add(we.readList(t)):this._add([we.read(t)])[0]},insert:function(e,t){var r=arguments;return r.length>2&&typeof t!="number"?this._add(we.readList(r,1),e):this._add([we.read(r,1)],e)[0]},addSegment:function(){return this._add([we.read(arguments)])[0]},insertSegment:function(e){return this._add([we.read(arguments,1)],e)[0]},addSegments:function(e){return this._add(we.readList(e))},insertSegments:function(e,t){return this._add(we.readList(t),e)},removeSegment:function(e){return this.removeSegments(e,e+1)[0]||null},removeSegments:function(e,t,r){e=e||0,t=A.pick(t,this._segments.length);var n=this._segments,s=this._curves,o=n.length,u=n.splice(e,t-e),l=u.length;if(!l)return u;for(var h=0;h<l;h++){var c=u[h];c._selection&&this._updateSelection(c,c._selection,0),c._index=c._path=null}for(var h=e,g=n.length;h<g;h++)n[h]._index=h;if(s){for(var _=e>0&&t===o+(this._closed?1:0)?e-1:e,s=s.splice(_,l),h=s.length-1;h>=0;h--)s[h]._path=null;r&&(u._curves=s.slice(1)),this._adjustCurves(_,_)}return this._changed(41),u},clear:"#removeSegments",hasHandles:function(){for(var e=this._segments,t=0,r=e.length;t<r;t++)if(e[t].hasHandles())return!0;return!1},clearHandles:function(){for(var e=this._segments,t=0,r=e.length;t<r;t++)e[t].clearHandles()},getLength:function(){if(this._length==null){for(var e=this.getCurves(),t=0,r=0,n=e.length;r<n;r++)t+=e[r].getLength();this._length=t}return this._length},getArea:function(){var e=this._area;if(e==null){var t=this._segments,r=this._closed;e=0;for(var n=0,s=t.length;n<s;n++){var o=n+1===s;e+=J.getArea(J.getValues(t[n],t[o?0:n+1],null,o&&!r))}this._area=e}return e},isFullySelected:function(){var e=this._segments.length;return this.isSelected()&&e>0&&this._segmentSelection===e*7},setFullySelected:function(e){e&&this._selectSegments(!0),this.setSelected(e)},setSelection:function e(t){t&1||this._selectSegments(!1),e.base.call(this,t)},_selectSegments:function(e){var t=this._segments,r=t.length,n=e?7:0;this._segmentSelection=n*r;for(var s=0;s<r;s++)t[s]._selection=n},_updateSelection:function(e,t,r){e._selection=r;var n=this._segmentSelection+=r-t;n>0&&this.setSelected(!0)},divideAt:function(e){var t=this.getLocationAt(e),r;return t&&(r=t.getCurve().divideAt(t.getCurveOffset()))?r._segment1:null},splitAt:function(e){var t=this.getLocationAt(e),r=t&&t.index,n=t&&t.time,s=1e-8,o=1-s;n>o&&(r++,n=0);var u=this.getCurves();if(r>=0&&r<u.length){n>=s&&u[r++].divideAtTime(n);var l=this.removeSegments(r,this._segments.length,!0),h;return this._closed?(this.setClosed(!1),h=this):(h=new Le(w.NO_INSERT),h.insertAbove(this),h.copyAttributes(this)),h._add(l,0),this.addSegment(l[0]),h}return null},split:function(e,t){var r,n=t===B?e:(r=this.getCurves()[e])&&r.getLocationAtTime(t);return n!=null?this.splitAt(n):null},join:function(e,t){var r=t||0;if(e&&e!==this){var n=e._segments,s=this.getLastSegment(),o=e.getLastSegment();if(!o)return this;s&&s._point.isClose(o._point,r)&&e.reverse();var u=e.getFirstSegment();if(s&&s._point.isClose(u._point,r))s.setHandleOut(u._handleOut),this._add(n.slice(1));else{var l=this.getFirstSegment();l&&l._point.isClose(u._point,r)&&e.reverse(),o=e.getLastSegment(),l&&l._point.isClose(o._point,r)?(l.setHandleIn(o._handleIn),this._add(n.slice(0,n.length-1),0)):this._add(n.slice())}e._closed&&this._add([n[0]]),e.remove()}var h=this.getFirstSegment(),c=this.getLastSegment();return h!==c&&h._point.isClose(c._point,r)&&(h.setHandleIn(c._handleIn),c.remove(),this.setClosed(!0)),this},reduce:function(e){for(var t=this.getCurves(),r=e&&e.simplify,n=r?1e-7:0,s=t.length-1;s>=0;s--){var o=t[s];!o.hasHandles()&&(!o.hasLength(n)||r&&o.isCollinear(o.getNext()))&&o.remove()}return this},reverse:function(){this._segments.reverse();for(var e=0,t=this._segments.length;e<t;e++){var r=this._segments[e],n=r._handleIn;r._handleIn=r._handleOut,r._handleOut=n,r._index=e}this._curves=null,this._changed(9)},flatten:function(e){for(var t=new vt(this,e||.25,256,!0),r=t.parts,n=r.length,s=[],o=0;o<n;o++)s.push(new we(r[o].curve.slice(0,2)));!this._closed&&n>0&&s.push(new we(r[n-1].curve.slice(6))),this.setSegments(s)},simplify:function(e){var t=new ze(this).fit(e||2.5);return t&&this.setSegments(t),!!t},smooth:function(e){var t=this,r=e||{},n=r.type||"asymmetric",s=this._segments,o=s.length,u=this._closed;function l(Fe,ot){var et=Fe&&Fe.index;if(et!=null){var ct=Fe.path;if(ct&&ct!==t)throw new Error(Fe._class+" "+et+" of "+ct+" is not part of "+t);ot&&Fe instanceof J&&et++}else et=typeof Fe=="number"?Fe:ot;return Math.min(et<0&&u?et%o:et<0?et+o:et,o-1)}var h=u&&r.from===B&&r.to===B,c=l(r.from,0),g=l(r.to,o-1);if(c>g)if(u)c-=o;else{var _=c;c=g,g=_}if(/^(?:asymmetric|continuous)$/.test(n)){var p=n==="asymmetric",d=Math.min,x=g-c+1,b=x-1,P=h?d(x,4):1,v=P,S=P,f=[];if(u||(v=d(1,c),S=d(1,o-g-1)),b+=v+S,b<=1)return;for(var y=0,k=c-v;y<=b;y++,k++)f[y]=s[(k<0?k+o:k)%o]._point;for(var T=f[0]._x+2*f[1]._x,C=f[0]._y+2*f[1]._y,L=2,O=b-1,M=[T],$=[C],R=[L],F=[],q=[],y=1;y<b;y++){var H=y<O,G=H||p?1:2,Z=H?4:p?2:7,ie=H?4:p?3:8,be=H?2:p?0:1,Pe=G/L;L=R[y]=Z-Pe,T=M[y]=ie*f[y]._x+be*f[y+1]._x-Pe*T,C=$[y]=ie*f[y]._y+be*f[y+1]._y-Pe*C}F[O]=M[O]/R[O],q[O]=$[O]/R[O];for(var y=b-2;y>=0;y--)F[y]=(M[y]-F[y+1])/R[y],q[y]=($[y]-q[y+1])/R[y];F[b]=(3*f[b]._x-F[O])/2,q[b]=(3*f[b]._y-q[O])/2;for(var y=v,Ve=b-S,k=c;y<=Ve;y++,k++){var ee=s[k<0?k+o:k],ae=ee._point,Ce=F[y]-ae._x,Ae=q[y]-ae._y;(h||y<Ve)&&ee.setHandleOut(Ce,Ae),(h||y>v)&&ee.setHandleIn(-Ce,-Ae)}}else for(var y=c;y<=g;y++)s[y<0?y+o:y].smooth(r,!h&&y===c,!h&&y===g)},toShape:function(e){if(!this._closed)return null;var t=this._segments,r,n,s,o;function u(p,d){var x=t[p],b=x.getNext(),P=t[d],v=P.getNext();return x._handleOut.isZero()&&b._handleIn.isZero()&&P._handleOut.isZero()&&v._handleIn.isZero()&&b._point.subtract(x._point).isCollinear(v._point.subtract(P._point))}function l(p){var d=t[p],x=d.getPrevious(),b=d.getNext();return x._handleOut.isZero()&&d._handleIn.isZero()&&d._handleOut.isZero()&&b._handleIn.isZero()&&d._point.subtract(x._point).isOrthogonal(b._point.subtract(d._point))}function h(p){var d=t[p],x=d.getNext(),b=d._handleOut,P=x._handleIn,v=.5522847498307936;if(b.isOrthogonal(P)){var S=d._point,f=x._point,y=new Be(S,b,!0).intersect(new Be(f,P,!0),!0);return y&&re.isZero(b.getLength()/y.subtract(S).getLength()-v)&&re.isZero(P.getLength()/y.subtract(f).getLength()-v)}return!1}function c(p,d){return t[p]._point.getDistance(t[d]._point)}if(!this.hasHandles()&&t.length===4&&u(0,2)&&u(1,3)&&l(1)?(r=Ze.Rectangle,n=new Q(c(0,3),c(0,1)),o=t[1]._point.add(t[2]._point).divide(2)):t.length===8&&h(0)&&h(2)&&h(4)&&h(6)&&u(1,5)&&u(3,7)?(r=Ze.Rectangle,n=new Q(c(1,6),c(0,3)),s=n.subtract(new Q(c(0,7),c(1,2))).divide(2),o=t[3]._point.add(t[4]._point).divide(2)):t.length===4&&h(0)&&h(1)&&h(2)&&h(3)&&(re.isZero(c(0,2)-c(1,3))?(r=Ze.Circle,s=c(0,2)/2):(r=Ze.Ellipse,s=new Q(c(2,0)/2,c(3,1)/2)),o=t[1]._point),r){var g=this.getPosition(!0),_=new r({center:g,size:n,radius:s,insert:!1});return _.copyAttributes(this,!0),_._matrix.prepend(this._matrix),_.rotate(o.subtract(g).getAngle()+90),(e===B||e)&&_.insertAbove(this),_}return null},toPath:"#clone",compare:function e(t){if(!t||t instanceof Ke)return e.base.call(this,t);var r=this.getCurves(),n=t.getCurves(),s=r.length,o=n.length;if(!s||!o)return s==o;for(var u=r[0].getValues(),l=[],h=0,c,g=0,_,p=0;p<o;p++){var P=n[p].getValues();l.push(P);var d=J.getOverlaps(u,P);if(d){c=!p&&d[0][0]>0?o-1:p,_=d[0][1];break}}for(var x=Math.abs,b=1e-8,P=l[c],v;u&&P;){var d=J.getOverlaps(u,P);if(d){var S=d[0][0];if(x(S-g)<b){g=d[1][0],g===1&&(u=++h<s?r[h].getValues():null,g=0);var f=d[0][1];if(x(f-_)<b){if(v||(v=[c,f]),_=d[1][1],_===1&&(++c>=o&&(c=0),P=l[c]||n[c].getValues(),_=0),!u)return v[0]===c&&v[1]===_;continue}}}break}return!1},_hitTestSelf:function(e,t,r,n){var s=this,o=this.getStyle(),u=this._segments,l=u.length,h=this._closed,c=t._tolerancePadding,g=c,_,p,d,x,b,P,v=t.stroke&&o.hasStroke(),S=t.fill&&o.hasFill(),f=t.curves,y=v?o.getStrokeWidth()/2:S&&t.tolerance>0||f?0:null;y!==null&&(y>0?(_=o.getStrokeJoin(),p=o.getStrokeCap(),d=o.getMiterLimit(),g=g.add(Le._getStrokePadding(y,n))):_=p="round");function k(F,q){return e.subtract(F).divide(q).length<=1}function T(F,q,H){if(!t.selected||q.isSelected()){var G=F._point;if(q!==G&&(q=q.add(G)),k(q,g))return new Qe(H,s,{segment:F,point:q})}}function C(F,q){return(q||t.segments)&&T(F,F._point,"segment")||!q&&t.handles&&(T(F,F._handleIn,"handle-in")||T(F,F._handleOut,"handle-out"))}function L(F){x.add(F)}function O(F){var q=h||F._index>0&&F._index<l-1;if((q?_:p)==="round")return k(F._point,g);if(x=new Le({internal:!0,closed:!0}),q?F.isSmooth()||Le._addBevelJoin(F,_,y,d,null,n,L,!0):p==="square"&&Le._addSquareCap(F,p,y,null,n,L,!0),!x.isEmpty()){var H;return x.contains(e)||(H=x.getNearestLocation(e))&&k(H.getPoint(),c)}}if(t.ends&&!t.segments&&!h){if(P=C(u[0],!0)||C(u[l-1],!0))return P}else if(t.segments||t.handles){for(var M=0;M<l;M++)if(P=C(u[M]))return P}if(y!==null){if(b=this.getNearestLocation(e),b){var $=b.getTime();$===0||$===1&&l>1?O(b.getSegment())||(b=null):k(b.getPoint(),g)||(b=null)}if(!b&&_==="miter"&&l>1)for(var M=0;M<l;M++){var R=u[M];if(e.getDistance(R._point)<=d*y&&O(R)){b=R.getLocation();break}}}return!b&&S&&this._contains(e)||b&&!v&&!f?new Qe("fill",this):b?new Qe(v?"stroke":"curve",this,{location:b,point:b.getPoint()}):null}},A.each(J._evaluateMethods,function(e){this[e+"At"]=function(t){var r=this.getLocationAt(t);return r&&r[e]()}},{beans:!1,getLocationOf:function(){for(var e=V.read(arguments),t=this.getCurves(),r=0,n=t.length;r<n;r++){var s=t[r].getLocationOf(e);if(s)return s}return null},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getLocationAt:function(e){if(typeof e=="number"){for(var t=this.getCurves(),r=0,n=0,s=t.length;n<s;n++){var o=r,u=t[n];if(r+=u.getLength(),r>e)return u.getLocationAt(e-o)}if(t.length>0&&e<=this.getLength())return new Ge(t[t.length-1],1)}else if(e&&e.getPath&&e.getPath()===this)return e;return null},getOffsetsWithTangent:function(){var e=V.read(arguments);if(e.isZero())return[];for(var t=[],r=0,n=this.getCurves(),s=0,o=n.length;s<o;s++){for(var u=n[s],l=u.getTimesWithTangent(e),h=0,c=l.length;h<c;h++){var g=r+u.getOffsetAtTime(l[h]);t.indexOf(g)<0&&t.push(g)}r+=u.length}return t}}),new function(){function e(r,n,s,o){if(o<=0)return;var u=o/2,l=o-2,h=u-1,c=new Array(6),g,_;function p(S){var f=c[S],y=c[S+1];(g!=f||_!=y)&&(r.beginPath(),r.moveTo(g,_),r.lineTo(f,y),r.stroke(),r.beginPath(),r.arc(f,y,u,0,Math.PI*2,!0),r.fill())}for(var d=0,x=n.length;d<x;d++){var b=n[d],P=b._selection;if(b._transformCoordinates(s,c),g=c[0],_=c[1],P&2&&p(2),P&4&&p(4),r.fillRect(g-u,_-u,o,o),l>0&&!(P&1)){var v=r.fillStyle;r.fillStyle="#ffffff",r.fillRect(g-h,_-h,l,l),r.fillStyle=v}}}function t(r,n,s){var o=n._segments,u=o.length,l=new Array(6),h=!0,c,g,_,p,d,x,b,P;function v(f){if(s)f._transformCoordinates(s,l),c=l[0],g=l[1];else{var y=f._point;c=y._x,g=y._y}if(h)r.moveTo(c,g),h=!1;else{if(s)d=l[2],x=l[3];else{var k=f._handleIn;d=c+k._x,x=g+k._y}d===c&&x===g&&b===_&&P===p?r.lineTo(c,g):r.bezierCurveTo(b,P,d,x,c,g)}if(_=c,p=g,s)b=l[4],P=l[5];else{var k=f._handleOut;b=_+k._x,P=p+k._y}}for(var S=0;S<u;S++)v(o[S]);n._closed&&u>0&&v(o[0])}return{_draw:function(r,n,s,o){var u=n.dontStart,l=n.dontFinish||n.clip,h=this.getStyle(),c=h.hasFill(),g=h.hasStroke(),_=h.getDashArray(),p=!nt.support.nativeDash&&g&&_&&_.length;u||r.beginPath(),(c||g&&!p||l)&&(t(r,this,o),this._closed&&r.closePath());function d(f){return _[(f%p+p)%p]}if(!l&&(c||g)&&(this._setStyles(r,n,s),c&&(r.fill(h.getFillRule()),r.shadowColor="rgba(0,0,0,0)"),g)){if(p){u||r.beginPath();for(var x=new vt(this,.25,32,!1,o),b=x.length,P=-h.getDashOffset(),v,S=0;P>0;)P-=d(S--)+d(S--);for(;P<b;)v=P+d(S++),(P>0||v>0)&&x.drawPart(r,Math.max(P,0),Math.max(v,0)),P=v+d(S++)}r.stroke()}},_drawSelected:function(r,n){r.beginPath(),t(r,this,n),r.stroke(),e(r,this._segments,n,nt.settings.handleSize)}}},new function(){function e(t){var r=t._segments;if(!r.length)throw new Error("Use a moveTo() command first");return r[r.length-1]}return{moveTo:function(){var t=this._segments;t.length===1&&this.removeSegment(0),t.length||this._add([new we(V.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new we(V.read(arguments))])},cubicCurveTo:function(){var t=arguments,r=V.read(t),n=V.read(t),s=V.read(t),o=e(this);o.setHandleOut(r.subtract(o._point)),this._add([new we(s,n.subtract(s))])},quadraticCurveTo:function(){var t=arguments,r=V.read(t),n=V.read(t),s=e(this)._point;this.cubicCurveTo(r.add(s.subtract(r).multiply(1/3)),r.add(n.subtract(r).multiply(1/3)),n)},curveTo:function(){var t=arguments,r=V.read(t),n=V.read(t),s=A.pick(A.read(t),.5),o=1-s,u=e(this)._point,l=r.subtract(u.multiply(o*o)).subtract(n.multiply(s*s)).divide(2*s*o);if(l.isNaN())throw new Error("Cannot put a curve through points with parameter = "+s);this.quadraticCurveTo(l,n)},arcTo:function(){var t=arguments,r=Math.abs,n=Math.sqrt,s=e(this),o=s._point,u=V.read(t),l,h=A.peek(t),c=A.pick(h,!0),g,_,p,d;if(typeof c=="boolean")var x=o.add(u).divide(2),l=x.add(x.subtract(o).rotate(c?-90:90));else if(A.remain(t)<=2)l=u,u=V.read(t);else if(!o.equals(u)){var b=Q.read(t),P=re.isZero;if(P(b.width)||P(b.height))return this.lineTo(u);var v=A.read(t),c=!!A.read(t),S=!!A.read(t),x=o.add(u).divide(2),f=o.subtract(x).rotate(-v),y=f.x,k=f.y,T=r(b.width),C=r(b.height),L=T*T,O=C*C,M=y*y,$=k*k,R=n(M/L+$/O);if(R>1&&(T*=R,C*=R,L=T*T,O=C*C),R=(L*O-L*$-O*M)/(L*$+O*M),r(R)<1e-12&&(R=0),R<0)throw new Error("Cannot create an arc with the given arguments");g=new V(T*k/C,-C*y/T).multiply((S===c?-1:1)*n(R)).rotate(v).add(x),d=new ve().translate(g).rotate(v).scale(T,C),p=d._inverseTransform(o),_=p.getDirectedAngle(d._inverseTransform(u)),!c&&_>0?_-=360:c&&_<0&&(_+=360)}if(l){var F=new Be(o.add(l).divide(2),l.subtract(o).rotate(90),!0),q=new Be(l.add(u).divide(2),u.subtract(l).rotate(90),!0),H=new Be(o,u),G=H.getSide(l);if(g=F.intersect(q,!0),!g){if(!G)return this.lineTo(u);throw new Error("Cannot create an arc with the given arguments")}p=o.subtract(g),_=p.getDirectedAngle(u.subtract(g));var Z=H.getSide(g,!0);Z===0?_=G*r(_):G===Z&&(_+=_<0?360:-360)}if(_){for(var ie=1e-5,be=r(_),Pe=be>=360?4:Math.ceil((be-ie)/90),Ve=_/Pe,ee=Ve*Math.PI/360,ae=4/3*Math.sin(ee)/(1+Math.cos(ee)),Ce=[],Ae=0;Ae<=Pe;Ae++){var f=u,Fe=null;if(Ae<Pe&&(Fe=p.rotate(90).multiply(ae),d?(f=d._transformPoint(p),Fe=d._transformPoint(p.add(Fe)).subtract(f)):f=g.add(p)),!Ae)s.setHandleOut(Fe);else{var ot=p.rotate(-90).multiply(ae);d&&(ot=d._transformPoint(p.add(ot)).subtract(f)),Ce.push(new we(f,ot,Fe))}p=p.rotate(Ve)}this._add(Ce)}},lineBy:function(){var t=V.read(arguments),r=e(this)._point;this.lineTo(r.add(t))},curveBy:function(){var t=arguments,r=V.read(t),n=V.read(t),s=A.read(t),o=e(this)._point;this.curveTo(o.add(r),o.add(n),s)},cubicCurveBy:function(){var t=arguments,r=V.read(t),n=V.read(t),s=V.read(t),o=e(this)._point;this.cubicCurveTo(o.add(r),o.add(n),o.add(s))},quadraticCurveBy:function(){var t=arguments,r=V.read(t),n=V.read(t),s=e(this)._point;this.quadraticCurveTo(s.add(r),s.add(n))},arcBy:function(){var t=arguments,r=e(this)._point,n=r.add(V.read(t)),s=A.pick(A.peek(t),!0);typeof s=="boolean"?this.arcTo(n,s):this.arcTo(n,r.add(V.read(t)))},closePath:function(t){this.setClosed(!0),this.join(this,t)}}},{_getBounds:function(e,t){var r=t.handle?"getHandleBounds":t.stroke?"getStrokeBounds":"getBounds";return Le[r](this._segments,this._closed,this,e,t)},statics:{getBounds:function(e,t,r,n,s,o){var u=e[0];if(!u)return new W;var l=new Array(6),h=u._transformCoordinates(n,new Array(6)),c=h.slice(0,2),g=c.slice(),_=new Array(2);function p(b){b._transformCoordinates(n,l);for(var P=0;P<2;P++)J._addBounds(h[P],h[P+4],l[P+2],l[P],P,o?o[P]:0,c,g,_);var v=h;h=l,l=v}for(var d=1,x=e.length;d<x;d++)p(e[d]);return t&&p(u),new W(c[0],c[1],g[0]-c[0],g[1]-c[1])},getStrokeBounds:function(e,t,r,n,s){var o=r.getStyle(),u=o.hasStroke(),l=o.getStrokeWidth(),h=u&&r._getStrokeMatrix(n,s),c=u&&Le._getStrokePadding(l,h),g=Le.getBounds(e,t,r,n,s,c);if(!u)return g;var _=l/2,p=o.getStrokeJoin(),d=o.getStrokeCap(),x=o.getMiterLimit(),b=new W(new Q(c));function P(T){g=g.include(T)}function v(T){g=g.unite(b.setCenter(T._point.transform(n)))}function S(T,C){C==="round"||T.isSmooth()?v(T):Le._addBevelJoin(T,C,_,x,n,h,P)}function f(T,C){C==="round"?v(T):Le._addSquareCap(T,C,_,n,h,P)}var y=e.length-(t?0:1);if(y>0){for(var k=1;k<y;k++)S(e[k],p);t?S(e[0],p):(f(e[0],d),f(e[e.length-1],d))}return g},_getStrokePadding:function(e,t){if(!t)return[e,e];var r=new V(e,0).transform(t),n=new V(0,e).transform(t),s=r.getAngleInRadians(),o=r.getLength(),u=n.getLength(),l=Math.sin(s),h=Math.cos(s),c=Math.tan(s),g=Math.atan2(u*c,o),_=Math.atan2(u,c*o);return[Math.abs(o*Math.cos(g)*h+u*Math.sin(g)*l),Math.abs(u*Math.sin(_)*h+o*Math.cos(_)*l)]},_addBevelJoin:function(e,t,r,n,s,o,u,l){var h=e.getCurve(),c=h.getPrevious(),g=h.getPoint1().transform(s),_=c.getNormalAtTime(1).multiply(r).transform(o),p=h.getNormalAtTime(0).multiply(r).transform(o),d=_.getDirectedAngle(p);if((d<0||d>=180)&&(_=_.negate(),p=p.negate()),l&&u(g),u(g.add(_)),t==="miter"){var x=new Be(g.add(_),new V(-_.y,_.x),!0).intersect(new Be(g.add(p),new V(-p.y,p.x),!0),!0);x&&g.getDistance(x)<=n*r&&u(x)}u(g.add(p))},_addSquareCap:function(e,t,r,n,s,o,u){var l=e._point.transform(n),h=e.getLocation(),c=h.getNormal().multiply(h.getTime()===0?r:-r).transform(s);t==="square"&&(u&&(o(l.subtract(c)),o(l.add(c))),l=l.add(c.rotate(-90))),o(l.add(c)),o(l.subtract(c))},getHandleBounds:function(e,t,r,n,s){var o=r.getStyle(),u=s.stroke&&o.hasStroke(),l,h;if(u){var c=r._getStrokeMatrix(n,s),g=o.getStrokeWidth()/2,_=g;o.getStrokeJoin()==="miter"&&(_=g*o.getMiterLimit()),o.getStrokeCap()==="square"&&(_=Math.max(_,g*Math.SQRT2)),l=Le._getStrokePadding(g,c),h=Le._getStrokePadding(_,c)}for(var p=new Array(6),d=1/0,x=-d,b=d,P=x,v=0,S=e.length;v<S;v++){var f=e[v];f._transformCoordinates(n,p);for(var y=0;y<6;y+=2){var k=y?l:h,T=k?k[0]:0,C=k?k[1]:0,L=p[y],O=p[y+1],M=L-T,$=L+T,R=O-C,F=O+C;M<d&&(d=M),$>x&&(x=$),R<b&&(b=R),F>P&&(P=F)}}return new W(d,b,x-d,P-b)}}});Le.inject({statics:new function(){var e=.5522847498307936,t=[new we([-1,0],[0,e],[0,-.5522847498307936]),new we([0,-1],[-.5522847498307936,0],[e,0]),new we([1,0],[0,-.5522847498307936],[0,e]),new we([0,1],[e,0],[-.5522847498307936,0])];function r(s,o,u){var l=A.getNamed(u),h=new Le(l&&(l.insert==!0?w.INSERT:l.insert==!1?w.NO_INSERT:null));return h._add(s),h._closed=o,h.set(l,w.INSERT)}function n(s,o,u){for(var l=new Array(4),h=0;h<4;h++){var c=t[h];l[h]=new we(c._point.multiply(o).add(s),c._handleIn.multiply(o),c._handleOut.multiply(o))}return r(l,!0,u)}return{Line:function(){var s=arguments;return r([new we(V.readNamed(s,"from")),new we(V.readNamed(s,"to"))],!1,s)},Circle:function(){var s=arguments,o=V.readNamed(s,"center"),u=A.readNamed(s,"radius");return n(o,new Q(u),s)},Rectangle:function(){var s=arguments,o=W.readNamed(s,"rectangle"),u=Q.readNamed(s,"radius",0,{readNull:!0}),l=o.getBottomLeft(!0),h=o.getTopLeft(!0),c=o.getTopRight(!0),g=o.getBottomRight(!0),_;if(!u||u.isZero())_=[new we(l),new we(h),new we(c),new we(g)];else{u=Q.min(u,o.getSize(!0).divide(2));var p=u.width,d=u.height,x=p*e,b=d*e;_=[new we(l.add(p,0),null,[-x,0]),new we(l.subtract(0,d),[0,b]),new we(h.add(0,d),null,[0,-b]),new we(h.add(p,0),[-x,0],null),new we(c.subtract(p,0),null,[x,0]),new we(c.add(0,d),[0,-b],null),new we(g.subtract(0,d),null,[0,b]),new we(g.subtract(p,0),[x,0])]}return r(_,!0,s)},RoundRectangle:"#Rectangle",Ellipse:function(){var s=arguments,o=Ze._readEllipse(s);return n(o.center,o.radius,s)},Oval:"#Ellipse",Arc:function(){var s=arguments,o=V.readNamed(s,"from"),u=V.readNamed(s,"through"),l=V.readNamed(s,"to"),h=A.getNamed(s),c=new Le(h&&h.insert==!1&&w.NO_INSERT);return c.moveTo(o),c.arcTo(u,l),c.set(h)},RegularPolygon:function(){for(var s=arguments,o=V.readNamed(s,"center"),u=A.readNamed(s,"sides"),l=A.readNamed(s,"radius"),h=360/u,c=u%3===0,g=new V(0,c?-l:l),_=c?-1:.5,p=new Array(u),d=0;d<u;d++)p[d]=new we(o.add(g.rotate((d+_)*h)));return r(p,!0,s)},Star:function(){for(var s=arguments,o=V.readNamed(s,"center"),u=A.readNamed(s,"points")*2,l=A.readNamed(s,"radius1"),h=A.readNamed(s,"radius2"),c=360/u,g=new V(0,-1),_=new Array(u),p=0;p<u;p++)_[p]=new we(o.add(g.rotate(c*p).multiply(p%2?h:l)));return r(_,!0,s)}}}});var Ke=Ye.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||(typeof t=="string"?this.setPathData(t):this.addChildren(Array.isArray(t)?t:arguments))},insertChildren:function e(t,r){var n=r,s=n[0];s&&typeof s[0]=="number"&&(n=[n]);for(var o=r.length-1;o>=0;o--){var u=n[o];n===r&&!(u instanceof Le)&&(n=A.slice(n)),Array.isArray(u)?n[o]=new Le({segments:u,insert:!1}):u instanceof Ke&&(n.splice.apply(n,[o,1].concat(u.removeChildren())),u.remove())}return e.base.call(this,t,n)},reduce:function e(t){for(var r=this._children,n=r.length-1;n>=0;n--){var s=r[n].reduce(t);s.isEmpty()&&s.remove()}if(!r.length){var s=new Le(w.NO_INSERT);return s.copyAttributes(this),s.insertAbove(this),this.remove(),s}return e.base.call(this)},isClosed:function(){for(var e=this._children,t=0,r=e.length;t<r;t++)if(!e[t]._closed)return!1;return!0},setClosed:function(e){for(var t=this._children,r=0,n=t.length;r<n;r++)t[r].setClosed(e)},getFirstSegment:function(){var e=this.getFirstChild();return e&&e.getFirstSegment()},getLastSegment:function(){var e=this.getLastChild();return e&&e.getLastSegment()},getCurves:function(){for(var e=this._children,t=[],r=0,n=e.length;r<n;r++)A.push(t,e[r].getCurves());return t},getFirstCurve:function(){var e=this.getFirstChild();return e&&e.getFirstCurve()},getLastCurve:function(){var e=this.getLastChild();return e&&e.getLastCurve()},getArea:function(){for(var e=this._children,t=0,r=0,n=e.length;r<n;r++)t+=e[r].getArea();return t},getLength:function(){for(var e=this._children,t=0,r=0,n=e.length;r<n;r++)t+=e[r].getLength();return t},getPathData:function(e,t){for(var r=this._children,n=[],s=0,o=r.length;s<o;s++){var u=r[s],l=u._matrix;n.push(u.getPathData(e&&!l.isIdentity()?e.appended(l):e,t))}return n.join("")},_hitTestChildren:function e(t,r,n){return e.base.call(this,t,r.class===Le||r.type==="path"?r:A.set({},r,{fill:!1}),n)},_draw:function(e,t,r,n){var s=this._children;if(s.length){t=t.extend({dontStart:!0,dontFinish:!0}),e.beginPath();for(var o=0,u=s.length;o<u;o++)s[o].draw(e,t,n);if(!t.clip){this._setStyles(e,t,r);var l=this._style;l.hasFill()&&(e.fill(l.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),l.hasStroke()&&e.stroke()}}},_drawSelected:function(e,t,r){for(var n=this._children,s=0,o=n.length;s<o;s++){var u=n[s],l=u._matrix;r[u._id]||u._drawSelected(e,l.isIdentity()?t:t.appended(l))}}},new function(){function e(t,r){var n=t._children;if(r&&!n.length)throw new Error("Use a moveTo() command first");return n[n.length-1]}return A.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(t){this[t]=function(){var r=e(this,!0);r[t].apply(r,arguments)}},{moveTo:function(){var t=e(this),r=t&&t.isEmpty()?t:new Le(w.NO_INSERT);r!==t&&this.addChild(r),r.moveTo.apply(r,arguments)},moveBy:function(){var t=e(this,!0),r=t&&t.getLastSegment(),n=V.read(arguments);this.moveTo(r?n.add(r._point):n)},closePath:function(t){e(this,!0).closePath(t)}})},A.each(["reverse","flatten","simplify","smooth"],function(e){this[e]=function(t){for(var r=this._children,n,s=0,o=r.length;s<o;s++)n=r[s][e](t)||n;return n}},{}));Ye.inject(new function(){var e=Math.min,t=Math.max,r=Math.abs,n={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function s(v){return v._children||[v]}function o(v,S){var f=v.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(S){for(var y=s(f),k=0,T=y.length;k<T;k++){var v=y[k];!v._closed&&!v.isEmpty()&&(v.closePath(1e-12),v.getFirstSegment().setHandleIn(0,0),v.getLastSegment().setHandleOut(0,0))}f=f.resolveCrossings().reorient(f.getFillRule()==="nonzero",!0)}return f}function u(v,S,f,y,k){var T=new Ke(w.NO_INSERT);return T.addChildren(v,!0),T=T.reduce({simplify:S}),k&&k.insert==!1||T.insertAbove(y&&f.isSibling(y)&&f.getIndex()<y.getIndex()?y:f),T.copyAttributes(f,!0),T}function l(v){return v.hasOverlap()||v.isCrossing()}function h(v,S,f,y){if(y&&(y.trace==!1||y.stroke)&&/^(subtract|intersect)$/.test(f))return c(v,S,f);var k=o(v,!0),T=S&&v!==S&&o(S,!0),C=n[f];C[f]=!0,T&&(C.subtract||C.exclude)^(T.isClockwise()^k.isClockwise())&&T.reverse();var L=d(Ge.expand(k.getIntersections(T,l))),O=s(k),M=T&&s(T),$=[],R=[],F;function q(Fe){for(var ot=0,et=Fe.length;ot<et;ot++){var ct=Fe[ot];A.push($,ct._segments),A.push(R,ct.getCurves()),ct._overlapsOnly=!0}}function H(Fe){for(var ot=[],et=0,ct=Fe&&Fe.length;et<ct;et++)ot.push(R[Fe[et]]);return ot}if(L.length){q(O),M&&q(M);for(var G=new Array(R.length),Z=0,ie=R.length;Z<ie;Z++)G[Z]=R[Z].getValues();for(var be=Oe.findCurveBoundsCollisions(G,G,0,!0),Pe={},Z=0;Z<R.length;Z++){var Ve=R[Z],ee=Ve._path._id,ae=Pe[ee]=Pe[ee]||{};ae[Ve.getIndex()]={hor:H(be[Z].hor),ver:H(be[Z].ver)}}for(var Z=0,ie=L.length;Z<ie;Z++)b(L[Z]._segment,k,T,Pe,C);for(var Z=0,ie=$.length;Z<ie;Z++){var Ce=$[Z],Ae=Ce._intersection;Ce._winding||b(Ce,k,T,Pe,C),Ae&&Ae._overlap||(Ce._path._overlapsOnly=!1)}F=P($,C)}else F=p(M?O.concat(M):O.slice(),function(Fe){return!!C[Fe]});return u(F,!0,v,S,y)}function c(v,S,f){var y=o(v),k=o(S),T=y.getIntersections(k,l),C=f==="subtract",L=f==="divide",O={},M=[];function $(q){if(!O[q._id]&&(L||k.contains(q.getPointAt(q.getLength()/2))^C))return M.unshift(q),O[q._id]=!0}for(var R=T.length-1;R>=0;R--){var F=T[R].split();F&&($(F)&&F.getFirstSegment().setHandleIn(0,0),y.getLastSegment().setHandleOut(0,0))}return $(y),u(M,!1,v,S)}function g(v,S){for(var f=v;f;){if(f===S)return;f=f._previous}for(;v._next&&v._next!==S;)v=v._next;if(!v._next){for(;S._previous;)S=S._previous;v._next=S,S._previous=v}}function _(v){for(var S=v.length-1;S>=0;S--)v[S].clearHandles()}function p(v,S,f){var y=v&&v.length;if(y){var k=A.each(v,function(be,Pe){this[be._id]={container:null,winding:be.isClockwise()?1:-1,index:Pe}},{}),T=v.slice().sort(function(be,Pe){return r(Pe.getArea())-r(be.getArea())}),C=T[0],L=Oe.findItemBoundsCollisions(T,null,re.GEOMETRIC_EPSILON);f==null&&(f=C.isClockwise());for(var O=0;O<y;O++){var M=T[O],$=k[M._id],R=0,F=L[O];if(F){for(var q=null,H=F.length-1;H>=0;H--)if(F[H]<O){q=q||M.getInteriorPoint();var G=T[F[H]];if(G.contains(q)){var Z=k[G._id];R=Z.winding,$.winding+=R,$.container=Z.exclude?Z.container:G;break}}}if(S($.winding)===S(R))$.exclude=!0,v[$.index]=null;else{var ie=$.container;M.setClockwise(ie?!ie.isClockwise():f)}}}return v}function d(v,S,f){var y=S&&[],k=1e-8,T=1-k,C=!1,L=f||[],O=f&&{},M,$,R;function F(ot){return ot._path._id+"."+ot._segment1._index}for(var q=(f&&f.length)-1;q>=0;q--){var H=f[q];H._path&&(O[F(H)]=!0)}for(var q=v.length-1;q>=0;q--){var G=v[q],Z=G._time,ie=Z,be=S&&!S(G),H=G._curve,Pe;if(H&&(H!==$?(C=!H.hasHandles()||O&&O[F(H)],M=[],R=null,$=H):R>=k&&(Z/=R)),be){M&&M.push(G);continue}else S&&y.unshift(G);if(R=ie,Z<k)Pe=H._segment1;else if(Z>T)Pe=H._segment2;else{var Ve=H.divideAtTime(Z,!0);C&&L.push(H,Ve),Pe=Ve._segment1;for(var ee=M.length-1;ee>=0;ee--){var ae=M[ee];ae._time=(ae._time-Z)/(1-Z)}}G._setSegment(Pe);var Ce=Pe._intersection,Ae=G._intersection;if(Ce){g(Ce,Ae);for(var Fe=Ce;Fe;)g(Fe._intersection,Ce),Fe=Fe._next}else Pe._intersection=Ae}return f||_(L),y||v}function x(v,S,f,y,k){var T=Array.isArray(S)?S:S[f?"hor":"ver"],C=f?1:0,L=C^1,O=[v.x,v.y],M=O[C],$=O[L],R=1e-9,F=1e-6,q=M-R,H=M+R,G=0,Z=0,ie=0,be=0,Pe=!1,Ve=!1,ee=1,ae=[],Ce,Ae;function Fe(Ie){var Bt=Ie[L+0],$t=Ie[L+6];if(!($<e(Bt,$t)||$>t(Bt,$t))){var ii=Ie[C+0],wi=Ie[C+2],Ri=Ie[C+4],Si=Ie[C+6];if(Bt===$t){(ii<H&&Si>q||Si<H&&ii>q)&&(Pe=!0);return}var Ci=$===Bt?0:$===$t||q>t(ii,wi,Ri,Si)||H<e(ii,wi,Ri,Si)?1:J.solveCubic(Ie,L,$,ae,0,1)>0?ae[0]:1,di=Ci===0?ii:Ci===1?Si:J.getPoint(Ie,Ci)[f?"y":"x"],bi=Bt>$t?1:-1,Oi=Ce[L]>Ce[L+6]?1:-1,ri=Ce[C+6];return $!==Bt?(di<q?ie+=bi:di>H?be+=bi:Pe=!0,di>M-F&&di<M+F&&(ee/=2)):(bi!==Oi?ii<q?ie+=bi:ii>H&&(be+=bi):ii!=ri&&(ri<H&&di>H?(be+=bi,Pe=!0):ri>q&&di<q&&(ie+=bi,Pe=!0)),ee/=4),Ce=Ie,!k&&di>q&&di<H&&J.getTangent(Ie,Ci)[f?"x":"y"]===0&&x(v,S,!f,y,!0)}}function ot(Ie){var Bt=Ie[L+0],$t=Ie[L+2],ii=Ie[L+4],wi=Ie[L+6];if($<=t(Bt,$t,ii,wi)&&$>=e(Bt,$t,ii,wi)){for(var Ri=Ie[C+0],Si=Ie[C+2],Ci=Ie[C+4],di=Ie[C+6],bi=q>t(Ri,Si,Ci,di)||H<e(Ri,Si,Ci,di)?[Ie]:J.getMonoCurves(Ie,f),Oi,ri=0,pi=bi.length;ri<pi;ri++)if(Oi=Fe(bi[ri]))return Oi}}for(var et=0,ct=T.length;et<ct;et++){var _t=T[et],mt=_t._path,ti=_t.getValues(),jt;if((!et||T[et-1]._path!==mt)&&(Ce=null,mt._closed||(Ae=J.getValues(mt.getLastCurve().getSegment2(),_t.getSegment1(),null,!y),Ae[L]!==Ae[L+6]&&(Ce=Ae)),!Ce)){Ce=ti;for(var oi=mt.getLastCurve();oi&&oi!==_t;){var Zt=oi.getValues();if(Zt[L]!==Zt[L+6]){Ce=Zt;break}oi=oi.getPrevious()}}if(jt=ot(ti))return jt;if(et+1===ct||T[et+1]._path!==mt){if(Ae&&(jt=ot(Ae)))return jt;Pe&&!ie&&!be&&(ie=be=mt.isClockwise(y)^f?1:-1),G+=ie,Z+=be,ie=be=0,Pe&&(Ve=!0,Pe=!1),Ae=null}}return G=r(G),Z=r(Z),{winding:t(G,Z),windingL:G,windingR:Z,quality:ee,onPath:Ve}}function b(v,S,f,y,k){var T=[],C=v,L=0,R;do{var O=v.getCurve();if(O){var M=O.getLength();T.push({segment:v,curve:O,length:M}),L+=M}v=v.getNext()}while(v&&!v._intersection&&v!==C);for(var $=[.5,.25,.75],R={winding:0,quality:-1},F=.001,q=1-F,H=0;H<$.length&&R.quality<.5;H++)for(var M=L*$[H],G=0,Z=T.length;G<Z;G++){var ie=T[G],be=ie.length;if(M<=be){var O=ie.curve,Pe=O._path,Ve=Pe._parent,ee=Ve instanceof Ke?Ve:Pe,ae=re.clamp(O.getTimeAt(M),F,q),Ce=O.getPointAtTime(ae),Ae=r(O.getTangentAtTime(ae).y)<Math.SQRT1_2,Fe=null;if(k.subtract&&f){var ot=ee===S?f:S,et=ot._getWinding(Ce,Ae,!0);if(ee===S&&et.winding||ee===f&&!et.winding){if(et.quality<1)continue;Fe={winding:0,quality:1}}}Fe=Fe||x(Ce,y[Pe._id][O.getIndex()],Ae,!0),Fe.quality>R.quality&&(R=Fe);break}M-=be}for(var G=T.length-1;G>=0;G--)T[G].segment._winding=R}function P(v,S){var f=[],y;function k(ct){var _t;return!!(ct&&!ct._visited&&(!S||S[(_t=ct._winding||{}).winding]&&!(S.unite&&_t.winding===2&&_t.windingL&&_t.windingR)))}function T(ct){if(ct){for(var _t=0,mt=y.length;_t<mt;_t++)if(ct===y[_t])return!0}return!1}function C(ct){for(var _t=ct._segments,mt=0,ti=_t.length;mt<ti;mt++)_t[mt]._visited=!0}function L(ct,_t){var mt=ct._intersection,ti=mt,jt=[];_t&&(y=[ct]);function oi(Zt,Ie){for(;Zt&&Zt!==Ie;){var Bt=Zt._segment,$t=Bt&&Bt._path;if($t){var ii=Bt.getNext()||$t.getFirstSegment(),wi=ii._intersection;Bt!==ct&&(T(Bt)||T(ii)||ii&&k(Bt)&&(k(ii)||wi&&k(wi._segment)))&&jt.push(Bt),_t&&y.push(Bt)}Zt=Zt._next}}if(mt){for(oi(mt);mt&&mt._previous;)mt=mt._previous;oi(mt,ti)}return jt}v.sort(function(ct,_t){var mt=ct._intersection,ti=_t._intersection,jt=!!(mt&&mt._overlap),oi=!!(ti&&ti._overlap),Zt=ct._path,Ie=_t._path;return jt^oi?jt?1:-1:!mt^!ti?mt?1:-1:Zt!==Ie?Zt._id-Ie._id:ct._index-_t._index});for(var O=0,M=v.length;O<M;O++){var $=v[O],R=k($),F=null,q=!1,H=!0,G=[],Z,ie,be;if(R&&$._path._overlapsOnly){var Pe=$._path,Ve=$._intersection._segment._path;Pe.compare(Ve)&&(Pe.getArea()&&f.push(Pe.clone(!1)),C(Pe),C(Ve),R=!1)}for(;R;){var ee=!F,ae=L($,ee),Ce=ae.shift(),q=!ee&&(T($)||T(Ce)),Ae=!q&&Ce;if(ee&&(F=new Le(w.NO_INSERT),Z=null),q){($.isFirst()||$.isLast())&&(H=$._path._closed),$._visited=!0;break}if(Ae&&Z&&(G.push(Z),Z=null),Z||(Ae&&ae.push($),Z={start:F._segments.length,crossings:ae,visited:ie=[],handleIn:be}),Ae&&($=Ce),!k($)){F.removeSegments(Z.start);for(var Fe=0,ot=ie.length;Fe<ot;Fe++)ie[Fe]._visited=!1;ie.length=0;do $=Z&&Z.crossings.shift(),(!$||!$._path)&&($=null,Z=G.pop(),Z&&(ie=Z.visited,be=Z.handleIn));while(Z&&!k($));if(!$)break}var et=$.getNext();F.add(new we($._point,be,et&&$._handleOut)),$._visited=!0,ie.push($),$=et||$._path.getFirstSegment(),be=et&&et._handleIn}q&&(H&&(F.getFirstSegment().setHandleIn(be),F.setClosed(H)),F.getArea()!==0&&f.push(F))}return f}return{_getWinding:function(v,S,f){return x(v,this.getCurves(),S,f)},unite:function(v,S){return h(this,v,"unite",S)},intersect:function(v,S){return h(this,v,"intersect",S)},subtract:function(v,S){return h(this,v,"subtract",S)},exclude:function(v,S){return h(this,v,"exclude",S)},divide:function(v,S){return S&&(S.trace==!1||S.stroke)?c(this,v,"divide"):u([this.subtract(v,S),this.intersect(v,S)],!0,this,v,S)},resolveCrossings:function(){var v=this._children,S=v||[this];function f(Z,ie){var be=Z&&Z._intersection;return be&&be._overlap&&be._path===ie}var y=!1,k=!1,T=this.getIntersections(null,function(Z){return Z.hasOverlap()&&(y=!0)||Z.isCrossing()&&(k=!0)}),C=y&&k&&[];if(T=Ge.expand(T),y)for(var L=d(T,function(Z){return Z.hasOverlap()},C),O=L.length-1;O>=0;O--){var M=L[O],$=M._path,R=M._segment,F=R.getPrevious(),q=R.getNext();f(F,$)&&f(q,$)&&(R.remove(),F._handleOut._set(0,0),q._handleIn._set(0,0),F!==R&&!F.getCurve().hasLength()&&(q._handleIn.set(F._handleIn),F.remove()))}k&&(d(T,y&&function(Z){var ie=Z.getCurve(),be=Z.getSegment(),Pe=Z._intersection,Ve=Pe._curve,ee=Pe._segment;if(ie&&Ve&&ie._path&&Ve._path)return!0;be&&(be._intersection=null),ee&&(ee._intersection=null)},C),C&&_(C),S=P(A.each(S,function(Z){A.push(this,Z._segments)},[])));var H=S.length,G;return H>1&&v?(S!==v&&this.setChildren(S),G=this):H===1&&!v&&(S[0]!==this&&this.setSegments(S[0].removeSegments()),G=this),G||(G=new Ke(w.NO_INSERT),G.addChildren(S),G=G.reduce(),G.copyAttributes(this),this.replaceWith(G)),G},reorient:function(v,S){var f=this._children;return f&&f.length?this.setChildren(p(this.removeChildren(),function(y){return!!(v?y:y&1)},S)):S!==B&&this.setClockwise(S),this},getInteriorPoint:function(){var v=this.getBounds(),S=v.getCenter(!0);if(!this.contains(S)){for(var f=this.getCurves(),y=S.y,k=[],T=[],C=0,L=f.length;C<L;C++){var O=f[C].getValues(),M=O[1],$=O[3],R=O[5],F=O[7];if(y>=e(M,$,R,F)&&y<=t(M,$,R,F))for(var q=J.getMonoCurves(O),H=0,G=q.length;H<G;H++){var Z=q[H],ie=Z[1],be=Z[7];if(ie!==be&&(y>=ie&&y<=be||y>=be&&y<=ie)){var Pe=y===ie?Z[0]:y===be?Z[6]:J.solveCubic(Z,1,y,T,0,1)===1?J.getPoint(Z,T[0]).x:(Z[0]+Z[6])/2;k.push(Pe)}}}k.length>1&&(k.sort(function(Ve,ee){return Ve-ee}),S.x=(k[0]+k[1])/2)}return S}}});var vt=A.extend({_class:"PathFlattener",initialize:function(e,t,r,n,s){var o=[],u=[],l=0,h=1/(r||32),c=e._segments,g=c[0],_;function p(P,v){var S=J.getValues(P,v,s);o.push(S),d(S,P._index,0,1)}function d(P,v,S,f){if(f-S>h&&!(n&&J.isStraight(P))&&!J.isFlatEnough(P,t||.25)){var y=J.subdivide(P,.5),k=(S+f)/2;d(y[0],v,S,k),d(y[1],v,k,f)}else{var T=P[6]-P[0],C=P[7]-P[1],L=Math.sqrt(T*T+C*C);L>0&&(l+=L,u.push({offset:l,curve:P,index:v,time:f}))}}for(var x=1,b=c.length;x<b;x++)_=c[x],p(g,_),g=_;e._closed&&p(_||g,c[0]),this.curves=o,this.parts=u,this.length=l,this.index=0},_get:function(e){for(var t=this.parts,r=t.length,n,s=this.index;n=s,!(!s||t[--s].offset<e););for(;n<r;n++){var o=t[n];if(o.offset>=e){this.index=n;var u=t[n-1],l=u&&u.index===o.index?u.time:0,h=u?u.offset:0;return{index:o.index,time:l+(o.time-l)*(e-h)/(o.offset-h)}}}return{index:t[r-1].index,time:1}},drawPart:function(e,t,r){for(var n=this._get(t),s=this._get(r),o=n.index,u=s.index;o<=u;o++){var l=J.getPart(this.curves[o],o===n.index?n.time:0,o===s.index?s.time:1);o===n.index&&e.moveTo(l[0],l[1]),e.bezierCurveTo.apply(e,l.slice(2))}}},A.each(J._evaluateMethods,function(e){this[e+"At"]=function(t){var r=this._get(t);return J[e](this.curves[r.index],r.time)}},{})),ze=A.extend({initialize:function(e){for(var t=this.points=[],r=e._segments,n=e._closed,s=0,o,u=r.length;s<u;s++){var l=r[s].point;(!o||!o.equals(l))&&t.push(o=l.clone())}n&&(t.unshift(t[t.length-1]),t.push(t[1])),this.closed=n},fit:function(e){var t=this.points,r=t.length,n=null;return r>0&&(n=[new we(t[0])],r>1&&(this.fitCubic(n,e,0,r-1,t[1].subtract(t[0]),t[r-2].subtract(t[r-1])),this.closed&&(n.shift(),n.pop()))),n},fitCubic:function(e,t,r,n,s,o){var u=this.points;if(n-r===1){var l=u[r],h=u[n],c=l.getDistance(h)/3;this.addCurve(e,[l,l.add(s.normalize(c)),h.add(o.normalize(c)),h]);return}for(var g=this.chordLengthParameterize(r,n),_=Math.max(t,t*t),p,d=!0,x=0;x<=4;x++){var b=this.generateBezier(r,n,g,s,o),P=this.findMaxError(r,n,b,g);if(P.error<t&&d){this.addCurve(e,b);return}if(p=P.index,P.error>=_)break;d=this.reparameterize(r,n,g,b),_=P.error}var v=u[p-1].subtract(u[p+1]);this.fitCubic(e,t,r,p,s,v),this.fitCubic(e,t,p,n,v.negate(),o)},addCurve:function(e,t){var r=e[e.length-1];r.setHandleOut(t[1].subtract(t[0])),e.push(new we(t[3],t[2].subtract(t[3])))},generateBezier:function(e,t,r,n,s){for(var o=1e-12,u=Math.abs,l=this.points,h=l[e],c=l[t],g=[[0,0],[0,0]],_=[0,0],p=0,d=t-e+1;p<d;p++){var x=r[p],b=1-x,P=3*x*b,v=b*b*b,S=P*b,f=P*x,y=x*x*x,k=n.normalize(S),T=s.normalize(f),C=l[e+p].subtract(h.multiply(v+S)).subtract(c.multiply(f+y));g[0][0]+=k.dot(k),g[0][1]+=k.dot(T),g[1][0]=g[0][1],g[1][1]+=T.dot(T),_[0]+=k.dot(C),_[1]+=T.dot(C)}var L=g[0][0]*g[1][1]-g[1][0]*g[0][1],O,M;if(u(L)>o){var $=g[0][0]*_[1]-g[1][0]*_[0],R=_[0]*g[1][1]-_[1]*g[0][1];O=R/L,M=$/L}else{var F=g[0][0]+g[0][1],q=g[1][0]+g[1][1];O=M=u(F)>o?_[0]/F:u(q)>o?_[1]/q:0}var H=c.getDistance(h),G=o*H,Z,ie;if(O<G||M<G)O=M=H/3;else{var be=c.subtract(h);Z=n.normalize(O),ie=s.normalize(M),Z.dot(be)-ie.dot(be)>H*H&&(O=M=H/3,Z=ie=null)}return[h,h.add(Z||n.normalize(O)),c.add(ie||s.normalize(M)),c]},reparameterize:function(e,t,r,n){for(var s=e;s<=t;s++)r[s-e]=this.findRoot(n,this.points[s],r[s-e]);for(var s=1,o=r.length;s<o;s++)if(r[s]<=r[s-1])return!1;return!0},findRoot:function(e,t,r){for(var n=[],s=[],o=0;o<=2;o++)n[o]=e[o+1].subtract(e[o]).multiply(3);for(var o=0;o<=1;o++)s[o]=n[o+1].subtract(n[o]).multiply(2);var u=this.evaluate(3,e,r),l=this.evaluate(2,n,r),h=this.evaluate(1,s,r),c=u.subtract(t),g=l.dot(l)+c.dot(h);return re.isMachineZero(g)?r:r-c.dot(l)/g},evaluate:function(e,t,r){for(var n=t.slice(),s=1;s<=e;s++)for(var o=0;o<=e-s;o++)n[o]=n[o].multiply(1-r).add(n[o+1].multiply(r));return n[0]},chordLengthParameterize:function(e,t){for(var r=[0],n=e+1;n<=t;n++)r[n-e]=r[n-e-1]+this.points[n].getDistance(this.points[n-1]);for(var n=1,s=t-e;n<=s;n++)r[n]/=r[s];return r},findMaxError:function(e,t,r,n){for(var s=Math.floor((t-e+1)/2),o=0,u=e+1;u<t;u++){var l=this.evaluate(3,r,n[u-e]),h=l.subtract(this.points[u]),c=h.x*h.x+h.y*h.y;c>=o&&(o=c,s=u)}return{error:o,index:s}}}),ht=w.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(t){this._content="",this._lines=[];var r=t&&A.isPlainObject(t)&&t.x===B&&t.y===B;this._initialize(r&&t,!r&&V.read(arguments))},_equals:function(e){return this._content===e._content},copyContent:function(e){this.setContent(e._content)},getContent:function(){return this._content},setContent:function(e){this._content=""+e,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),Nt=ht.extend({_class:"PointText",initialize:function(){ht.apply(this,arguments)},getPoint:function(){var e=this._matrix.getTranslation();return new Se(e.x,e.y,this,"setPoint")},setPoint:function(){var e=V.read(arguments);this.translate(e.subtract(this._matrix.getTranslation()))},_draw:function(e,t,r){if(this._content){this._setStyles(e,t,r);var n=this._lines,s=this._style,o=s.hasFill(),u=s.hasStroke(),l=s.getLeading(),h=e.shadowColor;e.font=s.getFontStyle(),e.textAlign=s.getJustification();for(var c=0,g=n.length;c<g;c++){e.shadowColor=h;var _=n[c];o&&(e.fillText(_,0,0),e.shadowColor="rgba(0,0,0,0)"),u&&e.strokeText(_,0,0),e.translate(0,l)}}},_getBounds:function(e,t){var r=this._style,n=this._lines,s=n.length,o=r.getJustification(),u=r.getLeading(),l=this.getView().getTextWidth(r.getFontStyle(),n),h=0;o!=="left"&&(h-=l/(o==="center"?2:1));var c=new W(h,s?-.75*u:0,l,s*u);return e?e._transformBounds(c,c):c}}),at=A.extend(new function(){var e={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},t={},r={transparent:[0,0,0,0]},n;function s(l){var h=l.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||l.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),c="rgb",g;if(h){var _=h[4]?4:3;g=new Array(_);for(var p=0;p<_;p++){var d=h[p+1];g[p]=parseInt(d.length==1?d+d:d,16)/255}}else if(h=l.match(/^(rgb|hsl)a?\((.*)\)$/)){c=h[1],g=h[2].trim().split(/[,\s]+/g);for(var x=c==="hsl",p=0,b=Math.min(g.length,4);p<b;p++){var P=g[p],d=parseFloat(P);if(x)if(p===0){var v=P.match(/([a-z]*)$/)[1];d*={turn:360,rad:180/Math.PI,grad:.9}[v]||1}else p<3&&(d/=100);else p<3&&(d/=/%$/.test(P)?100:255);g[p]=d}}else{var S=r[l];if(!S)if(le){n||(n=je.getContext(1,1,{willReadFrequently:!0}),n.globalCompositeOperation="copy"),n.fillStyle="rgba(0,0,0,0)",n.fillStyle=l,n.fillRect(0,0,1,1);var f=n.getImageData(0,0,1,1).data;S=r[l]=[f[0]/255,f[1]/255,f[2]/255]}else S=[0,0,0];g=S.slice()}return[c,g]}var o=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],u={"rgb-hsb":function(l,h,c){var g=Math.max(l,h,c),_=Math.min(l,h,c),p=g-_,d=p===0?0:(g==l?(h-c)/p+(h<c?6:0):g==h?(c-l)/p+2:(l-h)/p+4)*60;return[d,g===0?0:p/g,g]},"hsb-rgb":function(l,h,c){l=(l/60%6+6)%6;var _=Math.floor(l),g=l-_,_=o[_],p=[c,c*(1-h),c*(1-h*g),c*(1-h*(1-g))];return[p[_[0]],p[_[1]],p[_[2]]]},"rgb-hsl":function(l,h,c){var g=Math.max(l,h,c),_=Math.min(l,h,c),p=g-_,d=p===0,x=d?0:(g==l?(h-c)/p+(h<c?6:0):g==h?(c-l)/p+2:(l-h)/p+4)*60,b=(g+_)/2,P=d?0:b<.5?p/(g+_):p/(2-g-_);return[x,P,b]},"hsl-rgb":function(l,h,c){if(l=(l/360%1+1)%1,h===0)return[c,c,c];for(var g=[l+1/3,l,l-1/3],_=c<.5?c*(1+h):c+h-c*h,p=2*c-_,d=[],x=0;x<3;x++){var b=g[x];b<0&&(b+=1),b>1&&(b-=1),d[x]=6*b<1?p+(_-p)*6*b:2*b<1?_:3*b<2?p+(_-p)*(2/3-b)*6:p}return d},"rgb-gray":function(l,h,c){return[l*.2989+h*.587+c*.114]},"gray-rgb":function(l){return[l,l,l]},"gray-hsb":function(l){return[0,0,l]},"gray-hsl":function(l){return[0,0,l]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return A.each(e,function(l,h){t[h]=[],A.each(l,function(c,g){var _=A.capitalize(c),p=/^(hue|saturation)$/.test(c),d=t[h][g]=h==="gradient"?c==="gradient"?function(x){var b=this._components[0];return x=Rt.read(Array.isArray(x)?x:arguments,0,{readNull:!0}),b!==x&&(b&&b._removeOwner(this),x&&x._addOwner(this)),x}:function(){return V.read(arguments,0,{readNull:c==="highlight",clone:!0})}:function(x){return x==null||isNaN(x)?0:+x};this["get"+_]=function(){return this._type===h||p&&/^hs[bl]$/.test(this._type)?this._components[g]:this._convert(h)[g]},this["set"+_]=function(x){this._type!==h&&!(p&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(h),this._properties=e[h],this._type=h),this._components[g]=d.call(this,x),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function l(h){var c=arguments,g=this.__read,_=0,p,d,x,b;Array.isArray(h)&&(c=h,h=c[0]);var P=h!=null&&typeof h;if(P==="string"&&h in e&&(p=h,h=c[1],Array.isArray(h)?(d=h,x=c[2]):(g&&(_=1),c=A.slice(c,1),P=typeof h)),!d){if(b=P==="number"?c:P==="object"&&h.length!=null?h:null,b){p||(p=b.length>=3?"rgb":"gray");var v=e[p].length;x=b[v],g&&(_+=b===arguments?v+(x!=null?1:0):1),b.length>v&&(b=A.slice(b,0,v))}else if(P==="string"){var S=s(h);p=S[0],d=S[1],d.length===4&&(x=d[3],d.length--)}else if(P==="object")if(h.constructor===l){if(p=h._type,d=h._components.slice(),x=h._alpha,p==="gradient")for(var f=1,y=d.length;f<y;f++){var k=d[f];k&&(d[f]=k.clone())}}else if(h.constructor===Rt)p="gradient",b=c;else{p="hue"in h?"lightness"in h?"hsl":"hsb":"gradient"in h||"stops"in h||"radial"in h?"gradient":"gray"in h?"gray":"rgb";var T=e[p],C=t[p];this._components=d=[];for(var f=0,y=T.length;f<y;f++){var L=h[T[f]];L==null&&!f&&p==="gradient"&&"stops"in h&&(L={stops:h.stops,radial:h.radial}),L=C[f].call(this,L),L!=null&&(d[f]=L)}x=h.alpha}g&&p&&(_=1)}if(this._type=p||"rgb",!d){this._components=d=[];for(var C=t[this._type],f=0,y=C.length;f<y;f++){var L=C[f].call(this,b&&b[f]);L!=null&&(d[f]=L)}}return this._components=d,this._properties=e[this._type],this._alpha=x,g&&(this.__read=_),this},set:"#initialize",_serialize:function(l,h){var c=this.getComponents();return A.serialize(/^(gray|rgb)$/.test(this._type)?c:[this._type].concat(c),l,!0,h)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(l){var h;return this._type===l?this._components.slice():(h=u[this._type+"-"+l])?h.apply(this,this._components):u["rgb-"+l].apply(this,u[this._type+"-rgb"].apply(this,this._components))},convert:function(l){return new at(l,this._convert(l),this._alpha)},getType:function(){return this._type},setType:function(l){this._components=this._convert(l),this._properties=e[l],this._type=l},getComponents:function(){var l=this._components.slice();return this._alpha!=null&&l.push(this._alpha),l},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(l){this._alpha=l==null?null:Math.min(Math.max(l,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(l){var h=A.isPlainValue(l,!0)?at.read(arguments):l;return h===this||h&&this._class===h._class&&this._type===h._type&&this.getAlpha()===h.getAlpha()&&A.equals(this._components,h._components)||!1},toString:function(){for(var l=this._properties,h=[],c=this._type==="gradient",g=me.instance,_=0,p=l.length;_<p;_++){var d=this._components[_];d!=null&&h.push(l[_]+": "+(c?d:g.number(d)))}return this._alpha!=null&&h.push("alpha: "+g.number(this._alpha)),"{ "+h.join(", ")+" }"},toCSS:function(l){var h=this._convert("rgb"),c=l||this._alpha==null?1:this._alpha;function g(_){return Math.round((_<0?0:_>1?1:_)*255)}return h=[g(h[0]),g(h[1]),g(h[2])],c<1&&h.push(c<0?0:c),l?"#"+((1<<24)+(h[0]<<16)+(h[1]<<8)+h[2]).toString(16).slice(1):(h.length==4?"rgba(":"rgb(")+h.join(",")+")"},toCanvasStyle:function(l,h){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var c=this._components,g=c[0],_=g._stops,p=c[1],d=c[2],x=c[3],b=h&&h.inverted(),P;if(b&&(p=b._transformPoint(p),d=b._transformPoint(d),x&&(x=b._transformPoint(x))),g._radial){var v=d.getDistance(p);if(x){var S=x.subtract(p);S.getLength()>v&&(x=p.add(S.normalize(v-.1)))}var f=x||p;P=l.createRadialGradient(f.x,f.y,0,p.x,p.y,v)}else P=l.createLinearGradient(p.x,p.y,d.x,d.y);for(var y=0,k=_.length;y<k;y++){var T=_[y],C=T._offset;P.addColorStop(C??y/(k-1),T._color.toCanvasStyle())}return this._canvasStyle=P},transform:function(l){if(this._type==="gradient"){for(var h=this._components,c=1,g=h.length;c<g;c++){var _=h[c];l._transformPoint(_,_,!0)}this._changed()}},statics:{_types:e,random:function(){var l=Math.random;return new at(l(),l(),l())},_setOwner:function(l,h,c){return l&&(l._owner&&h&&l._owner!==h&&(l=l.clone()),!l._owner^!h&&(l._owner=h||null,l._setter=c||null)),l}}})},new function(){var e={add:function(t,r){return t+r},subtract:function(t,r){return t-r},multiply:function(t,r){return t*r},divide:function(t,r){return t/r}};return A.each(e,function(t,r){this[r]=function(n){n=at.read(arguments);for(var s=this._type,o=this._components,u=n._convert(s),l=0,h=o.length;l<h;l++)u[l]=t(o[l],u[l]);return new at(s,u,this._alpha!=null?t(this._alpha,n.getAlpha()):null)}},{})}),Rt=A.extend({_class:"Gradient",initialize:function(t,r){this._id=_e.get(),t&&A.isPlainObject(t)&&(this.set(t),t=r=null),this._stops==null&&this.setStops(t||["white","black"]),this._radial==null&&this.setRadial(typeof r=="string"&&r==="radial"||r||!1)},_serialize:function(e,t){return t.add(this,function(){return A.serialize([this._stops,this._radial],e,!0,t)})},_changed:function(){for(var e=0,t=this._owners&&this._owners.length;e<t;e++)this._owners[e]._changed()},_addOwner:function(e){this._owners||(this._owners=[]),this._owners.push(e)},_removeOwner:function(e){var t=this._owners?this._owners.indexOf(e):-1;t!=-1&&(this._owners.splice(t,1),this._owners.length||(this._owners=B))},clone:function(){for(var e=[],t=0,r=this._stops.length;t<r;t++)e[t]=this._stops[t].clone();return new Rt(e,this._radial)},getStops:function(){return this._stops},setStops:function(e){if(e.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var t=this._stops;if(t)for(var r=0,n=t.length;r<n;r++)t[r]._owner=B;t=this._stops=Jt.readList(e,0,{clone:!0});for(var r=0,n=t.length;r<n;r++)t[r]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(e){this._radial=e,this._changed()},equals:function(e){if(e===this)return!0;if(e&&this._class===e._class){var t=this._stops,r=e._stops,n=t.length;if(n===r.length){for(var s=0;s<n;s++)if(!t[s].equals(r[s]))return!1;return!0}}return!1}}),Jt=A.extend({_class:"GradientStop",initialize:function(t,r){var n=t,s=r;typeof t=="object"&&r===B&&(Array.isArray(t)&&typeof t[0]!="number"?(n=t[0],s=t[1]):("color"in t||"offset"in t||"rampPoint"in t)&&(n=t.color,s=t.offset||t.rampPoint||0)),this.setColor(n),this.setOffset(s)},clone:function(){return new Jt(this._color.clone(),this._offset)},_serialize:function(e,t){var r=this._color,n=this._offset;return A.serialize(n==null?[r]:[r,n],e,!0,t)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(e){this._offset=e,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){at._setOwner(this._color,null),this._color=at._setOwner(at.read(arguments,0),this,"setColor"),this._changed()},equals:function(e){return e===this||e&&this._class===e._class&&this._color.equals(e._color)&&this._offset==e._offset||!1}}),zt=A.extend(new function(){var e={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new V,selectedColor:null},t=A.set({},e,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),r=A.set({},t,{fillColor:new at}),n={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},s={beans:!0},o={_class:"Style",beans:!0,initialize:function(l,h,c){this._values={},this._owner=h,this._project=h&&h._project||c||nt.project,this._defaults=!h||h instanceof Me?t:h instanceof ht?r:e,l&&this.set(l)}};return A.each(t,function(u,l){var h=/Color$/.test(l),c=l==="shadowOffset",g=A.capitalize(l),_=n[l],p="set"+g,d="get"+g;o[p]=function(x){var b=this._owner,P=b&&b._children,v=P&&P.length>0&&!(b instanceof Ke);if(v)for(var S=0,f=P.length;S<f;S++)P[S]._style[p](x);if((l==="selectedColor"||!v)&&l in this._defaults){var y=this._values[l];y!==x&&(h&&(y&&(at._setOwner(y,null),y._canvasStyle=null),x&&x.constructor===at&&(x=at._setOwner(x,b,v&&p))),this._values[l]=x,b&&b._changed(_||129))}},o[d]=function(x){var b=this._owner,P=b&&b._children,v=P&&P.length>0&&!(b instanceof Ke),S;if(v&&!x)for(var f=0,y=P.length;f<y;f++){var k=P[f]._style[d]();if(!f)S=k;else if(!A.equals(S,k))return B}else if(l in this._defaults){var S=this._values[l];if(S===B)S=this._defaults[l],S&&S.clone&&(S=S.clone());else{var T=h?at:c?V:null;T&&!(S&&S.constructor===T)&&(this._values[l]=S=T.read([S],0,{readNull:!0,clone:!0}))}}return S&&h&&(S=at._setOwner(S,b,v&&p)),S},s[d]=function(x){return this._style[d](x)},s[p]=function(x){this._style[p](x)}}),A.each({Font:"FontFamily",WindingRule:"FillRule"},function(u,l){var h="get"+l,c="set"+l;o[h]=s[h]="#get"+u,o[c]=s[c]="#set"+u}),w.inject(s),o},{set:function(e){var t=e instanceof zt,r=t?e._values:e;if(r){for(var n in r)if(n in this._defaults){var s=r[n];this[n]=s&&t&&s.clone?s.clone():s}}},equals:function(e){function t(r,n,s){var o=r._values,u=n._values,l=n._defaults;for(var h in o){var c=o[h],g=u[h];if(!(s&&h in u)&&!A.equals(c,g===B?l[h]:g))return!1}return!0}return e===this||e&&this._class===e._class&&t(this,e)&&t(e,this,!0)||!1},_dispose:function(){var e;e=this.getFillColor(),e&&(e._canvasStyle=null),e=this.getStrokeColor(),e&&(e._canvasStyle=null),e=this.getShadowColor(),e&&(e._canvasStyle=null)},hasFill:function(){var e=this.getFillColor();return!!e&&e.alpha>0},hasStroke:function(){var e=this.getStrokeColor();return!!e&&e.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var e=this.getShadowColor();return!!e&&e.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var e=this.getFontSize();return this.getFontWeight()+" "+e+(/[a-z]/i.test(e+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function e(){var t=e.base.call(this),r=this.getFontSize();return/pt|em|%|px/.test(r)&&(r=this.getView().getPixelSize(r)),t??r*1.2}}),dt=new function(){function e(t,r,n,s){for(var o=["","webkit","moz","Moz","ms","o"],u=r[0].toUpperCase()+r.substring(1),l=0;l<6;l++){var h=o[l],c=h?h+u:r;if(c in t){if(n)t[c]=s;else return t[c];break}}}return{getStyles:function(t){var r=t&&t.nodeType!==9?t.ownerDocument:t,n=r&&r.defaultView;return n&&n.getComputedStyle(t,"")},getBounds:function(t,r){var n=t.ownerDocument,s=n.body,o=n.documentElement,u;try{u=t.getBoundingClientRect()}catch{u={left:0,top:0,width:0,height:0}}var l=u.left-(o.clientLeft||s.clientLeft||0),h=u.top-(o.clientTop||s.clientTop||0);if(!r){var c=n.defaultView;l+=c.pageXOffset||o.scrollLeft||s.scrollLeft,h+=c.pageYOffset||o.scrollTop||s.scrollTop}return new W(l,h,u.width,u.height)},getViewportBounds:function(t){var r=t.ownerDocument,n=r.defaultView,s=r.documentElement;return new W(0,0,n.innerWidth||s.clientWidth,n.innerHeight||s.clientHeight)},getOffset:function(t,r){return dt.getBounds(t,r).getPoint()},getSize:function(t){return dt.getBounds(t,!0).getSize()},isInvisible:function(t){return dt.getSize(t).equals(new Q(0,0))},isInView:function(t){return!dt.isInvisible(t)&&dt.getViewportBounds(t).intersects(dt.getBounds(t,!0))},isInserted:function(t){return j.body.contains(t)},getPrefixed:function(t,r){return t&&e(t,r)},setPrefixed:function(t,r,n){if(typeof r=="object")for(var s in r)e(t,s,!0,r[s]);else e(t,r,!0,n)}}},pt={add:function(e,t){if(e)for(var r in t)for(var n=t[r],s=r.split(/[\s,]+/g),o=0,u=s.length;o<u;o++){var l=s[o],h=e===j&&(l==="touchstart"||l==="touchmove")?{passive:!1}:!1;e.addEventListener(l,n,h)}},remove:function(e,t){if(e)for(var r in t)for(var n=t[r],s=r.split(/[\s,]+/g),o=0,u=s.length;o<u;o++)e.removeEventListener(s[o],n,!1)},getPoint:function(e){var t=e.targetTouches?e.targetTouches.length?e.targetTouches[0]:e.changedTouches[0]:e;return new V(t.pageX||t.clientX+j.documentElement.scrollLeft,t.pageY||t.clientY+j.documentElement.scrollTop)},getTarget:function(e){return e.target||e.srcElement},getRelatedTarget:function(e){return e.relatedTarget||e.toElement},getOffset:function(e,t){return pt.getPoint(e).subtract(dt.getOffset(t||pt.getTarget(e)))}};pt.requestAnimationFrame=new function(){var e=dt.getPrefixed(le,"requestAnimationFrame"),t=!1,r=[],n;function s(){var o=r;r=[];for(var u=0,l=o.length;u<l;u++)o[u]();t=e&&r.length,t&&e(s)}return function(o){r.push(o),e?t||(e(s),t=!0):n||(n=setInterval(s,1e3/60))}};var Pt=A.extend(ue,{_class:"View",initialize:function e(t,r){function n(_){return r[_]||parseInt(r.getAttribute(_),10)}function s(){var _=dt.getSize(r);return _.isNaN()||_.isZero()?new Q(n("width"),n("height")):_}var o;if(le&&r){this._id=r.getAttribute("id"),this._id==null&&r.setAttribute("id",this._id="paper-view-"+e._id++),pt.add(r,this._viewEvents);var u="none";if(dt.setPrefixed(r.style,{userDrag:u,userSelect:u,touchCallout:u,contentZooming:u,tapHighlightColor:"rgba(0,0,0,0)"}),X.hasAttribute(r,"resize")){var l=this;pt.add(le,this._windowEvents={resize:function(){l.setViewSize(s())}})}if(o=s(),X.hasAttribute(r,"stats")&&typeof Stats<"u"){this._stats=new Stats;var h=this._stats.domElement,c=h.style,g=dt.getOffset(r);c.position="absolute",c.left=g.x+"px",c.top=g.y+"px",j.body.appendChild(h)}}else o=new Q(r),r=null;this._project=t,this._scope=t._scope,this._element=r,this._pixelRatio||(this._pixelRatio=le&&le.devicePixelRatio||1),this._setElementSize(o.width,o.height),this._viewSize=o,e._views.push(this),e._viewsById[this._id]=this,(this._matrix=new ve)._owner=this,e._focused||(e._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!nt.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;Pt._focused===this&&(Pt._focused=null),Pt._views.splice(Pt._views.indexOf(this),1),delete Pt._viewsById[this._id];var e=this._project;return e._view===this&&(e._view=null),pt.remove(this._element,this._viewEvents),pt.remove(le,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:A.each(w._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(e){this[e]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(e){this._autoUpdate=e,e&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var e=this;pt.requestAnimationFrame(function(){if(e._requested=!1,e._animate){e.requestUpdate();var t=e._element;(!dt.getPrefixed(j,"hidden")||X.getAttribute(t,"keepalive")==="true")&&dt.isInView(t)&&e._handleFrame()}e._autoUpdate&&e.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){nt=this._scope;var e=Date.now()/1e3,t=this._last?e-this._last:0;this._last=e,this.emit("frame",new A({delta:t,time:this._time+=t,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(e,t){var r=this._frameItems;t?(r[e._id]={item:e,time:0,count:0},++this._frameItemCount===1&&this.on("frame",this._handleFrameItems)):(delete r[e._id],--this._frameItemCount===0&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(e){for(var t in this._frameItems){var r=this._frameItems[t];r.item.emit("frame",new A(e,{time:r.time+=e.delta,count:r.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=B},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var e=this._viewSize;return new se(e.width,e.height,this,"setViewSize")},setViewSize:function(){var e=Q.read(arguments),t=e.subtract(this._viewSize);t.isZero()||(this._setElementSize(e.width,e.height),this._viewSize.set(e),this._changed(),this.emit("resize",{size:e,delta:t}),this._autoUpdate&&this.update())},_setElementSize:function(e,t){var r=this._element;r&&(r.width!==e&&(r.width=e),r.height!==t&&(r.height=t))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new W(new V,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return dt.isInView(this._element)},isInserted:function(){return dt.isInserted(this._element)},getPixelSize:function(e){var t=this._element,r;if(t){var n=t.parentNode,s=j.createElement("div");s.style.fontSize=e,n.appendChild(s),r=parseFloat(dt.getStyles(s).fontSize),n.removeChild(s)}else r=parseFloat(r);return r},getTextWidth:function(e,t){return 0}},A.each(["rotate","scale","shear","skew"],function(e){var t=e==="rotate";this[e]=function(){var r=arguments,n=(t?A:V).read(r),s=V.read(r,0,{readNull:!0});return this.transform(new ve()[e](n,s||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var e=new ve;return this.transform(e.translate.apply(e,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var e=V.read(arguments);this.translate(this.getCenter().subtract(e))},getZoom:function(){var e=this._decompose().scaling;return(e.x+e.y)/2},setZoom:function(e){this.transform(new ve().scale(e/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(e){var t=this.getRotation();t!=null&&e!=null&&this.rotate(e-t)},getScaling:function(){var e=this._decompose().scaling;return new Se(e.x,e.y,this,"setScaling")},setScaling:function(){var e=this.getScaling(),t=V.read(arguments,0,{clone:!0,readNull:!0});e&&t&&this.scale(t.x/e.x,t.y/e.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.set.apply(e,arguments)},transform:function(e){this._matrix.append(e)},scrollBy:function(){this.translate(V.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(V.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(V.read(arguments))},getEventPoint:function(e){return this.viewToProject(pt.getOffset(e,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(e,t){j&&typeof t=="string"&&(t=j.getElementById(t));var r=le?Lt:Pt;return new r(e,t)}}},new function(){if(!le)return;var e,t,r=!1,n=!1;function s(R){var F=pt.getTarget(R);return F.getAttribute&&Pt._viewsById[F.getAttribute("id")]}function o(){var R=Pt._focused;if(!R||!R.isVisible()){for(var F=0,q=Pt._views.length;F<q;F++)if((R=Pt._views[F]).isVisible()){Pt._focused=t=R;break}}}function u(R,F,q){R._handleMouseEvent("mousemove",F,q)}var l=le.navigator,h,c,g;l.pointerEnabled||l.msPointerEnabled?(h="pointerdown MSPointerDown",c="pointermove MSPointerMove",g="pointerup pointercancel MSPointerUp MSPointerCancel"):(h="touchstart",c="touchmove",g="touchend touchcancel","ontouchstart"in le&&l.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(h+=" mousedown",c+=" mousemove",g+=" mouseup"));var _={},p={mouseout:function(R){var F=Pt._focused,q=pt.getRelatedTarget(R);if(F&&(!q||q.nodeName==="HTML")){var H=pt.getOffset(R,F._element),G=H.x,Z=Math.abs,ie=Z(G),be=1<<25,Pe=ie-be;H.x=Z(Pe)<ie?Pe*(G<0?-1:1):G,u(F,R,F.viewToProject(H))}},scroll:o};_[h]=function(R){var F=Pt._focused=s(R);r||(r=!0,F._handleMouseEvent("mousedown",R))},p[c]=function(R){var F=Pt._focused;if(!n){var q=s(R);q?F!==q&&(F&&u(F,R),e||(e=F),F=Pt._focused=t=q):t&&t===F&&(e&&!e.isInserted()&&(e=null),F=Pt._focused=e,e=null,o())}F&&u(F,R)},p[h]=function(){n=!0},p[g]=function(R){var F=Pt._focused;F&&r&&F._handleMouseEvent("mouseup",R),n=r=!1},pt.add(j,p),pt.add(le,{load:o});var d=!1,x=!1,b={doubleclick:"click",mousedrag:"mousemove"},P=!1,v,S,f,y,k,T,C,L;function O(R,F,q,H,G,Z,ie){var be=!1,Pe;function Ve(ee,ae){if(ee.responds(ae)){if(Pe||(Pe=new Wt(ae,H,G,F||ee,Z?G.subtract(Z):null)),ee.emit(ae,Pe)&&(d=!0,Pe.prevented&&(x=!0),Pe.stopped))return be=!0}else{var Ce=b[ae];if(Ce)return Ve(ee,Ce)}}for(;R&&R!==ie&&!Ve(R,q);)R=R._parent;return be}function M(R,F,q,H,G,Z){return R._project.removeOn(q),x=d=!1,k&&O(k,null,q,H,G,Z)||F&&F!==k&&!F.isDescendant(k)&&O(F,null,q==="mousedrag"?"mousemove":q,H,G,Z,k)||O(R,k||F||R,q,H,G,Z)}var $={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:_,_handleMouseEvent:function(R,F,q){var H=this._itemEvents,G=H.native[R],Z=R==="mousemove",ie=this._scope.tool,be=this;function Pe(ot){return H.virtual[ot]||be.responds(ot)||ie&&ie.responds(ot)}Z&&r&&Pe("mousedrag")&&(R="mousedrag"),q||(q=this.getEventPoint(F));var Ve=this.getBounds().contains(q),ee=G&&Ve&&be._project.hitTest(q,{tolerance:0,fill:!0,stroke:!0}),ae=ee&&ee.item||null,Ce=!1,Ae={};if(Ae[R.substr(5)]=!0,G&&ae!==y&&(y&&O(y,null,"mouseleave",F,q),ae&&O(ae,null,"mouseenter",F,q),y=ae),P^Ve&&(O(this,null,Ve?"mouseenter":"mouseleave",F,q),Ce=!0),(Ve||Ae.drag)&&!q.equals(S)&&(M(this,ae,Z?R:"mousemove",F,q,S),Ce=!0),P=Ve,Ae.down&&Ve||Ae.up&&v){if(M(this,ae,R,F,q,v),Ae.down){if(L=ae===T&&Date.now()-C<300,f=T=ae,!x&&ae){for(var Fe=ae;Fe&&!Fe.responds("mousedrag");)Fe=Fe._parent;Fe&&(k=ae)}v=q}else Ae.up&&(!x&&ae===f&&(C=Date.now(),M(this,ae,L?"doubleclick":"click",F,q,v),L=!1),f=k=null);P=!1,Ce=!0}S=q,Ce&&ie&&(d=ie._handleMouseEvent(R,F,q,Ae)||d),F.cancelable!==!1&&(d&&!Ae.move||Ae.down&&Pe("mouseup"))&&F.preventDefault()},_handleKeyEvent:function(R,F,q,H){var G=this._scope,Z=G.tool,ie;function be(Pe){Pe.responds(R)&&(nt=G,Pe.emit(R,ie=ie||new ei(R,F,q,H)))}this.isVisible()&&(be(this),Z&&Z.responds(R)&&be(Z))},_countItemEvent:function(R,F){var q=this._itemEvents,H=q.native,G=q.virtual;for(var Z in $)H[Z]=(H[Z]||0)+($[Z][R]||0)*F;G[R]=(G[R]||0)+F},statics:{updateFocus:o,_resetState:function(){r=n=d=P=!1,e=t=v=S=f=y=k=T=C=L=null}}}}),Lt=Pt.extend({_class:"CanvasView",initialize:function(t,r){if(!(r instanceof le.HTMLCanvasElement)){var n=Q.read(arguments,1);if(n.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+A.slice(arguments,1));r=je.getCanvas(n)}var s=this._context=r.getContext("2d");if(s.save(),this._pixelRatio=1,!/^off|false$/.test(X.getAttribute(r,"hidpi"))){var o=le.devicePixelRatio||1,u=dt.getPrefixed(s,"backingStorePixelRatio")||1;this._pixelRatio=o/u}Pt.call(this,t,r),this._needsUpdate=!0},remove:function e(){return this._context.restore(),e.base.call(this)},_setElementSize:function e(t,r){var n=this._pixelRatio;if(e.base.call(this,t*n,r*n),n!==1){var s=this._element,o=this._context;if(!X.hasAttribute(s,"resize")){var u=s.style;u.width=t+"px",u.height=r+"px"}o.restore(),o.save(),o.scale(n,n)}},getContext:function(){return this._context},getPixelSize:function e(t){var r=nt.agent,n;if(r&&r.firefox)n=e.base.call(this,t);else{var s=this._context,o=s.font;s.font=t+" serif",n=parseFloat(s.font),s.font=o}return n},getTextWidth:function(e,t){var r=this._context,n=r.font,s=0;r.font=e;for(var o=0,u=t.length;o<u;o++)s=Math.max(s,r.measureText(t[o]).width);return r.font=n,s},update:function(){if(!this._needsUpdate)return!1;var e=this._project,t=this._context,r=this._viewSize;return t.clearRect(0,0,r.width+1,r.height+1),e&&e.draw(t,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),ai=A.extend({_class:"Event",initialize:function(t){this.event=t,this.type=t&&t.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return Ft.modifiers}}),ei=ai.extend({_class:"KeyEvent",initialize:function(t,r,n,s){this.type=t,this.event=r,this.key=n,this.character=s},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),Ft=new function(){var e={"	":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},t={tab:"	",space:" ",enter:"\r"},r={},n={},s,o,u=new A({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var c=nt&&nt.agent;return c&&c.mac?this.meta:this.control}}});function l(c){var g=c.key||c.keyIdentifier;return g=/^U\+/.test(g)?String.fromCharCode(parseInt(g.substr(2),16)):/^Arrow[A-Z]/.test(g)?g.substr(5):g==="Unidentified"||g===B?String.fromCharCode(c.keyCode):g,e[g]||(g.length>1?A.hyphenate(g):g.toLowerCase())}function h(c,g,_,p){var d=Pt._focused,x;if(r[g]=c,c?n[g]=_:delete n[g],g.length>1&&(x=A.camelize(g))in u){u[x]=c;var b=nt&&nt.agent;if(x==="meta"&&b&&b.mac)if(c)s={};else{for(var P in s)P in n&&h(!1,P,s[P],p);s=null}}else c&&s&&(s[g]=_);d&&d._handleKeyEvent(c?"keydown":"keyup",p,g,_)}return pt.add(j,{keydown:function(c){var g=l(c),_=nt&&nt.agent;g.length>1||_&&_.chrome&&(c.altKey||_.mac&&c.metaKey||!_.mac&&c.ctrlKey)?h(!0,g,t[g]||(g.length>1?"":g),c):o=g},keypress:function(c){if(o){var g=l(c),_=c.charCode,p=_>=32?String.fromCharCode(_):g.length>1?"":g;g!==o&&(g=p.toLowerCase()),h(!0,g,p,c),o=null}},keyup:function(c){var g=l(c);g in n&&h(!1,g,n[g],c)}}),pt.add(le,{blur:function(c){for(var g in n)h(!1,g,n[g],c)}}),{modifiers:u,isDown:function(c){return!!r[c]}}},Wt=ai.extend({_class:"MouseEvent",initialize:function(t,r,n,s,o){this.type=t,this.event=r,this.point=n,this.target=s,this.delta=o},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),Vt=ai.extend({_class:"ToolEvent",_item:null,initialize:function(t,r,n){this.tool=t,this.type=r,this.event=n},_choosePoint:function(e,t){return e||(t?t.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(e){this._point=e},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(e){this._lastPoint=e},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(e){this._downPoint=e},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(e){this._middlePoint=e},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(e){this._delta=e},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(e){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=e},getItem:function(){if(!this._item){var e=this.tool._scope.project.hitTest(this.getPoint());if(e){for(var t=e.item,r=t._parent;/^(Group|CompoundPath)$/.test(r._class);)t=r,r=r._parent;this._item=t}}return this._item},setItem:function(e){this._item=e},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),hi=fe.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(t){fe.call(this),this._moveCount=-1,this._downCount=-1,this.set(t)},getMinDistance:function(){return this._minDistance},setMinDistance:function(e){this._minDistance=e,e!=null&&this._maxDistance!=null&&e>this._maxDistance&&(this._maxDistance=e)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(e){this._maxDistance=e,this._minDistance!=null&&e!=null&&e<this._minDistance&&(this._minDistance=e)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(e){this._minDistance=this._maxDistance=e},_handleMouseEvent:function(e,t,r,n){nt=this._scope,n.drag&&!this.responds(e)&&(e="mousemove");var s=n.move||n.drag,o=this.responds(e),u=!1,l=this;function h(g,_){var p=r,d=s?l._point:l._downPoint||p;if(s){if(l._moveCount>=0&&p.equals(d))return!1;if(d&&(g!=null||_!=null)){var x=p.subtract(d),b=x.getLength();if(b<(g||0))return!1;_&&(p=d.add(x.normalize(Math.min(b,_))))}l._moveCount++}return l._point=p,l._lastPoint=d||p,n.down&&(l._moveCount=-1,l._downPoint=p,l._downCount++),!0}function c(){o&&(u=l.emit(e,new Vt(l,e,t))||u)}if(n.down)h(),c();else if(n.up)h(null,this._maxDistance),c();else if(o)for(;h(this._minDistance,this._maxDistance);)c();return u}}),_i=A.extend(ue,{_class:"Tween",statics:{easings:new A({linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+2*(2-e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}})},initialize:function e(t,r,n,s,o,u){this.object=t;var l=typeof o,h=l==="function";this.type=h?l:l==="string"?o:"linear",this.easing=h?o:e.easings[this.type],this.duration=s,this.running=!1,this._then=null,this._startTime=null;var c=r||n;this._keys=c?Object.keys(c):[],this._parsedKeys=this._parseKeys(this._keys),this._from=c&&this._getState(r),this._to=c&&this._getState(n),u!==!1&&this.start()},then:function(e){return this._then=e,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(e){if(this.running){e>=1&&(e=1,this.running=!1);for(var t=this.easing(e),r=this._keys,n=function(g){return typeof g=="function"?g(t,e):g},s=0,o=r&&r.length;s<o;s++){var u=r[s],l=n(this._from[u]),h=n(this._to[u]),c=l&&h&&l.__add&&h.__add?h.__subtract(l).__multiply(t).__add(l):(h-l)*t+l;this._setProperty(this._parsedKeys[u],c)}this.responds("update")&&this.emit("update",new A({progress:e,factor:t})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(e){var t=this._startTime,r=t?(e-t)/this.duration:0;t||(this._startTime=e),this.update(r)},_getState:function(e){for(var t=this._keys,r={},n=0,s=t.length;n<s;n++){var o=t[n],u=this._parsedKeys[o],l=this._getProperty(u),h;if(e){var c=this._resolveValue(l,e[o]);this._setProperty(u,c),h=this._getProperty(u),h=h&&h.clone?h.clone():h,this._setProperty(u,l)}else h=l&&l.clone?l.clone():l;r[o]=h}return r},_resolveValue:function(e,t){if(t){if(Array.isArray(t)&&t.length===2){var r=t[0];return r&&r.match&&r.match(/^[+\-\*\/]=/)?this._calculate(e,r[0],t[1]):t}else if(typeof t=="string"){var n=t.match(/^[+\-*/]=(.*)/);if(n){var s=JSON.parse(n[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(e,t[0],s)}}}return t},_calculate:function(e,t,r){return nt.PaperScript.calculateBinary(e,t,r)},_parseKeys:function(e){for(var t={},r=0,n=e.length;r<n;r++){var s=e[r],o=s.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");t[s]=o.split("/")}return t},_getProperty:function(e,t){for(var r=this.object,n=0,s=e.length-(t||0);n<s&&r;n++)r=r[e[n]];return r},_setProperty:function(e,t){var r=this._getProperty(e,1);r&&(r[e[e.length-1]]=t)}}),Ni={request:function(e){var t=new N.XMLHttpRequest;return t.open((e.method||"get").toUpperCase(),e.url,A.pick(e.async,!0)),e.mimeType&&t.overrideMimeType(e.mimeType),t.onload=function(){var r=t.status;r===0||r===200?e.onLoad&&e.onLoad.call(t,t.responseText):t.onerror()},t.onerror=function(){var r=t.status,n='Could not load "'+e.url+'" (Status: '+r+")";if(e.onError)e.onError(n,r);else throw new Error(n)},t.send(null)}},je=A.exports.CanvasProvider={canvases:[],getCanvas:function(e,t,r){if(!le)return null;var n,s=!0;typeof e=="object"&&(t=e.height,e=e.width),this.canvases.length?n=this.canvases.pop():(n=j.createElement("canvas"),s=!1);var o=n.getContext("2d",r||{});if(!o)throw new Error("Canvas "+n+" is unable to provide a 2D context.");return n.width===e&&n.height===t?s&&o.clearRect(0,0,e+1,t+1):(n.width=e,n.height=t),o.save(),n},getContext:function(e,t,r){var n=this.getCanvas(e,t,r);return n?n.getContext("2d",r||{}):null},release:function(e){var t=e&&e.canvas?e.canvas:e;t&&t.getContext&&(t.getContext("2d").restore(),this.canvases.push(t))}},Ue=new function(){var e=Math.min,t=Math.max,r=Math.abs,n,s,o,u,l,h,c,g,_,p,d;function x(k,T,C){return .2989*k+.587*T+.114*C}function b(k,T,C,M){var O=M-x(k,T,C);_=k+O,p=T+O,d=C+O;var M=x(_,p,d),$=e(_,p,d),R=t(_,p,d);if($<0){var F=M-$;_=M+(_-M)*M/F,p=M+(p-M)*M/F,d=M+(d-M)*M/F}if(R>255){var q=255-M,H=R-M;_=M+(_-M)*q/H,p=M+(p-M)*q/H,d=M+(d-M)*q/H}}function P(k,T,C){return t(k,T,C)-e(k,T,C)}function v(k,T,C,L){var O=[k,T,C],M=t(k,T,C),$=e(k,T,C),R;$=$===k?0:$===T?1:2,M=M===k?0:M===T?1:2,R=e($,M)===0?t($,M)===1?2:1:0,O[M]>O[$]?(O[R]=(O[R]-O[$])*L/(O[M]-O[$]),O[M]=L):O[R]=O[M]=0,O[$]=0,_=O[0],p=O[1],d=O[2]}var S={multiply:function(){_=l*n/255,p=h*s/255,d=c*o/255},screen:function(){_=l+n-l*n/255,p=h+s-h*s/255,d=c+o-c*o/255},overlay:function(){_=l<128?2*l*n/255:255-2*(255-l)*(255-n)/255,p=h<128?2*h*s/255:255-2*(255-h)*(255-s)/255,d=c<128?2*c*o/255:255-2*(255-c)*(255-o)/255},"soft-light":function(){var k=n*l/255;_=k+l*(255-(255-l)*(255-n)/255-k)/255,k=s*h/255,p=k+h*(255-(255-h)*(255-s)/255-k)/255,k=o*c/255,d=k+c*(255-(255-c)*(255-o)/255-k)/255},"hard-light":function(){_=n<128?2*n*l/255:255-2*(255-n)*(255-l)/255,p=s<128?2*s*h/255:255-2*(255-s)*(255-h)/255,d=o<128?2*o*c/255:255-2*(255-o)*(255-c)/255},"color-dodge":function(){_=l===0?0:n===255?255:e(255,255*l/(255-n)),p=h===0?0:s===255?255:e(255,255*h/(255-s)),d=c===0?0:o===255?255:e(255,255*c/(255-o))},"color-burn":function(){_=l===255?255:n===0?0:t(0,255-(255-l)*255/n),p=h===255?255:s===0?0:t(0,255-(255-h)*255/s),d=c===255?255:o===0?0:t(0,255-(255-c)*255/o)},darken:function(){_=l<n?l:n,p=h<s?h:s,d=c<o?c:o},lighten:function(){_=l>n?l:n,p=h>s?h:s,d=c>o?c:o},difference:function(){_=l-n,_<0&&(_=-_),p=h-s,p<0&&(p=-p),d=c-o,d<0&&(d=-d)},exclusion:function(){_=l+n*(255-l-l)/255,p=h+s*(255-h-h)/255,d=c+o*(255-c-c)/255},hue:function(){v(n,s,o,P(l,h,c)),b(_,p,d,x(l,h,c))},saturation:function(){v(l,h,c,P(n,s,o)),b(_,p,d,x(l,h,c))},luminosity:function(){b(l,h,c,x(n,s,o))},color:function(){b(n,s,o,x(l,h,c))},add:function(){_=e(l+n,255),p=e(h+s,255),d=e(c+o,255)},subtract:function(){_=t(l-n,0),p=t(h-s,0),d=t(c-o,0)},average:function(){_=(l+n)/2,p=(h+s)/2,d=(c+o)/2},negation:function(){_=255-r(255-n-l),p=255-r(255-s-h),d=255-r(255-o-c)}},f=this.nativeModes=A.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(k){this[k]=!0},{}),y=je.getContext(1,1,{willReadFrequently:!0});y&&(A.each(S,function(k,T){var C=T==="darken",L=!1;y.save();try{y.fillStyle=C?"#300":"#a00",y.fillRect(0,0,1,1),y.globalCompositeOperation=T,y.globalCompositeOperation===T&&(y.fillStyle=C?"#a00":"#300",y.fillRect(0,0,1,1),L=y.getImageData(0,0,1,1).data[0]!==C?170:51)}catch{}y.restore(),f[T]=L}),je.release(y)),this.process=function(k,T,C,L,O){var M=T.canvas,$=k==="normal";if($||f[k])C.save(),C.setTransform(1,0,0,1,0,0),C.globalAlpha=L,$||(C.globalCompositeOperation=k),C.drawImage(M,O.x,O.y),C.restore();else{var R=S[k];if(!R)return;for(var F=C.getImageData(O.x,O.y,M.width,M.height),q=F.data,H=T.getImageData(0,0,M.width,M.height).data,G=0,Z=q.length;G<Z;G+=4){n=H[G],l=q[G],s=H[G+1],h=q[G+1],o=H[G+2],c=q[G+2],u=H[G+3],g=q[G+3],R();var ie=u*L/255,be=1-ie;q[G]=ie*_+be*l,q[G+1]=ie*p+be*h,q[G+2]=ie*d+be*c,q[G+3]=u*L+be*g}C.putImageData(F,O.x,O.y)}}},Je=new function(){var e="http://www.w3.org/2000/svg",t="http://www.w3.org/2000/xmlns",r="http://www.w3.org/1999/xlink",n={href:r,xlink:t,xmlns:t+"/","xmlns:xlink":t+"/"};function s(l,h,c){return u(j.createElementNS(e,l),h,c)}function o(l,h){var c=n[h],g=c?l.getAttributeNS(c,h):l.getAttribute(h);return g==="null"?null:g}function u(l,h,c){for(var g in h){var _=h[g],p=n[g];typeof _=="number"&&c&&(_=c.number(_)),p?l.setAttributeNS(p,g,_):l.setAttribute(g,_)}return l}return{svg:e,xmlns:t,xlink:r,create:s,get:o,set:u}},gt=A.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(e,t){return!t&&(e instanceof Ye||e instanceof Ze||e instanceof ht)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(e,t){var r=A.capitalize(t),n=e[2];this[t]={type:e[1],property:t,attribute:e[0],toSVG:n,fromSVG:n&&A.each(n,function(s,o){this[s]=o},{}),exportFilter:e[3],get:"get"+r,set:"set"+r}},{});new function(){var e;function t(S,f,y){var k=new A,T=S.getTranslation();if(f){var C;S.isInvertible()?(S=S._shiftless(),C=S._inverseTransform(T),T=null):C=new V,k[y?"cx":"x"]=C.x,k[y?"cy":"y"]=C.y}if(!S.isIdentity()){var L=S.decompose();if(L){var O=[],M=L.rotation,$=L.scaling,R=L.skewing;T&&!T.isZero()&&O.push("translate("+e.point(T)+")"),M&&O.push("rotate("+e.number(M)+")"),(!re.isZero($.x-1)||!re.isZero($.y-1))&&O.push("scale("+e.point($)+")"),R.x&&O.push("skewX("+e.number(R.x)+")"),R.y&&O.push("skewY("+e.number(R.y)+")"),k.transform=O.join(" ")}else k.transform="matrix("+S.getValues().join(",")+")"}return k}function r(S,f){for(var y=t(S._matrix),k=S._children,T=Je.create("g",y,e),C=0,L=k.length;C<L;C++){var O=k[C],M=P(O,f);if(M)if(O.isClipMask()){var $=Je.create("clipPath");$.appendChild(M),x(O,$,"clip"),Je.set(T,{"clip-path":"url(#"+$.id+")"})}else T.appendChild(M)}return T}function n(S,f){var y=t(S._matrix,!0),k=S.getSize(),T=S.getImage();return y.x-=k.width/2,y.y-=k.height/2,y.width=k.width,y.height=k.height,y.href=f.embedImages==!1&&T&&T.src||S.toDataURL(),Je.create("image",y,e)}function s(S,f){var y=f.matchShapes;if(y){var k=S.toShape(!1);if(k)return o(k)}var T=S._segments,C=T.length,L,O=t(S._matrix);if(y&&C>=2&&!S.hasHandles())if(C>2){L=S._closed?"polygon":"polyline";for(var M=[],$=0;$<C;$++)M.push(e.point(T[$]._point));O.points=M.join(" ")}else{L="line";var R=T[0]._point,F=T[1]._point;O.set({x1:R.x,y1:R.y,x2:F.x,y2:F.y})}else L="path",O.d=S.getPathData(null,f.precision);return Je.create(L,O,e)}function o(S){var f=S._type,y=S._radius,k=t(S._matrix,!0,f!=="rectangle");if(f==="rectangle"){f="rect";var T=S._size,C=T.width,L=T.height;k.x-=C/2,k.y-=L/2,k.width=C,k.height=L,y.isZero()&&(y=null)}return y&&(f==="circle"?k.r=y:(k.rx=y.width,k.ry=y.height)),Je.create(f,k,e)}function u(S,f){var y=t(S._matrix),k=S.getPathData(null,f.precision);return k&&(y.d=k),Je.create("path",y,e)}function l(S,f){var y=t(S._matrix,!0),k=S._definition,T=d(k,"symbol"),C=k._item,L=C.getStrokeBounds();return T||(T=Je.create("symbol",{viewBox:e.rectangle(L)}),T.appendChild(P(C,f)),x(k,T,"symbol")),y.href="#"+T.id,y.x+=L.x,y.y+=L.y,y.width=L.width,y.height=L.height,y.overflow="visible",Je.create("use",y,e)}function h(S){var f=d(S,"color");if(!f){var y=S.getGradient(),k=y._radial,T=S.getOrigin(),C=S.getDestination(),L;if(k){L={cx:T.x,cy:T.y,r:T.getDistance(C)};var O=S.getHighlight();O&&(L.fx=O.x,L.fy=O.y)}else L={x1:T.x,y1:T.y,x2:C.x,y2:C.y};L.gradientUnits="userSpaceOnUse",f=Je.create((k?"radial":"linear")+"Gradient",L,e);for(var M=y._stops,$=0,R=M.length;$<R;$++){var F=M[$],q=F._color,H=q.getAlpha(),G=F._offset;L={offset:G??$/(R-1)},q&&(L["stop-color"]=q.toCSS(!0)),H<1&&(L["stop-opacity"]=H),f.appendChild(Je.create("stop",L,e))}x(S,f,"color")}return"url(#"+f.id+")"}function c(S){var f=Je.create("text",t(S._matrix,!0),e);return f.textContent=S._content,f}var g={Group:r,Layer:r,Raster:n,Path:s,Shape:o,CompoundPath:u,SymbolItem:l,PointText:c};function _(S,f,y,k){var T={},C=!k&&S.getParent(),L=[];return S._name!=null&&(T.id=S._name),A.each(gt,function(O){var M=O.get,$=O.type,R=S[M]();if(O.exportFilter?O.exportFilter(S,R):y.reduceAttributes==!1||!C||!A.equals(C[M](),R)){if($==="color"&&R!=null){var F=R.getAlpha();F<1&&(T[O.attribute+"-opacity"]=F)}$==="style"?L.push(O.attribute+": "+R):T[O.attribute]=R==null?"none":$==="color"?R.gradient?h(R):R.toCSS(!0):$==="array"?R.join(","):$==="lookup"?O.toSVG[R]:R}}),L.length&&(T.style=L.join(";")),T.opacity===1&&delete T.opacity,S._visible||(T.visibility="hidden"),Je.set(f,T,e)}var p;function d(S,f){return p||(p={ids:{},svgs:{}}),S&&p.svgs[f+"-"+(S._id||S.__id||(S.__id=_e.get("svg")))]}function x(S,f,y){p||d();var k=p.ids[y]=(p.ids[y]||0)+1;f.id=y+"-"+k,p.svgs[y+"-"+(S._id||S.__id)]=f}function b(S,f){var y=S,k=null;if(p){y=S.nodeName.toLowerCase()==="svg"&&S;for(var T in p.svgs)k||(y||(y=Je.create("svg"),y.appendChild(S)),k=y.insertBefore(Je.create("defs"),y.firstChild)),k.appendChild(p.svgs[T]);p=null}return f.asString?new N.XMLSerializer().serializeToString(y):y}function P(S,f,y){var k=g[S._class],T=k&&k(S,f);if(T){var C=f.onExport;C&&(T=C(S,T,f)||T);var L=JSON.stringify(S._data);L&&L!=="{}"&&L!=="null"&&T.setAttribute("data-paper-data",L)}return T&&_(S,T,f,y)}function v(S){return S||(S={}),e=new me(S.precision),S}w.inject({exportSVG:function(S){return S=v(S),b(P(this,S,!0),S)}}),xe.inject({exportSVG:function(S){S=v(S);var f=this._children,y=this.getView(),k=A.pick(S.bounds,"view"),T=S.matrix||k==="view"&&y._matrix,C=T&&ve.read([T]),L=k==="view"?new W([0,0],y.getViewSize()):k==="content"?w._getBounds(f,C,{stroke:!0}).rect:W.read([k],0,{readNull:!0}),O={version:"1.1",xmlns:Je.svg,"xmlns:xlink":Je.xlink};L&&(O.width=L.width,O.height=L.height,(L.x||L.x===0||L.y||L.y===0)&&(O.viewBox=e.rectangle(L)));var M=Je.create("svg",O,e),$=M;C&&!C.isIdentity()&&($=M.appendChild(Je.create("g",t(C),e)));for(var R=0,F=f.length;R<F;R++)$.appendChild(P(f[R],S,!0));return b(M,S)}})},new function(){var e={},t;function r(f,y,k,T,C,L){var O=Je.get(f,y)||L,M=O==null?T?null:k?"":0:k?O:parseFloat(O);return/%\s*$/.test(O)?M/100*(C?1:t[/x|^width/.test(y)?"width":"height"]):M}function n(f,y,k,T,C,L,O){return y=r(f,y||"x",!1,T,C,L),k=r(f,k||"y",!1,T,C,O),T&&(y==null||k==null)?null:new V(y,k)}function s(f,y,k,T,C){return y=r(f,y||"width",!1,T,C),k=r(f,k||"height",!1,T,C),T&&(y==null||k==null)?null:new Q(y,k)}function o(f,y,k){return f==="none"?null:y==="number"?parseFloat(f):y==="array"?f?f.split(/[\s,]+/g).map(parseFloat):[]:y==="color"?P(f)||f:y==="lookup"?k[f]:f}function u(f,y,k,T){var C=f.childNodes,L=y==="clippath",O=y==="defs",M=new Me,$=M._project,R=$._currentStyle,F=[];if(!L&&!O&&(M=b(M,f,T),$._currentStyle=M._style.clone()),T)for(var q=f.querySelectorAll("defs"),H=0,G=q.length;H<G;H++)v(q[H],k,!1);for(var H=0,G=C.length;H<G;H++){var Z=C[H],ie;Z.nodeType===1&&!/^defs$/i.test(Z.nodeName)&&(ie=v(Z,k,!1))&&!(ie instanceof ut)&&F.push(ie)}return M.addChildren(F),L&&(M=b(M.reduce(),f,T)),$._currentStyle=R,(L||O)&&(M.remove(),M=null),M}function l(f,y){for(var k=f.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),T=[],C=0,L=k.length;C<L;C+=2)T.push(new V(parseFloat(k[C]),parseFloat(k[C+1])));var O=new Le(T);return y==="polygon"&&O.closePath(),O}function h(f){return Ye.create(f.getAttribute("d"))}function c(f,y){var k=(r(f,"href",!0)||"").substring(1),T=y==="radialgradient",C;if(k)C=e[k].getGradient(),C._radial^T&&(C=C.clone(),C._radial=T);else{for(var L=f.childNodes,O=[],M=0,$=L.length;M<$;M++){var R=L[M];R.nodeType===1&&O.push(b(new Jt,R))}C=new Rt(O,T)}var F,q,H,G=r(f,"gradientUnits",!0)!=="userSpaceOnUse";T?(F=n(f,"cx","cy",!1,G,"50%","50%"),q=F.add(r(f,"r",!1,!1,G,"50%"),0),H=n(f,"fx","fy",!0,G)):(F=n(f,"x1","y1",!1,G,"0%","0%"),q=n(f,"x2","y2",!1,G,"100%","0%"));var Z=b(new at(C,F,q,H),f);return Z._scaleToBounds=G,null}var g={"#document":function(f,y,k,T){for(var C=f.childNodes,L=0,O=C.length;L<O;L++){var M=C[L];if(M.nodeType===1)return v(M,k,T)}},g:u,svg:u,clippath:u,polygon:l,polyline:l,path:h,lineargradient:c,radialgradient:c,image:function(f){var y=new st(r(f,"href",!0));return y.on("load",function(){var k=s(f);this.setSize(k);var T=n(f).add(k.divide(2));this._matrix.append(new ve().translate(T))}),y},symbol:function(f,y,k,T){return new ut(u(f,y,k,T),!0)},defs:u,use:function(f){var y=(r(f,"href",!0)||"").substring(1),k=e[y],T=n(f);return k?k instanceof ut?k.place(T):k.clone().translate(T):null},circle:function(f){return new Ze.Circle(n(f,"cx","cy"),r(f,"r"))},ellipse:function(f){return new Ze.Ellipse({center:n(f,"cx","cy"),radius:s(f,"rx","ry")})},rect:function(f){return new Ze.Rectangle(new W(n(f),s(f)),s(f,"rx","ry"))},line:function(f){return new Le.Line(n(f,"x1","y1"),n(f,"x2","y2"))},text:function(f){var y=new Nt(n(f).add(n(f,"dx","dy")));return y.setContent(f.textContent.trim()||""),y},switch:u};function _(f,y,k,T){if(f.transform){for(var C=(T.getAttribute(k)||"").split(/\)\s*/g),L=new ve,O=0,M=C.length;O<M;O++){var $=C[O];if(!$)break;for(var R=$.split(/\(\s*/),F=R[0].trim(),q=R[1].split(/[\s,]+/g),H=0,G=q.length;H<G;H++)q[H]=parseFloat(q[H]);switch(F){case"matrix":L.append(new ve(q[0],q[1],q[2],q[3],q[4],q[5]));break;case"rotate":L.rotate(q[0],q[1]||0,q[2]||0);break;case"translate":L.translate(q[0],q[1]||0);break;case"scale":L.scale(q);break;case"skewX":L.skew(q[0],0);break;case"skewY":L.skew(0,q[0]);break}}f.transform(L)}}function p(f,y,k){var T=k==="fill-opacity"?"getFillColor":"getStrokeColor",C=f[T]&&f[T]();C&&C.setAlpha(parseFloat(y))}var d=A.set(A.each(gt,function(f){this[f.attribute]=function(y,k){if(y[f.set]&&(y[f.set](o(k,f.type,f.fromSVG)),f.type==="color")){var T=y[f.get]();if(T&&T._scaleToBounds){var C=y.getBounds();T.transform(new ve().translate(C.getPoint()).scale(C.getSize()))}}}},{}),{id:function(f,y){e[y]=f,f.setName&&f.setName(y)},"clip-path":function(f,y){var k=P(y);if(k)if(k=k.clone(),k.setClipMask(!0),f instanceof Me)f.insertChild(0,k);else return new Me(k,f)},gradientTransform:_,transform:_,"fill-opacity":p,"stroke-opacity":p,visibility:function(f,y){f.setVisible&&f.setVisible(y==="visible")},display:function(f,y){f.setVisible&&f.setVisible(y!==null)},"stop-color":function(f,y){f.setColor&&f.setColor(y)},"stop-opacity":function(f,y){f._color&&f._color.setAlpha(parseFloat(y))},offset:function(f,y){if(f.setOffset){var k=y.match(/(.*)%$/);f.setOffset(k?k[1]/100:parseFloat(y))}},viewBox:function(f,y,k,T,C){var L=new W(o(y,"array")),O=s(T,null,null,!0),M,$;if(f instanceof Me){var R=O?O.divide(L.getSize()):1,$=new ve().scale(R).translate(L.getPoint().negate());M=f}else f instanceof ut&&(O&&L.setSize(O),M=f._item);if(M){if(x(T,"overflow",C)!=="visible"){var F=new Ze.Rectangle(L);F.setClipMask(!0),M.addChild(F)}$&&M.transform($)}}});function x(f,y,k){var T=f.attributes[y],C=T&&T.value;if(!C&&f.style){var L=A.camelize(y);C=f.style[L],!C&&k.node[L]!==k.parent[L]&&(C=k.node[L])}return C?C==="none"?null:C:B}function b(f,y,k){var T=y.parentNode,C={node:dt.getStyles(y)||{},parent:!k&&!/^defs$/i.test(T.tagName)&&dt.getStyles(T)||{}};return A.each(d,function(L,O){var M=x(y,O,C);f=M!==B&&L(f,M,O,y,C)||f}),f}function P(f){var y=f&&f.match(/\((?:["'#]*)([^"')]+)/),k=y&&y[1],T=k&&e[le?k.replace(le.location.href.split("#")[0]+"#",""):k];return T&&T._scaleToBounds&&(T=T.clone(),T._scaleToBounds=!0),T}function v(f,y,k){var T=f.nodeName.toLowerCase(),C=T!=="#document",L=j.body,O,M,$;k&&C&&(t=nt.getView().getSize(),t=s(f,null,null,!0)||t,O=Je.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),M=f.parentNode,$=f.nextSibling,O.appendChild(f),L.appendChild(O));var R=nt.settings,F=R.applyMatrix,q=R.insertItems;R.applyMatrix=!1,R.insertItems=!1;var H=g[T],G=H&&H(f,T,y,k)||null;if(R.insertItems=q,R.applyMatrix=F,G){C&&!(G instanceof Me)&&(G=b(G,f,k));var Z=y.onImport,ie=C&&f.getAttribute("data-paper-data");Z&&(G=Z(f,G,y)||G),y.expandShapes&&G instanceof Ze&&(G.remove(),G=G.toPath()),ie&&(G._data=JSON.parse(ie))}return O&&(L.removeChild(O),M&&($?M.insertBefore(f,$):M.appendChild(f))),k&&(e={},G&&A.pick(y.applyMatrix,F)&&G.matrix.apply(!0,!0)),G}function S(f,y,k){if(!f)return null;y=typeof y=="function"?{onLoad:y}:y||{};var T=nt,C=null;function L(R){try{var F=typeof R=="object"?R:new N.DOMParser().parseFromString(R.trim(),"image/svg+xml");if(!F.nodeName)throw F=null,new Error("Unsupported SVG source: "+f);nt=T,C=v(F,y,!0),(!y||y.insert!==!1)&&k._insertItem(B,C);var q=y.onLoad;q&&q(C,R)}catch(H){O(H)}}function O(R,F){var q=y.onError;if(q)q(R,F);else throw new Error(R)}if(typeof f=="string"&&!/^[\s\S]*</.test(f)){var M=j.getElementById(f);M?L(M):Ni.request({url:f,async:!0,onLoad:L,onError:O})}else if(typeof File<"u"&&f instanceof File){var $=new FileReader;return $.onload=function(){L($.result)},$.onerror=function(){O($.error)},$.readAsText(f)}else L(f);return C}w.inject({importSVG:function(f,y){return S(f,y,this)}}),xe.inject({importSVG:function(f,y){return this.activate(),S(f,y,this)}})},A.exports.PaperScript=(function(){var e=this,t=e.acorn;if(!t&&typeof Po<"u")try{t=Eo()}catch{}if(!t){var r,n;t=r=n={},function(b,P){if(typeof r=="object"&&typeof n=="object")return P(r);if(typeof B=="function"&&B.amd)return B(["exports"],P);P(b.acorn||(b.acorn={}))}(this,function(b){b.version="0.5.0";var P,v,S,f;b.parse=function(z,U){return v=String(z),S=v.length,k(U),mn(),cs(P.program)};var y=b.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function k(z){P=z||{};for(var U in y)Object.prototype.hasOwnProperty.call(P,U)||(P[U]=y[U]);f=P.sourceFile||null}var T=b.getLineInfo=function(z,U){for(var te=1,pe=0;;){lr.lastIndex=pe;var bt=lr.exec(z);if(bt&&bt.index<U)++te,pe=bt.index+bt[0].length;else break}return{line:te,column:U-pe}};b.tokenize=function(z,U){v=String(z),S=v.length,k(U),mn();var te={};function pe(bt){return ie=O,nr(bt),te.start=L,te.end=O,te.startLoc=M,te.endLoc=$,te.type=R,te.value=F,te}return pe.jumpTo=function(bt,yt){if(C=bt,P.locations){H=1,G=lr.lastIndex=0;for(var kt;(kt=lr.exec(v))&&kt.index<bt;)++H,G=kt.index+kt[0].length}q=yt,hr()},pe};var C,L,O,M,$,R,F,q,H,G,Z,ie,be,Pe,Ve,ee;function ae(z,U){var te=T(v,z);U+=" ("+te.line+":"+te.column+")";var pe=new SyntaxError(U);throw pe.pos=z,pe.loc=te,pe.raisedAt=C,pe}var Ce=[],Ae={type:"num"},Fe={type:"regexp"},ot={type:"string"},et={type:"name"},ct={type:"eof"},_t={keyword:"break"},mt={keyword:"case",beforeExpr:!0},ti={keyword:"catch"},jt={keyword:"continue"},oi={keyword:"debugger"},Zt={keyword:"default"},Ie={keyword:"do",isLoop:!0},Bt={keyword:"else",beforeExpr:!0},$t={keyword:"finally"},ii={keyword:"for",isLoop:!0},wi={keyword:"function"},Ri={keyword:"if"},Si={keyword:"return",beforeExpr:!0},Ci={keyword:"switch"},di={keyword:"throw",beforeExpr:!0},bi={keyword:"try"},Oi={keyword:"var"},ri={keyword:"while",isLoop:!0},pi={keyword:"with"},kr={keyword:"new",beforeExpr:!0},dr={keyword:"this"},Pr={keyword:"null",atomValue:null},Ir={keyword:"true",atomValue:!0},Tr={keyword:"false",atomValue:!1},ur={keyword:"in",binop:7,beforeExpr:!0},ji={break:_t,case:mt,catch:ti,continue:jt,debugger:oi,default:Zt,do:Ie,else:Bt,finally:$t,for:ii,function:wi,if:Ri,return:Si,switch:Ci,throw:di,try:bi,var:Oi,while:ri,with:pi,null:Pr,true:Ir,false:Tr,new:kr,in:ur,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:dr,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},er={type:"[",beforeExpr:!0},tr={type:"]"},zi={type:"{",beforeExpr:!0},Ti={type:"}"},St={type:"(",beforeExpr:!0},ki={type:")"},Ai={type:",",beforeExpr:!0},Pi={type:";",beforeExpr:!0},Fi={type:":",beforeExpr:!0},pr={type:"."},gr={type:"?",beforeExpr:!0},vr={binop:10,beforeExpr:!0},i={isAssign:!0,beforeExpr:!0},a={isAssign:!0,beforeExpr:!0},m={postfix:!0,prefix:!0,isUpdate:!0},I={prefix:!0,beforeExpr:!0},D={binop:1,beforeExpr:!0},K={binop:2,beforeExpr:!0},Y={binop:3,beforeExpr:!0},Ne={binop:4,beforeExpr:!0},$e={binop:5,beforeExpr:!0},It={binop:6,beforeExpr:!0},xt={binop:7,beforeExpr:!0},ni={binop:8,beforeExpr:!0},$i={binop:9,prefix:!0,beforeExpr:!0},ir={binop:10,beforeExpr:!0};b.tokTypes={bracketL:er,bracketR:tr,braceL:zi,braceR:Ti,parenL:St,parenR:ki,comma:Ai,semi:Pi,colon:Fi,dot:pr,question:gr,slash:vr,eq:i,name:et,eof:ct,num:Ae,regexp:Fe,string:ot};for(var qi in ji)b.tokTypes["_"+qi]=ji[qi];function Vi(z){z=z.split(" ");var U="",te=[];e:for(var pe=0;pe<z.length;++pe){for(var bt=0;bt<te.length;++bt)if(te[bt][0].length==z[pe].length){te[bt].push(z[pe]);continue e}te.push([z[pe]])}function yt(Mt){if(Mt.length==1)return U+="return str === "+JSON.stringify(Mt[0])+";";U+="switch(str){";for(var Di=0;Di<Mt.length;++Di)U+="case "+JSON.stringify(Mt[Di])+":";U+="return true}return false;"}if(te.length>3){te.sort(function(Mt,Di){return Di.length-Mt.length}),U+="switch(str.length){";for(var pe=0;pe<te.length;++pe){var kt=te[pe];U+="case "+kt[0].length+":",yt(kt)}U+="}"}else yt(z);return new Function("str",U)}var Zi=Vi("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Ki=Vi("class enum extends super const export import"),pn=Vi("implements interface let package private protected public static yield"),Ar=Vi("eval arguments"),Kn=Vi("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),Xn=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,gn="ÂªÂµÂºÃ€-Ã–Ã˜-Ã¶Ã¸-ËË†-Ë‘Ë -Ë¤Ë¬Ë®Í°-Í´Í¶Í·Íº-Í½Î†Îˆ-ÎŠÎŒÎŽ-Î¡Î£-ÏµÏ·-ÒÒŠ-Ô§Ô±-Õ–Õ™Õ¡-Ö‡×-×ª×°-×²Ø -ÙŠÙ®Ù¯Ù±-Û“Û•Û¥Û¦Û®Û¯Ûº-Û¼Û¿ÜÜ’-Ü¯Ý-Þ¥Þ±ßŠ-ßªß´ßµßºà €-à •à šà ¤à ¨à¡€-à¡˜à¢ à¢¢-à¢¬à¤„-à¤¹à¤½à¥à¥˜-à¥¡à¥±-à¥·à¥¹-à¥¿à¦…-à¦Œà¦à¦à¦“-à¦¨à¦ª-à¦°à¦²à¦¶-à¦¹à¦½à§Žà§œà§à§Ÿ-à§¡à§°à§±à¨…-à¨Šà¨à¨à¨“-à¨¨à¨ª-à¨°à¨²à¨³à¨µà¨¶à¨¸à¨¹à©™-à©œà©žà©²-à©´àª…-àªàª-àª‘àª“-àª¨àªª-àª°àª²àª³àªµ-àª¹àª½à«à« à«¡à¬…-à¬Œà¬à¬à¬“-à¬¨à¬ª-à¬°à¬²à¬³à¬µ-à¬¹à¬½à­œà­à­Ÿ-à­¡à­±à®ƒà®…-à®Šà®Ž-à®à®’-à®•à®™à®šà®œà®žà®Ÿà®£à®¤à®¨-à®ªà®®-à®¹à¯à°…-à°Œà°Ž-à°à°’-à°¨à°ª-à°³à°µ-à°¹à°½à±˜à±™à± à±¡à²…-à²Œà²Ž-à²à²’-à²¨à²ª-à²³à²µ-à²¹à²½à³žà³ à³¡à³±à³²à´…-à´Œà´Ž-à´à´’-à´ºà´½àµŽàµ àµ¡àµº-àµ¿à¶…-à¶–à¶š-à¶±à¶³-à¶»à¶½à·€-à·†à¸-à¸°à¸²à¸³à¹€-à¹†àºàº‚àº„àº‡àºˆàºŠàºàº”-àº—àº™-àºŸàº¡-àº£àº¥àº§àºªàº«àº­-àº°àº²àº³àº½à»€-à»„à»†à»œ-à»Ÿà¼€à½€-à½‡à½‰-à½¬à¾ˆ-à¾Œá€€-á€ªá€¿á-á•áš-áá¡á¥á¦á®-á°áµ-á‚á‚Žá‚ -áƒ…áƒ‡áƒáƒ-áƒºáƒ¼-á‰ˆá‰Š-á‰á‰-á‰–á‰˜á‰š-á‰á‰ -áŠˆáŠŠ-áŠáŠ-áŠ°áŠ²-áŠµáŠ¸-áŠ¾á‹€á‹‚-á‹…á‹ˆ-á‹–á‹˜-áŒáŒ’-áŒ•áŒ˜-ášáŽ€-áŽáŽ -á´á-á™¬á™¯-á™¿áš-áššáš -á›ªá›®-á›°áœ€-áœŒáœŽ-áœ‘áœ -áœ±á€-á‘á -á¬á®-á°áž€-áž³áŸ—áŸœá  -á¡·á¢€-á¢¨á¢ªá¢°-á£µá¤€-á¤œá¥-á¥­á¥°-á¥´á¦€-á¦«á§-á§‡á¨€-á¨–á¨ -á©”áª§á¬…-á¬³á­…-á­‹á®ƒ-á® á®®á®¯á®º-á¯¥á°€-á°£á±-á±á±š-á±½á³©-á³¬á³®-á³±á³µá³¶á´€-á¶¿á¸€-á¼•á¼˜-á¼á¼ -á½…á½ˆ-á½á½-á½—á½™á½›á½á½Ÿ-á½½á¾€-á¾´á¾¶-á¾¼á¾¾á¿‚-á¿„á¿†-á¿Œá¿-á¿“á¿–-á¿›á¿ -á¿¬á¿²-á¿´á¿¶-á¿¼â±â¿â‚-â‚œâ„‚â„‡â„Š-â„“â„•â„™-â„â„¤â„¦â„¨â„ª-â„­â„¯-â„¹â„¼-â„¿â……-â…‰â…Žâ… -â†ˆâ°€-â°®â°°-â±žâ± -â³¤â³«-â³®â³²â³³â´€-â´¥â´§â´­â´°-âµ§âµ¯â¶€-â¶–â¶ -â¶¦â¶¨-â¶®â¶°-â¶¶â¶¸-â¶¾â·€-â·†â·ˆ-â·Žâ·-â·–â·˜-â·žâ¸¯ã€…-ã€‡ã€¡-ã€©ã€±-ã€µã€¸-ã€¼ã-ã‚–ã‚-ã‚Ÿã‚¡-ãƒºãƒ¼-ãƒ¿ã„…-ã„­ã„±-ã†Žã† -ã†ºã‡°-ã‡¿ã€-ä¶µä¸€-é¿Œê€€-ê’Œê“-ê“½ê”€-ê˜Œê˜-ê˜Ÿê˜ªê˜«ê™€-ê™®ê™¿-êš—êš -ê›¯êœ—-êœŸêœ¢-êžˆêž‹-êžŽêž-êž“êž -êžªêŸ¸-ê ê ƒ-ê …ê ‡-ê Šê Œ-ê ¢ê¡€-ê¡³ê¢‚-ê¢³ê£²-ê£·ê£»ê¤Š-ê¤¥ê¤°-ê¥†ê¥ -ê¥¼ê¦„-ê¦²ê§ê¨€-ê¨¨ê©€-ê©‚ê©„-ê©‹ê© -ê©¶ê©ºêª€-êª¯êª±êªµêª¶êª¹-êª½ê«€ê«‚ê«›-ê«ê« -ê«ªê«²-ê«´ê¬-ê¬†ê¬‰-ê¬Žê¬‘-ê¬–ê¬ -ê¬¦ê¬¨-ê¬®ê¯€-ê¯¢ê°€-íž£íž°-íŸ†íŸ‹-íŸ»ï¤€-ï©­ï©°-ï«™ï¬€-ï¬†ï¬“-ï¬—ï¬ï¬Ÿ-ï¬¨ï¬ª-ï¬¶ï¬¸-ï¬¼ï¬¾ï­€ï­ï­ƒï­„ï­†-ï®±ï¯“-ï´½ïµ-ï¶ï¶’-ï·‡ï·°-ï·»ï¹°-ï¹´ï¹¶-ï»¼ï¼¡-ï¼ºï½-ï½šï½¦-ï¾¾ï¿‚-ï¿‡ï¿Š-ï¿ï¿’-ï¿—ï¿š-ï¿œ",Qn="Ì€-Í¯Òƒ-Ò‡Ö‘-Ö½Ö¿××‚×„×…×‡Ø-ØšØ -Ù‰Ù²-Û“Û§-Û¨Û»-Û¼Ü°-ÝŠà €-à ”à ›-à £à ¥-à §à ©-à ­à¡€-à¡—à£¤-à£¾à¤€-à¤ƒà¤º-à¤¼à¤¾-à¥à¥‘-à¥—à¥¢-à¥£à¥¦-à¥¯à¦-à¦ƒà¦¼à¦¾-à§„à§‡à§ˆà§—à§Ÿ-à§ à¨-à¨ƒà¨¼à¨¾-à©‚à©‡à©ˆà©‹-à©à©‘à©¦-à©±à©µàª-àªƒàª¼àª¾-à«…à«‡-à«‰à«‹-à«à«¢-à«£à«¦-à«¯à¬-à¬ƒà¬¼à¬¾-à­„à­‡à­ˆà­‹-à­à­–à­—à­Ÿ-à­ à­¦-à­¯à®‚à®¾-à¯‚à¯†-à¯ˆà¯Š-à¯à¯—à¯¦-à¯¯à°-à°ƒà±†-à±ˆà±Š-à±à±•à±–à±¢-à±£à±¦-à±¯à²‚à²ƒà²¼à²¾-à³„à³†-à³ˆà³Š-à³à³•à³–à³¢-à³£à³¦-à³¯à´‚à´ƒàµ†-àµˆàµ—àµ¢-àµ£àµ¦-àµ¯à¶‚à¶ƒà·Šà·-à·”à·–à·˜-à·Ÿà·²à·³à¸´-à¸ºà¹€-à¹…à¹-à¹™àº´-àº¹à»ˆ-à»à»-à»™à¼˜à¼™à¼ -à¼©à¼µà¼·à¼¹à½-à½‡à½±-à¾„à¾†-à¾‡à¾-à¾—à¾™-à¾¼à¿†á€€-á€©á€-á‰á§-á­á±-á´á‚‚-á‚á‚-á‚á-áŸáœŽ-áœáœ -áœ°á€-áá²á³áž€-áž²áŸáŸ -áŸ©á ‹-á á -á ™á¤ -á¤«á¤°-á¤»á¥‘-á¥­á¦°-á§€á§ˆ-á§‰á§-á§™á¨€-á¨•á¨ -á©“á© -á©¼á©¿-áª‰áª-áª™á­†-á­‹á­-á­™á­«-á­³á®°-á®¹á¯¦-á¯³á°€-á°¢á±€-á±‰á±›-á±½á³-á³’á´€-á¶¾á¸-á¼•â€Œâ€â€¿â€â”âƒ-âƒœâƒ¡âƒ¥-âƒ°â¶-â¶–â· -â·¿ã€¡-ã€¨ã‚™ã‚šê™€-ê™­ê™´-ê™½êšŸê›°-ê›±êŸ¸-ê €ê †ê ‹ê £-ê §ê¢€-ê¢ê¢´-ê£„ê£-ê£™ê£³-ê£·ê¤€-ê¤‰ê¤¦-ê¤­ê¤°-ê¥…ê¦€-ê¦ƒê¦³-ê§€ê¨€-ê¨§ê©€-ê©ê©Œ-ê©ê©-ê©™ê©»ê« -ê«©ê«²-ê«³ê¯€-ê¯¡ê¯¬ê¯­ê¯°-ê¯¹ï¬ -ï¬¨ï¸€-ï¸ï¸ -ï¸¦ï¸³ï¸´ï¹-ï¹ï¼-ï¼™ï¼¿",vn=new RegExp("["+gn+"]"),Yn=new RegExp("["+gn+Qn+"]"),Er=/[\n\r\u2028\u2029]/,lr=/\r\n|[\n\r\u2028\u2029]/g,Lr=b.isIdentifierStart=function(z){return z<65?z===36:z<91?!0:z<97?z===95:z<123?!0:z>=170&&vn.test(String.fromCharCode(z))},_n=b.isIdentifierChar=function(z){return z<48?z===36:z<58?!0:z<65?!1:z<91?!0:z<97?z===95:z<123?!0:z>=170&&Yn.test(String.fromCharCode(z))};function rr(){this.line=H,this.column=C-G}function mn(){H=1,C=G=0,q=!0,hr()}function ci(z,U){O=C,P.locations&&($=new rr),R=z,hr(),F=U,q=z.beforeExpr}function Jn(){var z=P.onComment&&P.locations&&new rr,U=C,te=v.indexOf("*/",C+=2);if(te===-1&&ae(C-2,"Unterminated comment"),C=te+2,P.locations){lr.lastIndex=U;for(var pe;(pe=lr.exec(v))&&pe.index<C;)++H,G=pe.index+pe[0].length}P.onComment&&P.onComment(!0,v.slice(U+2,te),U,C,z,P.locations&&new rr)}function qr(){for(var z=C,U=P.onComment&&P.locations&&new rr,te=v.charCodeAt(C+=2);C<S&&te!==10&&te!==13&&te!==8232&&te!==8233;)++C,te=v.charCodeAt(C);P.onComment&&P.onComment(!1,v.slice(z+2,C),z,C,U,P.locations&&new rr)}function hr(){for(;C<S;){var z=v.charCodeAt(C);if(z===32)++C;else if(z===13){++C;var U=v.charCodeAt(C);U===10&&++C,P.locations&&(++H,G=C)}else if(z===10||z===8232||z===8233)++C,P.locations&&(++H,G=C);else if(z>8&&z<14)++C;else if(z===47){var U=v.charCodeAt(C+1);if(U===42)Jn();else if(U===47)qr();else break}else if(z===160)++C;else if(z>=5760&&Xn.test(String.fromCharCode(z)))++C;else break}}function es(){var z=v.charCodeAt(C+1);return z>=48&&z<=57?xn(!0):(++C,ci(pr))}function ts(){var z=v.charCodeAt(C+1);return q?(++C,bn()):z===61?fi(a,2):fi(vr,1)}function is(){var z=v.charCodeAt(C+1);return z===61?fi(a,2):fi(ir,1)}function rs(z){var U=v.charCodeAt(C+1);return U===z?fi(z===124?D:K,2):U===61?fi(a,2):fi(z===124?Y:$e,1)}function ns(){var z=v.charCodeAt(C+1);return z===61?fi(a,2):fi(Ne,1)}function ss(z){var U=v.charCodeAt(C+1);return U===z?U==45&&v.charCodeAt(C+2)==62&&Er.test(v.slice(ie,C))?(C+=3,qr(),hr(),nr()):fi(m,2):U===61?fi(a,2):fi($i,1)}function as(z){var U=v.charCodeAt(C+1),te=1;return U===z?(te=z===62&&v.charCodeAt(C+2)===62?3:2,v.charCodeAt(C+te)===61?fi(a,te+1):fi(ni,te)):U==33&&z==60&&v.charCodeAt(C+2)==45&&v.charCodeAt(C+3)==45?(C+=4,qr(),hr(),nr()):(U===61&&(te=v.charCodeAt(C+2)===61?3:2),fi(xt,te))}function os(z){var U=v.charCodeAt(C+1);return U===61?fi(It,v.charCodeAt(C+2)===61?3:2):fi(z===61?i:I,1)}function us(z){switch(z){case 46:return es();case 40:return++C,ci(St);case 41:return++C,ci(ki);case 59:return++C,ci(Pi);case 44:return++C,ci(Ai);case 91:return++C,ci(er);case 93:return++C,ci(tr);case 123:return++C,ci(zi);case 125:return++C,ci(Ti);case 58:return++C,ci(Fi);case 63:return++C,ci(gr);case 48:var U=v.charCodeAt(C+1);if(U===120||U===88)return ls();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return xn(!1);case 34:case 39:return hs(z);case 47:return ts();case 37:case 42:return is();case 124:case 38:return rs(z);case 94:return ns();case 43:case 45:return ss(z);case 60:case 62:return as(z);case 61:case 33:return os(z);case 126:return fi(I,1)}return!1}function nr(z){if(z?C=L+1:L=C,P.locations&&(M=new rr),z)return bn();if(C>=S)return ci(ct);var U=v.charCodeAt(C);if(Lr(U)||U===92)return wn();var te=us(U);if(te===!1){var pe=String.fromCharCode(U);if(pe==="\\"||vn.test(pe))return wn();ae(C,"Unexpected character '"+pe+"'")}return te}function fi(z,U){var te=v.slice(C,C+U);C+=U,ci(z,te)}function bn(){for(var bt="",z,U,te=C;;){C>=S&&ae(te,"Unterminated regular expression");var pe=v.charAt(C);if(Er.test(pe)&&ae(te,"Unterminated regular expression"),z)z=!1;else{if(pe==="[")U=!0;else if(pe==="]"&&U)U=!1;else if(pe==="/"&&!U)break;z=pe==="\\"}++C}var bt=v.slice(te,C);++C;var yt=yn();yt&&!/^[gmsiy]*$/.test(yt)&&ae(te,"Invalid regexp flag");try{var kt=new RegExp(bt,yt)}catch(Mt){Mt instanceof SyntaxError&&ae(te,Mt.message),ae(Mt)}return ci(Fe,kt)}function _r(z,U){for(var te=C,pe=0,bt=0,yt=U??1/0;bt<yt;++bt){var kt=v.charCodeAt(C),Mt;if(kt>=97?Mt=kt-97+10:kt>=65?Mt=kt-65+10:kt>=48&&kt<=57?Mt=kt-48:Mt=1/0,Mt>=z)break;++C,pe=pe*z+Mt}return C===te||U!=null&&C-te!==U?null:pe}function ls(){C+=2;var z=_r(16);return z==null&&ae(L+2,"Expected hexadecimal number"),Lr(v.charCodeAt(C))&&ae(C,"Identifier directly after number"),ci(Ae,z)}function xn(z){var U=C,te=!1,pe=v.charCodeAt(C)===48;!z&&_r(10)===null&&ae(U,"Invalid number"),v.charCodeAt(C)===46&&(++C,_r(10),te=!0);var bt=v.charCodeAt(C);(bt===69||bt===101)&&(bt=v.charCodeAt(++C),(bt===43||bt===45)&&++C,_r(10)===null&&ae(U,"Invalid number"),te=!0),Lr(v.charCodeAt(C))&&ae(C,"Identifier directly after number");var yt=v.slice(U,C),kt;return te?kt=parseFloat(yt):!pe||yt.length===1?kt=parseInt(yt,10):/[89]/.test(yt)||ee?ae(U,"Invalid number"):kt=parseInt(yt,8),ci(Ae,kt)}function hs(z){C++;for(var U="";;){C>=S&&ae(L,"Unterminated string constant");var te=v.charCodeAt(C);if(te===z)return++C,ci(ot,U);if(te===92){te=v.charCodeAt(++C);var pe=/^[0-7]+/.exec(v.slice(C,C+3));for(pe&&(pe=pe[0]);pe&&parseInt(pe,8)>255;)pe=pe.slice(0,-1);if(pe==="0"&&(pe=null),++C,pe)ee&&ae(C-2,"Octal literal in strict mode"),U+=String.fromCharCode(parseInt(pe,8)),C+=pe.length-1;else switch(te){case 110:U+=`
`;break;case 114:U+="\r";break;case 120:U+=String.fromCharCode(Nr(2));break;case 117:U+=String.fromCharCode(Nr(4));break;case 85:U+=String.fromCharCode(Nr(8));break;case 116:U+="	";break;case 98:U+="\b";break;case 118:U+="\v";break;case 102:U+="\f";break;case 48:U+="\0";break;case 13:v.charCodeAt(C)===10&&++C;case 10:P.locations&&(G=C,++H);break;default:U+=String.fromCharCode(te);break}}else(te===13||te===10||te===8232||te===8233)&&ae(L,"Unterminated string constant"),U+=String.fromCharCode(te),++C}}function Nr(z){var U=_r(16,z);return U===null&&ae(L,"Bad character escape sequence"),U}var cr;function yn(){cr=!1;for(var z,U=!0,te=C;;){var pe=v.charCodeAt(C);if(_n(pe))cr&&(z+=v.charAt(C)),++C;else if(pe===92){cr||(z=v.slice(te,C)),cr=!0,v.charCodeAt(++C)!=117&&ae(C,"Expecting Unicode escape sequence \\uXXXX"),++C;var bt=Nr(4),yt=String.fromCharCode(bt);yt||ae(C-1,"Invalid Unicode escape"),(U?Lr(bt):_n(bt))||ae(C-4,"Invalid Unicode escape"),z+=yt}else break;U=!1}return cr?z:v.slice(te,C)}function wn(){var z=yn(),U=et;return!cr&&Kn(z)&&(U=ji[z]),ci(U,z)}function Ot(){Z=L,ie=O,be=$,nr()}function Ur(z){if(ee=z,C=L,P.locations)for(;C<G;)G=v.lastIndexOf(`
`,G-2)+1,--H;hr(),nr()}function Sn(){this.type=null,this.start=L,this.end=null}function Cn(){this.start=M,this.end=null,f!==null&&(this.source=f)}function gi(){var z=new Sn;return P.locations&&(z.loc=new Cn),P.directSourceFile&&(z.sourceFile=P.directSourceFile),P.ranges&&(z.range=[L,0]),z}function Xi(z){var U=new Sn;return U.start=z.start,P.locations&&(U.loc=new Cn,U.loc.start=z.loc.start),P.ranges&&(U.range=[z.range[0],0]),U}function Tt(z,U){return z.type=U,z.end=ie,P.locations&&(z.loc.end=be),P.ranges&&(z.range[1]=ie),z}function Hr(z){return P.ecmaVersion>=5&&z.type==="ExpressionStatement"&&z.expression.type==="Literal"&&z.expression.value==="use strict"}function Kt(z){if(R===z)return Ot(),!0}function Rr(){return!P.strictSemicolons&&(R===ct||R===Ti||Er.test(v.slice(ie,L)))}function sr(){!Kt(Pi)&&!Rr()&&Ui()}function ui(z){R===z?Ot():Ui()}function Ui(){ae(L,"Unexpected token")}function Or(z){z.type!=="Identifier"&&z.type!=="MemberExpression"&&ae(z.start,"Assigning to rvalue"),ee&&z.type==="Identifier"&&Ar(z.name)&&ae(z.start,"Assigning to "+z.name+" in strict mode")}function cs(z){Z=ie=C,P.locations&&(be=new rr),Pe=ee=null,Ve=[],nr();var U=z||gi(),te=!0;for(z||(U.body=[]);R!==ct;){var pe=Mi();U.body.push(pe),te&&Hr(pe)&&Ur(!0),te=!1}return Tt(U,"Program")}var Gr={kind:"loop"},fs={kind:"switch"};function Mi(){(R===vr||R===a&&F=="/=")&&nr(!0);var z=R,U=gi();switch(z){case _t:case jt:Ot();var te=z===_t;Kt(Pi)||Rr()?U.label=null:R!==et?Ui():(U.label=Qi(),sr());for(var pe=0;pe<Ve.length;++pe){var bt=Ve[pe];if((U.label==null||bt.name===U.label.name)&&(bt.kind!=null&&(te||bt.kind==="loop")||U.label&&te))break}return pe===Ve.length&&ae(U.start,"Unsyntactic "+z.keyword),Tt(U,te?"BreakStatement":"ContinueStatement");case oi:return Ot(),sr(),Tt(U,"DebuggerStatement");case Ie:return Ot(),Ve.push(Gr),U.body=Mi(),Ve.pop(),ui(ri),U.test=mr(),sr(),Tt(U,"DoWhileStatement");case ii:if(Ot(),Ve.push(Gr),ui(St),R===Pi)return Wr(U,null);if(R===Oi){var yt=gi();return Ot(),Pn(yt,!0),Tt(yt,"VariableDeclaration"),yt.declarations.length===1&&Kt(ur)?kn(U,yt):Wr(U,yt)}var yt=mi(!1,!0);return Kt(ur)?(Or(yt),kn(U,yt)):Wr(U,yt);case wi:return Ot(),Qr(U,!0);case Ri:return Ot(),U.test=mr(),U.consequent=Mi(),U.alternate=Kt(Bt)?Mi():null,Tt(U,"IfStatement");case Si:return!Pe&&!P.allowReturnOutsideFunction&&ae(L,"'return' outside of function"),Ot(),Kt(Pi)||Rr()?U.argument=null:(U.argument=mi(),sr()),Tt(U,"ReturnStatement");case Ci:Ot(),U.discriminant=mr(),U.cases=[],ui(zi),Ve.push(fs);for(var kt,Mt;R!=Ti;)if(R===mt||R===Zt){var Di=R===mt;kt&&Tt(kt,"SwitchCase"),U.cases.push(kt=gi()),kt.consequent=[],Ot(),Di?kt.test=mi():(Mt&&ae(Z,"Multiple default clauses"),Mt=!0,kt.test=null),ui(Fi)}else kt||Ui(),kt.consequent.push(Mi());return kt&&Tt(kt,"SwitchCase"),Ot(),Ve.pop(),Tt(U,"SwitchStatement");case di:return Ot(),Er.test(v.slice(ie,L))&&ae(ie,"Illegal newline after throw"),U.argument=mi(),sr(),Tt(U,"ThrowStatement");case bi:if(Ot(),U.block=br(),U.handler=null,R===ti){var ar=gi();Ot(),ui(St),ar.param=Qi(),ee&&Ar(ar.param.name)&&ae(ar.param.start,"Binding "+ar.param.name+" in strict mode"),ui(ki),ar.guard=null,ar.body=br(),U.handler=Tt(ar,"CatchClause")}return U.guardedHandlers=Ce,U.finalizer=Kt($t)?br():null,!U.handler&&!U.finalizer&&ae(U.start,"Missing catch or finally clause"),Tt(U,"TryStatement");case Oi:return Ot(),Pn(U),sr(),Tt(U,"VariableDeclaration");case ri:return Ot(),U.test=mr(),Ve.push(Gr),U.body=Mi(),Ve.pop(),Tt(U,"WhileStatement");case pi:return ee&&ae(L,"'with' in strict mode"),Ot(),U.object=mr(),U.body=Mi(),Tt(U,"WithStatement");case zi:return br();case Pi:return Ot(),Tt(U,"EmptyStatement");default:var Jr=F,Mr=mi();if(z===et&&Mr.type==="Identifier"&&Kt(Fi)){for(var pe=0;pe<Ve.length;++pe)Ve[pe].name===Jr&&ae(Mr.start,"Label '"+Jr+"' is already declared");var ms=R.isLoop?"loop":R===Ci?"switch":null;return Ve.push({name:Jr,kind:ms}),U.body=Mi(),Ve.pop(),U.label=Mr,Tt(U,"LabeledStatement")}else return U.expression=Mr,sr(),Tt(U,"ExpressionStatement")}}function mr(){ui(St);var z=mi();return ui(ki),z}function br(z){var U=gi(),te=!0,pe=!1,bt;for(U.body=[],ui(zi);!Kt(Ti);){var yt=Mi();U.body.push(yt),te&&z&&Hr(yt)&&(bt=pe,Ur(pe=!0)),te=!1}return pe&&!bt&&Ur(!1),Tt(U,"BlockStatement")}function Wr(z,U){return z.init=U,ui(Pi),z.test=R===Pi?null:mi(),ui(Pi),z.update=R===ki?null:mi(),ui(ki),z.body=Mi(),Ve.pop(),Tt(z,"ForStatement")}function kn(z,U){return z.left=U,z.right=mi(),ui(ki),z.body=Mi(),Ve.pop(),Tt(z,"ForInStatement")}function Pn(z,U){for(z.declarations=[],z.kind="var";;){var te=gi();if(te.id=Qi(),ee&&Ar(te.id.name)&&ae(te.id.start,"Binding "+te.id.name+" in strict mode"),te.init=Kt(i)?mi(!0,U):null,z.declarations.push(Tt(te,"VariableDeclarator")),!Kt(Ai))break}return z}function mi(z,U){var te=jr(U);if(!z&&R===Ai){var pe=Xi(te);for(pe.expressions=[te];Kt(Ai);)pe.expressions.push(jr(U));return Tt(pe,"SequenceExpression")}return te}function jr(z){var U=ds(z);if(R.isAssign){var te=Xi(U);return te.operator=F,te.left=U,Ot(),te.right=jr(z),Or(U),Tt(te,"AssignmentExpression")}return U}function ds(z){var U=ps(z);if(Kt(gr)){var te=Xi(U);return te.test=U,te.consequent=mi(!0),ui(Fi),te.alternate=mi(!0,z),Tt(te,"ConditionalExpression")}return U}function ps(z){return Zr(Kr(),-1,z)}function Zr(z,U,te){var pe=R.binop;if(pe!=null&&(!te||R!==ur)&&pe>U){var bt=Xi(z);bt.left=z,bt.operator=F;var yt=R;Ot(),bt.right=Zr(Kr(),pe,te);var kt=Tt(bt,yt===D||yt===K?"LogicalExpression":"BinaryExpression");return Zr(kt,U,te)}return z}function Kr(){if(R.prefix){var z=gi(),U=R.isUpdate;return z.operator=F,z.prefix=!0,q=!0,Ot(),z.argument=Kr(),U?Or(z.argument):ee&&z.operator==="delete"&&z.argument.type==="Identifier"&&ae(z.start,"Deleting local variable in strict mode"),Tt(z,U?"UpdateExpression":"UnaryExpression")}for(var te=gs();R.postfix&&!Rr();){var z=Xi(te);z.operator=F,z.prefix=!1,z.argument=te,Or(te),Ot(),te=Tt(z,"UpdateExpression")}return te}function gs(){return xr(Xr())}function xr(z,U){if(Kt(pr)){var te=Xi(z);return te.object=z,te.property=Qi(!0),te.computed=!1,xr(Tt(te,"MemberExpression"),U)}else if(Kt(er)){var te=Xi(z);return te.object=z,te.property=mi(),te.computed=!0,ui(tr),xr(Tt(te,"MemberExpression"),U)}else if(!U&&Kt(St)){var te=Xi(z);return te.callee=z,te.arguments=Yr(ki,!1),xr(Tt(te,"CallExpression"),U)}else return z}function Xr(){switch(R){case dr:var pe=gi();return Ot(),Tt(pe,"ThisExpression");case et:return Qi();case Ae:case ot:case Fe:var pe=gi();return pe.value=F,pe.raw=v.slice(L,O),Ot(),Tt(pe,"Literal");case Pr:case Ir:case Tr:var pe=gi();return pe.value=R.atomValue,pe.raw=R.keyword,Ot(),Tt(pe,"Literal");case St:var z=M,U=L;Ot();var te=mi();return te.start=U,te.end=O,P.locations&&(te.loc.start=z,te.loc.end=$),P.ranges&&(te.range=[U,O]),ui(ki),te;case er:var pe=gi();return Ot(),pe.elements=Yr(tr,!0,!0),Tt(pe,"ArrayExpression");case zi:return _s();case wi:var pe=gi();return Ot(),Qr(pe,!1);case kr:return vs();default:Ui()}}function vs(){var z=gi();return Ot(),z.callee=xr(Xr(),!0),Kt(St)?z.arguments=Yr(ki,!1):z.arguments=Ce,Tt(z,"NewExpression")}function _s(){var z=gi(),U=!0,te=!1;for(z.properties=[],Ot();!Kt(Ti);){if(U)U=!1;else if(ui(Ai),P.allowTrailingCommas&&Kt(Ti))break;var pe={key:In()},bt=!1,yt;if(Kt(Fi)?(pe.value=mi(!0),yt=pe.kind="init"):P.ecmaVersion>=5&&pe.key.type==="Identifier"&&(pe.key.name==="get"||pe.key.name==="set")?(bt=te=!0,yt=pe.kind=pe.key.name,pe.key=In(),R!==St&&Ui(),pe.value=Qr(gi(),!1)):Ui(),pe.key.type==="Identifier"&&(ee||te))for(var kt=0;kt<z.properties.length;++kt){var Mt=z.properties[kt];if(Mt.key.name===pe.key.name){var Di=yt==Mt.kind||bt&&Mt.kind==="init"||yt==="init"&&(Mt.kind==="get"||Mt.kind==="set");Di&&!ee&&yt==="init"&&Mt.kind==="init"&&(Di=!1),Di&&ae(pe.key.start,"Redefinition of property")}}z.properties.push(pe)}return Tt(z,"ObjectExpression")}function In(){return R===Ae||R===ot?Xr():Qi(!0)}function Qr(z,U){R===et?z.id=Qi():U?Ui():z.id=null,z.params=[];var te=!0;for(ui(St);!Kt(ki);)te?te=!1:ui(Ai),z.params.push(Qi());var pe=Pe,bt=Ve;if(Pe=!0,Ve=[],z.body=br(!0),Pe=pe,Ve=bt,ee||z.body.body.length&&Hr(z.body.body[0]))for(var yt=z.id?-1:0;yt<z.params.length;++yt){var kt=yt<0?z.id:z.params[yt];if((pn(kt.name)||Ar(kt.name))&&ae(kt.start,"Defining '"+kt.name+"' in strict mode"),yt>=0)for(var Mt=0;Mt<yt;++Mt)kt.name===z.params[Mt].name&&ae(kt.start,"Argument name clash in strict mode")}return Tt(z,U?"FunctionDeclaration":"FunctionExpression")}function Yr(z,U,te){for(var pe=[],bt=!0;!Kt(z);){if(bt)bt=!1;else if(ui(Ai),U&&P.allowTrailingCommas&&Kt(z))break;te&&R===Ai?pe.push(null):pe.push(mi(!0))}return pe}function Qi(z){var U=gi();return z&&P.forbidReserved=="everywhere"&&(z=!1),R===et?(!z&&(P.forbidReserved&&(P.ecmaVersion===3?Zi:Ki)(F)||ee&&pn(F))&&v.slice(L,O).indexOf("\\")==-1&&ae(L,"The keyword '"+F+"' is reserved"),U.name=F):z&&R.keyword?U.name=R.keyword:Ui(),q=!1,Ot(),Tt(U,"Identifier")}}),t.version||(t=null)}function s(b,P){return(e.acorn||t).parse(b,P)}var o={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},u={"-":"__negate","+":"__self"},l=A.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(b){this["__"+b]="#"+b},{__self:function(){return this}});V.inject(l),Q.inject(l),at.inject(l);function h(b,P,v){var S=o[P];if(b&&b[S]){var f=b[S](v);return P==="!="?!f:f}switch(P){case"+":return b+v;case"-":return b-v;case"*":return b*v;case"/":return b/v;case"%":return b%v;case"==":return b==v;case"!=":return b!=v}}function c(b,P){var v=u[b];if(P&&P[v])return P[v]();switch(b){case"+":return+P;case"-":return-P}}function g(b,P){if(!b)return"";P=P||{};var v=[];function S(ee){for(var ae=0,Ce=v.length;ae<Ce;ae++){var Ae=v[ae];if(Ae[0]>=ee)break;ee+=Ae[1]}return ee}function f(ee){return b.substring(S(ee.range[0]),S(ee.range[1]))}function y(ee,ae){return b.substring(S(ee.range[1]),S(ae.range[0]))}function k(ee,ae){for(var Ce=S(ee.range[0]),Ae=S(ee.range[1]),Fe=0,ot=v.length-1;ot>=0;ot--)if(Ce>v[ot][0]){Fe=ot+1;break}v.splice(Fe,0,[Ce,ae.length-Ae+Ce]),b=b.substring(0,Ce)+ae+b.substring(Ae)}function T(ee,ae){switch(ee.type){case"UnaryExpression":if(ee.operator in u&&ee.argument.type!=="Literal"){var Ce=f(ee.argument);k(ee,'$__("'+ee.operator+'", '+Ce+")")}break;case"BinaryExpression":if(ee.operator in o&&ee.left.type!=="Literal"){var Ae=f(ee.left),Fe=f(ee.right),ot=y(ee.left,ee.right),et=ee.operator;k(ee,"__$__("+Ae+","+ot.replace(new RegExp("\\"+et),'"'+et+'"')+", "+Fe+")")}break;case"UpdateExpression":case"AssignmentExpression":var ct=ae&&ae.type;if(!(ct==="ForStatement"||ct==="BinaryExpression"&&/^[=!<>]/.test(ae.operator)||ct==="MemberExpression"&&ae.computed)){if(ee.type==="UpdateExpression"){var Ce=f(ee.argument),_t="__$__("+Ce+', "'+ee.operator[0]+'", 1)',mt=Ce+" = "+_t;ee.prefix?mt="("+mt+")":(ct==="AssignmentExpression"||ct==="VariableDeclarator"||ct==="BinaryExpression")&&(f(ae.left||ae.id)===Ce&&(mt=_t),mt=Ce+"; "+mt),k(ee,mt)}else if(/^.=$/.test(ee.operator)&&ee.left.type!=="Literal"){var Ae=f(ee.left),Fe=f(ee.right),_t=Ae+" = __$__("+Ae+', "'+ee.operator[0]+'", '+Fe+")";k(ee,/^\(.*\)$/.test(f(ee))?"("+_t+")":_t)}}break}}function C(ee){switch(ee.type){case"ExportDefaultDeclaration":k({range:[ee.start,ee.declaration.start]},"module.exports = ");break;case"ExportNamedDeclaration":var ae=ee.declaration,Ce=ee.specifiers;if(ae){var Ae=ae.declarations;Ae&&(Ae.forEach(function(ot){k(ot,"module.exports."+f(ot))}),k({range:[ee.start,ae.start+ae.kind.length]},""))}else if(Ce){var Fe=Ce.map(function(ot){var et=f(ot);return"module.exports."+et+" = "+et+"; "}).join("");Fe&&k(ee,Fe)}break}}function L(ee,ae,Ce){if(ee){for(var Ae in ee)if(Ae!=="range"&&Ae!=="loc"){var Fe=ee[Ae];if(Array.isArray(Fe))for(var ot=0,et=Fe.length;ot<et;ot++)L(Fe[ot],ee,Ce);else Fe&&typeof Fe=="object"&&L(Fe,ee,Ce)}Ce.operatorOverloading!==!1&&T(ee,ae),Ce.moduleExports!==!1&&C(ee)}}function O(ee){var ae="",Ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(ee=(Math.abs(ee)<<1)+(ee<0?1:0);ee||!ae;){var Ae=ee&31;ee>>=5,ee&&(Ae|=32),ae+=Ce[Ae]}return ae}var M=P.url||"",$=P.sourceMaps,R=P.paperFeatures||{},F=P.source||b,q=P.offset||0,H=nt.agent,G=H.versionNumber,Z=!1,ie=/\r\n|\n|\r/mg,be;if($&&(H.chrome&&G>=30||H.webkit&&G>=537.76||H.firefox&&G>=23||H.node)){if(H.node)q-=2;else if(le&&M&&!le.location.href.indexOf(M)){var Pe=j.getElementsByTagName("html")[0].innerHTML;q=Pe.substr(0,Pe.indexOf(b)+1).match(ie).length+1}Z=q>0&&!(H.chrome&&G>=36||H.safari&&G>=600||H.firefox&&G>=40||H.node);var Ve=["AA"+O(Z?0:q)+"A"];Ve.length=(b.match(ie)||[]).length+1+(Z?q:0),be={version:3,file:M,names:[],mappings:Ve.join(";AACA"),sourceRoot:"",sources:[M],sourcesContent:[F]}}return(R.operatorOverloading!==!1||R.moduleExports!==!1)&&L(s(b,{ranges:!0,preserveParens:!0,sourceType:"module"}),null,R),be&&(Z&&(b=new Array(q+1).join(`
`)+b),/^(inline|both)$/.test($)&&(b+=`
//# sourceMappingURL=data:application/json;base64,`+N.btoa(unescape(encodeURIComponent(JSON.stringify(be))))),b+=`
//# sourceURL=`+(M||"paperscript")),{url:M,source:F,code:b,map:be}}function _(b,P,v){nt=P;var S=P.getView(),f=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(b)&&!/\bnew\s+Tool\b/.test(b)?new hi:null,y=f?f._events:[],k=["onFrame","onResize"].concat(y),T=[],C=[],L,O=typeof b=="object"?b:g(b,v);b=O.code;function M(G,Z){for(var ie in G)(Z||!/^_/.test(ie))&&new RegExp("([\\b\\s\\W]|^)"+ie.replace(/\$/g,"\\$")+"\\b").test(b)&&(T.push(ie),C.push(G[ie]))}M({__$__:h,$__:c,paper:P,tool:f},!0),M(P),b="var module = { exports: {} }; "+b;var q=A.each(k,function(G){new RegExp("\\s+"+G+"\\b").test(b)&&(T.push(G),this.push("module.exports."+G+" = "+G+";"))},[]).join(`
`);q&&(b+=`
`+q),b+=`
return module.exports;`;var $=nt.agent;if(j&&($.chrome||$.firefox&&$.versionNumber<40)){var R=j.createElement("script"),F=j.head||j.getElementsByTagName("head")[0];$.firefox&&(b=`
`+b),R.appendChild(j.createTextNode("document.__paperscript__ = function("+T+") {"+b+`
}`)),F.appendChild(R),L=j.__paperscript__,delete j.__paperscript__,F.removeChild(R)}else L=Function(T,b);var q=L&&L.apply(P,C),H=q||{};return A.each(y,function(G){var Z=H[G];Z&&(f[G]=Z)}),S&&(H.onResize&&S.setOnResize(H.onResize),S.emit("resize",{size:S.size,delta:new V}),H.onFrame&&S.setOnFrame(H.onFrame),S.requestUpdate()),q}function p(b){if(/^text\/(?:x-|)paperscript$/.test(b.type)&&X.getAttribute(b,"ignore")!=="true"){var P=X.getAttribute(b,"canvas"),v=j.getElementById(P),S=b.src||b.getAttribute("data-src"),f=X.hasAttribute(b,"async"),y="data-paper-scope";if(!v)throw new Error('Unable to find canvas with id "'+P+'"');var k=X.get(v.getAttribute(y))||new X().setup(v);return v.setAttribute(y,k._id),S?Ni.request({url:S,async:f,mimeType:"text/plain",onLoad:function(T){_(T,k,S)}}):_(b.innerHTML,k,b.baseURI),b.setAttribute("data-paper-ignore","true"),k}}function d(){A.each(j&&j.getElementsByTagName("script"),p)}function x(b){return b?p(b):d()}return le&&(j.readyState==="complete"?setTimeout(d):pt.add(le,{load:d})),{compile:g,execute:_,load:x,parse:s,calculateBinary:h,calculateUnary:c}}).call(this);var nt=new(X.inject(A.exports,{Base:A,Numerical:re,Key:Ft,DomEvent:pt,DomElement:dt,document:j,window:le,Symbol:ut,PlacedSymbol:tt}));return nt.agent.node&&Mn(nt),typeof B=="function"&&B.amd?B("paper",nt):ye&&(ye.exports=nt),nt}).call(Lo,typeof self=="object"?self:null)}(Br)),Br.exports}No();function Ro(ye){var N=Ii(),B=wt(N);{var le=j=>{Os(j,{})};Ct(B,j=>{j(le)})}ne(ye,N)}var Oo=Ee('<div style="padding: var(--cds-spacing-07); text-align: center; background: var(--cds-layer-01); border: 1px dashed var(--cds-border-subtle); margin-top: var(--cds-spacing-05);"><p style="color: var(--cds-text-secondary); margin-bottom: var(--cds-spacing-03);"> </p> <p style="color: var(--cds-text-secondary);"> </p></div>');function Mo(ye,N){qt(N,!1),Ht();var B=Oo(),le=ge(B),j=ge(le,!0);de(le);var A=ce(le,2),ue=ge(A,!0);de(A),de(B),Xe((X,fe)=>{rt(j,X),rt(ue,fe)},[()=>Te("shearDeformation.emptyState.pleaseSelect"),()=>Te("shearDeformation.emptyState.useButton")],We),ne(ye,B),Ut()}var Do=Ee('<div><div style="display: flex; align-items: center; gap: var(--cds-spacing-03);"><strong> </strong> <span> </span> <span style="color: var(--cds-text-secondary);">|</span> <span> </span></div></div>');function Vo(ye,N){qt(N,!1);const B=Re();let le=oe(N,"selectedLager",8);He(()=>it(le()),()=>{he(B,le().passed?"var(--cds-support-success)":"var(--cds-support-error)")}),si(),Ht();var j=Do(),A=ge(j),ue=ge(A),X=ge(ue);de(ue);var fe=ce(ue,2),Oe=ge(fe,!0);de(fe);var me=ce(fe,4),re=ge(me);de(me),de(A),de(j),Xe((_e,V)=>{xi(j,`padding: var(--cds-spacing-05); background: var(--cds-layer-01); border-left: 3px solid ${E(B)??""}; margin-bottom: var(--cds-spacing-05);`),rt(X,`${_e??""}:`),rt(Oe,le().lagerType),rt(re,`${V??""}: ${le().thickness??""} mm`)},[()=>Te("shearDeformation.selectedBanner.selectedType"),()=>Te("shearDeformation.selectedBanner.thickness")],We),ne(ye,j),Ut()}var Bo=Ee('<div class="parameter-row svelte-luskwn"><span class="parameter-label svelte-luskwn"> <!></span> <span class="equals-sign svelte-luskwn">=</span> <span class="param-value svelte-luskwn"> </span></div>'),zo=Ee('<h4 class="bx--type-expressive-heading-01"> </h4> <div class="parameter-column svelte-luskwn"></div>',1),Fo=Ee('<div class="parameter-row svelte-luskwn"><span class="parameter-label svelte-luskwn"> <!></span> <span class="equals-sign svelte-luskwn">=</span> <span class="param-value svelte-luskwn"> </span></div>'),$o=Ee('<div class="parameter-row svelte-luskwn"><span class="parameter-label svelte-luskwn"> </span> <span class="equals-sign svelte-luskwn">=</span> <span class="param-value svelte-luskwn"> </span></div>'),qo=Ee('<h4 class="bx--type-expressive-heading-01"> </h4> <div class="parameter-column svelte-luskwn"></div> <div style="padding-top:var(--cds-spacing-07)"></div> <h4 class="bx--type-expressive-heading-01"> </h4> <div class="parameter-column svelte-luskwn"></div>',1),Uo=Ee("<!> <!>",1),Ho=Ee('<div class="screenshot-section svelte-luskwn"><div class="screenshot-wrapper svelte-luskwn"><img class="screenshot-image svelte-luskwn"/> <p class="screenshot-caption svelte-luskwn"> </p></div></div>'),Go=Ee('<div><h3 class="bx--type-expressive-heading-02"> </h3> <!> <!></div>');function Wo(ye,N){qt(N,!1);const[B,le]=Li(),j=()=>yi(vi,"$shearDeformationParameterStore",B),A=Re(),ue=Re(),X=Re(),fe=Re();let Oe=oe(N,"screenshotDataUrl",8,"");function me(W){return W.getValue?W.getValue(E(A)):E(A)?E(A)[W.key]:""}He(()=>j(),()=>{he(A,j())}),He(()=>Te,()=>{he(ue,[{label:Te("shearDeformation.parameters.bearingDepth"),key:"a",unit:"mm",formula:"a"},{label:Te("shearDeformation.parameters.bearingLength"),key:"b",unit:"mm",formula:"b"},{label:Te("shearDeformation.parameters.concreteCovernominal"),key:"c_nom",unit:"mm",formula:"c_{nom}"},{label:Te("shearDeformation.parameters.streifenlager"),key:"is_streifen",unit:"",getValue:W=>W.is_streifen?"Ja":"Nein"},{label:Te("shearDeformation.parameters.schubdornPresent"),key:"is_dorn",unit:"",getValue:W=>W.is_dorn?"Ja":"Nein"},{label:Te("shearDeformation.parameters.schubdornCount"),key:"n_b",unit:"",getValue:W=>W.is_dorn?W.n_b.toString():"-"},{label:Te("shearDeformation.parameters.holeDiameter"),key:"d_b",unit:"mm",formula:"d_b"}])}),He(()=>Te,()=>{he(X,[{label:Te("shearDeformation.parameters.designLoad"),key:"ff_zd",unit:"kN",formula:"F_{z,d}"},{label:Te("shearDeformation.parameters.bearingRotation"),key:"alpha_y",unit:"mrad",formula:"\\alpha_y"},{label:Te("shearDeformation.parameters.bearingDisplacement"),key:"v_x",unit:"mm",formula:"v_x"}])}),He(()=>Te,()=>{he(fe,[{label:Te("shearDeformation.parameters.concreteSteelContact"),key:"is_ortbeton",unit:"",getValue:W=>W.is_ortbeton?"Ja":"Nein"}])}),si(),Ht();var re=Go(),_e=ge(re),V=ge(_e,!0);de(_e);var Se=ce(_e,2);Sr(Se,{fullWidth:!0,style:"padding-top:0;",children:(W,De)=>{Yi(W,{style:"padding: 0;",children:(ve,Be)=>{var xe=Uo(),w=wt(xe);Ei(w,{sm:16,md:16,lg:8,style:"padding-right: var(--cds-spacing-05);",children:(ke,Ze)=>{var st=zo(),tt=wt(st),ut=ge(tt,!0);de(tt);var Qe=ce(tt,2);or(Qe,5,()=>E(ue),Vr,(we,qe)=>{var J=Bo(),Ge=ge(J),Ye=ge(Ge),Le=ce(Ye);{var Ke=ht=>{Cr(ht,{get formula(){return E(qe).formula}})};Ct(Le,ht=>{E(qe).formula&&ht(Ke)})}de(Ge);var vt=ce(Ge,4),ze=ge(vt);de(vt),de(J),Xe(ht=>{rt(Ye,`${E(qe).label??""} `),rt(ze,`${ht??""} ${E(qe).unit??""}`)},[()=>me(E(qe))],We),ne(we,J)}),de(Qe),Xe(we=>rt(ut,we),[()=>Te("shearDeformation.parameters.bearingValues")],We),ne(ke,st)},$$slots:{default:!0}});var Me=ce(w,2);Ei(Me,{sm:16,md:16,lg:8,style:"padding-left: var(--cds-spacing-05);",children:(ke,Ze)=>{var st=qo(),tt=wt(st),ut=ge(tt,!0);de(tt);var Qe=ce(tt,2);or(Qe,5,()=>E(X),Vr,(Ge,Ye)=>{var Le=Fo(),Ke=ge(Le),vt=ge(Ke),ze=ce(vt);{var ht=Rt=>{Cr(Rt,{get formula(){return E(Ye).formula}})};Ct(ze,Rt=>{E(Ye).formula&&Rt(ht)})}de(Ke);var Nt=ce(Ke,4),at=ge(Nt);de(Nt),de(Le),Xe(Rt=>{rt(vt,`${E(Ye).label??""} `),rt(at,`${Rt??""} ${E(Ye).unit??""}`)},[()=>me(E(Ye))],We),ne(Ge,Le)}),de(Qe);var we=ce(Qe,4),qe=ge(we,!0);de(we);var J=ce(we,2);or(J,5,()=>E(fe),Vr,(Ge,Ye)=>{var Le=$o(),Ke=ge(Le),vt=ge(Ke,!0);de(Ke);var ze=ce(Ke,4),ht=ge(ze);de(ze),de(Le),Xe(Nt=>{rt(vt,E(Ye).label),rt(ht,`${Nt??""} ${E(Ye).unit??""}`)},[()=>me(E(Ye))],We),ne(Ge,Le)}),de(J),Xe((Ge,Ye)=>{rt(ut,Ge),rt(qe,Ye)},[()=>Te("shearDeformation.parameters.inputLoads"),()=>Te("shearDeformation.parameters.additionalSpecifications")],We),ne(ke,st)},$$slots:{default:!0}}),ne(ve,xe)},$$slots:{default:!0}})},$$slots:{default:!0}});var Q=ce(Se,2);{var se=W=>{var De=Ho(),ve=ge(De),Be=ge(ve),xe=ce(Be,2),w=ge(xe,!0);de(xe),de(ve),de(De),Xe((Me,ke)=>{Dt(Be,"src",Oe()),Dt(Be,"alt",Me),rt(w,ke)},[()=>Te("pdf.topViewVisualization"),()=>Te("pdf.topViewVisualization")],We),ne(W,De)};Ct(Q,W=>{Oe()&&W(se)})}de(re),Xe(W=>rt(V,W),[()=>Te("shearDeformation.parameters.title")],We),ne(ye,re),Ut(),le()}function Bn(ye,N){let B=oe(N,"showDisclaimer",8,!1);Zn(ye,{mode:"pdf",get showDisclaimer(){return B()}})}var jo=Ee('<div style="position: absolute; bottom: 0; left: 0; right: 0; height: 5px; background-color: rgba(15, 98, 254, 0.2); overflow: hidden; border-radius: 0 0 4px 4px;"><div></div></div>'),Zo=Ee('<div style="position: relative; display: inline-block;"><!> <!></div>');function Ko(ye,N){qt(N,!1);const B=Re(),le=Re(),j=Re(),A=Re(),ue=Re();let X=oe(N,"componentPages",8,void 0),fe=oe(N,"documentTitle",8,void 0),Oe=oe(N,"filename",8,void 0),me=oe(N,"buttonText",8,void 0),re=oe(N,"generatingText",8,void 0),_e=oe(N,"pdfOptions",24,()=>({})),V=Re(),Se=Re(""),Q=Re(!1),se=Re(0);async function W(){he(Q,!0),he(se,0);const w=Ts,Me=Is,Ze=100/(w/Me),st=setInterval(()=>{he(se,Math.min(E(se)+Ze,99))},Me);try{try{he(Se,await Ms.captureScreenshot(!0))}catch(Ge){console.warn("Could not capture screenshot:",Ge),he(Se,"")}const tt=`${window.location.origin}${Bs}/corporate/Logo_breit.svg`;let ut="";try{const Ye=await(await fetch(tt)).blob();ut=await new Promise(Le=>{const Ke=new FileReader;Ke.onloadend=()=>Le(Ke.result),Ke.readAsDataURL(Ye)})}catch(Ge){console.warn("Could not load logo for PDF:",Ge)}const Qe=`
        <h1 style="text-align: center; font-size: 2rem; font-weight: 700; margin: 0 0 1.5rem 0;">${Te("pdf.preliminaryDesign")}:<br/><br/>${Te("pdf.elastomerBearingDeformation")}</h1>
        <p style="text-align: center;">${Te("pdf.generatedOn")}: ${new Date().toLocaleString("de-DE")}</p>
      `,we=ut?`<div style="width: 100%; padding: 5px 15mm 0 15mm; display: flex; align-items: center; justify-content: space-between; font-size: 10px;">
             <div style="display: flex; align-items: center; gap: 0.5rem;">
               <img src="${ut}" alt="statiqs logo" style="height: 14px; width: auto; margin-left: 2px;" />
             </div>
             <span style="font-size: 10px; color: #666;">${Te("pdf.shearDeformationStandard")}</span>
           </div>`:`<div style="width: 100%; padding: 5px 15mm 0 15mm; display: flex; align-items: center; justify-content: space-between; font-size: 10px;">
             <span style="font-weight: 700; font-size: 14px;">statiqs</span>
             <span style="font-size: 10px; color: #666;">${Te("pdf.shearDeformationStandard")}</span>
           </div>`,qe={format:"A4",margin:{top:"30mm",bottom:"30mm",left:"15mm",right:"15mm"},printBackground:!0,displayHeaderFooter:!0,headerTemplate:we,footerTemplate:`<div style="font-size: 10px; margin: 0 auto; text-align: center; width: 100%;">${Te("pdf.page")} <span class="pageNumber"></span> ${Te("pdf.of")} <span class="totalPages"></span></div>`},J={includeTableOfContents:!0,tocTitle:Te("pdf.tableOfContents"),calculationReportSubtitle:Te("pdf.calculationReport"),...qe,..._e()};await $s(E(ue),E(le),J,E(B),Qe)}catch(tt){console.error("Error generating PDF:",tt),alert(`Error generating PDF: ${tt instanceof Error?tt.message:"Unknown error"}`)}finally{clearInterval(st),he(se,100),setTimeout(()=>{he(Q,!1),he(se,0)},300)}}He(()=>(it(fe()),Te),()=>{he(B,fe()??Te("pdf.documentTitle"))}),He(()=>(it(Oe()),Te),()=>{he(le,Oe()??Te("pdf.filename"))}),He(()=>(it(me()),Te),()=>{he(j,me()??Te("pdf.buttonText"))}),He(()=>(it(re()),Te),()=>{he(A,re()??Te("pdf.generatingText"))}),He(()=>(E(Se),Bn),()=>{he(V,[{component:Wo,props:{showInOneColumn:!0,screenshotDataUrl:E(Se)},title:Te("pdf.inputParameters")},{component:Bn,props:{showInOneColumn:!0,showDisclaimer:!0},title:Te("pdf.calculationResults")}])}),He(()=>(it(X()),E(V)),()=>{he(ue,X()||E(V))}),si(),Ht();var De=Zo(),ve=ge(De);fr(ve,{get disabled(){return E(Q)},kind:"secondary",$$events:{click:W},children:(w,Me)=>{Qt();var ke=Yt();Xe(()=>rt(ke,E(Q)?E(A):E(j))),ne(w,ke)},$$slots:{default:!0}});var Be=ce(ve,2);{var xe=w=>{var Me=jo(),ke=ge(Me);de(Me),Xe(()=>xi(ke,`height: 100%; background-color: #0f62fe; transition: width 0.3s ease-out; width: ${E(se)??""}%;`)),ne(w,Me)};Ct(Be,w=>{E(Q)&&w(xe)})}de(De),ne(ye,De),Ut()}function Xo(ye){const N=ye(1e6,1);return{multiplier:ye(1,1e3)*1e3,maxValue:N}}var Qo=Ee('<h7 class="bx--type-expressive-heading-01"> </h7> <div style="padding-top:var(--cds-spacing-05)"></div> <!> <!> <!> <div style="padding-top:var(--cds-spacing-05)"></div> <div style="margin-bottom: var(--cds-spacing-03);"><!></div> <!> <!>',1),Yo=Ee('<div style="padding-top:var(--cds-spacing-07)"></div> <!> <!> <!>',1),Jo=Ee('<div style="padding-top:var(--cds-spacing-07)"></div>'),eu=Ee('<!> <h7 class="bx--type-expressive-heading-01"> </h7> <div style="padding-top:var(--cds-spacing-05)"></div> <!> <!> <div style="padding-top:var(--cds-spacing-03)"></div> <!> <div style="padding-top:var(--cds-spacing-05)"></div> <div style="margin-bottom: var(--cds-spacing-03);"><!></div> <!> <div style="padding-top:var(--cds-spacing-03)"></div> <!>',1),tu=Ee("<!> <!> <!>",1);function zn(ye,N){qt(N,!1);const[B,le]=Li(),j=()=>yi(vi,"$shearDeformationParameterStore",B),A=()=>yi(fn,"$selectedLagerStore",B),ue=Re(),X=Re(),fe=Re(),Oe=Re(),me=Re(),re=Re(),_e=Re(),V=Re(),Se=Re(),Q=Re(),se=Re(),W=Re(),De=Re(),ve=Re(),Be=Re();let xe=oe(N,"mode",8,"ui");He(()=>j(),()=>{he(ue,j())}),He(()=>A(),()=>{he(X,A())}),He(()=>it(xe()),()=>{he(fe,xe()==="pdf")}),He(()=>(E(X),Tn),()=>{he(Oe,E(X)?Xo(Tn[E(X).lagerType].rot_b_rule):{multiplier:450,maxValue:40})}),He(()=>E(X),()=>{he(me,{Name:"\\sigma_{Ed} \\; / \\; \\sigma_{Rd}(S)",Abstract:"",Result:E(X)?`= ${E(X).sigma_nachw.toFixed(3)}`:"= -",ConditionFulfilled:E(X)?E(X).sigma_nachw<=1:!1,TagTextGood:"<= 1",TagTextBad:"> 1"})}),He(()=>E(X),()=>{var ke;he(re,{Name:"\\text{Formfaktor } S",Abstract:"",Result:(ke=E(X))!=null&&ke.s?`= ${E(X).s.toFixed(3)}`:"= -"})}),He(()=>E(X),()=>{he(_e,{Name:"\\frac{v_{vorh}}{v_{zul}}",Abstract:"= v_{vorh}  \\; / \\; 0.6 \\cdot (t-2)",Result:E(X)?`= ${E(X).v_x_nachw.toFixed(3)}`:"-",ConditionFulfilled:E(X)?E(X).v_x_nachw<=1:!1,TagTextGood:"<= 1",TagTextBad:"> 1"})}),He(()=>{},()=>{he(V,"Bohrung erlaubt?")}),He(()=>E(X),()=>{he(Se,{Name:"\\text{Bohrung erlaubt}",Result:"",ConditionFulfilled:E(X)?E(X).bohr_nachw:!1,TagTextGood:"Ja",TagTextBad:"Nein"})}),He(()=>(E(Oe),E(X)),()=>{he(Q,{Name:"\\frac{\\alpha_{y,g}}{\\alpha_{y,max}}",Abstract:`= \\alpha_{y,g}\\; / \\; \\min\\left(\\frac{${E(Oe).multiplier} \\cdot t}{a}; \\; ${E(Oe).maxValue}\\right)`,Result:E(X)?`= ${E(X).rot_b_nachw.toFixed(3)}`:"-",ConditionFulfilled:E(X)?E(X).rot_b_nachw<=1:!1,TagTextGood:"<= 1",TagTextBad:"> 1"})}),He(()=>E(X),()=>{var ke;he(se,{Name:"\\alpha_{y,ges}",Abstract:"= \\alpha_y + \\alpha_{imp}",Result:(ke=E(X))!=null&&ke.alpha_y_ges?`= ${E(X).alpha_y_ges.toFixed(3)}`:"= -"})}),He(()=>E(X),()=>{var ke;he(W,{Name:"T_{ed,y}",Abstract:"= 1.5 \\cdot \\sigma_{Ed} \\cdot a \\cdot t",Result:`= ${(ke=E(X))==null?void 0:ke.querzug_y.toFixed(1)}\\;kN`})}),He(()=>E(X),()=>{var ke;he(De,{Name:"T_{ed,x}",Abstract:"= 1.5 \\cdot \\sigma_{Ed} \\cdot b \\cdot t",Result:`= ${(ke=E(X))==null?void 0:ke.querzug_x.toFixed(1)}\\;kN`})}),He(()=>E(X),()=>{var ke;he(ve,{Name:"l_x",Abstract:"= a + c_{nom} + 10 mm + 25 mm",Result:`= ${(ke=E(X))==null?void 0:ke.l_xmin.toFixed(0)}\\;mm`})}),He(()=>E(X),()=>{var ke,Ze;he(Be,{Name:"l_x",Abstract:"= b + 2 (c_{nom} + 10 mm )",Result:`= ${(Ze=(ke=E(X))==null?void 0:ke.l_ymin)==null?void 0:Ze.toFixed(0)}\\;mm`})}),si(),Ht();const w=We(()=>!E(fe)),Me=We(()=>E(fe)?"padding:0;":"");Sr(ye,{get fullWidth(){return E(fe)},get noGutterLeft(){return E(w)},get style(){return E(Me)},children:(ke,Ze)=>{Yi(ke,{children:(st,tt)=>{var ut=tu(),Qe=wt(ut);Ei(Qe,{sm:16,md:16,lg:6,children:(J,Ge)=>{var Ye=Qo(),Le=wt(Ye),Ke=ge(Le,!0);de(Le);var vt=ce(Le,4);Hi(vt,{children:(dt,pt)=>{Qt();var Pt=Yt();Xe(Lt=>rt(Pt,Lt),[()=>Te("shearDeformation.results.verticalCapacity")],We),ne(dt,Pt)},$$slots:{default:!0}});var ze=ce(vt,2);Bi(ze,{get formula(){return E(re)}});var ht=ce(ze,2);Bi(ht,{get formula(){return E(me)},get isFulfilled(){return E(me).ConditionFulfilled},get tagTextGood(){return E(me).TagTextGood},get tagTextBad(){return E(me).TagTextBad}});var Nt=ce(ht,4),at=ge(Nt);Hi(at,{children:(dt,pt)=>{Qt();var Pt=Yt();Xe(Lt=>rt(Pt,Lt),[()=>Te("shearDeformation.results.shearDeformation")],We),ne(dt,Pt)},$$slots:{default:!0}}),de(Nt);var Rt=ce(Nt,2);Bi(Rt,{get formula(){return E(_e)},get isFulfilled(){return E(_e).ConditionFulfilled},get tagTextGood(){return E(_e).TagTextGood},get tagTextBad(){return E(_e).TagTextBad}});var Jt=ce(Rt,2);{var zt=dt=>{Bi(dt,{get formula(){return E(Se)},get isFulfilled(){return E(Se).ConditionFulfilled},get tagTextGood(){return E(Se).TagTextGood},get tagTextBad(){return E(Se).TagTextBad}})};Ct(Jt,dt=>{E(ue).is_dorn&&dt(zt)})}Xe(dt=>rt(Ke,dt),[()=>Te("shearDeformation.results.bearingDesign")],We),ne(J,Ye)},$$slots:{default:!0}});var we=ce(Qe,2);Ei(we,{sm:16,md:16,lg:5,children:(J,Ge)=>{var Ye=Yo(),Le=ce(wt(Ye),2);Hi(Le,{children:(ze,ht)=>{Qt();var Nt=Yt();Xe(at=>rt(Nt,at),[()=>Te("shearDeformation.results.rotationProof")],We),ne(ze,Nt)},$$slots:{default:!0}});var Ke=ce(Le,2);Bi(Ke,{get formula(){return E(se)}});var vt=ce(Ke,2);Bi(vt,{get formula(){return E(Q)},get isFulfilled(){return E(Q).ConditionFulfilled},get tagTextGood(){return E(Q).TagTextGood},get tagTextBad(){return E(Q).TagTextBad}}),ne(J,Ye)},$$slots:{default:!0}});var qe=ce(we,2);Ei(qe,{sm:16,md:16,lg:5,children:(J,Ge)=>{var Ye=eu(),Le=wt(Ye);{var Ke=pt=>{var Pt=Jo();ne(pt,Pt)};Ct(Le,pt=>{xe()==="pdf"&&pt(Ke)})}var vt=ce(Le,2),ze=ge(vt,!0);de(vt);var ht=ce(vt,4);Hi(ht,{children:(pt,Pt)=>{Qt();var Lt=Yt();Xe(ai=>rt(Lt,ai),[()=>Te("shearDeformation.results.transverseForces")],We),ne(pt,Lt)},$$slots:{default:!0}});var Nt=ce(ht,2);Bi(Nt,{get formula(){return E(W)}});var at=ce(Nt,4);Bi(at,{get formula(){return E(De)}});var Rt=ce(at,4),Jt=ge(Rt);Hi(Jt,{children:(pt,Pt)=>{Qt();var Lt=Yt();Xe(ai=>rt(Lt,ai),[()=>Te("shearDeformation.results.minDimensionConsole")],We),ne(pt,Lt)},$$slots:{default:!0}}),de(Rt);var zt=ce(Rt,2);Bi(zt,{get formula(){return E(ve)}});var dt=ce(zt,4);Bi(dt,{get formula(){return E(Be)}}),Xe(pt=>rt(ze,pt),[()=>Te("shearDeformation.results.adjacentComponents")],We),ne(J,Ye)},$$slots:{default:!0}}),ne(st,ut)},$$slots:{default:!0}})},$$slots:{default:!0}}),Ut(),le()}var iu=Ee('<!> <div style="padding-top:var(--cds-spacing-05)"></div> <!>',1),ru=Ee('<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;"><h5 class="bx--type-expressive-heading-02"> </h5> <!></div> <!>',1),nu=Ee('<p> </p> <div style="padding-top:var(--cds-spacing-07)"></div>',1),su=Ee('<div style="padding-top:var(--cds-spacing-07)"></div>'),au=Ee('<div style="background-color: #f4f4f4; padding: var(--cds-spacing-05); margin-bottom: var(--cds-spacing-05); border-radius: 4px;"><h5 style="margin: 0 0 var(--cds-spacing-03) 0; font-weight: 600;"> </h5> <p style="margin: 0;"><strong> </strong> </p> <p style="margin: 0;"><strong> </strong> </p></div> <!> <!>',1),ou=Ee('<p style="text-align: center; color: var(--cds-text-secondary); padding: var(--cds-spacing-07);"> </p>'),uu=Ee('<div><h3 class="bx--type-expressive-heading-02"> </h3> <div style="padding-top:var(--cds-spacing-05)"></div> <!> <!></div>');function Zn(ye,N){qt(N,!1);const[B,le]=Li(),j=()=>yi(fn,"$selectedLagerStore",B),A=Re();let ue=oe(N,"mode",8,"ui"),X=oe(N,"showDisclaimer",8,!1);He(()=>j(),()=>{he(A,j())}),si(),Ht();var fe=Ii(),Oe=wt(fe);{var me=_e=>{cn(_e,{style:"height: 100%;",children:(V,Se)=>{var Q=ru(),se=wt(Q),W=ge(se),De=ge(W,!0);de(W);var ve=ce(W,2);{var Be=ke=>{Ko(ke,{filename:"schubverformung-bericht",documentTitle:"statiqs Schubverformungsberechnung",buttonText:"PDF herunterladen",generatingText:"PDF wird erstellt..."})};Ct(ve,ke=>{E(A)&&ke(Be)})}de(se);var xe=ce(se,2);{var w=ke=>{Mo(ke,{})},Me=ke=>{var Ze=iu(),st=wt(Ze);Vo(st,{get selectedLager(){return E(A)}});var tt=ce(st,4);zn(tt,{mode:"ui"}),ne(ke,Ze)};Ct(xe,ke=>{E(A)?ke(Me,!1):ke(w)})}Xe(ke=>rt(De,ke),[()=>Te("shearDeformation.results.title")],We),ne(V,Q)},$$slots:{default:!0}})},re=_e=>{var V=uu(),Se=ge(V),Q=ge(Se,!0);de(Se);var se=ce(Se,4);{var W=xe=>{var w=nu(),Me=wt(w),ke=ge(Me,!0);de(Me),Qt(2),Xe(Ze=>rt(ke,Ze),[()=>Te("shearDeformation.results.manufacturersDisclaimer")],We),ne(xe,w)};Ct(se,xe=>{X()&&xe(W)})}var De=ce(se,2);{var ve=xe=>{var w=au(),Me=wt(w),ke=ge(Me),Ze=ge(ke,!0);de(ke);var st=ce(ke,2),tt=ge(st),ut=ge(tt);de(tt);var Qe=ce(tt);de(st);var we=ce(st,2),qe=ge(we),J=ge(qe);de(qe);var Ge=ce(qe);de(we),de(Me);var Ye=ce(Me,2);{var Le=vt=>{var ze=su();ne(vt,ze)};Ct(Ye,vt=>{X()&&vt(Le)})}var Ke=ce(Ye,2);zn(Ke,{mode:"pdf"}),Xe((vt,ze,ht)=>{rt(Ze,vt),rt(ut,`${ze??""}:`),rt(Qe,` ${E(A).lagerType??""}`),rt(J,`${ht??""}:`),rt(Ge,` ${E(A).thickness??""} mm`)},[()=>Te("shearDeformation.selectedBanner.selectedType"),()=>Te("shearDeformation.modal.headers.lagerType"),()=>Te("shearDeformation.selectedBanner.thickness")],We),ne(xe,w)},Be=xe=>{var w=ou(),Me=ge(w,!0);de(w),Xe(ke=>rt(Me,ke),[()=>Te("shearDeformation.emptyState.pleaseSelect")],We),ne(xe,w)};Ct(De,xe=>{E(A)?xe(ve):xe(Be,!1)})}de(V),Xe(xe=>rt(Q,xe),[()=>Te("shearDeformation.results.title")],We),ne(_e,V)};Ct(Oe,_e=>{ue()==="ui"?_e(me):_e(re,!1)})}ne(ye,fe),Ut(),le()}function lu(ye){const N={};for(const le of ye)N[le.lagerType]||(N[le.lagerType]=[]),N[le.lagerType].push(le);const B={};for(const le in N){const j=N[le];j.sort((ue,X)=>ue.thickness-X.thickness);let A=null;for(const ue of j)if(ue.passed){A=ue;break}A||(A=j[j.length-1]),B[le]=A}return B}function hu(ye){const N=lu(ye);return Object.values(N).sort((B,le)=>B.passed===le.passed?0:B.passed?-1:1).map(B=>({id:`${B.lagerType}-${B.thickness}`,productName:B.productName||B.lagerType,lagerType:B.lagerType,manufacturer:B.manufacturer||"-",thickness:B.thickness,sigma_nachw:B.sigma_nachw.toFixed(3),v_x_nachw:B.v_x_nachw.toFixed(3),rot_b_nachw:B.rot_b_nachw.toFixed(3),bohr_nachw:B.bohr_nachw?Te("common.yes"):Te("common.no"),passed:B.passed,_data:B}))}var cu=Ee('<div class="lager-table svelte-3u2bq2"><!></div>'),fu=Ee('<p style="margin-bottom: 1rem;"><!></p> <!> <div style="display: flex; justify-content: flex-end; gap: 1rem; padding-top: 1rem; margin-top: 1rem; "><!></div>',1);function du(ye,N){qt(N,!1);const[B,le]=Li(),j=()=>yi(vi,"$shearDeformationParameterStore",B),A=Re(),ue=Re(),X=Re();let fe=oe(N,"open",12,!1),Oe=oe(N,"allLager",24,()=>[]),me=oe(N,"onSelect",8),re=oe(N,"onClose",8),_e=Re([]);function V(){if(E(_e).length>0){const W=E(ue).find(De=>De.id===E(_e)[0]);W&&me()(W._data)}Se()}function Se(){he(_e,[]),re()()}function Q(){if(typeof document>"u")return;document.querySelectorAll(".lager-table tbody tr").forEach((De,ve)=>{if(E(ue)[ve]){const Be=De.querySelectorAll("td"),xe=E(ue)[ve],w=xe.passed?"rgba(36, 161, 72, 0.075)":"rgba(218, 30, 40, 0.075)";Be.forEach((Me,ke)=>{const Ze=Me,st=ke-1,tt=E(X)[st];let ut=w;if(tt&&!xe.passed){const Qe=parseFloat(xe.sigma_nachw),we=parseFloat(xe.v_x_nachw),qe=parseFloat(xe.rot_b_nachw);(tt.key==="sigma_nachw"&&Qe>1||tt.key==="v_x_nachw"&&we>1||tt.key==="rot_b_nachw"&&qe>1||tt.key==="bohr_nachw"&&E(A).is_dorn&&xe.bohr_nachw===Te("common.no"))&&(ut="rgba(218, 30, 40, 0.3)")}Ze.style.setProperty("background-color",ut,"important")})}})}He(()=>j(),()=>{he(A,j())}),He(()=>it(Oe()),()=>{he(ue,hu(Oe()))}),He(()=>E(A),()=>{he(X,[{key:"productName",value:Te("shearDeformation.modal.headers.lagerType"),empty:!1},{key:"manufacturer",value:Te("shearDeformation.modal.headers.manufacturer"),empty:!1},{key:"thickness",value:Te("shearDeformation.modal.headers.thickness"),empty:!1},{key:"sigma_nachw",value:Te("shearDeformation.modal.headers.sigmaProof"),empty:!1},{key:"v_x_nachw",value:Te("shearDeformation.modal.headers.shearProof"),empty:!1},{key:"rot_b_nachw",value:Te("shearDeformation.modal.headers.rotationProof"),empty:!1},...E(A).is_dorn?[{key:"bohr_nachw",value:"Bohrung erlaubt",empty:!1}]:[]])}),He(()=>it(fe()),()=>{fe()&&he(_e,[])}),He(()=>(it(fe()),E(ue)),()=>{fe()&&E(ue).length>0&&setTimeout(Q,100)}),si(),Ht();const se=We(()=>Te("shearDeformation.modal.title"));Ja(ye,{get modalHeading(){return E(se)},size:"lg",passiveModal:!0,get open(){return fe()},set open(W){fe(W)},$$events:{"click:button--secondary":Se,close:Se},children:(W,De)=>{var ve=fu(),Be=wt(ve),xe=ge(Be);{var w=Qe=>{var we=Yt();Xe(qe=>rt(we,qe),[()=>Te("shearDeformation.modal.noLagerFound")],We),ne(Qe,we)},Me=Qe=>{var we=Yt();Xe(qe=>rt(we,qe),[()=>Te("shearDeformation.modal.selectFromAvailable")],We),ne(Qe,we)};Ct(xe,Qe=>{Oe().length===0?Qe(w):Qe(Me,!1)})}de(Be);var ke=ce(Be,2);{var Ze=Qe=>{var we=cu(),qe=ge(we);Oa(qe,{get headers(){return E(X)},get rows(){return E(ue)},sortable:!0,radio:!0,style:"margin-top: 1rem;",get selectedRowIds(){return E(_e)},set selectedRowIds(J){he(_e,J)},children:(J,Ge)=>{Da(J,{children:(Ye,Le)=>{Ba(Ye,{children:(Ke,vt)=>{Wa(Ke,{})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0}),de(we),ne(Qe,we)};Ct(ke,Qe=>{Oe().length>0&&Qe(Ze)})}var st=ce(ke,2),tt=ge(st);const ut=We(()=>E(_e).length===0);fr(tt,{kind:"secondary",get disabled(){return E(ut)},$$events:{click:V},children:(Qe,we)=>{Qt();var qe=Yt();Xe(J=>rt(qe,J),[()=>Te("shearDeformation.modal.applySelection")],We),ne(Qe,qe)},$$slots:{default:!0}}),de(st),ne(W,ve)},$$slots:{default:!0},$$legacy:!0}),Ut(),le()}var pu=Ee("<h3> </h3>"),gu=Ee('<!> <div style="padding-top:var(--cds-spacing-05)"></div> <!>',1),vu=Ee('<div style="flex: 1; min-height: 0;"><!></div>'),_u=Ee("<!> <!>",1),mu=Ee('<!> <div style="padding-top:var(--cds-spacing-05)"></div> <!> <div style="padding-top:var(--cds-spacing-05)"></div> <!>',1),bu=Ee('<!> <div style="padding-top:var(--cds-spacing-05)"></div> <!> <div style="padding-top:var(--cds-spacing-05)"></div>',1),xu=Ee("<!> <!>",1);function yu(ye,N){qt(N,!1);const[B,le]=Li(),j=()=>yi(vi,"$shearDeformationParameterStore",B),A=()=>yi(Vs,"$possibleLagerStore",B),ue=Re(),X=Re();let fe="g10",Oe=Re(!1);function me(){he(Oe,!0)}function re(){he(Oe,!1)}function _e(se){vi.updateField("t",se.thickness),setTimeout(()=>{fn.set(se)},0)}zr(async()=>{await nn(),Ds(E(ue))}),He(()=>j(),()=>{he(ue,j())}),He(()=>A(),()=>{he(X,A())}),si(),Ht();var V=xu(),Se=wt(V);Wn(Se,{theme:fe,children:(se,W)=>{ks(se,{children:(De,ve)=>{var Be=bu(),xe=wt(Be);Sr(xe,{children:(Me,ke)=>{var Ze=mu(),st=wt(Ze);Yi(st,{style:"width: 100%;padding:0",children:(Qe,we)=>{cn(Qe,{light:!1,style:"width: 100%;background: transparent;",children:(qe,J)=>{var Ge=pu(),Ye=ge(Ge,!0);de(Ge),Xe(Le=>rt(Ye,Le),[()=>Te("shearDeformation.title")],We),ne(qe,Ge)},$$slots:{default:!0}})},$$slots:{default:!0}});var tt=ce(st,4);Yi(tt,{style:"padding:0",children:(Qe,we)=>{var qe=_u(),J=wt(qe);Ei(J,{sm:16,md:16,lg:9,class:"mobile-spacing left-column",children:(Ye,Le)=>{var Ke=gu(),vt=wt(Ke);Co(vt,{});var ze=ce(vt,4);fr(ze,{kind:"secondary",$$events:{click:me},children:(ht,Nt)=>{Qt();var at=Yt();Xe(Rt=>rt(at,Rt),[()=>Te("shearDeformation.selectBearing")],We),ne(ht,at)},$$slots:{default:!0}}),ne(Ye,Ke)},$$slots:{default:!0}});var Ge=ce(J,2);Ei(Ge,{sm:16,md:16,lg:7,class:"mobile-spacing",style:"padding:0; display: flex; flex-direction: column;",children:(Ye,Le)=>{var Ke=vu(),vt=ge(Ke);Ro(vt),de(Ke),ne(Ye,Ke)},$$slots:{default:!0}}),ne(Qe,qe)},$$slots:{default:!0}});var ut=ce(tt,4);Yi(ut,{style:"padding:0",children:(Qe,we)=>{Ei(Qe,{sm:16,md:16,lg:16,style:"padding:0",children:(qe,J)=>{Zn(qe,{})},$$slots:{default:!0}})},$$slots:{default:!0}}),ne(Me,Ze)},$$slots:{default:!0}});var w=ce(xe,4);Sr(w,{children:(Me,ke)=>{Yi(Me,{style:"padding:0",children:(Ze,st)=>{Ei(Ze,{sm:16,md:16,lg:16,style:"padding:0"})},$$slots:{default:!0}})},$$slots:{default:!0}}),Qt(2),ne(De,Be)},$$slots:{default:!0}})},$$slots:{default:!0}});var Q=ce(Se,2);du(Q,{get allLager(){return E(X)},onSelect:_e,onClose:re,get open(){return E(Oe)},set open(se){he(Oe,se)},$$legacy:!0}),ne(ye,V),Ut(),le()}var wu=Ee(`<!> <style>:global(html, body) {
    height: 100%;
    margin: 0;
    padding: 0;
  }</style>`,1);function Su(ye,N){qt(N,!1),zr(async()=>{document.readyState==="complete"?await new Promise(B=>setTimeout(B,50)):(await new Promise(B=>{window.addEventListener("load",B,{once:!0})}),await new Promise(B=>setTimeout(B,50)))}),Ht(),Wn(ye,{theme:"white",children:(B,le)=>{var j=wu(),A=wt(j);yu(A,{}),Qt(2),ne(B,j)},$$slots:{default:!0}}),Ut()}function zu(ye){Su(ye,{})}export{zu as component,Bu as universal};
