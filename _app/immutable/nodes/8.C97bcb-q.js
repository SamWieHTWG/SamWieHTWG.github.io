import"../chunks/CWj6FrbW.js";import"../chunks/CZB9eVzO.js";import{s as ai,e as wt,o as zr,c as tn,p as Tn}from"../chunks/CpvxbhX2.js";import{p as _i,ab as Xe,c as Ve,m as Ye,ad as je,e as R,ac as Ri,aE as Vr,a2 as Je,n as Ct,a3 as et,a as ae,i as vi,o as Nt,f as Oe,k as oe,ai as br,g as os,ag as En,aT as Qr,l as Ut,q as Pt,aD as Ln,ae as Nn,j as Tt,a9 as Ni,a8 as Yr,aa as ci}from"../chunks/DYCQwRL8.js";import{i as bi,a as $i,b as kt,r as rn,C as ir,s as zt,d as ls,e as hs,c as ri,S as cs,f as fs}from"../chunks/CwgNvKtK.js";import{a as Mi,s as or,b as On}from"../chunks/DYKvh9ri.js";import{l as Zt,p as he,i as At,s as nn}from"../chunks/Cf2sSQny.js";import{b as ds,s as ur,S as ps,a as gs,c as Mn,p as _s,d as vs}from"../chunks/QeD7bNP6.js";import{b as It,B as Nr,T as sn}from"../chunks/DgNYLpIK.js";import{s as Rn,b as gi,G as Rr,R as tr,a as Oi,C as ms}from"../chunks/CFv25xJk.js";import{a1 as bs,e as Or,s as xs,C as Jr,i as ys,_ as Lr,Y as fi,X as Pi,S as ws,a as xn,a0 as zn,$ as Ss}from"../chunks/BVhE0l85.js";import{a as vr}from"../chunks/C253tLdi.js";import{b as qi,c as yn}from"../chunks/WwlshBQs.js";import{T as Cs,a as ks,b as wn,c as Ps,d as Is,e as Xr}from"../chunks/Bnc0vUv9.js";var As=Vr("<title> </title>"),Ts=Vr('<svg><!><path d="M22 16L12 26 10.6 24.6 19.2 16 10.6 7.4 12 6z"></path></svg>');function Sn(Be,q){const G=Zt(q,["children","$$slots","$$events","$$legacy"]),xe=Zt(G,["size","title"]);_i(q,!1);const te=Ye(),L=Ye();let Ue=he(q,"size",8,16),ue=he(q,"title",8,void 0);Xe(()=>(je(G),je(ue())),()=>{Ve(te,G["aria-label"]||G["aria-labelledby"]||ue())}),Xe(()=>(R(te),je(G)),()=>{Ve(L,{"aria-hidden":R(te)?void 0:!0,role:R(te)?"img":void 0,focusable:Number(G.tabindex)===0?!0:void 0})}),Ri(),bi();var Se=Ts();$i(Se,()=>({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:Ue(),height:Ue(),...R(L),...xe}));var Ee=Je(Se);{var Ce=ne=>{var De=As(),z=Je(De,!0);et(De),Nt(()=>ai(z,ue())),ae(ne,De)};At(Ee,ne=>{ue()&&ne(Ce)})}Ct(),et(Se),ae(Be,Se),vi()}var Es=Oe("<div><input/> <label></label></div>");function Cn(Be,q){const G=Zt(q,["children","$$slots","$$events","$$legacy"]),xe=Zt(G,["checked","indeterminate","title","id","ref"]);_i(q,!1);let te=he(q,"checked",8,!1),L=he(q,"indeterminate",12,!1),Ue=he(q,"title",8,void 0),ue=he(q,"id",24,()=>"ccs-"+Math.random().toString(36)),Se=he(q,"ref",12,null);bi();var Ee=Es();kt(Ee,1,"",null,{},{"bx--checkbox--inline":!0});var Ce=Je(Ee);rn(Ce),$i(Ce,()=>({type:"checkbox",checked:L()?!1:te(),id:ue(),...xe,"aria-checked":L()?void 0:te(),[ir]:{"bx--checkbox":!0}})),qi(Ce,De=>Se(De),()=>Se());var ne=oe(Ce,2);kt(ne,1,"",null,{},{"bx--checkbox-label":!0}),et(Ee),Nt(()=>{zt(ne,"for",ue()),zt(ne,"title",Ue()),zt(ne,"aria-label",G["aria-label"])}),bs("indeterminate","change",Ce,L,L),wt("change",Ce,function(De){It.call(this,q,De)}),wt("focus",Ce,function(De){It.call(this,q,De)}),wt("blur",Ce,function(De){It.call(this,q,De)}),ae(Be,Ee),vi()}const en=new Set,Vn=br(0),kn=()=>Vn.set([...en].filter(Be=>os(Be)).length),Ls=Be=>zr(()=>{en.add(Be);const q=Be.subscribe(kn);return()=>{q(),en.delete(Be),kn()}});Vn.subscribe(Be=>{typeof document<"u"&&document.body.classList.toggle("bx--body--with-modal-open",Be>0)});var Ns=Oe("<span><!></span>"),Os=Oe('<div><input type="radio"/> <label><span></span> <!></label></div>');function Ms(Be,q){const G=Rn(q),xe=Zt(q,["children","$$slots","$$events","$$legacy"]),te=Zt(xe,["value","checked","disabled","required","labelPosition","labelText","hideLabel","id","name","ref"]);_i(q,!1);const[L,Ue]=or(),ue=()=>Mi(P,"$selectedValue",L),Se=()=>Mi(Ze,"$groupName",L),Ee=()=>Mi(xt,"$groupRequired",L);let Ce=he(q,"value",8,""),ne=he(q,"checked",12,!1),De=he(q,"disabled",8,!1),z=he(q,"required",8,!1),Me=he(q,"labelPosition",8,"right"),ce=he(q,"labelText",8,""),Ie=he(q,"hideLabel",8,!1),ee=he(q,"id",24,()=>"ccs-"+Math.random().toString(36)),vt=he(q,"name",8,void 0),Le=he(q,"ref",12,null);const{add:tt,update:Ne,selectedValue:P,groupName:Ze,groupRequired:xt}=En("RadioButtonGroup")??{groupName:Qr(void 0),groupRequired:Qr(void 0),selectedValue:Qr(ne()?Ce():void 0)};tt&&tt({id:ee(),checked:ne(),disabled:De(),value:Ce()}),Xe(()=>(ue(),je(Ce())),()=>{ne(ue()===Ce())}),Ri(),bi();var He=Os();$i(He,Ke=>({...te,[ir]:Ke}),[()=>({"bx--radio-button-wrapper":!0,"bx--radio-button-wrapper--label-left":Me()==="left"})]);var it=Je(He);rn(it),kt(it,1,"",null,{},{"bx--radio-button":!0}),qi(it,Ke=>Le(Ke),()=>Le());var ht=oe(it,2);kt(ht,1,"",null,{},{"bx--radio-button__label":!0});var ct=Je(ht);kt(ct,1,"",null,{},{"bx--radio-button__appearance":!0});var _t=oe(ct,2);{var ye=Ke=>{var J=Ns();let ze;var ft=Je(J);gi(ft,q,"labelText",{},ke=>{var ut=Ut();Nt(()=>ai(ut,ce())),ae(ke,ut)}),et(J),Nt(ke=>ze=kt(J,1,"",null,ze,ke),[()=>({"bx--visually-hidden":Ie()})],Pt),ae(Ke,J)};At(_t,Ke=>{(ce()||G.labelText)&&Ke(ye)})}et(ht),et(He),Nt(()=>{zt(it,"id",ee()),zt(it,"name",Se()??vt()),ls(it,ne()),it.disabled=De(),it.required=Ee()??z(),hs(it,Ce()),zt(ht,"for",ee())}),wt("focus",it,function(Ke){It.call(this,q,Ke)}),wt("blur",it,function(Ke){It.call(this,q,Ke)}),wt("change",it,function(Ke){It.call(this,q,Ke)}),wt("change",it,()=>{Ne&&Ne(Ce())}),ae(Be,He),vi(),Ue()}var Rs=Oe("<div><h4> </h4> <p> </p></div>"),zs=Oe("<div><!> <!></div>");function Vs(Be,q){const G=Zt(q,["children","$$slots","$$events","$$legacy"]),xe=Zt(G,["title","description","stickyHeader","useStaticWidth"]);let te=he(q,"title",8,""),L=he(q,"description",8,""),Ue=he(q,"stickyHeader",8,!1),ue=he(q,"useStaticWidth",8,!1);var Se=zs();$i(Se,De=>({...xe,[ir]:De}),[()=>({"bx--data-table-container":!0,"bx--data-table-container--static":ue(),"bx--data-table--max-width":Ue()})]);var Ee=Je(Se);{var Ce=De=>{var z=Rs();kt(z,1,"",null,{},{"bx--data-table-header":!0});var Me=Je(z);kt(Me,1,"",null,{},{"bx--data-table-header__title":!0});var ce=Je(Me,!0);et(Me);var Ie=oe(Me,2);kt(Ie,1,"",null,{},{"bx--data-table-header__description":!0});var ee=Je(Ie,!0);et(Ie),et(z),Nt(()=>{ai(ce,te()),ai(ee,L())}),ae(De,z)};At(Ee,De=>{te()&&De(Ce)})}var ne=oe(Ee,2);gi(ne,q,"default",{},null),et(Se),ae(Be,Se)}var Bs=Oe("<h4><!></h4>"),Fs=Oe("<p><!></p>"),Ds=Oe("<div><!> <!></div>"),qs=Oe('<button type="button"><!></button>'),$s=Oe('<th scope="col"><!></th>'),Us=Oe('<th scope="col"></th>'),Hs=Oe('<th scope="col"><!></th>'),Gs=Oe('<th scope="col"></th>'),Ws=Oe("<!> <!> <!> <!>",1),js=Oe('<button type="button"><!></button>'),Zs=Oe("<td><!></td>"),Ks=Oe("<td><!></td>"),Qs=Oe("<!> <!> <!>",1),Xs=Oe("<div><!></div>"),Ys=Oe('<tr data-child-row=""><!></tr>'),Js=Oe("<!> <!>",1),ea=Oe("<!> <!>",1),ta=Oe("<!> <!> <!>",1);function ia(Be,q){const G=Rn(q),xe=Zt(q,["children","$$slots","$$events","$$legacy"]),te=Zt(xe,["headers","rows","size","title","description","inputName","zebra","sortable","sortKey","sortDirection","expandable","batchExpansion","expandedRowIds","nonExpandableRowIds","radio","selectable","batchSelection","selectedRowIds","nonSelectableRowIds","stickyHeader","useStaticWidth","pageSize","page"]);_i(q,!1);const[L,Ue]=or(),ue=()=>Mi(Rt,"$tableRows",L),Se=Ye(),Ee=Ye(),Ce=Ye(),ne=Ye(),De=Ye(),z=Ye(),Me=Ye(),ce=Ye(),Ie=Ye(),ee=Ye(),vt=Ye(),Le=Ye(),tt=Ye(),Ne=Ye(),P=Ye(),Ze=Ye();let xt=he(q,"headers",24,()=>[]),He=he(q,"rows",24,()=>[]),it=he(q,"size",8,void 0),ht=he(q,"title",8,""),ct=he(q,"description",8,""),_t=he(q,"inputName",24,()=>"ccs-"+Math.random().toString(36)),ye=he(q,"zebra",8,!1),Ke=he(q,"sortable",8,!1),J=he(q,"sortKey",12,null),ze=he(q,"sortDirection",12,"none"),ft=he(q,"expandable",12,!1),ke=he(q,"batchExpansion",8,!1),ut=he(q,"expandedRowIds",28,()=>[]),Lt=he(q,"nonExpandableRowIds",24,()=>[]),Pe=he(q,"radio",8,!1),dt=he(q,"selectable",12,!1),jt=he(q,"batchSelection",8,!1),Fe=he(q,"selectedRowIds",28,()=>[]),Dt=he(q,"nonSelectableRowIds",24,()=>[]),ui=he(q,"stickyHeader",8,!1),ti=he(q,"useStaticWidth",8,!1),pt=he(q,"pageSize",8,0),lt=he(q,"page",8,0);const St={none:"ascending",ascending:"descending",descending:"none"},Mt=tn(),Vt=br(!1),Rt=br(He()),qt="ccs-"+Math.random().toString(36),yt=(fe,we)=>we in fe?fe[we]:we.split(/[\.\[\]\'\"]/).filter(qe=>qe).reduce((qe,Ae)=>qe&&typeof qe=="object"?qe[Ae]:qe,fe);Ln("DataTable",{batchSelectedIds:Vt,tableRows:Rt,resetSelectedRowIds:()=>{Ve(Me,!1),Fe([]),R(ii)&&Nn(ii,R(ii).checked=!1)},filterRows:(fe,we)=>{const qe=fe.trim().toLowerCase();if(qe.length===0)return Rt.set(R(Se)),R(Se).map(e=>e.id);let Ae=[];return typeof we=="function"?Ae=R(Se).filter(e=>we(e,qe)):Ae=R(Se).filter(e=>Object.entries(e).filter(([t])=>t!=="id").some(([t,r])=>{if(typeof r=="string"||typeof r=="number")return(r+"").toLowerCase().includes(qe)})),Rt.set(Ae),Ae.map(e=>e.id)}});let st=Ye(!1),Bt=Ye(null),ii=Ye(null);const mt=(fe,we,qe)=>we&&qe?fe.slice((we-1)*qe,we*qe):fe,re=fe=>{const we=[fe.width&&`width: ${fe.width}`,fe.minWidth&&`min-width: ${fe.minWidth}`].filter(Boolean);if(we.length!==0)return we.join(";")};Xe(()=>je(He()),()=>{Ve(Se,[...He()])}),Xe(()=>je(xt()),()=>{Ve(Ee,xt().reduce((fe,we)=>({...fe,[we.key]:we.key}),{}))}),Xe(()=>je(ut()),()=>{Ve(Ce,ut().reduce((fe,we)=>({...fe,[we]:!0}),{}))}),Xe(()=>je(Fe()),()=>{Vt.set(Fe())}),Xe(()=>je(He()),()=>{On(Rt,He())}),Xe(()=>ue(),()=>{Ve(ne,ue().map(fe=>fe.id))}),Xe(()=>(R(ne),je(Lt())),()=>{Ve(De,R(ne).filter(fe=>!Lt().includes(fe)))}),Xe(()=>(R(ne),je(Dt())),()=>{Ve(z,R(ne).filter(fe=>!Dt().includes(fe)))}),Xe(()=>(R(z),je(Fe())),()=>{Ve(Me,R(z).length>0&&Fe().length===R(z).length)}),Xe(()=>(je(Fe()),R(z)),()=>{Ve(ce,Fe().length>0&&Fe().length<R(z).length)}),Xe(()=>(je(ke()),je(ut()),R(De)),()=>{ke()&&(ft(!0),Ve(st,ut().length===R(De).length))}),Xe(()=>(je(Pe()),je(jt())),()=>{(Pe()||jt())&&dt(!0)}),Xe(()=>(je(He()),je(xt())),()=>{Ve(Ie,He().reduce((fe,we)=>(fe[we.id]=xt().map((qe,Ae)=>({key:qe.key||`key-${Ae}`,value:qe.key?yt(we,qe.key):void 0,display:qe.display,empty:qe.empty,columnMenu:qe.columnMenu})),fe),{}))}),Xe(()=>ue(),()=>{Ve(ee,[...ue()])}),Xe(()=>je(ze()),()=>{Ve(vt,ze()==="ascending")}),Xe(()=>(je(Ke()),je(J())),()=>{Ve(Le,Ke()&&J()!=null)}),Xe(()=>(je(xt()),je(J())),()=>{Ve(tt,xt().find(fe=>fe.key===J()))}),Xe(()=>(R(Le),je(ze()),ue(),R(vt),je(J()),R(tt)),()=>{R(Le)&&(ze()==="none"?Ve(ee,ue()):Ve(ee,[...ue()].sort((fe,we)=>{var e;const qe=R(vt)?yt(fe,J()):yt(we,J()),Ae=R(vt)?yt(we,J()):yt(fe,J());return(e=R(tt))!=null&&e.sort?R(tt).sort(qe,Ae):typeof qe=="number"&&typeof Ae=="number"?qe-Ae:[qe,Ae].every(t=>!t&&t!==0)?0:!qe&&qe!==0?R(vt)?1:-1:!Ae&&Ae!==0?R(vt)?-1:1:qe.toString().localeCompare(Ae.toString(),"en",{numeric:!0})})))}),Xe(()=>(ue(),je(lt()),je(pt())),()=>{Ve(Ne,mt(ue(),lt(),pt()))}),Xe(()=>(R(ee),je(lt()),je(pt())),()=>{Ve(P,mt(R(ee),lt(),pt()))}),Xe(()=>je(xt()),()=>{Ve(Ze,xt().some(fe=>fe.width||fe.minWidth))}),Ri(),bi(),Vs(Be,nn({get useStaticWidth(){return ti()}},()=>te,{children:(fe,we)=>{var qe=ta(),Ae=Tt(qe);{var e=s=>{var u=Ds();kt(u,1,"",null,{},{"bx--data-table-header":!0});var o=Je(u);{var l=g=>{var v=Bs();kt(v,1,"",null,{},{"bx--data-table-header__title":!0});var p=Je(v);gi(p,q,"title",{},d=>{var x=Ut();Nt(()=>ai(x,ht())),ae(d,x)}),et(v),ae(g,v)};At(o,g=>{(ht()||G.title)&&g(l)})}var h=oe(o,2);{var c=g=>{var v=Fs();kt(v,1,"",null,{},{"bx--data-table-header__description":!0});var p=Je(v);gi(p,q,"description",{},d=>{var x=Ut();Nt(()=>ai(x,ct())),ae(d,x)}),et(v),ae(g,v)};At(h,g=>{(ct()||G.description)&&g(c)})}et(u),ae(s,u)};At(Ae,s=>{(ht()||G.title||ct()||G.description)&&s(e)})}var t=oe(Ae,2);gi(t,q,"default",{},null);var r=oe(t,2);const n=Pt(()=>R(Ze)&&"table-layout: fixed");Cs(r,{get zebra(){return ye()},get size(){return it()},get stickyHeader(){return ui()},get sortable(){return Ke()},get useStaticWidth(){return ti()},get tableStyle(){return R(n)},children:(s,u)=>{var o=ea(),l=Tt(o);ks(l,{children:(c,g)=>{wn(c,{children:(v,p)=>{var d=Ws(),x=Tt(d);{var b=C=>{var A=$s();kt(A,1,"",null,{},{"bx--table-expand":!0});var S=Je(A);{var T=N=>{var O=qs();kt(O,1,"",null,{},{"bx--table-expand__button":!0});var F=Je(O);Sn(F,{"aria-hidden":"true",class:"bx--table-expand__svg"}),et(O),Nt(E=>{zt(O,"aria-label",R(st)?"Collapse all rows":"Expand all rows"),zt(O,"aria-controls",E)},[()=>R(De).map(E=>`expandable-row-${E}`).join(" ")],Pt),wt("click",O,()=>{Ve(st,!R(st)),ut(R(st)?R(De):[]),Mt("click:header--expand",{expanded:R(st)})}),ae(N,O)};At(S,N=>{ke()&&N(T)})}et(A),Nt(()=>zt(A,"data-previous-value",R(st)?"collapsed":void 0)),ae(C,A)};At(x,C=>{ft()&&C(b)})}var k=oe(x,2);{var _=C=>{var A=Us();ae(C,A)};At(k,C=>{dt()&&!jt()&&C(_)})}var w=oe(k,2);{var f=C=>{var A=Hs();kt(A,1,"",null,{},{"bx--table-column-checkbox":!0});var S=Je(A);Cn(S,{"aria-label":"Select all rows",get name(){return`${qt}-select-all`},value:"all",get checked(){return R(Me)},get indeterminate(){return R(ce)},get ref(){return R(ii)},set ref(T){Ve(ii,T)},$$events:{change:T=>{if(Mt("click:header--select",{indeterminate:R(ce),selected:!R(ce)&&T.target.checked}),R(ce)){T.target.checked=!1,Ve(Me,!1),Fe([]);return}T.target.checked?Fe(R(z)):Fe([])}},$$legacy:!0}),et(A),ae(C,A)};At(w,C=>{jt()&&!Pe()&&C(f)})}var y=oe(w,2);Or(y,1,xt,C=>C.key,(C,A)=>{var S=Ni(),T=Tt(S);{var N=F=>{var E=Gs();Nt(B=>ri(E,B),[()=>re(R(A))],Pt),ae(F,E)},O=F=>{const E=Pt(()=>re(R(A))),B=Pt(()=>Ke()&&R(A).sort!==!1),D=Pt(()=>J()===R(A).key?ze():"none"),U=Pt(()=>J()===R(A).key);Ps(F,{get id(){return R(A).key},get style(){return R(E)},get sortable(){return R(B)},get sortDirection(){return R(D)},get active(){return R(U)},$$events:{click:()=>{if(Mt("click",{header:R(A)}),R(A).sort===!1)Mt("click:header",{header:R(A)});else{let H=J()===R(A).key?ze():"none";ze(St[H]),J(ze()==="none"?null:R(Ee)[R(A).key]),Mt("click:header",{header:R(A),sortDirection:ze()})}}},children:(H,W)=>{var X=Ni(),se=Tt(X);gi(se,q,"cell-header",{get header(){return R(A)}},de=>{var ve=Ut();Nt(()=>ai(ve,R(A).value)),ae(de,ve)}),ae(H,X)},$$slots:{default:!0}})};At(T,F=>{R(A).empty?F(N):F(O,!1)})}ae(C,S)}),ae(v,d)},$$slots:{default:!0}})},$$slots:{default:!0}});var h=oe(l,2);Is(h,{children:(c,g)=>{var v=Ni(),p=Tt(v);Or(p,3,()=>R(Le)?R(P):R(Ne),d=>d.id,(d,x,b)=>{var k=Js(),_=Tt(k);const w=Pt(()=>ft()?!0:void 0),f=Pt(()=>Fe().includes(R(x).id)?"bx--data-table--selected":""),y=Pt(()=>R(Ce)[R(x).id]?"bx--expandable-row":""),C=Pt(()=>ft()?"bx--parent-row":""),A=Pt(()=>ft()&&R(Bt)===R(x).id?"bx--expandable-row--hover":"");wn(_,{get"data-row"(){return R(x).id},get"data-parent-row"(){return R(w)},get class(){return`${R(f)??""} ${R(y)??""} ${R(C)??""} ${R(A)??""}`},$$events:{click:({target:N})=>{[...N.classList].some(O=>/^bx--(overflow-menu|checkbox|radio-button)/.test(O))||(Mt("click",{row:R(x)}),Mt("click:row",R(x)))},mouseenter:()=>{Mt("mouseenter:row",R(x))},mouseleave:()=>{Mt("mouseleave:row",R(x))}},children:(N,O)=>{var F=Qs(),E=Tt(F);{var B=W=>{const X=Pt(()=>!Lt().includes(R(x).id)&&R(Ce)[R(x).id]?"collapsed":void 0);Xr(W,{class:"bx--table-expand",headers:"expand",get"data-previous-value"(){return R(X)},children:(se,de)=>{var ve=Ni(),K=Tt(ve);{var Y=le=>{var ge=js();kt(ge,1,"",null,{},{"bx--table-expand__button":!0});var me=Je(ge);Sn(me,{"aria-hidden":"true",class:"bx--table-expand__svg"}),et(ge),Nt(()=>{zt(ge,"aria-controls",`expandable-row-${R(x).id}`),zt(ge,"aria-label",R(Ce)[R(x).id]?"Collapse current row":"Expand current row")}),wt("click",ge,xs(()=>{const Re=!!R(Ce)[R(x).id];ut(Re?ut().filter(Te=>Te!==R(x).id):[...ut(),R(x).id]),Mt("click:row--expand",{row:R(x),expanded:!Re})})),ae(le,ge)};At(K,le=>{Lt().includes(R(x).id)||le(Y)})}ae(se,ve)},$$slots:{default:!0}})};At(E,W=>{ft()&&W(B)})}var D=oe(E,2);{var U=W=>{var X=Zs();let se;var de=Je(X);{var ve=K=>{var Y=Ni();const le=Pt(()=>`${qt}-${R(x).id}`);var ge=Tt(Y);{var me=Te=>{const $e=Pt(()=>Fe().includes(R(x).id));Ms(Te,{get id(){return R(le)},get name(){return _t()},get checked(){return R($e)},get value(){return R(x).id},$$events:{change:()=>{Fe([R(x).id]),Mt("click:row--select",{row:R(x),selected:!0})}}})},Re=Te=>{const $e=Pt(()=>Fe().includes(R(x).id));Cn(Te,{get id(){return R(le)},get name(){return _t()},get checked(){return R($e)},get value(){return R(x).id},$$events:{change:()=>{Fe().includes(R(x).id)?(Fe(Fe().filter(Ge=>Ge!==R(x).id)),Mt("click:row--select",{row:R(x),selected:!1})):(Fe([...Fe(),R(x).id]),Mt("click:row--select",{row:R(x),selected:!0}))}}})};At(ge,Te=>{Pe()?Te(me):Te(Re,!1)})}ae(K,Y)};At(de,K=>{Dt().includes(R(x).id)||K(ve)})}et(X),Nt(K=>se=kt(X,1,"",null,se,K),[()=>({"bx--table-column-checkbox":!0,"bx--table-column-radio":Pe()})],Pt),ae(W,X)};At(D,W=>{dt()&&W(U)})}var H=oe(D,2);Or(H,3,()=>R(Ie)[R(x).id],W=>W.key,(W,X,se)=>{var de=Ni(),ve=Tt(de);{var K=le=>{var ge=Ks();let me;var Re=Je(ge);gi(Re,q,"cell",{get row(){return R(x)},get cell(){return R(X)},get rowIndex(){return R(b)},get cellIndex(){return R(se)}},Te=>{var $e=Ut();Nt(Ge=>ai($e,Ge),[()=>R(X).display?R(X).display(R(X).value,R(x)):R(X).value],Pt),ae(Te,$e)}),et(ge),Nt(Te=>me=kt(ge,1,"",null,me,Te),[()=>({"bx--table-column-menu":R(X).columnMenu})],Pt),ae(le,ge)},Y=le=>{Xr(le,{$$events:{click:()=>{Mt("click",{row:R(x),cell:R(X)}),Mt("click:cell",R(X))}},children:(ge,me)=>{var Re=Ni(),Te=Tt(Re);gi(Te,q,"cell",{get row(){return R(x)},get cell(){return R(X)},get rowIndex(){return R(b)},get cellIndex(){return R(se)}},$e=>{var Ge=Ut();Nt(We=>ai(Ge,We),[()=>R(X).display?R(X).display(R(X).value,R(x)):R(X).value],Pt),ae($e,Ge)}),ae(ge,Re)},$$slots:{default:!0}})};At(ve,le=>{R(X).empty?le(K):le(Y,!1)})}ae(W,de)}),ae(N,F)},$$slots:{default:!0}});var S=oe(_,2);{var T=N=>{var O=Ys();kt(O,1,"",null,{},{"bx--expandable-row":!0});var F=Je(O);{var E=B=>{const D=Pt(()=>dt()?xt().length+2:xt().length+1);Xr(B,{get colspan(){return R(D)},children:(U,H)=>{var W=Xs();kt(W,1,"",null,{},{"bx--child-row-inner-container":!0});var X=Je(W);gi(X,q,"expanded-row",{get row(){return R(x)}},null),et(W),ae(U,W)},$$slots:{default:!0}})};At(F,B=>{R(Ce)[R(x).id]&&!Lt().includes(R(x).id)&&B(E)})}et(O),Nt(()=>zt(O,"id",`expandable-row-${R(x).id}`)),wt("mouseenter",O,()=>{Lt().includes(R(x).id)||Ve(Bt,R(x).id)}),wt("mouseleave",O,()=>{Lt().includes(R(x).id)||Ve(Bt,null)}),ae(N,O)};At(S,N=>{ft()&&N(T)})}ae(d,k)}),ae(c,v)},$$slots:{default:!0}}),ae(s,o)},$$slots:{default:!0}}),ae(fe,qe)},$$slots:{default:!0}})),vi(),Ue()}var ra=Oe("<section><!></section>");function na(Be,q){const G=Zt(q,["children","$$slots","$$events","$$legacy"]),xe=Zt(G,["size"]);_i(q,!1);let te=he(q,"size",8,"default"),L=Ye(null);const Ue=br(!1);Ln("Toolbar",{overflowVisible:Ue,setOverflowVisible:Ee=>{Ue.set(Ee),R(L)&&Nn(L,R(L).style.overflow=Ee?"visible":"inherit")}}),bi();var ue=ra();$i(ue,Ee=>({"aria-label":"data table toolbar",...xe,[ir]:Ee,[cs]:{"z-index":1}}),[()=>({"bx--table-toolbar":!0,"bx--table-toolbar--small":te()==="sm","bx--table-toolbar--normal":te()==="default"})]);var Se=Je(ue);gi(Se,q,"default",{},null),et(ue),qi(ue,Ee=>Ve(L,Ee),()=>R(L)),ae(Be,ue),vi()}var sa=Oe("<div><!></div>");function aa(Be,q){var G=sa();kt(G,1,"",null,{},{"bx--toolbar-content":!0});var xe=Je(G);gi(xe,q,"default",{},null),et(G),ae(Be,G)}var ua=Vr("<title> </title>"),oa=Vr('<svg><!><path d="M29,27.5859l-7.5521-7.5521a11.0177,11.0177,0,1,0-1.4141,1.4141L27.5859,29ZM4,13a9,9,0,1,1,9,9A9.01,9.01,0,0,1,4,13Z"></path></svg>');function la(Be,q){const G=Zt(q,["children","$$slots","$$events","$$legacy"]),xe=Zt(G,["size","title"]);_i(q,!1);const te=Ye(),L=Ye();let Ue=he(q,"size",8,16),ue=he(q,"title",8,void 0);Xe(()=>(je(G),je(ue())),()=>{Ve(te,G["aria-label"]||G["aria-labelledby"]||ue())}),Xe(()=>(R(te),je(G)),()=>{Ve(L,{"aria-hidden":R(te)?void 0:!0,role:R(te)?"img":void 0,focusable:Number(G.tabindex)===0?!0:void 0})}),Ri(),bi();var Se=oa();$i(Se,()=>({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:Ue(),height:Ue(),...R(L),...xe}));var Ee=Je(Se);{var Ce=ne=>{var De=ua(),z=Je(De,!0);et(De),Nt(()=>ai(z,ue())),ae(ne,De)};At(Ee,ne=>{ue()&&ne(Ce)})}Ct(),et(Se),ae(Be,Se),vi()}var ha=Oe("<div><span></span> <div></div></div>");function ca(Be,q){const G=Zt(q,["children","$$slots","$$events","$$legacy"]),xe=Zt(G,["size"]);let te=he(q,"size",8,"xl");var L=ha();$i(L,Se=>({...xe,[ir]:Se}),[()=>({"bx--skeleton":!0,"bx--search--sm":te()==="sm","bx--search--lg":te()==="lg","bx--search--xl":te()==="xl"})]);var Ue=Je(L);kt(Ue,1,"",null,{},{"bx--label":!0});var ue=oe(Ue,2);kt(ue,1,"",null,{},{"bx--search-input":!0}),et(L),wt("click",L,function(Se){It.call(this,q,Se)}),wt("mouseover",L,function(Se){It.call(this,q,Se)}),wt("mouseenter",L,function(Se){It.call(this,q,Se)}),wt("mouseleave",L,function(Se){It.call(this,q,Se)}),ae(Be,L)}var fa=Oe('<div role="search"><div><!></div> <label><!></label> <input/> <button type="button"><!></button></div>');function da(Be,q){const G=Zt(q,["children","$$slots","$$events","$$legacy"]),xe=Zt(G,["value","size","searchClass","skeleton","light","disabled","expandable","expanded","placeholder","autocomplete","autofocus","closeButtonLabelText","labelText","icon","id","ref"]);_i(q,!1);let te=he(q,"value",12,""),L=he(q,"size",8,"xl"),Ue=he(q,"searchClass",8,""),ue=he(q,"skeleton",8,!1),Se=he(q,"light",8,!1),Ee=he(q,"disabled",8,!1),Ce=he(q,"expandable",8,!1),ne=he(q,"expanded",12,!1),De=he(q,"placeholder",8,"Search..."),z=he(q,"autocomplete",8,"off"),Me=he(q,"autofocus",8,!1),ce=he(q,"closeButtonLabelText",8,"Clear search input"),Ie=he(q,"labelText",8,""),ee=he(q,"icon",8,la),vt=he(q,"id",24,()=>"ccs-"+Math.random().toString(36)),Le=he(q,"ref",12,null);const tt=tn();let Ne=Ye(null);Xe(()=>(je(ne()),je(Le())),()=>{ne()&&Le()&&Le().focus()}),Xe(()=>je(ne()),()=>{tt(ne()?"expand":"collapse")}),Ri(),bi();var P=Ni(),Ze=Tt(P);{var xt=it=>{ca(it,nn({get size(){return L()}},()=>xe,{$$events:{click(ht){It.call(this,q,ht)},mouseover(ht){It.call(this,q,ht)},mouseenter(ht){It.call(this,q,ht)},mouseleave(ht){It.call(this,q,ht)}}}))},He=it=>{var ht=fa();let ct;var _t=Je(ht);kt(_t,1,"",null,{},{"bx--search-magnifier":!0});var ye=Je(_t);yn(ye,ee,(Pe,dt)=>{dt(Pe,{class:"bx--search-magnifier-icon"})}),et(_t),qi(_t,Pe=>Ve(Ne,Pe),()=>R(Ne));var Ke=oe(_t,2);kt(Ke,1,"",null,{},{"bx--label":!0});var J=Je(Ke);gi(J,q,"labelText",{},Pe=>{var dt=Ut();Nt(()=>ai(dt,Ie())),ae(Pe,dt)}),et(Ke);var ze=oe(Ke,2);rn(ze),$i(ze,()=>({type:"text",role:"searchbox",autofocus:Me()===!0?!0:void 0,autocomplete:z(),disabled:Ee(),id:vt(),placeholder:De(),...xe,[ir]:{"bx--search-input":!0}})),qi(ze,Pe=>Le(Pe),()=>Le());var ft=oe(ze,2);let ke;var ut=Je(ft);const Lt=Pt(()=>L()==="xl"?20:16);yn(ut,()=>Jr,(Pe,dt)=>{dt(Pe,{get size(){return R(Lt)}})}),et(ft),et(ht),Nt((Pe,dt)=>{zt(ht,"aria-labelledby",`${vt()??""}-search`),ct=kt(ht,1,fs(Ue()),null,ct,Pe),zt(Ke,"id",`${vt()??""}-search`),zt(Ke,"for",vt()),zt(ft,"aria-label",ce()),ft.disabled=Ee(),ke=kt(ft,1,"",null,ke,dt)},[()=>({"bx--search":!0,"bx--search--light":Se(),"bx--search--disabled":Ee(),"bx--search--sm":L()==="sm","bx--search--lg":L()==="lg","bx--search--xl":L()==="xl","bx--search--expandable":Ce(),"bx--search--expanded":ne()}),()=>({"bx--search-close":!0,"bx--search-close--hidden":te()===""||te()==null})],Pt),wt("click",_t,()=>{Ce()&&ne(!0)}),ds(ze,te),wt("change",ze,function(Pe){It.call(this,q,Pe)}),wt("input",ze,function(Pe){It.call(this,q,Pe)}),wt("focus",ze,function(Pe){It.call(this,q,Pe)}),wt("focus",ze,()=>{Ce()&&ne(!0)}),wt("blur",ze,function(Pe){It.call(this,q,Pe)}),wt("blur",ze,()=>{ne()&&(te()===""||te()==null)&&ne(!1)}),wt("keydown",ze,function(Pe){It.call(this,q,Pe)}),wt("keydown",ze,({key:Pe})=>{Pe==="Escape"&&(te(""),tt("clear"))}),wt("keyup",ze,function(Pe){It.call(this,q,Pe)}),wt("paste",ze,function(Pe){It.call(this,q,Pe)}),wt("click",ft,function(Pe){It.call(this,q,Pe)}),wt("click",ft,()=>{te(""),Le().focus(),tt("clear")}),ae(it,ht)};At(Ze,it=>{ue()?it(xt):it(He,!1)})}ae(Be,P),vi()}function pa(Be,q){const G=Zt(q,["children","$$slots","$$events","$$legacy"]),xe=Zt(G,["value","expanded","persistent","disabled","shouldFilterRows","filteredRowIds","tabindex","ref"]);_i(q,!1);const te=Ye();let L=he(q,"value",12,""),Ue=he(q,"expanded",12,!1),ue=he(q,"persistent",8,!1),Se=he(q,"disabled",8,!1),Ee=he(q,"shouldFilterRows",8,!1),Ce=he(q,"filteredRowIds",28,()=>[]),ne=he(q,"tabindex",8,"0"),De=he(q,"ref",12,null);const z=En("DataTable")??{};let Me=Ye(null),ce=Ye(null);zr(()=>()=>{var ee;(ee=R(ce))==null||ee()}),Tn(()=>{R(Me)!==null&&Ce(z==null?void 0:z.filterRows(L(),Ee()))});async function Ie(){await Yr(),!(Se()||ue()||Ue())&&(Ue(!0),await Yr(),De().focus())}Xe(()=>(je(Ee()),R(Me)),()=>{Ee()?Ve(ce,z==null?void 0:z.tableRows.subscribe(ee=>{JSON.stringify(ee)!==JSON.stringify(R(Me))&&Ve(Me,ee)})):Ve(Me,null)}),Xe(()=>je(L()),()=>{Ue(!!L().length)}),Xe(()=>(je(Ue()),je(ue()),je(Se())),()=>{Ve(te,[Ue()&&"bx--toolbar-search-container-active",ue()?"bx--toolbar-search-container-persistent":"bx--toolbar-search-container-expandable",Se()&&"bx--toolbar-search-container-disabled"].filter(Boolean).join(" "))}),Ri(),bi(),da(Be,nn({get tabindex(){return ne()},get disabled(){return Se()}},()=>xe,{get searchClass(){return`${R(te)??""} ${xe.class??""}`},get ref(){return De()},set ref(ee){De(ee)},get value(){return L()},set value(ee){L(ee)},$$events:{clear:[function(ee){It.call(this,q,ee)},Ie],change(ee){It.call(this,q,ee)},input(ee){It.call(this,q,ee)},focus:[function(ee){It.call(this,q,ee)},Ie],blur:[function(ee){It.call(this,q,ee)},()=>{Ue(!ue()&&!!L().length)}],keyup(ee){It.call(this,q,ee)},keydown(ee){It.call(this,q,ee)},paste(ee){It.call(this,q,ee)}},$$legacy:!0})),vi()}var ga=Oe('<button type="button"><!></button>'),_a=Oe("<h2><!></h2>"),va=Oe('<button type="button"><!></button>'),ma=Oe("<div></div>"),ba=Oe("<div><!> <!></div>"),xa=Oe('<div><div tabindex="-1" aria-modal="true"><div><!> <!> <h3><!></h3> <!></div> <div><!></div> <!> <!></div></div>');function ya(Be,q){const G=Zt(q,["children","$$slots","$$events","$$legacy"]),xe=Zt(G,["size","open","danger","alert","passiveModal","modalHeading","modalLabel","modalAriaLabel","iconDescription","hasForm","hasScrollingContent","primaryButtonText","primaryButtonDisabled","primaryButtonIcon","shouldSubmitOnEnter","secondaryButtonText","secondaryButtons","selectorPrimaryFocus","preventCloseOnClickOutside","id","ref"]);_i(q,!1);const[te,L]=or(),Ue=Ye(),ue=Ye(),Se=Ye(),Ee=Ye();let Ce=he(q,"size",8,void 0),ne=he(q,"open",12,!1),De=he(q,"danger",8,!1),z=he(q,"alert",8,!1),Me=he(q,"passiveModal",8,!1),ce=he(q,"modalHeading",8,void 0),Ie=he(q,"modalLabel",8,void 0),ee=he(q,"modalAriaLabel",8,void 0),vt=he(q,"iconDescription",8,"Close the modal"),Le=he(q,"hasForm",8,!1),tt=he(q,"hasScrollingContent",8,!1),Ne=he(q,"primaryButtonText",8,""),P=he(q,"primaryButtonDisabled",8,!1),Ze=he(q,"primaryButtonIcon",8,void 0),xt=he(q,"shouldSubmitOnEnter",8,!0),He=he(q,"secondaryButtonText",8,""),it=he(q,"secondaryButtons",24,()=>[]),ht=he(q,"selectorPrimaryFocus",8,"[data-modal-primary-focus]"),ct=he(q,"preventCloseOnClickOutside",8,!1),_t=he(q,"id",24,()=>"ccs-"+Math.random().toString(36)),ye=he(q,"ref",12,null);const Ke=tn();let J=Ye(null),ze=Ye(null),ft=!1,ke=Ye(!1);function ut(re){(R(ze).querySelector(ht())||R(J)).focus()}const Lt=br(ne());Ls(Lt),Tn(()=>{ft?ne()||(ft=!1,Ke("close")):ne()&&(ft=!0,ut(),Ke("open"))}),Xe(()=>je(ne()),()=>{On(Lt,ne())}),Xe(()=>je(_t()),()=>{Ve(Ue,`bx--modal-header__label--modal-${_t()}`)}),Xe(()=>je(_t()),()=>{Ve(ue,`bx--modal-header__heading--modal-${_t()}`)}),Xe(()=>je(_t()),()=>{Ve(Se,`bx--modal-body--${_t()}`)}),Xe(()=>(je(Ie()),je(G),je(ee()),je(ce())),()=>{Ve(Ee,Ie()||G["aria-label"]||ee()||ce())}),Ri(),bi();var Pe=xa();$i(Pe,re=>({role:"presentation",id:_t(),...xe,[ir]:re}),[()=>({"bx--modal":!0,"bx--modal-tall":!Me(),"is-visible":ne(),"bx--modal--danger":De()})]);var dt=Je(Pe);let jt;var Fe=Je(dt);kt(Fe,1,"",null,{},{"bx--modal-header":!0});var Dt=Je(Fe);{var ui=re=>{var fe=ga();kt(fe,1,"",null,{},{"bx--modal-close":!0});var we=Je(fe);Jr(we,{size:20,class:"bx--modal-close__icon","aria-hidden":"true"}),et(fe),qi(fe,qe=>Ve(J,qe),()=>R(J)),Nt(()=>zt(fe,"aria-label",vt())),wt("click",fe,()=>{ne(!1)}),ae(re,fe)};At(Dt,re=>{Me()&&re(ui)})}var ti=oe(Dt,2);{var pt=re=>{var fe=_a();kt(fe,1,"",null,{},{"bx--modal-header__label":!0});var we=Je(fe);gi(we,q,"label",{},qe=>{var Ae=Ut();Nt(()=>ai(Ae,Ie())),ae(qe,Ae)}),et(fe),Nt(()=>zt(fe,"id",R(Ue))),ae(re,fe)};At(ti,re=>{Ie()&&re(pt)})}var lt=oe(ti,2);kt(lt,1,"",null,{},{"bx--modal-header__heading":!0});var St=Je(lt);gi(St,q,"heading",{},re=>{var fe=Ut();Nt(()=>ai(fe,ce())),ae(re,fe)}),et(lt);var Mt=oe(lt,2);{var Vt=re=>{var fe=va();kt(fe,1,"",null,{},{"bx--modal-close":!0});var we=Je(fe);Jr(we,{size:20,class:"bx--modal-close__icon","aria-hidden":"true"}),et(fe),qi(fe,qe=>Ve(J,qe),()=>R(J)),Nt(()=>zt(fe,"aria-label",vt())),wt("click",fe,()=>{ne(!1)}),ae(re,fe)};At(Mt,re=>{Me()||re(Vt)})}et(Fe);var Rt=oe(Fe,2);let qt;var yt=Je(Rt);gi(yt,q,"default",{},null),et(Rt);var st=oe(Rt,2);{var Bt=re=>{var fe=ma();kt(fe,1,"",null,{},{"bx--modal-content--overflow-indicator":!0}),ae(re,fe)};At(st,re=>{tt()&&re(Bt)})}var ii=oe(st,2);{var mt=re=>{var fe=ba();let we;var qe=Je(fe);{var Ae=n=>{var s=Ni(),u=Tt(s);Or(u,1,it,ys,(o,l)=>{Nr(o,{kind:"secondary",$$events:{click:()=>{Ke("click:button--secondary",{text:R(l).text})}},children:(h,c)=>{Ct();var g=Ut();Nt(()=>ai(g,R(l).text)),ae(h,g)},$$slots:{default:!0}})}),ae(n,s)},e=(n,s)=>{{var u=o=>{Nr(o,{kind:"secondary",$$events:{click:()=>{Ke("click:button--secondary",{text:He()})}},children:(l,h)=>{Ct();var c=Ut();Nt(()=>ai(c,He())),ae(l,c)},$$slots:{default:!0}})};At(n,o=>{He()&&o(u)},s)}};At(qe,n=>{it().length>0?n(Ae):n(e,!1)})}var t=oe(qe,2);const r=Pt(()=>De()?"danger":"primary");Nr(t,{get kind(){return R(r)},get disabled(){return P()},get icon(){return Ze()},$$events:{click:()=>{Ke("submit"),Ke("click:button--primary")}},children:(n,s)=>{Ct();var u=Ut();Nt(()=>ai(u,Ne())),ae(n,u)},$$slots:{default:!0}}),et(fe),Nt(n=>we=kt(fe,1,"",null,we,n),[()=>({"bx--modal-footer":!0,"bx--modal-footer--three-button":it().length===2})],Pt),ae(re,fe)};At(ii,re=>{Me()||re(mt)})}et(dt),qi(dt,re=>Ve(ze,re),()=>R(ze)),et(Pe),qi(Pe,re=>ye(re),()=>ye()),Nt((re,fe)=>{zt(dt,"role",z()?Me()?"alert":"alertdialog":"dialog"),zt(dt,"aria-describedby",z()&&!Me()?R(Se):void 0),zt(dt,"aria-label",R(Ee)),jt=kt(dt,1,"",null,jt,re),zt(lt,"id",R(ue)),zt(Rt,"id",R(Se)),zt(Rt,"tabindex",tt()?"0":void 0),zt(Rt,"role",tt()?"region":void 0),zt(Rt,"aria-label",tt()?R(Ee):void 0),zt(Rt,"aria-labelledby",Ie()?R(Ue):R(ue)),qt=kt(Rt,1,"",null,qt,fe)},[()=>({"bx--modal-container":!0,"bx--modal-container--xs":Ce()==="xs","bx--modal-container--sm":Ce()==="sm","bx--modal-container--lg":Ce()==="lg"}),()=>({"bx--modal-content":!0,"bx--modal-content--with-form":Le(),"bx--modal-scroll-content":tt()})],Pt),wt("click",dt,()=>{Ve(ke,!0)}),wt("keydown",Pe,function(re){It.call(this,q,re)}),wt("keydown",Pe,re=>{if(ne())if(re.key==="Escape")ne(!1);else if(re.key==="Tab"){const we=Array.from(ye().querySelectorAll(`
  a[href], area[href], input:not([disabled]):not([tabindex='-1']),
  button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']),
  textarea:not([disabled]):not([tabindex='-1']),
  iframe, object, embed, *[tabindex]:not([tabindex='-1']):not([disabled]), *[contenteditable=true]
`));let qe=we.indexOf(document.activeElement);qe===-1&&re.shiftKey&&(qe=0),qe+=we.length+(re.shiftKey?-1:1),qe%=we.length,we[qe].focus(),re.preventDefault()}else xt()&&re.key==="Enter"&&!P()&&(Ke("submit"),Ke("click:button--primary"))}),wt("click",Pe,function(re){It.call(this,q,re)}),wt("click",Pe,()=>{!R(ke)&&!ct()&&ne(!1),Ve(ke,!1)}),wt("mouseover",Pe,function(re){It.call(this,q,re)}),wt("mouseenter",Pe,function(re){It.call(this,q,re)}),wt("mouseleave",Pe,function(re){It.call(this,q,re)}),wt("transitionend",Pe,re=>{re.propertyName==="transform"&&Ke("transitionend",{open:ne()})}),ae(Be,Pe),vi(),L()}const wa=!1,Sa=!0,Ou=Object.freeze(Object.defineProperty({__proto__:null,prerender:Sa,ssr:wa},Symbol.toStringTag,{value:"Module"}));var Ca=Oe('<div style="padding-top:var(--cds-spacing-03)"></div> <h5 class="bx--type-expressive-heading-02">Lagerkennwerte und Eingabelasten</h5> <div style="padding-top:var(--cds-spacing-05)"></div>',1),ka=Oe("Betondeckung Konsole c<sub>nom</sub>",1),Pa=Oe("<!> <!>",1),Ia=Oe("Durchmesser Dorn d<sub>d</sub>",1),Aa=Oe("Bohrungsdurchmesser Elastomer d<sub>b</sub>",1),Ta=Oe("<!> <!> <div></div> <!> <!> <div></div> <!> <!>",1),Ea=Oe('<h6 class="bx--type-expressive-heading-01">Lagerkennwerte</h6> <div></div> <!> <div></div> <!> <!> <div></div> <!> <!> <div></div> <!> <!> <div></div> <!> <!> <div></div> <!> <div></div> <!>',1),La=Oe("Bemessungslast F<sub>Z,d</sub>",1),Na=Oe("Lagerverdrehung α<sub>b</sub>",1),Oa=Oe("Lagerverschiebung u<sub>a</sub>",1),Ma=Oe("Horizontallast auf Dorn F<sub>y,d</sub>",1),Ra=Oe("<!> <!> <div></div>",1),za=Oe("Horizontallast F<sub>x,d</sub>",1),Va=Oe('<h6 class="bx--type-expressive-heading-01">Eingabelasten</h6> <div></div> <!> <!> <div></div> <!> <!> <div></div> <!> <!> <div></div> <!> <!> <!> <div></div> <div style="padding-top:var(--cds-spacing-07)"></div> <h6 class="bx--type-expressive-heading-01">Zusätzliche Parameter</h6> <div></div> <!> <!> <div></div> <!> <div></div> <!>',1),Ba=Oe("<!> <!>",1),Fa=Oe("<!> <!>",1);function Da(Be,q){_i(q,!1);const[G,xe]=or(),te=()=>Mi(ur,"$shearDeformationParameterStore",G),L=(Ee,Ce)=>{ur.updateField(Ee,Ce)},Ue=Ee=>Ce=>{const De=Ce.target.checked;ur.updateField(Ee,De?1:0)};function ue(Ee){return Ce=>{const ne=Ce.detail;ne!==null&&L(Ee,ne)}}function Se(Ee){return Ce=>{const ne=Ce.target;ne&&L(Ee,parseInt(ne.value))}}bi(),sn(Be,{children:(Ee,Ce)=>{Rr(Ee,{style:"padding:0",children:(ne,De)=>{var z=Fa(),Me=Tt(z);tr(Me,{children:(Ie,ee)=>{Oi(Ie,{sm:16,md:16,lg:16,children:(vt,Le)=>{var tt=Ca();Ct(4),ae(vt,tt)},$$slots:{default:!0}})},$$slots:{default:!0}});var ce=oe(Me,2);tr(ce,{children:(Ie,ee)=>{var vt=Ba(),Le=Tt(vt);Oi(Le,{sm:16,md:16,lg:8,style:"border-right: 1px solid var(--cds-border-subtle); padding-right: var(--cds-spacing-05);",children:(Ne,P)=>{var Ze=Ea(),xt=oe(Tt(Ze),2);ri(xt,"padding-top:var(--cds-spacing-05)");var He=oe(xt,2);const it=Pt(()=>te().is_streifen===1);var ht=ci(()=>Ue("is_streifen"));Lr(He,{labelText:"Streifenlager",get checked(){return R(it)},$$events:{change(...yt){var st;(st=R(ht))==null||st.apply(this,yt)}}});var ct=oe(He,2);ri(ct,"padding-top:var(--cds-spacing-05)");var _t=oe(ct,2);fi(_t,{children:(yt,st)=>{Ct();var Bt=Ut("Lagerbreite a");ae(yt,Bt)},$$slots:{default:!0}});var ye=oe(_t,2),Ke=ci(()=>ue("a"));Pi(ye,{get value(){return te().a},size:"sm",step:10,helperText:"mm",$$events:{change(...yt){var st;(st=R(Ke))==null||st.apply(this,yt)}}});var J=oe(ye,2);ri(J,"padding-top:var(--cds-spacing-05)");var ze=oe(J,2);fi(ze,{children:(yt,st)=>{Ct();var Bt=Ut("Lagerlänge b");ae(yt,Bt)},$$slots:{default:!0}});var ft=oe(ze,2),ke=ci(()=>ue("b"));const ut=Pt(()=>te().is_streifen===1);Pi(ft,{get value(){return te().b},size:"sm",step:10,helperText:"mm",get disabled(){return R(ut)},$$events:{change(...yt){var st;(st=R(ke))==null||st.apply(this,yt)}}});var Lt=oe(ft,2);ri(Lt,"padding-top:var(--cds-spacing-05)");var Pe=oe(Lt,2);fi(Pe,{children:(yt,st)=>{Ct();var Bt=Ut("Lagerdicke t");ae(yt,Bt)},$$slots:{default:!0}});var dt=oe(Pe,2),jt=ci(()=>ue("t"));Pi(dt,{get value(){return te().t},size:"sm",step:1,helperText:"mm",$$events:{change(...yt){var st;(st=R(jt))==null||st.apply(this,yt)}}});var Fe=oe(dt,2);ri(Fe,"padding-top:var(--cds-spacing-05)");var Dt=oe(Fe,2);fi(Dt,{children:(yt,st)=>{Ct();var Bt=ka();Ct(),ae(yt,Bt)},$$slots:{default:!0}});var ui=oe(Dt,2),ti=ci(()=>ue("c_nom"));Pi(ui,{get value(){return te().c_nom},size:"sm",step:5,helperText:"mm",$$events:{change(...yt){var st;(st=R(ti))==null||st.apply(this,yt)}}});var pt=oe(ui,2);ri(pt,"padding-top:var(--cds-spacing-05)");var lt=oe(pt,2);const St=Pt(()=>te().is_dorn===1);var Mt=ci(()=>Ue("is_dorn"));Lr(lt,{labelText:"Schubdorn vorhanden",get checked(){return R(St)},$$events:{change(...yt){var st;(st=R(Mt))==null||st.apply(this,yt)}}});var Vt=oe(lt,2);ri(Vt,"padding-top:var(--cds-spacing-05)");var Rt=oe(Vt,2);{var qt=yt=>{var st=Ta(),Bt=Tt(st);fi(Bt,{children:(s,u)=>{Ct();var o=Ut("Anzahl Schubdorn");ae(s,o)},$$slots:{default:!0}});var ii=oe(Bt,2);const mt=Pt(()=>te().n_b.toString());var re=ci(()=>Se("n_b"));ws(ii,{get selected(){return R(mt)},size:"sm",$$events:{change(...s){var u;(u=R(re))==null||u.apply(this,s)}},children:(s,u)=>{var o=Pa(),l=Tt(o);xn(l,{value:"1",text:"1"});var h=oe(l,2);xn(h,{value:"2",text:"2"}),ae(s,o)},$$slots:{default:!0}});var fe=oe(ii,2);ri(fe,"padding-top:var(--cds-spacing-05)");var we=oe(fe,2);fi(we,{children:(s,u)=>{Ct();var o=Ia();Ct(),ae(s,o)},$$slots:{default:!0}});var qe=oe(we,2),Ae=ci(()=>ue("d_d"));Pi(qe,{get value(){return te().d_d},size:"sm",step:5,helperText:"mm",$$events:{change(...s){var u;(u=R(Ae))==null||u.apply(this,s)}}});var e=oe(qe,2);ri(e,"padding-top:var(--cds-spacing-05)");var t=oe(e,2);fi(t,{children:(s,u)=>{Ct();var o=Aa();Ct(),ae(s,o)},$$slots:{default:!0}});var r=oe(t,2),n=ci(()=>ue("d_b"));Pi(r,{get value(){return te().d_b},size:"sm",step:5,helperText:"mm",$$events:{change(...s){var u;(u=R(n))==null||u.apply(this,s)}}}),ae(yt,st)};At(Rt,yt=>{te().is_dorn===1&&yt(qt)})}ae(Ne,Ze)},$$slots:{default:!0}});var tt=oe(Le,2);Oi(tt,{sm:16,md:16,lg:8,style:"padding-left: var(--cds-spacing-05);",children:(Ne,P)=>{var Ze=Va(),xt=oe(Tt(Ze),2);ri(xt,"padding-top:var(--cds-spacing-05)");var He=oe(xt,2);fi(He,{children:(mt,re)=>{Ct();var fe=La();Ct(),ae(mt,fe)},$$slots:{default:!0}});var it=oe(He,2),ht=ci(()=>ue("ff_zd"));Pi(it,{get value(){return te().ff_zd},size:"sm",step:10,helperText:"kN",$$events:{change(...mt){var re;(re=R(ht))==null||re.apply(this,mt)}}});var ct=oe(it,2);ri(ct,"padding-top:var(--cds-spacing-05)");var _t=oe(ct,2);fi(_t,{children:(mt,re)=>{Ct();var fe=Na();Ct(),ae(mt,fe)},$$slots:{default:!0}});var ye=oe(_t,2),Ke=ci(()=>ue("alpha_b"));const J=Pt(()=>te().is_streifen===1);Pi(ye,{get value(){return te().alpha_b},size:"sm",step:.1,helperText:"mrad / ‰",get disabled(){return R(J)},$$events:{change(...mt){var re;(re=R(Ke))==null||re.apply(this,mt)}}});var ze=oe(ye,2);ri(ze,"padding-top:var(--cds-spacing-05)");var ft=oe(ze,2);fi(ft,{children:(mt,re)=>{Ct();var fe=Oa();Ct(),ae(mt,fe)},$$slots:{default:!0}});var ke=oe(ft,2),ut=ci(()=>ue("v_a"));Pi(ke,{get value(){return te().v_a},size:"sm",step:1,helperText:"mm",$$events:{change(...mt){var re;(re=R(ut))==null||re.apply(this,mt)}}});var Lt=oe(ke,2);ri(Lt,"padding-top:var(--cds-spacing-05)");var Pe=oe(Lt,2);{var dt=mt=>{var re=Ra(),fe=Tt(re);fi(fe,{children:(e,t)=>{Ct();var r=Ma();Ct(),ae(e,r)},$$slots:{default:!0}});var we=oe(fe,2),qe=ci(()=>ue("ff_y"));Pi(we,{get value(){return te().ff_y},size:"sm",step:5,helperText:"kN",$$events:{change(...e){var t;(t=R(qe))==null||t.apply(this,e)}}});var Ae=oe(we,2);ri(Ae,"padding-top:var(--cds-spacing-05)"),ae(mt,re)};At(Pe,mt=>{te().is_dorn===1&&mt(dt)})}var jt=oe(Pe,2);fi(jt,{children:(mt,re)=>{Ct();var fe=za();Ct(),ae(mt,fe)},$$slots:{default:!0}});var Fe=oe(jt,2),Dt=ci(()=>ue("ff_x"));Pi(Fe,{get value(){return te().ff_x},size:"sm",step:5,helperText:"kN",$$events:{change(...mt){var re;(re=R(Dt))==null||re.apply(this,mt)}}});var ui=oe(Fe,2);ri(ui,"padding-top:var(--cds-spacing-05)");var ti=oe(ui,6);ri(ti,"padding-top:var(--cds-spacing-05)");var pt=oe(ti,2);fi(pt,{children:(mt,re)=>{Ct();var fe=Ut("Schubmodul G");ae(mt,fe)},$$slots:{default:!0}});var lt=oe(pt,2),St=ci(()=>ue("gg"));Pi(lt,{get value(){return te().gg},size:"sm",step:.1,helperText:"N/mm²",$$events:{change(...mt){var re;(re=R(St))==null||re.apply(this,mt)}}});var Mt=oe(lt,2);ri(Mt,"padding-top:var(--cds-spacing-05)");var Vt=oe(Mt,2);const Rt=Pt(()=>te().is_ortbeton===1);var qt=ci(()=>Ue("is_ortbeton"));Lr(Vt,{labelText:"Ortbeton",get checked(){return R(Rt)},$$events:{change(...mt){var re;(re=R(qt))==null||re.apply(this,mt)}}});var yt=oe(Vt,2);ri(yt,"padding-top:var(--cds-spacing-05)");var st=oe(yt,2);const Bt=Pt(()=>te().is_wirksamgeschlossen===1);var ii=ci(()=>Ue("is_wirksamgeschlossen"));Lr(st,{labelText:"Wirksam geschlossen",get checked(){return R(Bt)},$$events:{change(...mt){var re;(re=R(ii))==null||re.apply(this,mt)}}}),ae(Ne,Ze)},$$slots:{default:!0}}),ae(Ie,vt)},$$slots:{default:!0}}),ae(ne,z)},$$slots:{default:!0}})},$$slots:{default:!0}}),vi(),xe()}function qa(Be){if(Object.prototype.hasOwnProperty.call(Be,"__esModule"))return Be;var q=Be.default;if(typeof q=="function"){var G=function xe(){return this instanceof xe?Reflect.construct(q,arguments,this.constructor):q.apply(this,arguments)};G.prototype=q.prototype}else G={};return Object.defineProperty(G,"__esModule",{value:!0}),Object.keys(Be).forEach(function(xe){var te=Object.getOwnPropertyDescriptor(Be,xe);Object.defineProperty(G,xe,te.get?te:{enumerable:!0,get:function(){return Be[xe]}})}),G}function $a(Be){throw new Error('Could not dynamically require "'+Be+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Mr={exports:{}};const Ua={},Ha=Object.freeze(Object.defineProperty({__proto__:null,default:Ua},Symbol.toStringTag,{value:"Module"})),Pn=qa(Ha);var mr={exports:{}},Ga=mr.exports,In;function Wa(){return In||(In=1,function(Be,q){(function(G,xe){xe(q)})(Ga,function(G){var xe=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239],te=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],L="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࢗ-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ೳഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-໎໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‌‍‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯・꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿･",Ue="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲊᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟍꟐꟑꟓꟕ-Ƛꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",ue={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},Se="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",Ee={5:Se,"5module":Se+" export import",6:Se+" const class extends export import super"},Ce=/^in(stanceof)?$/,ne=new RegExp("["+Ue+"]"),De=new RegExp("["+Ue+L+"]");function z(i,a){for(var m=65536,I=0;I<a.length;I+=2){if(m+=a[I],m>i)return!1;if(m+=a[I+1],m>=i)return!0}return!1}function Me(i,a){return i<65?i===36:i<91?!0:i<97?i===95:i<123?!0:i<=65535?i>=170&&ne.test(String.fromCharCode(i)):a===!1?!1:z(i,te)}function ce(i,a){return i<48?i===36:i<58?!0:i<65?!1:i<91?!0:i<97?i===95:i<123?!0:i<=65535?i>=170&&De.test(String.fromCharCode(i)):a===!1?!1:z(i,te)||z(i,xe)}var Ie=function(a,m){m===void 0&&(m={}),this.label=a,this.keyword=m.keyword,this.beforeExpr=!!m.beforeExpr,this.startsExpr=!!m.startsExpr,this.isLoop=!!m.isLoop,this.isAssign=!!m.isAssign,this.prefix=!!m.prefix,this.postfix=!!m.postfix,this.binop=m.binop||null,this.updateContext=null};function ee(i,a){return new Ie(i,{beforeExpr:!0,binop:a})}var vt={beforeExpr:!0},Le={startsExpr:!0},tt={};function Ne(i,a){return a===void 0&&(a={}),a.keyword=i,tt[i]=new Ie(i,a)}var P={num:new Ie("num",Le),regexp:new Ie("regexp",Le),string:new Ie("string",Le),name:new Ie("name",Le),privateId:new Ie("privateId",Le),eof:new Ie("eof"),bracketL:new Ie("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new Ie("]"),braceL:new Ie("{",{beforeExpr:!0,startsExpr:!0}),braceR:new Ie("}"),parenL:new Ie("(",{beforeExpr:!0,startsExpr:!0}),parenR:new Ie(")"),comma:new Ie(",",vt),semi:new Ie(";",vt),colon:new Ie(":",vt),dot:new Ie("."),question:new Ie("?",vt),questionDot:new Ie("?."),arrow:new Ie("=>",vt),template:new Ie("template"),invalidTemplate:new Ie("invalidTemplate"),ellipsis:new Ie("...",vt),backQuote:new Ie("`",Le),dollarBraceL:new Ie("${",{beforeExpr:!0,startsExpr:!0}),eq:new Ie("=",{beforeExpr:!0,isAssign:!0}),assign:new Ie("_=",{beforeExpr:!0,isAssign:!0}),incDec:new Ie("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new Ie("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:ee("||",1),logicalAND:ee("&&",2),bitwiseOR:ee("|",3),bitwiseXOR:ee("^",4),bitwiseAND:ee("&",5),equality:ee("==/!=/===/!==",6),relational:ee("</>/<=/>=",7),bitShift:ee("<</>>/>>>",8),plusMin:new Ie("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:ee("%",10),star:ee("*",10),slash:ee("/",10),starstar:new Ie("**",{beforeExpr:!0}),coalesce:ee("??",1),_break:Ne("break"),_case:Ne("case",vt),_catch:Ne("catch"),_continue:Ne("continue"),_debugger:Ne("debugger"),_default:Ne("default",vt),_do:Ne("do",{isLoop:!0,beforeExpr:!0}),_else:Ne("else",vt),_finally:Ne("finally"),_for:Ne("for",{isLoop:!0}),_function:Ne("function",Le),_if:Ne("if"),_return:Ne("return",vt),_switch:Ne("switch"),_throw:Ne("throw",vt),_try:Ne("try"),_var:Ne("var"),_const:Ne("const"),_while:Ne("while",{isLoop:!0}),_with:Ne("with"),_new:Ne("new",{beforeExpr:!0,startsExpr:!0}),_this:Ne("this",Le),_super:Ne("super",Le),_class:Ne("class",Le),_extends:Ne("extends",vt),_export:Ne("export"),_import:Ne("import",Le),_null:Ne("null",Le),_true:Ne("true",Le),_false:Ne("false",Le),_in:Ne("in",{beforeExpr:!0,binop:7}),_instanceof:Ne("instanceof",{beforeExpr:!0,binop:7}),_typeof:Ne("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:Ne("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:Ne("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Ze=/\r\n?|\n|\u2028|\u2029/,xt=new RegExp(Ze.source,"g");function He(i){return i===10||i===13||i===8232||i===8233}function it(i,a,m){m===void 0&&(m=i.length);for(var I=a;I<m;I++){var M=i.charCodeAt(I);if(He(M))return I<m-1&&M===13&&i.charCodeAt(I+1)===10?I+2:I+1}return-1}var ht=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,ct=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,_t=Object.prototype,ye=_t.hasOwnProperty,Ke=_t.toString,J=Object.hasOwn||function(i,a){return ye.call(i,a)},ze=Array.isArray||function(i){return Ke.call(i)==="[object Array]"},ft=Object.create(null);function ke(i){return ft[i]||(ft[i]=new RegExp("^(?:"+i.replace(/ /g,"|")+")$"))}function ut(i){return i<=65535?String.fromCharCode(i):(i-=65536,String.fromCharCode((i>>10)+55296,(i&1023)+56320))}var Lt=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Pe=function(a,m){this.line=a,this.column=m};Pe.prototype.offset=function(a){return new Pe(this.line,this.column+a)};var dt=function(a,m,I){this.start=m,this.end=I,a.sourceFile!==null&&(this.source=a.sourceFile)};function jt(i,a){for(var m=1,I=0;;){var M=it(i,I,a);if(M<0)return new Pe(m,a-I);++m,I=M}}var Fe={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},Dt=!1;function ui(i){var a={};for(var m in Fe)a[m]=i&&J(i,m)?i[m]:Fe[m];if(a.ecmaVersion==="latest"?a.ecmaVersion=1e8:a.ecmaVersion==null?(!Dt&&typeof console=="object"&&console.warn&&(Dt=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),a.ecmaVersion=11):a.ecmaVersion>=2015&&(a.ecmaVersion-=2009),a.allowReserved==null&&(a.allowReserved=a.ecmaVersion<5),(!i||i.allowHashBang==null)&&(a.allowHashBang=a.ecmaVersion>=14),ze(a.onToken)){var I=a.onToken;a.onToken=function(M){return I.push(M)}}return ze(a.onComment)&&(a.onComment=ti(a,a.onComment)),a}function ti(i,a){return function(m,I,M,j,Z,_e){var be={type:m?"Block":"Line",value:I,start:M,end:j};i.locations&&(be.loc=new dt(this,Z,_e)),i.ranges&&(be.range=[M,j]),a.push(be)}}var pt=1,lt=2,St=4,Mt=8,Vt=16,Rt=32,qt=64,yt=128,st=256,Bt=512,ii=pt|lt|st;function mt(i,a){return lt|(i?St:0)|(a?Mt:0)}var re=0,fe=1,we=2,qe=3,Ae=4,e=5,t=function(a,m,I){this.options=a=ui(a),this.sourceFile=a.sourceFile,this.keywords=ke(Ee[a.ecmaVersion>=6?6:a.sourceType==="module"?"5module":5]);var M="";a.allowReserved!==!0&&(M=ue[a.ecmaVersion>=6?6:a.ecmaVersion===5?5:3],a.sourceType==="module"&&(M+=" await")),this.reservedWords=ke(M);var j=(M?M+" ":"")+ue.strict;this.reservedWordsStrict=ke(j),this.reservedWordsStrictBind=ke(j+" "+ue.strictBind),this.input=String(m),this.containsEsc=!1,I?(this.pos=I,this.lineStart=this.input.lastIndexOf(`
`,I-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Ze).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=P.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=a.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&a.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(pt),this.regexpState=null,this.privateNameStack=[]},r={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};t.prototype.parse=function(){var a=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(a)},r.inFunction.get=function(){return(this.currentVarScope().flags&lt)>0},r.inGenerator.get=function(){return(this.currentVarScope().flags&Mt)>0},r.inAsync.get=function(){return(this.currentVarScope().flags&St)>0},r.canAwait.get=function(){for(var i=this.scopeStack.length-1;i>=0;i--){var a=this.scopeStack[i],m=a.flags;if(m&(st|Bt))return!1;if(m&lt)return(m&St)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},r.allowSuper.get=function(){var i=this.currentThisScope(),a=i.flags;return(a&qt)>0||this.options.allowSuperOutsideMethod},r.allowDirectSuper.get=function(){return(this.currentThisScope().flags&yt)>0},r.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},r.allowNewDotTarget.get=function(){for(var i=this.scopeStack.length-1;i>=0;i--){var a=this.scopeStack[i],m=a.flags;if(m&(st|Bt)||m&lt&&!(m&Vt))return!0}return!1},r.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&st)>0},t.extend=function(){for(var a=[],m=arguments.length;m--;)a[m]=arguments[m];for(var I=this,M=0;M<a.length;M++)I=a[M](I);return I},t.parse=function(a,m){return new this(m,a).parse()},t.parseExpressionAt=function(a,m,I){var M=new this(I,a,m);return M.nextToken(),M.parseExpression()},t.tokenizer=function(a,m){return new this(m,a)},Object.defineProperties(t.prototype,r);var n=t.prototype,s=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;n.strictDirective=function(i){if(this.options.ecmaVersion<5)return!1;for(;;){ct.lastIndex=i,i+=ct.exec(this.input)[0].length;var a=s.exec(this.input.slice(i));if(!a)return!1;if((a[1]||a[2])==="use strict"){ct.lastIndex=i+a[0].length;var m=ct.exec(this.input),I=m.index+m[0].length,M=this.input.charAt(I);return M===";"||M==="}"||Ze.test(m[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(M)||M==="!"&&this.input.charAt(I+1)==="=")}i+=a[0].length,ct.lastIndex=i,i+=ct.exec(this.input)[0].length,this.input[i]===";"&&i++}},n.eat=function(i){return this.type===i?(this.next(),!0):!1},n.isContextual=function(i){return this.type===P.name&&this.value===i&&!this.containsEsc},n.eatContextual=function(i){return this.isContextual(i)?(this.next(),!0):!1},n.expectContextual=function(i){this.eatContextual(i)||this.unexpected()},n.canInsertSemicolon=function(){return this.type===P.eof||this.type===P.braceR||Ze.test(this.input.slice(this.lastTokEnd,this.start))},n.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},n.semicolon=function(){!this.eat(P.semi)&&!this.insertSemicolon()&&this.unexpected()},n.afterTrailingComma=function(i,a){if(this.type===i)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),a||this.next(),!0},n.expect=function(i){this.eat(i)||this.unexpected()},n.unexpected=function(i){this.raise(i??this.start,"Unexpected token")};var u=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};n.checkPatternErrors=function(i,a){if(i){i.trailingComma>-1&&this.raiseRecoverable(i.trailingComma,"Comma is not permitted after the rest element");var m=a?i.parenthesizedAssign:i.parenthesizedBind;m>-1&&this.raiseRecoverable(m,a?"Assigning to rvalue":"Parenthesized pattern")}},n.checkExpressionErrors=function(i,a){if(!i)return!1;var m=i.shorthandAssign,I=i.doubleProto;if(!a)return m>=0||I>=0;m>=0&&this.raise(m,"Shorthand property assignments are valid only in destructuring patterns"),I>=0&&this.raiseRecoverable(I,"Redefinition of __proto__ property")},n.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},n.isSimpleAssignTarget=function(i){return i.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(i.expression):i.type==="Identifier"||i.type==="MemberExpression"};var o=t.prototype;o.parseTopLevel=function(i){var a=Object.create(null);for(i.body||(i.body=[]);this.type!==P.eof;){var m=this.parseStatement(null,!0,a);i.body.push(m)}if(this.inModule)for(var I=0,M=Object.keys(this.undefinedExports);I<M.length;I+=1){var j=M[I];this.raiseRecoverable(this.undefinedExports[j].start,"Export '"+j+"' is not defined")}return this.adaptDirectivePrologue(i.body),this.next(),i.sourceType=this.options.sourceType,this.finishNode(i,"Program")};var l={kind:"loop"},h={kind:"switch"};o.isLet=function(i){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;ct.lastIndex=this.pos;var a=ct.exec(this.input),m=this.pos+a[0].length,I=this.input.charCodeAt(m);if(I===91||I===92)return!0;if(i)return!1;if(I===123||I>55295&&I<56320)return!0;if(Me(I,!0)){for(var M=m+1;ce(I=this.input.charCodeAt(M),!0);)++M;if(I===92||I>55295&&I<56320)return!0;var j=this.input.slice(m,M);if(!Ce.test(j))return!0}return!1},o.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;ct.lastIndex=this.pos;var i=ct.exec(this.input),a=this.pos+i[0].length,m;return!Ze.test(this.input.slice(this.pos,a))&&this.input.slice(a,a+8)==="function"&&(a+8===this.input.length||!(ce(m=this.input.charCodeAt(a+8))||m>55295&&m<56320))},o.parseStatement=function(i,a,m){var I=this.type,M=this.startNode(),j;switch(this.isLet(i)&&(I=P._var,j="let"),I){case P._break:case P._continue:return this.parseBreakContinueStatement(M,I.keyword);case P._debugger:return this.parseDebuggerStatement(M);case P._do:return this.parseDoStatement(M);case P._for:return this.parseForStatement(M);case P._function:return i&&(this.strict||i!=="if"&&i!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(M,!1,!i);case P._class:return i&&this.unexpected(),this.parseClass(M,!0);case P._if:return this.parseIfStatement(M);case P._return:return this.parseReturnStatement(M);case P._switch:return this.parseSwitchStatement(M);case P._throw:return this.parseThrowStatement(M);case P._try:return this.parseTryStatement(M);case P._const:case P._var:return j=j||this.value,i&&j!=="var"&&this.unexpected(),this.parseVarStatement(M,j);case P._while:return this.parseWhileStatement(M);case P._with:return this.parseWithStatement(M);case P.braceL:return this.parseBlock(!0,M);case P.semi:return this.parseEmptyStatement(M);case P._export:case P._import:if(this.options.ecmaVersion>10&&I===P._import){ct.lastIndex=this.pos;var Z=ct.exec(this.input),_e=this.pos+Z[0].length,be=this.input.charCodeAt(_e);if(be===40||be===46)return this.parseExpressionStatement(M,this.parseExpression())}return this.options.allowImportExportEverywhere||(a||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),I===P._import?this.parseImport(M):this.parseExport(M,m);default:if(this.isAsyncFunction())return i&&this.unexpected(),this.next(),this.parseFunctionStatement(M,!0,!i);var gt=this.value,rt=this.parseExpression();return I===P.name&&rt.type==="Identifier"&&this.eat(P.colon)?this.parseLabeledStatement(M,gt,rt,i):this.parseExpressionStatement(M,rt)}},o.parseBreakContinueStatement=function(i,a){var m=a==="break";this.next(),this.eat(P.semi)||this.insertSemicolon()?i.label=null:this.type!==P.name?this.unexpected():(i.label=this.parseIdent(),this.semicolon());for(var I=0;I<this.labels.length;++I){var M=this.labels[I];if((i.label==null||M.name===i.label.name)&&(M.kind!=null&&(m||M.kind==="loop")||i.label&&m))break}return I===this.labels.length&&this.raise(i.start,"Unsyntactic "+a),this.finishNode(i,m?"BreakStatement":"ContinueStatement")},o.parseDebuggerStatement=function(i){return this.next(),this.semicolon(),this.finishNode(i,"DebuggerStatement")},o.parseDoStatement=function(i){return this.next(),this.labels.push(l),i.body=this.parseStatement("do"),this.labels.pop(),this.expect(P._while),i.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(P.semi):this.semicolon(),this.finishNode(i,"DoWhileStatement")},o.parseForStatement=function(i){this.next();var a=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(l),this.enterScope(0),this.expect(P.parenL),this.type===P.semi)return a>-1&&this.unexpected(a),this.parseFor(i,null);var m=this.isLet();if(this.type===P._var||this.type===P._const||m){var I=this.startNode(),M=m?"let":this.value;return this.next(),this.parseVar(I,!0,M),this.finishNode(I,"VariableDeclaration"),(this.type===P._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&I.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===P._in?a>-1&&this.unexpected(a):i.await=a>-1),this.parseForIn(i,I)):(a>-1&&this.unexpected(a),this.parseFor(i,I))}var j=this.isContextual("let"),Z=!1,_e=this.containsEsc,be=new u,gt=this.start,rt=a>-1?this.parseExprSubscripts(be,"await"):this.parseExpression(!0,be);return this.type===P._in||(Z=this.options.ecmaVersion>=6&&this.isContextual("of"))?(a>-1?(this.type===P._in&&this.unexpected(a),i.await=!0):Z&&this.options.ecmaVersion>=8&&(rt.start===gt&&!_e&&rt.type==="Identifier"&&rt.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(i.await=!1)),j&&Z&&this.raise(rt.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(rt,!1,be),this.checkLValPattern(rt),this.parseForIn(i,rt)):(this.checkExpressionErrors(be,!0),a>-1&&this.unexpected(a),this.parseFor(i,rt))},o.parseFunctionStatement=function(i,a,m){return this.next(),this.parseFunction(i,g|(m?0:v),!1,a)},o.parseIfStatement=function(i){return this.next(),i.test=this.parseParenExpression(),i.consequent=this.parseStatement("if"),i.alternate=this.eat(P._else)?this.parseStatement("if"):null,this.finishNode(i,"IfStatement")},o.parseReturnStatement=function(i){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(P.semi)||this.insertSemicolon()?i.argument=null:(i.argument=this.parseExpression(),this.semicolon()),this.finishNode(i,"ReturnStatement")},o.parseSwitchStatement=function(i){this.next(),i.discriminant=this.parseParenExpression(),i.cases=[],this.expect(P.braceL),this.labels.push(h),this.enterScope(0);for(var a,m=!1;this.type!==P.braceR;)if(this.type===P._case||this.type===P._default){var I=this.type===P._case;a&&this.finishNode(a,"SwitchCase"),i.cases.push(a=this.startNode()),a.consequent=[],this.next(),I?a.test=this.parseExpression():(m&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),m=!0,a.test=null),this.expect(P.colon)}else a||this.unexpected(),a.consequent.push(this.parseStatement(null));return this.exitScope(),a&&this.finishNode(a,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(i,"SwitchStatement")},o.parseThrowStatement=function(i){return this.next(),Ze.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),i.argument=this.parseExpression(),this.semicolon(),this.finishNode(i,"ThrowStatement")};var c=[];o.parseCatchClauseParam=function(){var i=this.parseBindingAtom(),a=i.type==="Identifier";return this.enterScope(a?Rt:0),this.checkLValPattern(i,a?Ae:we),this.expect(P.parenR),i},o.parseTryStatement=function(i){if(this.next(),i.block=this.parseBlock(),i.handler=null,this.type===P._catch){var a=this.startNode();this.next(),this.eat(P.parenL)?a.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),a.param=null,this.enterScope(0)),a.body=this.parseBlock(!1),this.exitScope(),i.handler=this.finishNode(a,"CatchClause")}return i.finalizer=this.eat(P._finally)?this.parseBlock():null,!i.handler&&!i.finalizer&&this.raise(i.start,"Missing catch or finally clause"),this.finishNode(i,"TryStatement")},o.parseVarStatement=function(i,a,m){return this.next(),this.parseVar(i,!1,a,m),this.semicolon(),this.finishNode(i,"VariableDeclaration")},o.parseWhileStatement=function(i){return this.next(),i.test=this.parseParenExpression(),this.labels.push(l),i.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(i,"WhileStatement")},o.parseWithStatement=function(i){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),i.object=this.parseParenExpression(),i.body=this.parseStatement("with"),this.finishNode(i,"WithStatement")},o.parseEmptyStatement=function(i){return this.next(),this.finishNode(i,"EmptyStatement")},o.parseLabeledStatement=function(i,a,m,I){for(var M=0,j=this.labels;M<j.length;M+=1){var Z=j[M];Z.name===a&&this.raise(m.start,"Label '"+a+"' is already declared")}for(var _e=this.type.isLoop?"loop":this.type===P._switch?"switch":null,be=this.labels.length-1;be>=0;be--){var gt=this.labels[be];if(gt.statementStart===i.start)gt.statementStart=this.start,gt.kind=_e;else break}return this.labels.push({name:a,kind:_e,statementStart:this.start}),i.body=this.parseStatement(I?I.indexOf("label")===-1?I+"label":I:"label"),this.labels.pop(),i.label=m,this.finishNode(i,"LabeledStatement")},o.parseExpressionStatement=function(i,a){return i.expression=a,this.semicolon(),this.finishNode(i,"ExpressionStatement")},o.parseBlock=function(i,a,m){for(i===void 0&&(i=!0),a===void 0&&(a=this.startNode()),a.body=[],this.expect(P.braceL),i&&this.enterScope(0);this.type!==P.braceR;){var I=this.parseStatement(null);a.body.push(I)}return m&&(this.strict=!1),this.next(),i&&this.exitScope(),this.finishNode(a,"BlockStatement")},o.parseFor=function(i,a){return i.init=a,this.expect(P.semi),i.test=this.type===P.semi?null:this.parseExpression(),this.expect(P.semi),i.update=this.type===P.parenR?null:this.parseExpression(),this.expect(P.parenR),i.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(i,"ForStatement")},o.parseForIn=function(i,a){var m=this.type===P._in;return this.next(),a.type==="VariableDeclaration"&&a.declarations[0].init!=null&&(!m||this.options.ecmaVersion<8||this.strict||a.kind!=="var"||a.declarations[0].id.type!=="Identifier")&&this.raise(a.start,(m?"for-in":"for-of")+" loop variable declaration may not have an initializer"),i.left=a,i.right=m?this.parseExpression():this.parseMaybeAssign(),this.expect(P.parenR),i.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(i,m?"ForInStatement":"ForOfStatement")},o.parseVar=function(i,a,m,I){for(i.declarations=[],i.kind=m;;){var M=this.startNode();if(this.parseVarId(M,m),this.eat(P.eq)?M.init=this.parseMaybeAssign(a):!I&&m==="const"&&!(this.type===P._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!I&&M.id.type!=="Identifier"&&!(a&&(this.type===P._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):M.init=null,i.declarations.push(this.finishNode(M,"VariableDeclarator")),!this.eat(P.comma))break}return i},o.parseVarId=function(i,a){i.id=this.parseBindingAtom(),this.checkLValPattern(i.id,a==="var"?fe:we,!1)};var g=1,v=2,p=4;o.parseFunction=function(i,a,m,I,M){this.initFunction(i),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!I)&&(this.type===P.star&&a&v&&this.unexpected(),i.generator=this.eat(P.star)),this.options.ecmaVersion>=8&&(i.async=!!I),a&g&&(i.id=a&p&&this.type!==P.name?null:this.parseIdent(),i.id&&!(a&v)&&this.checkLValSimple(i.id,this.strict||i.generator||i.async?this.treatFunctionsAsVar?fe:we:qe));var j=this.yieldPos,Z=this.awaitPos,_e=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(mt(i.async,i.generator)),a&g||(i.id=this.type===P.name?this.parseIdent():null),this.parseFunctionParams(i),this.parseFunctionBody(i,m,!1,M),this.yieldPos=j,this.awaitPos=Z,this.awaitIdentPos=_e,this.finishNode(i,a&g?"FunctionDeclaration":"FunctionExpression")},o.parseFunctionParams=function(i){this.expect(P.parenL),i.params=this.parseBindingList(P.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},o.parseClass=function(i,a){this.next();var m=this.strict;this.strict=!0,this.parseClassId(i,a),this.parseClassSuper(i);var I=this.enterClassBody(),M=this.startNode(),j=!1;for(M.body=[],this.expect(P.braceL);this.type!==P.braceR;){var Z=this.parseClassElement(i.superClass!==null);Z&&(M.body.push(Z),Z.type==="MethodDefinition"&&Z.kind==="constructor"?(j&&this.raiseRecoverable(Z.start,"Duplicate constructor in the same class"),j=!0):Z.key&&Z.key.type==="PrivateIdentifier"&&d(I,Z)&&this.raiseRecoverable(Z.key.start,"Identifier '#"+Z.key.name+"' has already been declared"))}return this.strict=m,this.next(),i.body=this.finishNode(M,"ClassBody"),this.exitClassBody(),this.finishNode(i,a?"ClassDeclaration":"ClassExpression")},o.parseClassElement=function(i){if(this.eat(P.semi))return null;var a=this.options.ecmaVersion,m=this.startNode(),I="",M=!1,j=!1,Z="method",_e=!1;if(this.eatContextual("static")){if(a>=13&&this.eat(P.braceL))return this.parseClassStaticBlock(m),m;this.isClassElementNameStart()||this.type===P.star?_e=!0:I="static"}if(m.static=_e,!I&&a>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===P.star)&&!this.canInsertSemicolon()?j=!0:I="async"),!I&&(a>=9||!j)&&this.eat(P.star)&&(M=!0),!I&&!j&&!M){var be=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?Z=be:I=be)}if(I?(m.computed=!1,m.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),m.key.name=I,this.finishNode(m.key,"Identifier")):this.parseClassElementName(m),a<13||this.type===P.parenL||Z!=="method"||M||j){var gt=!m.static&&x(m,"constructor"),rt=gt&&i;gt&&Z!=="method"&&this.raise(m.key.start,"Constructor can't have get/set modifier"),m.kind=gt?"constructor":Z,this.parseClassMethod(m,M,j,rt)}else this.parseClassField(m);return m},o.isClassElementNameStart=function(){return this.type===P.name||this.type===P.privateId||this.type===P.num||this.type===P.string||this.type===P.bracketL||this.type.keyword},o.parseClassElementName=function(i){this.type===P.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),i.computed=!1,i.key=this.parsePrivateIdent()):this.parsePropertyName(i)},o.parseClassMethod=function(i,a,m,I){var M=i.key;i.kind==="constructor"?(a&&this.raise(M.start,"Constructor can't be a generator"),m&&this.raise(M.start,"Constructor can't be an async method")):i.static&&x(i,"prototype")&&this.raise(M.start,"Classes may not have a static property named prototype");var j=i.value=this.parseMethod(a,m,I);return i.kind==="get"&&j.params.length!==0&&this.raiseRecoverable(j.start,"getter should have no params"),i.kind==="set"&&j.params.length!==1&&this.raiseRecoverable(j.start,"setter should have exactly one param"),i.kind==="set"&&j.params[0].type==="RestElement"&&this.raiseRecoverable(j.params[0].start,"Setter cannot use rest params"),this.finishNode(i,"MethodDefinition")},o.parseClassField=function(i){return x(i,"constructor")?this.raise(i.key.start,"Classes can't have a field named 'constructor'"):i.static&&x(i,"prototype")&&this.raise(i.key.start,"Classes can't have a static field named 'prototype'"),this.eat(P.eq)?(this.enterScope(Bt|qt),i.value=this.parseMaybeAssign(),this.exitScope()):i.value=null,this.semicolon(),this.finishNode(i,"PropertyDefinition")},o.parseClassStaticBlock=function(i){i.body=[];var a=this.labels;for(this.labels=[],this.enterScope(st|qt);this.type!==P.braceR;){var m=this.parseStatement(null);i.body.push(m)}return this.next(),this.exitScope(),this.labels=a,this.finishNode(i,"StaticBlock")},o.parseClassId=function(i,a){this.type===P.name?(i.id=this.parseIdent(),a&&this.checkLValSimple(i.id,we,!1)):(a===!0&&this.unexpected(),i.id=null)},o.parseClassSuper=function(i){i.superClass=this.eat(P._extends)?this.parseExprSubscripts(null,!1):null},o.enterClassBody=function(){var i={declared:Object.create(null),used:[]};return this.privateNameStack.push(i),i.declared},o.exitClassBody=function(){var i=this.privateNameStack.pop(),a=i.declared,m=i.used;if(this.options.checkPrivateFields)for(var I=this.privateNameStack.length,M=I===0?null:this.privateNameStack[I-1],j=0;j<m.length;++j){var Z=m[j];J(a,Z.name)||(M?M.used.push(Z):this.raiseRecoverable(Z.start,"Private field '#"+Z.name+"' must be declared in an enclosing class"))}};function d(i,a){var m=a.key.name,I=i[m],M="true";return a.type==="MethodDefinition"&&(a.kind==="get"||a.kind==="set")&&(M=(a.static?"s":"i")+a.kind),I==="iget"&&M==="iset"||I==="iset"&&M==="iget"||I==="sget"&&M==="sset"||I==="sset"&&M==="sget"?(i[m]="true",!1):I?!0:(i[m]=M,!1)}function x(i,a){var m=i.computed,I=i.key;return!m&&(I.type==="Identifier"&&I.name===a||I.type==="Literal"&&I.value===a)}o.parseExportAllDeclaration=function(i,a){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(i.exported=this.parseModuleExportName(),this.checkExport(a,i.exported,this.lastTokStart)):i.exported=null),this.expectContextual("from"),this.type!==P.string&&this.unexpected(),i.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(i.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(i,"ExportAllDeclaration")},o.parseExport=function(i,a){if(this.next(),this.eat(P.star))return this.parseExportAllDeclaration(i,a);if(this.eat(P._default))return this.checkExport(a,"default",this.lastTokStart),i.declaration=this.parseExportDefaultDeclaration(),this.finishNode(i,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())i.declaration=this.parseExportDeclaration(i),i.declaration.type==="VariableDeclaration"?this.checkVariableExport(a,i.declaration.declarations):this.checkExport(a,i.declaration.id,i.declaration.id.start),i.specifiers=[],i.source=null,this.options.ecmaVersion>=16&&(i.attributes=[]);else{if(i.declaration=null,i.specifiers=this.parseExportSpecifiers(a),this.eatContextual("from"))this.type!==P.string&&this.unexpected(),i.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(i.attributes=this.parseWithClause());else{for(var m=0,I=i.specifiers;m<I.length;m+=1){var M=I[m];this.checkUnreserved(M.local),this.checkLocalExport(M.local),M.local.type==="Literal"&&this.raise(M.local.start,"A string literal cannot be used as an exported binding without `from`.")}i.source=null,this.options.ecmaVersion>=16&&(i.attributes=[])}this.semicolon()}return this.finishNode(i,"ExportNamedDeclaration")},o.parseExportDeclaration=function(i){return this.parseStatement(null)},o.parseExportDefaultDeclaration=function(){var i;if(this.type===P._function||(i=this.isAsyncFunction())){var a=this.startNode();return this.next(),i&&this.next(),this.parseFunction(a,g|p,!1,i)}else if(this.type===P._class){var m=this.startNode();return this.parseClass(m,"nullableID")}else{var I=this.parseMaybeAssign();return this.semicolon(),I}},o.checkExport=function(i,a,m){i&&(typeof a!="string"&&(a=a.type==="Identifier"?a.name:a.value),J(i,a)&&this.raiseRecoverable(m,"Duplicate export '"+a+"'"),i[a]=!0)},o.checkPatternExport=function(i,a){var m=a.type;if(m==="Identifier")this.checkExport(i,a,a.start);else if(m==="ObjectPattern")for(var I=0,M=a.properties;I<M.length;I+=1){var j=M[I];this.checkPatternExport(i,j)}else if(m==="ArrayPattern")for(var Z=0,_e=a.elements;Z<_e.length;Z+=1){var be=_e[Z];be&&this.checkPatternExport(i,be)}else m==="Property"?this.checkPatternExport(i,a.value):m==="AssignmentPattern"?this.checkPatternExport(i,a.left):m==="RestElement"&&this.checkPatternExport(i,a.argument)},o.checkVariableExport=function(i,a){if(i)for(var m=0,I=a;m<I.length;m+=1){var M=I[m];this.checkPatternExport(i,M.id)}},o.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},o.parseExportSpecifier=function(i){var a=this.startNode();return a.local=this.parseModuleExportName(),a.exported=this.eatContextual("as")?this.parseModuleExportName():a.local,this.checkExport(i,a.exported,a.exported.start),this.finishNode(a,"ExportSpecifier")},o.parseExportSpecifiers=function(i){var a=[],m=!0;for(this.expect(P.braceL);!this.eat(P.braceR);){if(m)m=!1;else if(this.expect(P.comma),this.afterTrailingComma(P.braceR))break;a.push(this.parseExportSpecifier(i))}return a},o.parseImport=function(i){return this.next(),this.type===P.string?(i.specifiers=c,i.source=this.parseExprAtom()):(i.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),i.source=this.type===P.string?this.parseExprAtom():this.unexpected()),this.options.ecmaVersion>=16&&(i.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(i,"ImportDeclaration")},o.parseImportSpecifier=function(){var i=this.startNode();return i.imported=this.parseModuleExportName(),this.eatContextual("as")?i.local=this.parseIdent():(this.checkUnreserved(i.imported),i.local=i.imported),this.checkLValSimple(i.local,we),this.finishNode(i,"ImportSpecifier")},o.parseImportDefaultSpecifier=function(){var i=this.startNode();return i.local=this.parseIdent(),this.checkLValSimple(i.local,we),this.finishNode(i,"ImportDefaultSpecifier")},o.parseImportNamespaceSpecifier=function(){var i=this.startNode();return this.next(),this.expectContextual("as"),i.local=this.parseIdent(),this.checkLValSimple(i.local,we),this.finishNode(i,"ImportNamespaceSpecifier")},o.parseImportSpecifiers=function(){var i=[],a=!0;if(this.type===P.name&&(i.push(this.parseImportDefaultSpecifier()),!this.eat(P.comma)))return i;if(this.type===P.star)return i.push(this.parseImportNamespaceSpecifier()),i;for(this.expect(P.braceL);!this.eat(P.braceR);){if(a)a=!1;else if(this.expect(P.comma),this.afterTrailingComma(P.braceR))break;i.push(this.parseImportSpecifier())}return i},o.parseWithClause=function(){var i=[];if(!this.eat(P._with))return i;this.expect(P.braceL);for(var a={},m=!0;!this.eat(P.braceR);){if(m)m=!1;else if(this.expect(P.comma),this.afterTrailingComma(P.braceR))break;var I=this.parseImportAttribute(),M=I.key.type==="Identifier"?I.key.name:I.key.value;J(a,M)&&this.raiseRecoverable(I.key.start,"Duplicate attribute key '"+M+"'"),a[M]=!0,i.push(I)}return i},o.parseImportAttribute=function(){var i=this.startNode();return i.key=this.type===P.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never"),this.expect(P.colon),this.type!==P.string&&this.unexpected(),i.value=this.parseExprAtom(),this.finishNode(i,"ImportAttribute")},o.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===P.string){var i=this.parseLiteral(this.value);return Lt.test(i.value)&&this.raise(i.start,"An export name cannot include a lone surrogate."),i}return this.parseIdent(!0)},o.adaptDirectivePrologue=function(i){for(var a=0;a<i.length&&this.isDirectiveCandidate(i[a]);++a)i[a].directive=i[a].expression.raw.slice(1,-1)},o.isDirectiveCandidate=function(i){return this.options.ecmaVersion>=5&&i.type==="ExpressionStatement"&&i.expression.type==="Literal"&&typeof i.expression.value=="string"&&(this.input[i.start]==='"'||this.input[i.start]==="'")};var b=t.prototype;b.toAssignable=function(i,a,m){if(this.options.ecmaVersion>=6&&i)switch(i.type){case"Identifier":this.inAsync&&i.name==="await"&&this.raise(i.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":i.type="ObjectPattern",m&&this.checkPatternErrors(m,!0);for(var I=0,M=i.properties;I<M.length;I+=1){var j=M[I];this.toAssignable(j,a),j.type==="RestElement"&&(j.argument.type==="ArrayPattern"||j.argument.type==="ObjectPattern")&&this.raise(j.argument.start,"Unexpected token")}break;case"Property":i.kind!=="init"&&this.raise(i.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(i.value,a);break;case"ArrayExpression":i.type="ArrayPattern",m&&this.checkPatternErrors(m,!0),this.toAssignableList(i.elements,a);break;case"SpreadElement":i.type="RestElement",this.toAssignable(i.argument,a),i.argument.type==="AssignmentPattern"&&this.raise(i.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":i.operator!=="="&&this.raise(i.left.end,"Only '=' operator can be used for specifying default value."),i.type="AssignmentPattern",delete i.operator,this.toAssignable(i.left,a);break;case"ParenthesizedExpression":this.toAssignable(i.expression,a,m);break;case"ChainExpression":this.raiseRecoverable(i.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!a)break;default:this.raise(i.start,"Assigning to rvalue")}else m&&this.checkPatternErrors(m,!0);return i},b.toAssignableList=function(i,a){for(var m=i.length,I=0;I<m;I++){var M=i[I];M&&this.toAssignable(M,a)}if(m){var j=i[m-1];this.options.ecmaVersion===6&&a&&j&&j.type==="RestElement"&&j.argument.type!=="Identifier"&&this.unexpected(j.argument.start)}return i},b.parseSpread=function(i){var a=this.startNode();return this.next(),a.argument=this.parseMaybeAssign(!1,i),this.finishNode(a,"SpreadElement")},b.parseRestBinding=function(){var i=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==P.name&&this.unexpected(),i.argument=this.parseBindingAtom(),this.finishNode(i,"RestElement")},b.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case P.bracketL:var i=this.startNode();return this.next(),i.elements=this.parseBindingList(P.bracketR,!0,!0),this.finishNode(i,"ArrayPattern");case P.braceL:return this.parseObj(!0)}return this.parseIdent()},b.parseBindingList=function(i,a,m,I){for(var M=[],j=!0;!this.eat(i);)if(j?j=!1:this.expect(P.comma),a&&this.type===P.comma)M.push(null);else{if(m&&this.afterTrailingComma(i))break;if(this.type===P.ellipsis){var Z=this.parseRestBinding();this.parseBindingListItem(Z),M.push(Z),this.type===P.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(i);break}else M.push(this.parseAssignableListItem(I))}return M},b.parseAssignableListItem=function(i){var a=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(a),a},b.parseBindingListItem=function(i){return i},b.parseMaybeDefault=function(i,a,m){if(m=m||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(P.eq))return m;var I=this.startNodeAt(i,a);return I.left=m,I.right=this.parseMaybeAssign(),this.finishNode(I,"AssignmentPattern")},b.checkLValSimple=function(i,a,m){a===void 0&&(a=re);var I=a!==re;switch(i.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(i.name)&&this.raiseRecoverable(i.start,(I?"Binding ":"Assigning to ")+i.name+" in strict mode"),I&&(a===we&&i.name==="let"&&this.raiseRecoverable(i.start,"let is disallowed as a lexically bound name"),m&&(J(m,i.name)&&this.raiseRecoverable(i.start,"Argument name clash"),m[i.name]=!0),a!==e&&this.declareName(i.name,a,i.start));break;case"ChainExpression":this.raiseRecoverable(i.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":I&&this.raiseRecoverable(i.start,"Binding member expression");break;case"ParenthesizedExpression":return I&&this.raiseRecoverable(i.start,"Binding parenthesized expression"),this.checkLValSimple(i.expression,a,m);default:this.raise(i.start,(I?"Binding":"Assigning to")+" rvalue")}},b.checkLValPattern=function(i,a,m){switch(a===void 0&&(a=re),i.type){case"ObjectPattern":for(var I=0,M=i.properties;I<M.length;I+=1){var j=M[I];this.checkLValInnerPattern(j,a,m)}break;case"ArrayPattern":for(var Z=0,_e=i.elements;Z<_e.length;Z+=1){var be=_e[Z];be&&this.checkLValInnerPattern(be,a,m)}break;default:this.checkLValSimple(i,a,m)}},b.checkLValInnerPattern=function(i,a,m){switch(a===void 0&&(a=re),i.type){case"Property":this.checkLValInnerPattern(i.value,a,m);break;case"AssignmentPattern":this.checkLValPattern(i.left,a,m);break;case"RestElement":this.checkLValPattern(i.argument,a,m);break;default:this.checkLValPattern(i,a,m)}};var k=function(a,m,I,M,j){this.token=a,this.isExpr=!!m,this.preserveSpace=!!I,this.override=M,this.generator=!!j},_={b_stat:new k("{",!1),b_expr:new k("{",!0),b_tmpl:new k("${",!1),p_stat:new k("(",!1),p_expr:new k("(",!0),q_tmpl:new k("`",!0,!0,function(i){return i.tryReadTemplateToken()}),f_stat:new k("function",!1),f_expr:new k("function",!0),f_expr_gen:new k("function",!0,!1,null,!0),f_gen:new k("function",!1,!1,null,!0)},w=t.prototype;w.initialContext=function(){return[_.b_stat]},w.curContext=function(){return this.context[this.context.length-1]},w.braceIsBlock=function(i){var a=this.curContext();return a===_.f_expr||a===_.f_stat?!0:i===P.colon&&(a===_.b_stat||a===_.b_expr)?!a.isExpr:i===P._return||i===P.name&&this.exprAllowed?Ze.test(this.input.slice(this.lastTokEnd,this.start)):i===P._else||i===P.semi||i===P.eof||i===P.parenR||i===P.arrow?!0:i===P.braceL?a===_.b_stat:i===P._var||i===P._const||i===P.name?!1:!this.exprAllowed},w.inGeneratorContext=function(){for(var i=this.context.length-1;i>=1;i--){var a=this.context[i];if(a.token==="function")return a.generator}return!1},w.updateContext=function(i){var a,m=this.type;m.keyword&&i===P.dot?this.exprAllowed=!1:(a=m.updateContext)?a.call(this,i):this.exprAllowed=m.beforeExpr},w.overrideContext=function(i){this.curContext()!==i&&(this.context[this.context.length-1]=i)},P.parenR.updateContext=P.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var i=this.context.pop();i===_.b_stat&&this.curContext().token==="function"&&(i=this.context.pop()),this.exprAllowed=!i.isExpr},P.braceL.updateContext=function(i){this.context.push(this.braceIsBlock(i)?_.b_stat:_.b_expr),this.exprAllowed=!0},P.dollarBraceL.updateContext=function(){this.context.push(_.b_tmpl),this.exprAllowed=!0},P.parenL.updateContext=function(i){var a=i===P._if||i===P._for||i===P._with||i===P._while;this.context.push(a?_.p_stat:_.p_expr),this.exprAllowed=!0},P.incDec.updateContext=function(){},P._function.updateContext=P._class.updateContext=function(i){i.beforeExpr&&i!==P._else&&!(i===P.semi&&this.curContext()!==_.p_stat)&&!(i===P._return&&Ze.test(this.input.slice(this.lastTokEnd,this.start)))&&!((i===P.colon||i===P.braceL)&&this.curContext()===_.b_stat)?this.context.push(_.f_expr):this.context.push(_.f_stat),this.exprAllowed=!1},P.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0},P.backQuote.updateContext=function(){this.curContext()===_.q_tmpl?this.context.pop():this.context.push(_.q_tmpl),this.exprAllowed=!1},P.star.updateContext=function(i){if(i===P._function){var a=this.context.length-1;this.context[a]===_.f_expr?this.context[a]=_.f_expr_gen:this.context[a]=_.f_gen}this.exprAllowed=!0},P.name.updateContext=function(i){var a=!1;this.options.ecmaVersion>=6&&i!==P.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(a=!0),this.exprAllowed=a};var f=t.prototype;f.checkPropClash=function(i,a,m){if(!(this.options.ecmaVersion>=9&&i.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(i.computed||i.method||i.shorthand))){var I=i.key,M;switch(I.type){case"Identifier":M=I.name;break;case"Literal":M=String(I.value);break;default:return}var j=i.kind;if(this.options.ecmaVersion>=6){M==="__proto__"&&j==="init"&&(a.proto&&(m?m.doubleProto<0&&(m.doubleProto=I.start):this.raiseRecoverable(I.start,"Redefinition of __proto__ property")),a.proto=!0);return}M="$"+M;var Z=a[M];if(Z){var _e;j==="init"?_e=this.strict&&Z.init||Z.get||Z.set:_e=Z.init||Z[j],_e&&this.raiseRecoverable(I.start,"Redefinition of property")}else Z=a[M]={init:!1,get:!1,set:!1};Z[j]=!0}},f.parseExpression=function(i,a){var m=this.start,I=this.startLoc,M=this.parseMaybeAssign(i,a);if(this.type===P.comma){var j=this.startNodeAt(m,I);for(j.expressions=[M];this.eat(P.comma);)j.expressions.push(this.parseMaybeAssign(i,a));return this.finishNode(j,"SequenceExpression")}return M},f.parseMaybeAssign=function(i,a,m){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(i);this.exprAllowed=!1}var I=!1,M=-1,j=-1,Z=-1;a?(M=a.parenthesizedAssign,j=a.trailingComma,Z=a.doubleProto,a.parenthesizedAssign=a.trailingComma=-1):(a=new u,I=!0);var _e=this.start,be=this.startLoc;(this.type===P.parenL||this.type===P.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=i==="await");var gt=this.parseMaybeConditional(i,a);if(m&&(gt=m.call(this,gt,_e,be)),this.type.isAssign){var rt=this.startNodeAt(_e,be);return rt.operator=this.value,this.type===P.eq&&(gt=this.toAssignable(gt,!1,a)),I||(a.parenthesizedAssign=a.trailingComma=a.doubleProto=-1),a.shorthandAssign>=gt.start&&(a.shorthandAssign=-1),this.type===P.eq?this.checkLValPattern(gt):this.checkLValSimple(gt),rt.left=gt,this.next(),rt.right=this.parseMaybeAssign(i),Z>-1&&(a.doubleProto=Z),this.finishNode(rt,"AssignmentExpression")}else I&&this.checkExpressionErrors(a,!0);return M>-1&&(a.parenthesizedAssign=M),j>-1&&(a.trailingComma=j),gt},f.parseMaybeConditional=function(i,a){var m=this.start,I=this.startLoc,M=this.parseExprOps(i,a);if(this.checkExpressionErrors(a))return M;if(this.eat(P.question)){var j=this.startNodeAt(m,I);return j.test=M,j.consequent=this.parseMaybeAssign(),this.expect(P.colon),j.alternate=this.parseMaybeAssign(i),this.finishNode(j,"ConditionalExpression")}return M},f.parseExprOps=function(i,a){var m=this.start,I=this.startLoc,M=this.parseMaybeUnary(a,!1,!1,i);return this.checkExpressionErrors(a)||M.start===m&&M.type==="ArrowFunctionExpression"?M:this.parseExprOp(M,m,I,-1,i)},f.parseExprOp=function(i,a,m,I,M){var j=this.type.binop;if(j!=null&&(!M||this.type!==P._in)&&j>I){var Z=this.type===P.logicalOR||this.type===P.logicalAND,_e=this.type===P.coalesce;_e&&(j=P.logicalAND.binop);var be=this.value;this.next();var gt=this.start,rt=this.startLoc,Yt=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,M),gt,rt,j,M),Bi=this.buildBinary(a,m,i,Yt,be,Z||_e);return(Z&&this.type===P.coalesce||_e&&(this.type===P.logicalOR||this.type===P.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(Bi,a,m,I,M)}return i},f.buildBinary=function(i,a,m,I,M,j){I.type==="PrivateIdentifier"&&this.raise(I.start,"Private identifier can only be left side of binary expression");var Z=this.startNodeAt(i,a);return Z.left=m,Z.operator=M,Z.right=I,this.finishNode(Z,j?"LogicalExpression":"BinaryExpression")},f.parseMaybeUnary=function(i,a,m,I){var M=this.start,j=this.startLoc,Z;if(this.isContextual("await")&&this.canAwait)Z=this.parseAwait(I),a=!0;else if(this.type.prefix){var _e=this.startNode(),be=this.type===P.incDec;_e.operator=this.value,_e.prefix=!0,this.next(),_e.argument=this.parseMaybeUnary(null,!0,be,I),this.checkExpressionErrors(i,!0),be?this.checkLValSimple(_e.argument):this.strict&&_e.operator==="delete"&&y(_e.argument)?this.raiseRecoverable(_e.start,"Deleting local variable in strict mode"):_e.operator==="delete"&&C(_e.argument)?this.raiseRecoverable(_e.start,"Private fields can not be deleted"):a=!0,Z=this.finishNode(_e,be?"UpdateExpression":"UnaryExpression")}else if(!a&&this.type===P.privateId)(I||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),Z=this.parsePrivateIdent(),this.type!==P._in&&this.unexpected();else{if(Z=this.parseExprSubscripts(i,I),this.checkExpressionErrors(i))return Z;for(;this.type.postfix&&!this.canInsertSemicolon();){var gt=this.startNodeAt(M,j);gt.operator=this.value,gt.prefix=!1,gt.argument=Z,this.checkLValSimple(Z),this.next(),Z=this.finishNode(gt,"UpdateExpression")}}if(!m&&this.eat(P.starstar))if(a)this.unexpected(this.lastTokStart);else return this.buildBinary(M,j,Z,this.parseMaybeUnary(null,!1,!1,I),"**",!1);else return Z};function y(i){return i.type==="Identifier"||i.type==="ParenthesizedExpression"&&y(i.expression)}function C(i){return i.type==="MemberExpression"&&i.property.type==="PrivateIdentifier"||i.type==="ChainExpression"&&C(i.expression)||i.type==="ParenthesizedExpression"&&C(i.expression)}f.parseExprSubscripts=function(i,a){var m=this.start,I=this.startLoc,M=this.parseExprAtom(i,a);if(M.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return M;var j=this.parseSubscripts(M,m,I,!1,a);return i&&j.type==="MemberExpression"&&(i.parenthesizedAssign>=j.start&&(i.parenthesizedAssign=-1),i.parenthesizedBind>=j.start&&(i.parenthesizedBind=-1),i.trailingComma>=j.start&&(i.trailingComma=-1)),j},f.parseSubscripts=function(i,a,m,I,M){for(var j=this.options.ecmaVersion>=8&&i.type==="Identifier"&&i.name==="async"&&this.lastTokEnd===i.end&&!this.canInsertSemicolon()&&i.end-i.start===5&&this.potentialArrowAt===i.start,Z=!1;;){var _e=this.parseSubscript(i,a,m,I,j,Z,M);if(_e.optional&&(Z=!0),_e===i||_e.type==="ArrowFunctionExpression"){if(Z){var be=this.startNodeAt(a,m);be.expression=_e,_e=this.finishNode(be,"ChainExpression")}return _e}i=_e}},f.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(P.arrow)},f.parseSubscriptAsyncArrow=function(i,a,m,I){return this.parseArrowExpression(this.startNodeAt(i,a),m,!0,I)},f.parseSubscript=function(i,a,m,I,M,j,Z){var _e=this.options.ecmaVersion>=11,be=_e&&this.eat(P.questionDot);I&&be&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var gt=this.eat(P.bracketL);if(gt||be&&this.type!==P.parenL&&this.type!==P.backQuote||this.eat(P.dot)){var rt=this.startNodeAt(a,m);rt.object=i,gt?(rt.property=this.parseExpression(),this.expect(P.bracketR)):this.type===P.privateId&&i.type!=="Super"?rt.property=this.parsePrivateIdent():rt.property=this.parseIdent(this.options.allowReserved!=="never"),rt.computed=!!gt,_e&&(rt.optional=be),i=this.finishNode(rt,"MemberExpression")}else if(!I&&this.eat(P.parenL)){var Yt=new u,Bi=this.yieldPos,Qi=this.awaitPos,Fi=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var Li=this.parseExprList(P.parenR,this.options.ecmaVersion>=8,!1,Yt);if(M&&!be&&this.shouldParseAsyncArrow())return this.checkPatternErrors(Yt,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=Bi,this.awaitPos=Qi,this.awaitIdentPos=Fi,this.parseSubscriptAsyncArrow(a,m,Li,Z);this.checkExpressionErrors(Yt,!0),this.yieldPos=Bi||this.yieldPos,this.awaitPos=Qi||this.awaitPos,this.awaitIdentPos=Fi||this.awaitIdentPos;var Hi=this.startNodeAt(a,m);Hi.callee=i,Hi.arguments=Li,_e&&(Hi.optional=be),i=this.finishNode(Hi,"CallExpression")}else if(this.type===P.backQuote){(be||j)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var Gi=this.startNodeAt(a,m);Gi.tag=i,Gi.quasi=this.parseTemplate({isTagged:!0}),i=this.finishNode(Gi,"TaggedTemplateExpression")}return i},f.parseExprAtom=function(i,a,m){this.type===P.slash&&this.readRegexp();var I,M=this.potentialArrowAt===this.start;switch(this.type){case P._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),I=this.startNode(),this.next(),this.type===P.parenL&&!this.allowDirectSuper&&this.raise(I.start,"super() call outside constructor of a subclass"),this.type!==P.dot&&this.type!==P.bracketL&&this.type!==P.parenL&&this.unexpected(),this.finishNode(I,"Super");case P._this:return I=this.startNode(),this.next(),this.finishNode(I,"ThisExpression");case P.name:var j=this.start,Z=this.startLoc,_e=this.containsEsc,be=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!_e&&be.name==="async"&&!this.canInsertSemicolon()&&this.eat(P._function))return this.overrideContext(_.f_expr),this.parseFunction(this.startNodeAt(j,Z),0,!1,!0,a);if(M&&!this.canInsertSemicolon()){if(this.eat(P.arrow))return this.parseArrowExpression(this.startNodeAt(j,Z),[be],!1,a);if(this.options.ecmaVersion>=8&&be.name==="async"&&this.type===P.name&&!_e&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return be=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(P.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(j,Z),[be],!0,a)}return be;case P.regexp:var gt=this.value;return I=this.parseLiteral(gt.value),I.regex={pattern:gt.pattern,flags:gt.flags},I;case P.num:case P.string:return this.parseLiteral(this.value);case P._null:case P._true:case P._false:return I=this.startNode(),I.value=this.type===P._null?null:this.type===P._true,I.raw=this.type.keyword,this.next(),this.finishNode(I,"Literal");case P.parenL:var rt=this.start,Yt=this.parseParenAndDistinguishExpression(M,a);return i&&(i.parenthesizedAssign<0&&!this.isSimpleAssignTarget(Yt)&&(i.parenthesizedAssign=rt),i.parenthesizedBind<0&&(i.parenthesizedBind=rt)),Yt;case P.bracketL:return I=this.startNode(),this.next(),I.elements=this.parseExprList(P.bracketR,!0,!0,i),this.finishNode(I,"ArrayExpression");case P.braceL:return this.overrideContext(_.b_expr),this.parseObj(!1,i);case P._function:return I=this.startNode(),this.next(),this.parseFunction(I,0);case P._class:return this.parseClass(this.startNode(),!1);case P._new:return this.parseNew();case P.backQuote:return this.parseTemplate();case P._import:return this.options.ecmaVersion>=11?this.parseExprImport(m):this.unexpected();default:return this.parseExprAtomDefault()}},f.parseExprAtomDefault=function(){this.unexpected()},f.parseExprImport=function(i){var a=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===P.parenL&&!i)return this.parseDynamicImport(a);if(this.type===P.dot){var m=this.startNodeAt(a.start,a.loc&&a.loc.start);return m.name="import",a.meta=this.finishNode(m,"Identifier"),this.parseImportMeta(a)}else this.unexpected()},f.parseDynamicImport=function(i){if(this.next(),i.source=this.parseMaybeAssign(),this.options.ecmaVersion>=16)this.eat(P.parenR)?i.options=null:(this.expect(P.comma),this.afterTrailingComma(P.parenR)?i.options=null:(i.options=this.parseMaybeAssign(),this.eat(P.parenR)||(this.expect(P.comma),this.afterTrailingComma(P.parenR)||this.unexpected())));else if(!this.eat(P.parenR)){var a=this.start;this.eat(P.comma)&&this.eat(P.parenR)?this.raiseRecoverable(a,"Trailing comma is not allowed in import()"):this.unexpected(a)}return this.finishNode(i,"ImportExpression")},f.parseImportMeta=function(i){this.next();var a=this.containsEsc;return i.property=this.parseIdent(!0),i.property.name!=="meta"&&this.raiseRecoverable(i.property.start,"The only valid meta property for import is 'import.meta'"),a&&this.raiseRecoverable(i.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(i.start,"Cannot use 'import.meta' outside a module"),this.finishNode(i,"MetaProperty")},f.parseLiteral=function(i){var a=this.startNode();return a.value=i,a.raw=this.input.slice(this.start,this.end),a.raw.charCodeAt(a.raw.length-1)===110&&(a.bigint=a.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(a,"Literal")},f.parseParenExpression=function(){this.expect(P.parenL);var i=this.parseExpression();return this.expect(P.parenR),i},f.shouldParseArrow=function(i){return!this.canInsertSemicolon()},f.parseParenAndDistinguishExpression=function(i,a){var m=this.start,I=this.startLoc,M,j=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var Z=this.start,_e=this.startLoc,be=[],gt=!0,rt=!1,Yt=new u,Bi=this.yieldPos,Qi=this.awaitPos,Fi;for(this.yieldPos=0,this.awaitPos=0;this.type!==P.parenR;)if(gt?gt=!1:this.expect(P.comma),j&&this.afterTrailingComma(P.parenR,!0)){rt=!0;break}else if(this.type===P.ellipsis){Fi=this.start,be.push(this.parseParenItem(this.parseRestBinding())),this.type===P.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else be.push(this.parseMaybeAssign(!1,Yt,this.parseParenItem));var Li=this.lastTokEnd,Hi=this.lastTokEndLoc;if(this.expect(P.parenR),i&&this.shouldParseArrow(be)&&this.eat(P.arrow))return this.checkPatternErrors(Yt,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=Bi,this.awaitPos=Qi,this.parseParenArrowList(m,I,be,a);(!be.length||rt)&&this.unexpected(this.lastTokStart),Fi&&this.unexpected(Fi),this.checkExpressionErrors(Yt,!0),this.yieldPos=Bi||this.yieldPos,this.awaitPos=Qi||this.awaitPos,be.length>1?(M=this.startNodeAt(Z,_e),M.expressions=be,this.finishNodeAt(M,"SequenceExpression",Li,Hi)):M=be[0]}else M=this.parseParenExpression();if(this.options.preserveParens){var Gi=this.startNodeAt(m,I);return Gi.expression=M,this.finishNode(Gi,"ParenthesizedExpression")}else return M},f.parseParenItem=function(i){return i},f.parseParenArrowList=function(i,a,m,I){return this.parseArrowExpression(this.startNodeAt(i,a),m,!1,I)};var A=[];f.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var i=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===P.dot){var a=this.startNodeAt(i.start,i.loc&&i.loc.start);a.name="new",i.meta=this.finishNode(a,"Identifier"),this.next();var m=this.containsEsc;return i.property=this.parseIdent(!0),i.property.name!=="target"&&this.raiseRecoverable(i.property.start,"The only valid meta property for new is 'new.target'"),m&&this.raiseRecoverable(i.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(i.start,"'new.target' can only be used in functions and class static block"),this.finishNode(i,"MetaProperty")}var I=this.start,M=this.startLoc;return i.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),I,M,!0,!1),this.eat(P.parenL)?i.arguments=this.parseExprList(P.parenR,this.options.ecmaVersion>=8,!1):i.arguments=A,this.finishNode(i,"NewExpression")},f.parseTemplateElement=function(i){var a=i.isTagged,m=this.startNode();return this.type===P.invalidTemplate?(a||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),m.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):m.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),m.tail=this.type===P.backQuote,this.finishNode(m,"TemplateElement")},f.parseTemplate=function(i){i===void 0&&(i={});var a=i.isTagged;a===void 0&&(a=!1);var m=this.startNode();this.next(),m.expressions=[];var I=this.parseTemplateElement({isTagged:a});for(m.quasis=[I];!I.tail;)this.type===P.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(P.dollarBraceL),m.expressions.push(this.parseExpression()),this.expect(P.braceR),m.quasis.push(I=this.parseTemplateElement({isTagged:a}));return this.next(),this.finishNode(m,"TemplateLiteral")},f.isAsyncProp=function(i){return!i.computed&&i.key.type==="Identifier"&&i.key.name==="async"&&(this.type===P.name||this.type===P.num||this.type===P.string||this.type===P.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===P.star)&&!Ze.test(this.input.slice(this.lastTokEnd,this.start))},f.parseObj=function(i,a){var m=this.startNode(),I=!0,M={};for(m.properties=[],this.next();!this.eat(P.braceR);){if(I)I=!1;else if(this.expect(P.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(P.braceR))break;var j=this.parseProperty(i,a);i||this.checkPropClash(j,M,a),m.properties.push(j)}return this.finishNode(m,i?"ObjectPattern":"ObjectExpression")},f.parseProperty=function(i,a){var m=this.startNode(),I,M,j,Z;if(this.options.ecmaVersion>=9&&this.eat(P.ellipsis))return i?(m.argument=this.parseIdent(!1),this.type===P.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(m,"RestElement")):(m.argument=this.parseMaybeAssign(!1,a),this.type===P.comma&&a&&a.trailingComma<0&&(a.trailingComma=this.start),this.finishNode(m,"SpreadElement"));this.options.ecmaVersion>=6&&(m.method=!1,m.shorthand=!1,(i||a)&&(j=this.start,Z=this.startLoc),i||(I=this.eat(P.star)));var _e=this.containsEsc;return this.parsePropertyName(m),!i&&!_e&&this.options.ecmaVersion>=8&&!I&&this.isAsyncProp(m)?(M=!0,I=this.options.ecmaVersion>=9&&this.eat(P.star),this.parsePropertyName(m)):M=!1,this.parsePropertyValue(m,i,I,M,j,Z,a,_e),this.finishNode(m,"Property")},f.parseGetterSetter=function(i){var a=i.key.name;this.parsePropertyName(i),i.value=this.parseMethod(!1),i.kind=a;var m=i.kind==="get"?0:1;if(i.value.params.length!==m){var I=i.value.start;i.kind==="get"?this.raiseRecoverable(I,"getter should have no params"):this.raiseRecoverable(I,"setter should have exactly one param")}else i.kind==="set"&&i.value.params[0].type==="RestElement"&&this.raiseRecoverable(i.value.params[0].start,"Setter cannot use rest params")},f.parsePropertyValue=function(i,a,m,I,M,j,Z,_e){(m||I)&&this.type===P.colon&&this.unexpected(),this.eat(P.colon)?(i.value=a?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,Z),i.kind="init"):this.options.ecmaVersion>=6&&this.type===P.parenL?(a&&this.unexpected(),i.method=!0,i.value=this.parseMethod(m,I),i.kind="init"):!a&&!_e&&this.options.ecmaVersion>=5&&!i.computed&&i.key.type==="Identifier"&&(i.key.name==="get"||i.key.name==="set")&&this.type!==P.comma&&this.type!==P.braceR&&this.type!==P.eq?((m||I)&&this.unexpected(),this.parseGetterSetter(i)):this.options.ecmaVersion>=6&&!i.computed&&i.key.type==="Identifier"?((m||I)&&this.unexpected(),this.checkUnreserved(i.key),i.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=M),a?i.value=this.parseMaybeDefault(M,j,this.copyNode(i.key)):this.type===P.eq&&Z?(Z.shorthandAssign<0&&(Z.shorthandAssign=this.start),i.value=this.parseMaybeDefault(M,j,this.copyNode(i.key))):i.value=this.copyNode(i.key),i.kind="init",i.shorthand=!0):this.unexpected()},f.parsePropertyName=function(i){if(this.options.ecmaVersion>=6){if(this.eat(P.bracketL))return i.computed=!0,i.key=this.parseMaybeAssign(),this.expect(P.bracketR),i.key;i.computed=!1}return i.key=this.type===P.num||this.type===P.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},f.initFunction=function(i){i.id=null,this.options.ecmaVersion>=6&&(i.generator=i.expression=!1),this.options.ecmaVersion>=8&&(i.async=!1)},f.parseMethod=function(i,a,m){var I=this.startNode(),M=this.yieldPos,j=this.awaitPos,Z=this.awaitIdentPos;return this.initFunction(I),this.options.ecmaVersion>=6&&(I.generator=i),this.options.ecmaVersion>=8&&(I.async=!!a),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(mt(a,I.generator)|qt|(m?yt:0)),this.expect(P.parenL),I.params=this.parseBindingList(P.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(I,!1,!0,!1),this.yieldPos=M,this.awaitPos=j,this.awaitIdentPos=Z,this.finishNode(I,"FunctionExpression")},f.parseArrowExpression=function(i,a,m,I){var M=this.yieldPos,j=this.awaitPos,Z=this.awaitIdentPos;return this.enterScope(mt(m,!1)|Vt),this.initFunction(i),this.options.ecmaVersion>=8&&(i.async=!!m),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,i.params=this.toAssignableList(a,!0),this.parseFunctionBody(i,!0,!1,I),this.yieldPos=M,this.awaitPos=j,this.awaitIdentPos=Z,this.finishNode(i,"ArrowFunctionExpression")},f.parseFunctionBody=function(i,a,m,I){var M=a&&this.type!==P.braceL,j=this.strict,Z=!1;if(M)i.body=this.parseMaybeAssign(I),i.expression=!0,this.checkParams(i,!1);else{var _e=this.options.ecmaVersion>=7&&!this.isSimpleParamList(i.params);(!j||_e)&&(Z=this.strictDirective(this.end),Z&&_e&&this.raiseRecoverable(i.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var be=this.labels;this.labels=[],Z&&(this.strict=!0),this.checkParams(i,!j&&!Z&&!a&&!m&&this.isSimpleParamList(i.params)),this.strict&&i.id&&this.checkLValSimple(i.id,e),i.body=this.parseBlock(!1,void 0,Z&&!j),i.expression=!1,this.adaptDirectivePrologue(i.body.body),this.labels=be}this.exitScope()},f.isSimpleParamList=function(i){for(var a=0,m=i;a<m.length;a+=1){var I=m[a];if(I.type!=="Identifier")return!1}return!0},f.checkParams=function(i,a){for(var m=Object.create(null),I=0,M=i.params;I<M.length;I+=1){var j=M[I];this.checkLValInnerPattern(j,fe,a?null:m)}},f.parseExprList=function(i,a,m,I){for(var M=[],j=!0;!this.eat(i);){if(j)j=!1;else if(this.expect(P.comma),a&&this.afterTrailingComma(i))break;var Z=void 0;m&&this.type===P.comma?Z=null:this.type===P.ellipsis?(Z=this.parseSpread(I),I&&this.type===P.comma&&I.trailingComma<0&&(I.trailingComma=this.start)):Z=this.parseMaybeAssign(!1,I),M.push(Z)}return M},f.checkUnreserved=function(i){var a=i.start,m=i.end,I=i.name;if(this.inGenerator&&I==="yield"&&this.raiseRecoverable(a,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&I==="await"&&this.raiseRecoverable(a,"Cannot use 'await' as identifier inside an async function"),!(this.currentThisScope().flags&ii)&&I==="arguments"&&this.raiseRecoverable(a,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(I==="arguments"||I==="await")&&this.raise(a,"Cannot use "+I+" in class static initialization block"),this.keywords.test(I)&&this.raise(a,"Unexpected keyword '"+I+"'"),!(this.options.ecmaVersion<6&&this.input.slice(a,m).indexOf("\\")!==-1)){var M=this.strict?this.reservedWordsStrict:this.reservedWords;M.test(I)&&(!this.inAsync&&I==="await"&&this.raiseRecoverable(a,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(a,"The keyword '"+I+"' is reserved"))}},f.parseIdent=function(i){var a=this.parseIdentNode();return this.next(!!i),this.finishNode(a,"Identifier"),i||(this.checkUnreserved(a),a.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=a.start)),a},f.parseIdentNode=function(){var i=this.startNode();return this.type===P.name?i.name=this.value:this.type.keyword?(i.name=this.type.keyword,(i.name==="class"||i.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=P.name):this.unexpected(),i},f.parsePrivateIdent=function(){var i=this.startNode();return this.type===P.privateId?i.name=this.value:this.unexpected(),this.next(),this.finishNode(i,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(i.start,"Private field '#"+i.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(i)),i},f.parseYield=function(i){this.yieldPos||(this.yieldPos=this.start);var a=this.startNode();return this.next(),this.type===P.semi||this.canInsertSemicolon()||this.type!==P.star&&!this.type.startsExpr?(a.delegate=!1,a.argument=null):(a.delegate=this.eat(P.star),a.argument=this.parseMaybeAssign(i)),this.finishNode(a,"YieldExpression")},f.parseAwait=function(i){this.awaitPos||(this.awaitPos=this.start);var a=this.startNode();return this.next(),a.argument=this.parseMaybeUnary(null,!0,!1,i),this.finishNode(a,"AwaitExpression")};var S=t.prototype;S.raise=function(i,a){var m=jt(this.input,i);a+=" ("+m.line+":"+m.column+")",this.sourceFile&&(a+=" in "+this.sourceFile);var I=new SyntaxError(a);throw I.pos=i,I.loc=m,I.raisedAt=this.pos,I},S.raiseRecoverable=S.raise,S.curPosition=function(){if(this.options.locations)return new Pe(this.curLine,this.pos-this.lineStart)};var T=t.prototype,N=function(a){this.flags=a,this.var=[],this.lexical=[],this.functions=[]};T.enterScope=function(i){this.scopeStack.push(new N(i))},T.exitScope=function(){this.scopeStack.pop()},T.treatFunctionsAsVarInScope=function(i){return i.flags&lt||!this.inModule&&i.flags&pt},T.declareName=function(i,a,m){var I=!1;if(a===we){var M=this.currentScope();I=M.lexical.indexOf(i)>-1||M.functions.indexOf(i)>-1||M.var.indexOf(i)>-1,M.lexical.push(i),this.inModule&&M.flags&pt&&delete this.undefinedExports[i]}else if(a===Ae){var j=this.currentScope();j.lexical.push(i)}else if(a===qe){var Z=this.currentScope();this.treatFunctionsAsVar?I=Z.lexical.indexOf(i)>-1:I=Z.lexical.indexOf(i)>-1||Z.var.indexOf(i)>-1,Z.functions.push(i)}else for(var _e=this.scopeStack.length-1;_e>=0;--_e){var be=this.scopeStack[_e];if(be.lexical.indexOf(i)>-1&&!(be.flags&Rt&&be.lexical[0]===i)||!this.treatFunctionsAsVarInScope(be)&&be.functions.indexOf(i)>-1){I=!0;break}if(be.var.push(i),this.inModule&&be.flags&pt&&delete this.undefinedExports[i],be.flags&ii)break}I&&this.raiseRecoverable(m,"Identifier '"+i+"' has already been declared")},T.checkLocalExport=function(i){this.scopeStack[0].lexical.indexOf(i.name)===-1&&this.scopeStack[0].var.indexOf(i.name)===-1&&(this.undefinedExports[i.name]=i)},T.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},T.currentVarScope=function(){for(var i=this.scopeStack.length-1;;i--){var a=this.scopeStack[i];if(a.flags&(ii|Bt|st))return a}},T.currentThisScope=function(){for(var i=this.scopeStack.length-1;;i--){var a=this.scopeStack[i];if(a.flags&(ii|Bt|st)&&!(a.flags&Vt))return a}};var O=function(a,m,I){this.type="",this.start=m,this.end=0,a.options.locations&&(this.loc=new dt(a,I)),a.options.directSourceFile&&(this.sourceFile=a.options.directSourceFile),a.options.ranges&&(this.range=[m,0])},F=t.prototype;F.startNode=function(){return new O(this,this.start,this.startLoc)},F.startNodeAt=function(i,a){return new O(this,i,a)};function E(i,a,m,I){return i.type=a,i.end=m,this.options.locations&&(i.loc.end=I),this.options.ranges&&(i.range[1]=m),i}F.finishNode=function(i,a){return E.call(this,i,a,this.lastTokEnd,this.lastTokEndLoc)},F.finishNodeAt=function(i,a,m,I){return E.call(this,i,a,m,I)},F.copyNode=function(i){var a=new O(this,i.start,this.startLoc);for(var m in i)a[m]=i[m];return a};var B="Gara Garay Gukh Gurung_Khema Hrkt Katakana_Or_Hiragana Kawi Kirat_Rai Krai Nag_Mundari Nagm Ol_Onal Onao Sunu Sunuwar Todhri Todr Tulu_Tigalari Tutg Unknown Zzzz",D="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",U=D+" Extended_Pictographic",H=U,W=H+" EBase EComp EMod EPres ExtPict",X=W,se=X,de={9:D,10:U,11:H,12:W,13:X,14:se},ve="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",K={9:"",10:"",11:"",12:"",13:"",14:ve},Y="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",le="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",ge=le+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",me=ge+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Re=me+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",Te=Re+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",$e=Te+" "+B,Ge={9:le,10:ge,11:me,12:Re,13:Te,14:$e},We={};function Kt(i){var a=We[i]={binary:ke(de[i]+" "+Y),binaryOfStrings:ke(K[i]),nonBinary:{General_Category:ke(Y),Script:ke(Ge[i])}};a.nonBinary.Script_Extensions=a.nonBinary.Script,a.nonBinary.gc=a.nonBinary.General_Category,a.nonBinary.sc=a.nonBinary.Script,a.nonBinary.scx=a.nonBinary.Script_Extensions}for(var Ht=0,Jt=[9,10,11,12,13,14];Ht<Jt.length;Ht+=1){var Gt=Jt[Ht];Kt(Gt)}var pe=t.prototype,Ft=function(a,m){this.parent=a,this.base=m||this};Ft.prototype.separatedFrom=function(a){for(var m=this;m;m=m.parent)for(var I=a;I;I=I.parent)if(m.base===I.base&&m!==I)return!0;return!1},Ft.prototype.sibling=function(){return new Ft(this.parent,this.base)};var $t=function(a){this.parser=a,this.validFlags="gim"+(a.options.ecmaVersion>=6?"uy":"")+(a.options.ecmaVersion>=9?"s":"")+(a.options.ecmaVersion>=13?"d":"")+(a.options.ecmaVersion>=15?"v":""),this.unicodeProperties=We[a.options.ecmaVersion>=14?14:a.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};$t.prototype.reset=function(a,m,I){var M=I.indexOf("v")!==-1,j=I.indexOf("u")!==-1;this.start=a|0,this.source=m+"",this.flags=I,M&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=j&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=j&&this.parser.options.ecmaVersion>=9)},$t.prototype.raise=function(a){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+a)},$t.prototype.at=function(a,m){m===void 0&&(m=!1);var I=this.source,M=I.length;if(a>=M)return-1;var j=I.charCodeAt(a);if(!(m||this.switchU)||j<=55295||j>=57344||a+1>=M)return j;var Z=I.charCodeAt(a+1);return Z>=56320&&Z<=57343?(j<<10)+Z-56613888:j},$t.prototype.nextIndex=function(a,m){m===void 0&&(m=!1);var I=this.source,M=I.length;if(a>=M)return M;var j=I.charCodeAt(a),Z;return!(m||this.switchU)||j<=55295||j>=57344||a+1>=M||(Z=I.charCodeAt(a+1))<56320||Z>57343?a+1:a+2},$t.prototype.current=function(a){return a===void 0&&(a=!1),this.at(this.pos,a)},$t.prototype.lookahead=function(a){return a===void 0&&(a=!1),this.at(this.nextIndex(this.pos,a),a)},$t.prototype.advance=function(a){a===void 0&&(a=!1),this.pos=this.nextIndex(this.pos,a)},$t.prototype.eat=function(a,m){return m===void 0&&(m=!1),this.current(m)===a?(this.advance(m),!0):!1},$t.prototype.eatChars=function(a,m){m===void 0&&(m=!1);for(var I=this.pos,M=0,j=a;M<j.length;M+=1){var Z=j[M],_e=this.at(I,m);if(_e===-1||_e!==Z)return!1;I=this.nextIndex(I,m)}return this.pos=I,!0},pe.validateRegExpFlags=function(i){for(var a=i.validFlags,m=i.flags,I=!1,M=!1,j=0;j<m.length;j++){var Z=m.charAt(j);a.indexOf(Z)===-1&&this.raise(i.start,"Invalid regular expression flag"),m.indexOf(Z,j+1)>-1&&this.raise(i.start,"Duplicate regular expression flag"),Z==="u"&&(I=!0),Z==="v"&&(M=!0)}this.options.ecmaVersion>=15&&I&&M&&this.raise(i.start,"Invalid regular expression flag")};function Qt(i){for(var a in i)return!0;return!1}pe.validateRegExpPattern=function(i){this.regexp_pattern(i),!i.switchN&&this.options.ecmaVersion>=9&&Qt(i.groupNames)&&(i.switchN=!0,this.regexp_pattern(i))},pe.regexp_pattern=function(i){i.pos=0,i.lastIntValue=0,i.lastStringValue="",i.lastAssertionIsQuantifiable=!1,i.numCapturingParens=0,i.maxBackReference=0,i.groupNames=Object.create(null),i.backReferenceNames.length=0,i.branchID=null,this.regexp_disjunction(i),i.pos!==i.source.length&&(i.eat(41)&&i.raise("Unmatched ')'"),(i.eat(93)||i.eat(125))&&i.raise("Lone quantifier brackets")),i.maxBackReference>i.numCapturingParens&&i.raise("Invalid escape");for(var a=0,m=i.backReferenceNames;a<m.length;a+=1){var I=m[a];i.groupNames[I]||i.raise("Invalid named capture referenced")}},pe.regexp_disjunction=function(i){var a=this.options.ecmaVersion>=16;for(a&&(i.branchID=new Ft(i.branchID,null)),this.regexp_alternative(i);i.eat(124);)a&&(i.branchID=i.branchID.sibling()),this.regexp_alternative(i);a&&(i.branchID=i.branchID.parent),this.regexp_eatQuantifier(i,!0)&&i.raise("Nothing to repeat"),i.eat(123)&&i.raise("Lone quantifier brackets")},pe.regexp_alternative=function(i){for(;i.pos<i.source.length&&this.regexp_eatTerm(i););},pe.regexp_eatTerm=function(i){return this.regexp_eatAssertion(i)?(i.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(i)&&i.switchU&&i.raise("Invalid quantifier"),!0):(i.switchU?this.regexp_eatAtom(i):this.regexp_eatExtendedAtom(i))?(this.regexp_eatQuantifier(i),!0):!1},pe.regexp_eatAssertion=function(i){var a=i.pos;if(i.lastAssertionIsQuantifiable=!1,i.eat(94)||i.eat(36))return!0;if(i.eat(92)){if(i.eat(66)||i.eat(98))return!0;i.pos=a}if(i.eat(40)&&i.eat(63)){var m=!1;if(this.options.ecmaVersion>=9&&(m=i.eat(60)),i.eat(61)||i.eat(33))return this.regexp_disjunction(i),i.eat(41)||i.raise("Unterminated group"),i.lastAssertionIsQuantifiable=!m,!0}return i.pos=a,!1},pe.regexp_eatQuantifier=function(i,a){return a===void 0&&(a=!1),this.regexp_eatQuantifierPrefix(i,a)?(i.eat(63),!0):!1},pe.regexp_eatQuantifierPrefix=function(i,a){return i.eat(42)||i.eat(43)||i.eat(63)||this.regexp_eatBracedQuantifier(i,a)},pe.regexp_eatBracedQuantifier=function(i,a){var m=i.pos;if(i.eat(123)){var I=0,M=-1;if(this.regexp_eatDecimalDigits(i)&&(I=i.lastIntValue,i.eat(44)&&this.regexp_eatDecimalDigits(i)&&(M=i.lastIntValue),i.eat(125)))return M!==-1&&M<I&&!a&&i.raise("numbers out of order in {} quantifier"),!0;i.switchU&&!a&&i.raise("Incomplete quantifier"),i.pos=m}return!1},pe.regexp_eatAtom=function(i){return this.regexp_eatPatternCharacters(i)||i.eat(46)||this.regexp_eatReverseSolidusAtomEscape(i)||this.regexp_eatCharacterClass(i)||this.regexp_eatUncapturingGroup(i)||this.regexp_eatCapturingGroup(i)},pe.regexp_eatReverseSolidusAtomEscape=function(i){var a=i.pos;if(i.eat(92)){if(this.regexp_eatAtomEscape(i))return!0;i.pos=a}return!1},pe.regexp_eatUncapturingGroup=function(i){var a=i.pos;if(i.eat(40)){if(i.eat(63)){if(this.options.ecmaVersion>=16){var m=this.regexp_eatModifiers(i),I=i.eat(45);if(m||I){for(var M=0;M<m.length;M++){var j=m.charAt(M);m.indexOf(j,M+1)>-1&&i.raise("Duplicate regular expression modifiers")}if(I){var Z=this.regexp_eatModifiers(i);!m&&!Z&&i.current()===58&&i.raise("Invalid regular expression modifiers");for(var _e=0;_e<Z.length;_e++){var be=Z.charAt(_e);(Z.indexOf(be,_e+1)>-1||m.indexOf(be)>-1)&&i.raise("Duplicate regular expression modifiers")}}}}if(i.eat(58)){if(this.regexp_disjunction(i),i.eat(41))return!0;i.raise("Unterminated group")}}i.pos=a}return!1},pe.regexp_eatCapturingGroup=function(i){if(i.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(i):i.current()===63&&i.raise("Invalid group"),this.regexp_disjunction(i),i.eat(41))return i.numCapturingParens+=1,!0;i.raise("Unterminated group")}return!1},pe.regexp_eatModifiers=function(i){for(var a="",m=0;(m=i.current())!==-1&&mi(m);)a+=ut(m),i.advance();return a};function mi(i){return i===105||i===109||i===115}pe.regexp_eatExtendedAtom=function(i){return i.eat(46)||this.regexp_eatReverseSolidusAtomEscape(i)||this.regexp_eatCharacterClass(i)||this.regexp_eatUncapturingGroup(i)||this.regexp_eatCapturingGroup(i)||this.regexp_eatInvalidBracedQuantifier(i)||this.regexp_eatExtendedPatternCharacter(i)},pe.regexp_eatInvalidBracedQuantifier=function(i){return this.regexp_eatBracedQuantifier(i,!0)&&i.raise("Nothing to repeat"),!1},pe.regexp_eatSyntaxCharacter=function(i){var a=i.current();return Ii(a)?(i.lastIntValue=a,i.advance(),!0):!1};function Ii(i){return i===36||i>=40&&i<=43||i===46||i===63||i>=91&&i<=94||i>=123&&i<=125}pe.regexp_eatPatternCharacters=function(i){for(var a=i.pos,m=0;(m=i.current())!==-1&&!Ii(m);)i.advance();return i.pos!==a},pe.regexp_eatExtendedPatternCharacter=function(i){var a=i.current();return a!==-1&&a!==36&&!(a>=40&&a<=43)&&a!==46&&a!==63&&a!==91&&a!==94&&a!==124?(i.advance(),!0):!1},pe.regexp_groupSpecifier=function(i){if(i.eat(63)){this.regexp_eatGroupName(i)||i.raise("Invalid group");var a=this.options.ecmaVersion>=16,m=i.groupNames[i.lastStringValue];if(m)if(a)for(var I=0,M=m;I<M.length;I+=1){var j=M[I];j.separatedFrom(i.branchID)||i.raise("Duplicate capture group name")}else i.raise("Duplicate capture group name");a?(m||(i.groupNames[i.lastStringValue]=[])).push(i.branchID):i.groupNames[i.lastStringValue]=!0}},pe.regexp_eatGroupName=function(i){if(i.lastStringValue="",i.eat(60)){if(this.regexp_eatRegExpIdentifierName(i)&&i.eat(62))return!0;i.raise("Invalid capture group name")}return!1},pe.regexp_eatRegExpIdentifierName=function(i){if(i.lastStringValue="",this.regexp_eatRegExpIdentifierStart(i)){for(i.lastStringValue+=ut(i.lastIntValue);this.regexp_eatRegExpIdentifierPart(i);)i.lastStringValue+=ut(i.lastIntValue);return!0}return!1},pe.regexp_eatRegExpIdentifierStart=function(i){var a=i.pos,m=this.options.ecmaVersion>=11,I=i.current(m);return i.advance(m),I===92&&this.regexp_eatRegExpUnicodeEscapeSequence(i,m)&&(I=i.lastIntValue),xi(I)?(i.lastIntValue=I,!0):(i.pos=a,!1)};function xi(i){return Me(i,!0)||i===36||i===95}pe.regexp_eatRegExpIdentifierPart=function(i){var a=i.pos,m=this.options.ecmaVersion>=11,I=i.current(m);return i.advance(m),I===92&&this.regexp_eatRegExpUnicodeEscapeSequence(i,m)&&(I=i.lastIntValue),yi(I)?(i.lastIntValue=I,!0):(i.pos=a,!1)};function yi(i){return ce(i,!0)||i===36||i===95||i===8204||i===8205}pe.regexp_eatAtomEscape=function(i){return this.regexp_eatBackReference(i)||this.regexp_eatCharacterClassEscape(i)||this.regexp_eatCharacterEscape(i)||i.switchN&&this.regexp_eatKGroupName(i)?!0:(i.switchU&&(i.current()===99&&i.raise("Invalid unicode escape"),i.raise("Invalid escape")),!1)},pe.regexp_eatBackReference=function(i){var a=i.pos;if(this.regexp_eatDecimalEscape(i)){var m=i.lastIntValue;if(i.switchU)return m>i.maxBackReference&&(i.maxBackReference=m),!0;if(m<=i.numCapturingParens)return!0;i.pos=a}return!1},pe.regexp_eatKGroupName=function(i){if(i.eat(107)){if(this.regexp_eatGroupName(i))return i.backReferenceNames.push(i.lastStringValue),!0;i.raise("Invalid named reference")}return!1},pe.regexp_eatCharacterEscape=function(i){return this.regexp_eatControlEscape(i)||this.regexp_eatCControlLetter(i)||this.regexp_eatZero(i)||this.regexp_eatHexEscapeSequence(i)||this.regexp_eatRegExpUnicodeEscapeSequence(i,!1)||!i.switchU&&this.regexp_eatLegacyOctalEscapeSequence(i)||this.regexp_eatIdentityEscape(i)},pe.regexp_eatCControlLetter=function(i){var a=i.pos;if(i.eat(99)){if(this.regexp_eatControlLetter(i))return!0;i.pos=a}return!1},pe.regexp_eatZero=function(i){return i.current()===48&&!Ui(i.lookahead())?(i.lastIntValue=0,i.advance(),!0):!1},pe.regexp_eatControlEscape=function(i){var a=i.current();return a===116?(i.lastIntValue=9,i.advance(),!0):a===110?(i.lastIntValue=10,i.advance(),!0):a===118?(i.lastIntValue=11,i.advance(),!0):a===102?(i.lastIntValue=12,i.advance(),!0):a===114?(i.lastIntValue=13,i.advance(),!0):!1},pe.regexp_eatControlLetter=function(i){var a=i.current();return oi(a)?(i.lastIntValue=a%32,i.advance(),!0):!1};function oi(i){return i>=65&&i<=90||i>=97&&i<=122}pe.regexp_eatRegExpUnicodeEscapeSequence=function(i,a){a===void 0&&(a=!1);var m=i.pos,I=a||i.switchU;if(i.eat(117)){if(this.regexp_eatFixedHexDigits(i,4)){var M=i.lastIntValue;if(I&&M>=55296&&M<=56319){var j=i.pos;if(i.eat(92)&&i.eat(117)&&this.regexp_eatFixedHexDigits(i,4)){var Z=i.lastIntValue;if(Z>=56320&&Z<=57343)return i.lastIntValue=(M-55296)*1024+(Z-56320)+65536,!0}i.pos=j,i.lastIntValue=M}return!0}if(I&&i.eat(123)&&this.regexp_eatHexDigits(i)&&i.eat(125)&&pi(i.lastIntValue))return!0;I&&i.raise("Invalid unicode escape"),i.pos=m}return!1};function pi(i){return i>=0&&i<=1114111}pe.regexp_eatIdentityEscape=function(i){if(i.switchU)return this.regexp_eatSyntaxCharacter(i)?!0:i.eat(47)?(i.lastIntValue=47,!0):!1;var a=i.current();return a!==99&&(!i.switchN||a!==107)?(i.lastIntValue=a,i.advance(),!0):!1},pe.regexp_eatDecimalEscape=function(i){i.lastIntValue=0;var a=i.current();if(a>=49&&a<=57){do i.lastIntValue=10*i.lastIntValue+(a-48),i.advance();while((a=i.current())>=48&&a<=57);return!0}return!1};var Ai=0,Xt=1,li=2;pe.regexp_eatCharacterClassEscape=function(i){var a=i.current();if(xr(a))return i.lastIntValue=-1,i.advance(),Xt;var m=!1;if(i.switchU&&this.options.ecmaVersion>=9&&((m=a===80)||a===112)){i.lastIntValue=-1,i.advance();var I;if(i.eat(123)&&(I=this.regexp_eatUnicodePropertyValueExpression(i))&&i.eat(125))return m&&I===li&&i.raise("Invalid property name"),I;i.raise("Invalid property name")}return Ai};function xr(i){return i===100||i===68||i===115||i===83||i===119||i===87}pe.regexp_eatUnicodePropertyValueExpression=function(i){var a=i.pos;if(this.regexp_eatUnicodePropertyName(i)&&i.eat(61)){var m=i.lastStringValue;if(this.regexp_eatUnicodePropertyValue(i)){var I=i.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(i,m,I),Xt}}if(i.pos=a,this.regexp_eatLoneUnicodePropertyNameOrValue(i)){var M=i.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(i,M)}return Ai},pe.regexp_validateUnicodePropertyNameAndValue=function(i,a,m){J(i.unicodeProperties.nonBinary,a)||i.raise("Invalid property name"),i.unicodeProperties.nonBinary[a].test(m)||i.raise("Invalid property value")},pe.regexp_validateUnicodePropertyNameOrValue=function(i,a){if(i.unicodeProperties.binary.test(a))return Xt;if(i.switchV&&i.unicodeProperties.binaryOfStrings.test(a))return li;i.raise("Invalid property name")},pe.regexp_eatUnicodePropertyName=function(i){var a=0;for(i.lastStringValue="";lr(a=i.current());)i.lastStringValue+=ut(a),i.advance();return i.lastStringValue!==""};function lr(i){return oi(i)||i===95}pe.regexp_eatUnicodePropertyValue=function(i){var a=0;for(i.lastStringValue="";yr(a=i.current());)i.lastStringValue+=ut(a),i.advance();return i.lastStringValue!==""};function yr(i){return lr(i)||Ui(i)}pe.regexp_eatLoneUnicodePropertyNameOrValue=function(i){return this.regexp_eatUnicodePropertyValue(i)},pe.regexp_eatCharacterClass=function(i){if(i.eat(91)){var a=i.eat(94),m=this.regexp_classContents(i);return i.eat(93)||i.raise("Unterminated character class"),a&&m===li&&i.raise("Negated character class may contain strings"),!0}return!1},pe.regexp_classContents=function(i){return i.current()===93?Xt:i.switchV?this.regexp_classSetExpression(i):(this.regexp_nonEmptyClassRanges(i),Xt)},pe.regexp_nonEmptyClassRanges=function(i){for(;this.regexp_eatClassAtom(i);){var a=i.lastIntValue;if(i.eat(45)&&this.regexp_eatClassAtom(i)){var m=i.lastIntValue;i.switchU&&(a===-1||m===-1)&&i.raise("Invalid character class"),a!==-1&&m!==-1&&a>m&&i.raise("Range out of order in character class")}}},pe.regexp_eatClassAtom=function(i){var a=i.pos;if(i.eat(92)){if(this.regexp_eatClassEscape(i))return!0;if(i.switchU){var m=i.current();(m===99||zi(m))&&i.raise("Invalid class escape"),i.raise("Invalid escape")}i.pos=a}var I=i.current();return I!==93?(i.lastIntValue=I,i.advance(),!0):!1},pe.regexp_eatClassEscape=function(i){var a=i.pos;if(i.eat(98))return i.lastIntValue=8,!0;if(i.switchU&&i.eat(45))return i.lastIntValue=45,!0;if(!i.switchU&&i.eat(99)){if(this.regexp_eatClassControlLetter(i))return!0;i.pos=a}return this.regexp_eatCharacterClassEscape(i)||this.regexp_eatCharacterEscape(i)},pe.regexp_classSetExpression=function(i){var a=Xt,m;if(!this.regexp_eatClassSetRange(i))if(m=this.regexp_eatClassSetOperand(i)){m===li&&(a=li);for(var I=i.pos;i.eatChars([38,38]);){if(i.current()!==38&&(m=this.regexp_eatClassSetOperand(i))){m!==li&&(a=Xt);continue}i.raise("Invalid character in character class")}if(I!==i.pos)return a;for(;i.eatChars([45,45]);)this.regexp_eatClassSetOperand(i)||i.raise("Invalid character in character class");if(I!==i.pos)return a}else i.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(i)){if(m=this.regexp_eatClassSetOperand(i),!m)return a;m===li&&(a=li)}},pe.regexp_eatClassSetRange=function(i){var a=i.pos;if(this.regexp_eatClassSetCharacter(i)){var m=i.lastIntValue;if(i.eat(45)&&this.regexp_eatClassSetCharacter(i)){var I=i.lastIntValue;return m!==-1&&I!==-1&&m>I&&i.raise("Range out of order in character class"),!0}i.pos=a}return!1},pe.regexp_eatClassSetOperand=function(i){return this.regexp_eatClassSetCharacter(i)?Xt:this.regexp_eatClassStringDisjunction(i)||this.regexp_eatNestedClass(i)},pe.regexp_eatNestedClass=function(i){var a=i.pos;if(i.eat(91)){var m=i.eat(94),I=this.regexp_classContents(i);if(i.eat(93))return m&&I===li&&i.raise("Negated character class may contain strings"),I;i.pos=a}if(i.eat(92)){var M=this.regexp_eatCharacterClassEscape(i);if(M)return M;i.pos=a}return null},pe.regexp_eatClassStringDisjunction=function(i){var a=i.pos;if(i.eatChars([92,113])){if(i.eat(123)){var m=this.regexp_classStringDisjunctionContents(i);if(i.eat(125))return m}else i.raise("Invalid escape");i.pos=a}return null},pe.regexp_classStringDisjunctionContents=function(i){for(var a=this.regexp_classString(i);i.eat(124);)this.regexp_classString(i)===li&&(a=li);return a},pe.regexp_classString=function(i){for(var a=0;this.regexp_eatClassSetCharacter(i);)a++;return a===1?Xt:li},pe.regexp_eatClassSetCharacter=function(i){var a=i.pos;if(i.eat(92))return this.regexp_eatCharacterEscape(i)||this.regexp_eatClassSetReservedPunctuator(i)?!0:i.eat(98)?(i.lastIntValue=8,!0):(i.pos=a,!1);var m=i.current();return m<0||m===i.lookahead()&&wr(m)||Sr(m)?!1:(i.advance(),i.lastIntValue=m,!0)};function wr(i){return i===33||i>=35&&i<=38||i>=42&&i<=44||i===46||i>=58&&i<=64||i===94||i===96||i===126}function Sr(i){return i===40||i===41||i===45||i===47||i>=91&&i<=93||i>=123&&i<=125}pe.regexp_eatClassSetReservedPunctuator=function(i){var a=i.current();return rr(a)?(i.lastIntValue=a,i.advance(),!0):!1};function rr(i){return i===33||i===35||i===37||i===38||i===44||i===45||i>=58&&i<=62||i===64||i===96||i===126}pe.regexp_eatClassControlLetter=function(i){var a=i.current();return Ui(a)||a===95?(i.lastIntValue=a%32,i.advance(),!0):!1},pe.regexp_eatHexEscapeSequence=function(i){var a=i.pos;if(i.eat(120)){if(this.regexp_eatFixedHexDigits(i,2))return!0;i.switchU&&i.raise("Invalid escape"),i.pos=a}return!1},pe.regexp_eatDecimalDigits=function(i){var a=i.pos,m=0;for(i.lastIntValue=0;Ui(m=i.current());)i.lastIntValue=10*i.lastIntValue+(m-48),i.advance();return i.pos!==a};function Ui(i){return i>=48&&i<=57}pe.regexp_eatHexDigits=function(i){var a=i.pos,m=0;for(i.lastIntValue=0;Zi(m=i.current());)i.lastIntValue=16*i.lastIntValue+Ki(m),i.advance();return i.pos!==a};function Zi(i){return i>=48&&i<=57||i>=65&&i<=70||i>=97&&i<=102}function Ki(i){return i>=65&&i<=70?10+(i-65):i>=97&&i<=102?10+(i-97):i-48}pe.regexp_eatLegacyOctalEscapeSequence=function(i){if(this.regexp_eatOctalDigit(i)){var a=i.lastIntValue;if(this.regexp_eatOctalDigit(i)){var m=i.lastIntValue;a<=3&&this.regexp_eatOctalDigit(i)?i.lastIntValue=a*64+m*8+i.lastIntValue:i.lastIntValue=a*8+m}else i.lastIntValue=a;return!0}return!1},pe.regexp_eatOctalDigit=function(i){var a=i.current();return zi(a)?(i.lastIntValue=a-48,i.advance(),!0):(i.lastIntValue=0,!1)};function zi(i){return i>=48&&i<=55}pe.regexp_eatFixedHexDigits=function(i,a){var m=i.pos;i.lastIntValue=0;for(var I=0;I<a;++I){var M=i.current();if(!Zi(M))return i.pos=m,!1;i.lastIntValue=16*i.lastIntValue+Ki(M),i.advance()}return!0};var Ci=function(a){this.type=a.type,this.value=a.value,this.start=a.start,this.end=a.end,a.options.locations&&(this.loc=new dt(a,a.startLoc,a.endLoc)),a.options.ranges&&(this.range=[a.start,a.end])},at=t.prototype;at.next=function(i){!i&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Ci(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},at.getToken=function(){return this.next(),new Ci(this)},typeof Symbol<"u"&&(at[Symbol.iterator]=function(){var i=this;return{next:function(){var a=i.getToken();return{done:a.type===P.eof,value:a}}}}),at.nextToken=function(){var i=this.curContext();if((!i||!i.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(P.eof);if(i.override)return i.override(this);this.readToken(this.fullCharCodeAtPos())},at.readToken=function(i){return Me(i,this.options.ecmaVersion>=6)||i===92?this.readWord():this.getTokenFromCode(i)},at.fullCharCodeAtPos=function(){var i=this.input.charCodeAt(this.pos);if(i<=55295||i>=56320)return i;var a=this.input.charCodeAt(this.pos+1);return a<=56319||a>=57344?i:(i<<10)+a-56613888},at.skipBlockComment=function(){var i=this.options.onComment&&this.curPosition(),a=this.pos,m=this.input.indexOf("*/",this.pos+=2);if(m===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=m+2,this.options.locations)for(var I=void 0,M=a;(I=it(this.input,M,this.pos))>-1;)++this.curLine,M=this.lineStart=I;this.options.onComment&&this.options.onComment(!0,this.input.slice(a+2,m),a,this.pos,i,this.curPosition())},at.skipLineComment=function(i){for(var a=this.pos,m=this.options.onComment&&this.curPosition(),I=this.input.charCodeAt(this.pos+=i);this.pos<this.input.length&&!He(I);)I=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(a+i,this.pos),a,this.pos,m,this.curPosition())},at.skipSpace=function(){e:for(;this.pos<this.input.length;){var i=this.input.charCodeAt(this.pos);switch(i){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(i>8&&i<14||i>=5760&&ht.test(String.fromCharCode(i)))++this.pos;else break e}}},at.finishToken=function(i,a){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var m=this.type;this.type=i,this.value=a,this.updateContext(m)},at.readToken_dot=function(){var i=this.input.charCodeAt(this.pos+1);if(i>=48&&i<=57)return this.readNumber(!0);var a=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&i===46&&a===46?(this.pos+=3,this.finishToken(P.ellipsis)):(++this.pos,this.finishToken(P.dot))},at.readToken_slash=function(){var i=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):i===61?this.finishOp(P.assign,2):this.finishOp(P.slash,1)},at.readToken_mult_modulo_exp=function(i){var a=this.input.charCodeAt(this.pos+1),m=1,I=i===42?P.star:P.modulo;return this.options.ecmaVersion>=7&&i===42&&a===42&&(++m,I=P.starstar,a=this.input.charCodeAt(this.pos+2)),a===61?this.finishOp(P.assign,m+1):this.finishOp(I,m)},at.readToken_pipe_amp=function(i){var a=this.input.charCodeAt(this.pos+1);if(a===i){if(this.options.ecmaVersion>=12){var m=this.input.charCodeAt(this.pos+2);if(m===61)return this.finishOp(P.assign,3)}return this.finishOp(i===124?P.logicalOR:P.logicalAND,2)}return a===61?this.finishOp(P.assign,2):this.finishOp(i===124?P.bitwiseOR:P.bitwiseAND,1)},at.readToken_caret=function(){var i=this.input.charCodeAt(this.pos+1);return i===61?this.finishOp(P.assign,2):this.finishOp(P.bitwiseXOR,1)},at.readToken_plus_min=function(i){var a=this.input.charCodeAt(this.pos+1);return a===i?a===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||Ze.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(P.incDec,2):a===61?this.finishOp(P.assign,2):this.finishOp(P.plusMin,1)},at.readToken_lt_gt=function(i){var a=this.input.charCodeAt(this.pos+1),m=1;return a===i?(m=i===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+m)===61?this.finishOp(P.assign,m+1):this.finishOp(P.bitShift,m)):a===33&&i===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(a===61&&(m=2),this.finishOp(P.relational,m))},at.readToken_eq_excl=function(i){var a=this.input.charCodeAt(this.pos+1);return a===61?this.finishOp(P.equality,this.input.charCodeAt(this.pos+2)===61?3:2):i===61&&a===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(P.arrow)):this.finishOp(i===61?P.eq:P.prefix,1)},at.readToken_question=function(){var i=this.options.ecmaVersion;if(i>=11){var a=this.input.charCodeAt(this.pos+1);if(a===46){var m=this.input.charCodeAt(this.pos+2);if(m<48||m>57)return this.finishOp(P.questionDot,2)}if(a===63){if(i>=12){var I=this.input.charCodeAt(this.pos+2);if(I===61)return this.finishOp(P.assign,3)}return this.finishOp(P.coalesce,2)}}return this.finishOp(P.question,1)},at.readToken_numberSign=function(){var i=this.options.ecmaVersion,a=35;if(i>=13&&(++this.pos,a=this.fullCharCodeAtPos(),Me(a,!0)||a===92))return this.finishToken(P.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+ut(a)+"'")},at.getTokenFromCode=function(i){switch(i){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(P.parenL);case 41:return++this.pos,this.finishToken(P.parenR);case 59:return++this.pos,this.finishToken(P.semi);case 44:return++this.pos,this.finishToken(P.comma);case 91:return++this.pos,this.finishToken(P.bracketL);case 93:return++this.pos,this.finishToken(P.bracketR);case 123:return++this.pos,this.finishToken(P.braceL);case 125:return++this.pos,this.finishToken(P.braceR);case 58:return++this.pos,this.finishToken(P.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(P.backQuote);case 48:var a=this.input.charCodeAt(this.pos+1);if(a===120||a===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(a===111||a===79)return this.readRadixNumber(8);if(a===98||a===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(i);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(i);case 124:case 38:return this.readToken_pipe_amp(i);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(i);case 60:case 62:return this.readToken_lt_gt(i);case 61:case 33:return this.readToken_eq_excl(i);case 63:return this.readToken_question();case 126:return this.finishOp(P.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+ut(i)+"'")},at.finishOp=function(i,a){var m=this.input.slice(this.pos,this.pos+a);return this.pos+=a,this.finishToken(i,m)},at.readRegexp=function(){for(var i,a,m=this.pos;;){this.pos>=this.input.length&&this.raise(m,"Unterminated regular expression");var I=this.input.charAt(this.pos);if(Ze.test(I)&&this.raise(m,"Unterminated regular expression"),i)i=!1;else{if(I==="[")a=!0;else if(I==="]"&&a)a=!1;else if(I==="/"&&!a)break;i=I==="\\"}++this.pos}var M=this.input.slice(m,this.pos);++this.pos;var j=this.pos,Z=this.readWord1();this.containsEsc&&this.unexpected(j);var _e=this.regexpState||(this.regexpState=new $t(this));_e.reset(m,M,Z),this.validateRegExpFlags(_e),this.validateRegExpPattern(_e);var be=null;try{be=new RegExp(M,Z)}catch{}return this.finishToken(P.regexp,{pattern:M,flags:Z,value:be})},at.readInt=function(i,a,m){for(var I=this.options.ecmaVersion>=12&&a===void 0,M=m&&this.input.charCodeAt(this.pos)===48,j=this.pos,Z=0,_e=0,be=0,gt=a??1/0;be<gt;++be,++this.pos){var rt=this.input.charCodeAt(this.pos),Yt=void 0;if(I&&rt===95){M&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),_e===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),be===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),_e=rt;continue}if(rt>=97?Yt=rt-97+10:rt>=65?Yt=rt-65+10:rt>=48&&rt<=57?Yt=rt-48:Yt=1/0,Yt>=i)break;_e=rt,Z=Z*i+Yt}return I&&_e===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===j||a!=null&&this.pos-j!==a?null:Z};function wi(i,a){return a?parseInt(i,8):parseFloat(i.replace(/_/g,""))}function ki(i){return typeof BigInt!="function"?null:BigInt(i.replace(/_/g,""))}at.readRadixNumber=function(i){var a=this.pos;this.pos+=2;var m=this.readInt(i);return m==null&&this.raise(this.start+2,"Expected number in radix "+i),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(m=ki(this.input.slice(a,this.pos)),++this.pos):Me(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(P.num,m)},at.readNumber=function(i){var a=this.pos;!i&&this.readInt(10,void 0,!0)===null&&this.raise(a,"Invalid number");var m=this.pos-a>=2&&this.input.charCodeAt(a)===48;m&&this.strict&&this.raise(a,"Invalid number");var I=this.input.charCodeAt(this.pos);if(!m&&!i&&this.options.ecmaVersion>=11&&I===110){var M=ki(this.input.slice(a,this.pos));return++this.pos,Me(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(P.num,M)}m&&/[89]/.test(this.input.slice(a,this.pos))&&(m=!1),I===46&&!m&&(++this.pos,this.readInt(10),I=this.input.charCodeAt(this.pos)),(I===69||I===101)&&!m&&(I=this.input.charCodeAt(++this.pos),(I===43||I===45)&&++this.pos,this.readInt(10)===null&&this.raise(a,"Invalid number")),Me(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var j=wi(this.input.slice(a,this.pos),m);return this.finishToken(P.num,j)},at.readCodePoint=function(){var i=this.input.charCodeAt(this.pos),a;if(i===123){this.options.ecmaVersion<6&&this.unexpected();var m=++this.pos;a=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,a>1114111&&this.invalidStringToken(m,"Code point out of bounds")}else a=this.readHexChar(4);return a},at.readString=function(i){for(var a="",m=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var I=this.input.charCodeAt(this.pos);if(I===i)break;I===92?(a+=this.input.slice(m,this.pos),a+=this.readEscapedChar(!1),m=this.pos):I===8232||I===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(He(I)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return a+=this.input.slice(m,this.pos++),this.finishToken(P.string,a)};var Si={};at.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(i){if(i===Si)this.readInvalidTemplateToken();else throw i}this.inTemplateElement=!1},at.invalidStringToken=function(i,a){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Si;this.raise(i,a)},at.readTmplToken=function(){for(var i="",a=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var m=this.input.charCodeAt(this.pos);if(m===96||m===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===P.template||this.type===P.invalidTemplate)?m===36?(this.pos+=2,this.finishToken(P.dollarBraceL)):(++this.pos,this.finishToken(P.backQuote)):(i+=this.input.slice(a,this.pos),this.finishToken(P.template,i));if(m===92)i+=this.input.slice(a,this.pos),i+=this.readEscapedChar(!0),a=this.pos;else if(He(m)){switch(i+=this.input.slice(a,this.pos),++this.pos,m){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:i+=`
`;break;default:i+=String.fromCharCode(m);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),a=this.pos}else++this.pos}},at.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(P.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")},at.readEscapedChar=function(i){var a=this.input.charCodeAt(++this.pos);switch(++this.pos,a){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return ut(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),i){var m=this.pos-1;this.invalidStringToken(m,"Invalid escape sequence in template string")}default:if(a>=48&&a<=55){var I=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],M=parseInt(I,8);return M>255&&(I=I.slice(0,-1),M=parseInt(I,8)),this.pos+=I.length-1,a=this.input.charCodeAt(this.pos),(I!=="0"||a===56||a===57)&&(this.strict||i)&&this.invalidStringToken(this.pos-1-I.length,i?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(M)}return He(a)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(a)}},at.readHexChar=function(i){var a=this.pos,m=this.readInt(16,i);return m===null&&this.invalidStringToken(a,"Bad character escape sequence"),m},at.readWord1=function(){this.containsEsc=!1;for(var i="",a=!0,m=this.pos,I=this.options.ecmaVersion>=6;this.pos<this.input.length;){var M=this.fullCharCodeAtPos();if(ce(M,I))this.pos+=M<=65535?1:2;else if(M===92){this.containsEsc=!0,i+=this.input.slice(m,this.pos);var j=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var Z=this.readCodePoint();(a?Me:ce)(Z,I)||this.invalidStringToken(j,"Invalid Unicode escape"),i+=ut(Z),m=this.pos}else break;a=!1}return i+this.input.slice(m,this.pos)},at.readWord=function(){var i=this.readWord1(),a=P.name;return this.keywords.test(i)&&(a=tt[i]),this.finishToken(a,i)};var Vi="8.14.1";t.acorn={Parser:t,version:Vi,defaultOptions:Fe,Position:Pe,SourceLocation:dt,getLineInfo:jt,Node:O,TokenType:Ie,tokTypes:P,keywordTypes:tt,TokContext:k,tokContexts:_,isIdentifierChar:ce,isIdentifierStart:Me,Token:Ci,isNewLine:He,lineBreak:Ze,lineBreakG:xt,nonASCIIwhitespace:ht};function hr(i,a){return t.parse(i,a)}function cr(i,a,m){return t.parseExpressionAt(i,a,m)}function fr(i,a){return t.tokenizer(i,a)}G.Node=O,G.Parser=t,G.Position=Pe,G.SourceLocation=dt,G.TokContext=k,G.Token=Ci,G.TokenType=Ie,G.defaultOptions=Fe,G.getLineInfo=jt,G.isIdentifierChar=ce,G.isIdentifierStart=Me,G.isNewLine=He,G.keywordTypes=tt,G.lineBreak=Ze,G.lineBreakG=xt,G.nonASCIIwhitespace=ht,G.parse=hr,G.parseExpressionAt=cr,G.tokContexts=_,G.tokTypes=P,G.tokenizer=fr,G.version=Vi})}(mr,mr.exports)),mr.exports}/*!
 * Paper.js v0.12.18 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, Jürg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Wed Jul 17 14:57:24 2024 +0200
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 Jürg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */var ja=Mr.exports,An;function Za(){return An||(An=1,function(Be){(function(q,G){q=q||Pn;var xe=q.window,te=q.document,L=new function(){var e=/^(statics|enumerable|beans|preserve)$/,t=[],r=t.slice,n=Object.create,s=Object.getOwnPropertyDescriptor,u=Object.defineProperty,o=t.forEach||function(p,d){for(var x=0,b=this.length;x<b;x++)p.call(d,this[x],x,this)},l=function(p,d){for(var x in this)this.hasOwnProperty(x)&&p.call(d,this[x],x,this)},h=Object.assign||function(p){for(var d=1,x=arguments.length;d<x;d++){var b=arguments[d];for(var k in b)b.hasOwnProperty(k)&&(p[k]=b[k])}return p},c=function(p,d,x){if(p){var b=s(p,"length");(b&&typeof b.value=="number"?o:l).call(p,d,x=x||p)}return x};function g(p,d,x,b,k){var _={};function w(S,T){T=T||(T=s(d,S))&&(T.get?T:T.value),typeof T=="string"&&T[0]==="#"&&(T=p[T.substring(1)]||T);var N=typeof T=="function",O=T,F=k||N&&!T.base?T&&T.get?S in p:p[S]:null,E;(!k||!F)&&(N&&F&&(T.base=F),N&&b!==!1&&(E=S.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(_[E[3].toLowerCase()+E[4]]=E[2]),(!O||N||!O.get||typeof O.get!="function"||!v.isPlainObject(O))&&(O={value:O,writable:!0}),(s(p,S)||{configurable:!0}).configurable&&(O.configurable=!0,O.enumerable=x??!E),u(p,S,O))}if(d){for(var f in d)d.hasOwnProperty(f)&&!e.test(f)&&w(f);for(var f in _){var y=_[f],C=p["set"+y],A=p["get"+y]||C&&p["is"+y];A&&(b===!0||A.length===0)&&w(f,{get:A,set:C})}}return p}function v(){for(var p=0,d=arguments.length;p<d;p++){var x=arguments[p];x&&h(this,x)}return this}return g(v,{inject:function(p){if(p){var d=p.statics===!0?p:p.statics,x=p.beans,b=p.preserve;d!==p&&g(this.prototype,p,p.enumerable,x,b),g(this,d,null,x,b)}for(var k=1,_=arguments.length;k<_;k++)this.inject(arguments[k]);return this},extend:function(){for(var p=this,d,x,b=0,k,_=arguments.length;b<_&&!(d&&x);b++)k=arguments[b],d=d||k.initialize,x=x||k.prototype;return d=d||function(){p.apply(this,arguments)},x=d.prototype=x||n(this.prototype),u(x,"constructor",{value:d,writable:!0,configurable:!0}),g(d,this),arguments.length&&this.inject.apply(d,arguments),d.base=p,d}}).inject({enumerable:!1,initialize:v,set:v,inject:function(){for(var p=0,d=arguments.length;p<d;p++){var x=arguments[p];x&&g(this,x,x.enumerable,x.beans,x.preserve)}return this},extend:function(){var p=n(this);return p.inject.apply(p,arguments)},each:function(p,d){return c(this,p,d)},clone:function(){return new this.constructor(this)},statics:{set:h,each:c,create:n,define:u,describe:s,clone:function(p){return h(new p.constructor,p)},isPlainObject:function(p){var d=p!=null&&p.constructor;return d&&(d===Object||d===v||d.name==="Object")},pick:function(p,d){return p!==G?p:d},slice:function(p,d,x){return r.call(p,d,x)}}})};Be.exports=L,L.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+L.each(this,function(e,t){if(!/^_/.test(t)){var r=typeof e;this.push(t+": "+(r==="number"?Ce.instance.number(e):r==="string"?"'"+e+"'":e))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(e){return L.importJSON(e,this)},exportJSON:function(e){return L.exportJSON(this,e)},toJSON:function(){return L.serialize(this)},set:function(e,t){return e&&L.filter(this,e,t,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function e(){var t=e.base.apply(this,arguments),r=t.prototype._class;return r&&!L.exports[r]&&(L.exports[r]=t),t},equals:function(e,t){if(e===t)return!0;if(e&&e.equals)return e.equals(t);if(t&&t.equals)return t.equals(e);if(e&&t&&typeof e=="object"&&typeof t=="object"){if(Array.isArray(e)&&Array.isArray(t)){var r=e.length;if(r!==t.length)return!1;for(;r--;)if(!L.equals(e[r],t[r]))return!1}else{var n=Object.keys(e),r=n.length;if(r!==Object.keys(t).length)return!1;for(;r--;){var s=n[r];if(!(t.hasOwnProperty(s)&&L.equals(e[s],t[s])))return!1}}return!0}return!1},read:function(e,t,r,n){if(this===L){var s=this.peek(e,t);return e.__index++,s}var u=this.prototype,o=u._readIndex,l=t||o&&e.__index||0,h=e.length,c=e[l];if(n=n||h-l,c instanceof this||r&&r.readNull&&c==null&&n<=1)return o&&(e.__index=l+1),c&&r&&r.clone?c.clone():c;if(c=L.create(u),o&&(c.__read=!0),c=c.initialize.apply(c,l>0||l+n<h?L.slice(e,l,l+n):e)||c,o){e.__index=l+c.__read;var g=c.__filtered;g&&(e.__filtered=g,c.__filtered=G),c.__read=G}return c},peek:function(e,t){return e[e.__index=t||e.__index||0]},remain:function(e){return e.length-(e.__index||0)},readList:function(e,t,r,n){for(var s=[],u,o=t||0,l=n?o+n:e.length,h=o;h<l;h++)s.push(Array.isArray(u=e[h])?this.read(u,0,r):this.read(e,h,r,1));return s},readNamed:function(e,t,r,n,s){var u=this.getNamed(e,t),o=u!==G;if(o){var l=e.__filtered;if(!l){var h=this.getSource(e);l=e.__filtered=L.create(h),l.__unfiltered=h}l[t]=G}return this.read(o?[u]:e,r,n,s)},readSupported:function(e,t){var r=this.getSource(e),n=this,s=!1;return r&&Object.keys(r).forEach(function(u){if(u in t){var o=n.readNamed(e,u);o!==G&&(t[u]=o),s=!0}}),s},getSource:function(e){var t=e.__source;if(t===G){var r=e.length===1&&e[0];t=e.__source=r&&L.isPlainObject(r)?r:null}return t},getNamed:function(e,t){var r=this.getSource(e);if(r)return t?r[t]:e.__filtered||r},hasNamed:function(e,t){return!!this.getNamed(e,t)},filter:function(e,t,r,n){var s;function u(g){if(!(r&&g in r)&&!(s&&g in s)){var v=t[g];v!==G&&(e[g]=v)}}if(n){for(var o={},l=0,h,c=n.length;l<c;l++)(h=n[l])in t&&(u(h),o[h]=!0);s=o}return Object.keys(t.__unfiltered||t).forEach(u),e},isPlainValue:function(e,t){return L.isPlainObject(e)||Array.isArray(e)||t&&typeof e=="string"},serialize:function(e,t,r,n){t=t||{};var s=!n,u;if(s&&(t.formatter=new Ce(t.precision),n={length:0,definitions:{},references:{},add:function(v,p){var d="#"+v._id,x=this.references[d];if(!x){this.length++;var b=p.call(v),k=v._class;k&&b[0]!==k&&b.unshift(k),this.definitions[d]=b,x=this.references[d]=[d]}return x}}),e&&e._serialize){u=e._serialize(t,n);var o=e._class;o&&!e._compactSerialize&&(s||!r)&&u[0]!==o&&u.unshift(o)}else if(Array.isArray(e)){u=[];for(var l=0,h=e.length;l<h;l++)u[l]=L.serialize(e[l],t,r,n)}else if(L.isPlainObject(e)){u={};for(var c=Object.keys(e),l=0,h=c.length;l<h;l++){var g=c[l];u[g]=L.serialize(e[g],t,r,n)}}else typeof e=="number"?u=t.formatter.number(e,t.precision):u=e;return s&&n.length>0?[["dictionary",n.definitions],u]:u},deserialize:function(e,t,r,n,s){var u=e,o=!r,l=o&&e&&e.length&&e[0][0]==="dictionary";if(r=r||{},Array.isArray(e)){var h=e[0],c=h==="dictionary";if(e.length==1&&/^#/.test(h))return r.dictionary[h];h=L.exports[h],u=[];for(var g=h?1:0,v=e.length;g<v;g++)u.push(L.deserialize(e[g],t,r,c,l));if(h){var p=u;t?u=t(h,p,o||s):u=new h(p)}}else if(L.isPlainObject(e)){u={},n&&(r.dictionary=u);for(var d in e)u[d]=L.deserialize(e[d],t,r)}return l?u[1]:u},exportJSON:function(e,t){var r=L.serialize(e,t);return t&&t.asString==!1?r:JSON.stringify(r)},importJSON:function(e,t){return L.deserialize(typeof e=="string"?JSON.parse(e):e,function(r,n,s){var u=s&&t&&t.constructor===r,o=u?t:L.create(r.prototype);if(n.length===1&&o instanceof P&&(u||!(o instanceof xt))){var l=n[0];L.isPlainObject(l)&&(l.insert=!1,u&&(n=n.concat([P.INSERT])))}return(u?o.set:r).apply(o,n),u&&(t=null),o})},push:function(e,t){var r=t.length;if(r<4096)e.push.apply(e,t);else{var n=e.length;e.length+=r;for(var s=0;s<r;s++)e[n+s]=t[s]}return e},splice:function(e,t,r,n){var s=t&&t.length,u=r===G;r=u?e.length:r,r>e.length&&(r=e.length);for(var o=0;o<s;o++)t[o]._index=r+o;if(u)return L.push(e,t),[];var l=[r,n];t&&L.push(l,t);for(var h=e.splice.apply(e,l),o=0,c=h.length;o<c;o++)h[o]._index=G;for(var o=r+s,c=e.length;o<c;o++)e[o]._index=o;return h},capitalize:function(e){return e.replace(/\b[a-z]/g,function(t){return t.toUpperCase()})},camelize:function(e){return e.replace(/-(.)/g,function(t,r){return r.toUpperCase()})},hyphenate:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var Ue={on:function(e,t){if(typeof e!="string")L.each(e,function(u,o){this.on(o,u)},this);else{var r=this._eventTypes,n=r&&r[e],s=this._callbacks=this._callbacks||{};s=s[e]=s[e]||[],s.indexOf(t)===-1&&(s.push(t),n&&n.install&&s.length===1&&n.install.call(this,e))}return this},off:function(e,t){if(typeof e!="string"){L.each(e,function(o,l){this.off(l,o)},this);return}var r=this._eventTypes,n=r&&r[e],s=this._callbacks&&this._callbacks[e],u;return s&&(!t||(u=s.indexOf(t))!==-1&&s.length===1?(n&&n.uninstall&&n.uninstall.call(this,e),delete this._callbacks[e]):u!==-1&&s.splice(u,1)),this},once:function(e,t){return this.on(e,function r(){t.apply(this,arguments),this.off(e,r)})},emit:function(e,t){var r=this._callbacks&&this._callbacks[e];if(!r)return!1;var n=L.slice(arguments,1),s=t&&t.target&&!t.currentTarget;r=r.slice(),s&&(t.currentTarget=this);for(var u=0,o=r.length;u<o;u++)if(r[u].apply(this,n)==!1){t&&t.stop&&t.stop();break}return s&&delete t.currentTarget,!0},responds:function(e){return!!(this._callbacks&&this._callbacks[e])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(e){var t=this._eventTypes,r=this._callbacks,n=e?"install":"uninstall";if(t){for(var s in r)if(r[s].length>0){var u=t[s],o=u&&u[n];o&&o.call(this,s)}}},statics:{inject:function e(t){var r=t._events;if(r){var n={};L.each(r,function(s,u){var o=typeof s=="string",l=o?s:u,h=L.capitalize(l),c=l.substring(2).toLowerCase();n[c]=o?{}:s,l="_"+l,t["get"+h]=function(){return this[l]},t["set"+h]=function(g){var v=this[l];v&&this.off(c,v),g&&this.on(c,g),this[l]=g}}),t._eventTypes=n}return e.base.apply(this,arguments)}}},ue=L.extend({_class:"PaperScope",initialize:function e(){Ae=this,this.settings=new L({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=e._id++,e._scopes[this._id]=this;var t=e.prototype;if(!this.support){var r=re.getContext(1,1)||{};t.support={nativeDash:"setLineDash"in r||"mozDash"in r,nativeBlendModes:fe.nativeModes},re.release(r)}if(!this.agent){var n=q.navigator.userAgent.toLowerCase(),s=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(n)||[])[0],u=s==="darwin"?"mac":s,o=t.agent=t.browser={platform:u};u&&(o[u]=!0),n.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(l,h,c,g,v){if(!o.chrome){var p=h==="opera"?g:/^(node|trident)$/.test(h)?v:c;o.version=p,o.versionNumber=parseFloat(p),h={trident:"msie",jsdom:"node"}[h]||h,o.name=h,o[h]=!0}}),o.chrome&&delete o.webkit,o.atom&&delete o.chrome}},version:"0.12.18",getView:function(){var e=this.project;return e&&e._view},getPaper:function(){return this},execute:function(e,t){var r=Ae.PaperScript.execute(e,this,t);return St.updateFocus(),r},install:function(e){var t=this;L.each(["project","view","tool"],function(n){L.define(e,n,{configurable:!0,get:function(){return t[n]}})});for(var r in this)!/^_/.test(r)&&this[r]&&(e[r]=this[r])},setup:function(e){return Ae=this,this.project=new Ne(e),this},createCanvas:function(e,t){return re.getCanvas(e,t)},activate:function(){Ae=this},clear:function(){for(var e=this.projects,t=this.tools,r=e.length-1;r>=0;r--)e[r].remove();for(var r=t.length-1;r>=0;r--)t[r].remove()},remove:function(){this.clear(),delete ue._scopes[this._id]},statics:new function(){function e(t){return t+="Attribute",function(r,n){return r[t](n)||r[t]("data-paper-"+n)}}return{_scopes:{},_id:0,get:function(t){return this._scopes[t]||null},getAttribute:e("get"),hasAttribute:e("has")}}}),Se=L.extend(Ue,{initialize:function(e){this._scope=Ae,this._index=this._scope[this._list].push(this)-1,(e||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var e=this._scope[this._reference];return e&&e!==this&&e.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",e),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return this._index==null?!1:(L.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),Ee={findItemBoundsCollisions:function(e,t,r){function n(o){for(var l=new Array(o.length),h=0;h<o.length;h++){var c=o[h].getBounds();l[h]=[c.left,c.top,c.right,c.bottom]}return l}var s=n(e),u=!t||t===e?s:n(t);return this.findBoundsCollisions(s,u,r||0)},findCurveBoundsCollisions:function(e,t,r,n){function s(p){for(var d=Math.min,x=Math.max,b=new Array(p.length),k=0;k<p.length;k++){var _=p[k];b[k]=[d(_[0],_[2],_[4],_[6]),d(_[1],_[3],_[5],_[7]),x(_[0],_[2],_[4],_[6]),x(_[1],_[3],_[5],_[7])]}return b}var u=s(e),o=!t||t===e?u:s(t);if(n){for(var l=this.findBoundsCollisions(u,o,r||0,!1,!0),h=this.findBoundsCollisions(u,o,r||0,!0,!0),c=[],g=0,v=l.length;g<v;g++)c[g]={hor:l[g],ver:h[g]};return c}return this.findBoundsCollisions(u,o,r||0)},findBoundsCollisions:function(e,t,r,n,s){var u=!t||e===t,o=u?e:e.concat(t),l=e.length,h=o.length;function c(se,de,ve){for(var K=0,Y=se.length;K<Y;){var le=Y+K>>>1;o[se[le]][de]<ve?K=le+1:Y=le}return K-1}for(var g=n?1:0,v=g+2,p=n?0:1,d=p+2,x=new Array(h),b=0;b<h;b++)x[b]=b;x.sort(function(se,de){return o[se][g]-o[de][g]});for(var k=[],_=new Array(l),b=0;b<h;b++){var w=x[b],f=o[w],y=u?w:w-l,C=w<l,A=u||!C,S=C?[]:null;if(k.length){var T=c(k,v,f[g]-r)+1;if(k.splice(0,T),u&&s){S=S.concat(k);for(var N=0;N<k.length;N++){var O=k[N];_[O].push(y)}}else for(var F=f[d],E=f[p],N=0;N<k.length;N++){var O=k[N],B=o[O],D=O<l,U=u||O>=l;(s||(C&&U||A&&D)&&F>=B[p]-r&&E<=B[d]+r)&&(C&&U&&S.push(u?O:O-l),A&&D&&_[O].push(y))}}if(C&&(e===t&&S.push(w),_[w]=S),k.length){var H=f[v],W=c(k,v,H);k.splice(W+1,0,w)}else k.push(w)}for(var b=0;b<_.length;b++){var X=_[b];X&&X.sort(function(de,ve){return de-ve})}return _}},Ce=L.extend({initialize:function(e){this.precision=L.pick(e,5),this.multiplier=Math.pow(10,this.precision)},number:function(e){return this.precision<16?Math.round(e*this.multiplier)/this.multiplier:e},pair:function(e,t,r){return this.number(e)+(r||",")+this.number(t)},point:function(e,t){return this.number(e.x)+(t||",")+this.number(e.y)},size:function(e,t){return this.number(e.width)+(t||",")+this.number(e.height)},rectangle:function(e,t){return this.point(e,t)+(t||",")+this.size(e,t)}});Ce.instance=new Ce;var ne=new function(){var e=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],t=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],r=Math.abs,n=Math.sqrt,s=Math.pow,u=Math.log2||function(v){return Math.log(v)*Math.LOG2E},o=1e-12,l=112e-18;function h(v,p,d){return v<p?p:v>d?d:v}function c(v,p,d){function x(T){var N=T*134217729,O=T-N,F=O+N,E=T-F;return[F,E]}var b=p*p-v*d,k=p*p+v*d;if(r(b)*3<k){var _=x(v),w=x(p),f=x(d),y=p*p,C=w[0]*w[0]-y+2*w[0]*w[1]+w[1]*w[1],A=v*d,S=_[0]*f[0]-A+_[0]*f[1]+_[1]*f[0]+_[1]*f[1];b=y-A+(C-S)}return b}function g(){var v=Math.max.apply(Math,arguments);return v&&(v<1e-8||v>1e8)?s(2,-Math.round(u(v))):0}return{EPSILON:o,MACHINE_EPSILON:l,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,ANGULAR_EPSILON:1e-5,KAPPA:4*(n(2)-1)/3,isZero:function(v){return v>=-1e-12&&v<=o},isMachineZero:function(v){return v>=-112e-18&&v<=l},clamp:h,integrate:function(v,p,d,x){for(var b=e[x-2],k=t[x-2],_=(d-p)*.5,w=_+p,f=0,y=x+1>>1,C=x&1?k[f++]*v(w):0;f<y;){var A=_*b[f];C+=k[f++]*(v(w+A)+v(w-A))}return _*C},findRoot:function(v,p,d,x,b,k,_){for(var w=0;w<k;w++){var f=v(d),y=f/p(d),C=d-y;if(r(y)<_){d=C;break}f>0?(b=d,d=C<=x?(x+b)*.5:C):(x=d,d=C>=b?(x+b)*.5:C)}return h(d,x,b)},solveQuadratic:function(v,p,d,x,b,k){var _,w=1/0;if(r(v)<o){if(r(p)<o)return r(d)<o?-1:0;_=-d/p}else{p*=-.5;var f=c(v,p,d);if(f&&r(f)<l){var y=g(r(v),r(p),r(d));y&&(v*=y,p*=y,d*=y,f=c(v,p,d))}if(f>=-112e-18){var C=f<0?0:n(f),A=p+(p<0?-C:C);A===0?(_=d/v,w=-_):(_=A/v,w=d/A)}}var S=0,T=b==null,N=b-o,O=k+o;return isFinite(_)&&(T||_>N&&_<O)&&(x[S++]=T?_:h(_,b,k)),w!==_&&isFinite(w)&&(T||w>N&&w<O)&&(x[S++]=T?w:h(w,b,k)),S},solveCubic:function(v,p,d,x,b,k,_){var w=g(r(v),r(p),r(d),r(x)),f,y,C,A,S;w&&(v*=w,p*=w,d*=w,x*=w);function T(W){f=W;var X=v*f;y=X+p,C=y*f+d,A=(X+y)*f+C,S=C*f+x}if(r(v)<o)v=p,y=d,C=x,f=1/0;else if(r(x)<o)y=p,C=d,f=0;else{T(-(p/v)/3);var N=S/v,O=s(r(N),1/3),F=N<0?-1:1,E=-A/v,B=E>0?1.324717957244746*Math.max(O,n(E)):O,D=f-F*B;if(D!==f){do T(D),D=A===0?f:f-S/A/(1+l);while(F*D>F*f);r(v)*f*f>r(x/f)&&(C=-x/f,y=(C-d)/f)}}var U=ne.solveQuadratic(v,y,C,b,k,_),H=k==null;return isFinite(f)&&(U===0||U>0&&f!==b[0]&&f!==b[1])&&(H||f>k-o&&f<_+o)&&(b[U++]=H?f:h(f,k,_)),U}}},De={_id:1,_pools:{},get:function(e){if(e){var t=this._pools[e];return t||(t=this._pools[e]={_id:1}),t._id++}else return this._id++}},z=L.extend({_class:"Point",_readIndex:!0,initialize:function(t,r){var n=typeof t,s=this.__read,u=0;if(n==="number"){var o=typeof r=="number";this._set(t,o?r:t),s&&(u=o?2:1)}else if(n==="undefined"||t===null)this._set(0,0),s&&(u=t===null?1:0);else{var l=n==="string"?t.split(/[\s,]+/)||[]:t;u=1,Array.isArray(l)?this._set(+l[0],+(l.length>1?l[1]:l[0])):"x"in l?this._set(l.x||0,l.y||0):"width"in l?this._set(l.width||0,l.height||0):"angle"in l?(this._set(l.length||0,0),this.setAngle(l.angle||0)):(this._set(0,0),u=0)}return s&&(this.__read=u),this},set:"#initialize",_set:function(e,t){return this.x=e,this.y=t,this},equals:function(e){return this===e||e&&(this.x===e.x&&this.y===e.y||Array.isArray(e)&&this.x===e[0]&&this.y===e[1])||!1},clone:function(){return new z(this.x,this.y)},toString:function(){var e=Ce.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.x),t.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(e){if(this.isZero()){var t=this._angle||0;this._set(Math.cos(t)*e,Math.sin(t)*e)}else{var r=e/this.getLength();ne.isZero(r)&&this.getAngle(),this._set(this.x*r,this.y*r)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(e){this.setAngleInRadians.call(this,e*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var e=z.read(arguments),t=this.getLength()*e.getLength();if(ne.isZero(t))return NaN;var r=this.dot(e)/t;return Math.acos(r<-1?-1:r>1?1:r)}else return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(e){if(this._angle=e,!this.isZero()){var t=this.getLength();this._set(Math.cos(e)*t,Math.sin(e)*t)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var e=z.read(arguments);return Math.atan2(this.cross(e),this.dot(e))*180/Math.PI},getDistance:function(){var e=arguments,t=z.read(e),r=t.x-this.x,n=t.y-this.y,s=r*r+n*n,u=L.read(e);return u?s:Math.sqrt(s)},normalize:function(e){e===G&&(e=1);var t=this.getLength(),r=t!==0?e/t:0,n=new z(this.x*r,this.y*r);return r>=0&&(n._angle=this._angle),n},rotate:function(e,t){if(e===0)return this.clone();e=e*Math.PI/180;var r=t?this.subtract(t):this,n=Math.sin(e),s=Math.cos(e);return r=new z(r.x*s-r.y*n,r.x*n+r.y*s),t?r.add(t):r},transform:function(e){return e?e._transformPoint(this):this},add:function(){var e=z.read(arguments);return new z(this.x+e.x,this.y+e.y)},subtract:function(){var e=z.read(arguments);return new z(this.x-e.x,this.y-e.y)},multiply:function(){var e=z.read(arguments);return new z(this.x*e.x,this.y*e.y)},divide:function(){var e=z.read(arguments);return new z(this.x/e.x,this.y/e.y)},modulo:function(){var e=z.read(arguments);return new z(this.x%e.x,this.y%e.y)},negate:function(){return new z(-this.x,-this.y)},isInside:function(){return ee.read(arguments).contains(this)},isClose:function(){var e=arguments,t=z.read(e),r=L.read(e);return this.getDistance(t)<=r},isCollinear:function(){var e=z.read(arguments);return z.isCollinear(this.x,this.y,e.x,e.y)},isColinear:"#isCollinear",isOrthogonal:function(){var e=z.read(arguments);return z.isOrthogonal(this.x,this.y,e.x,e.y)},isZero:function(){var e=ne.isZero;return e(this.x)&&e(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(e){return this.x*(e>1&&e<4?-1:1)>=0&&this.y*(e>2?-1:1)>=0},dot:function(){var e=z.read(arguments);return this.x*e.x+this.y*e.y},cross:function(){var e=z.read(arguments);return this.x*e.y-this.y*e.x},project:function(){var e=z.read(arguments),t=e.isZero()?0:this.dot(e)/e.dot(e);return new z(e.x*t,e.y*t)},statics:{min:function(){var e=arguments,t=z.read(e),r=z.read(e);return new z(Math.min(t.x,r.x),Math.min(t.y,r.y))},max:function(){var e=arguments,t=z.read(e),r=z.read(e);return new z(Math.max(t.x,r.x),Math.max(t.y,r.y))},random:function(){return new z(Math.random(),Math.random())},isCollinear:function(e,t,r,n){return Math.abs(e*n-t*r)<=Math.sqrt((e*e+t*t)*(r*r+n*n))*1e-8},isOrthogonal:function(e,t,r,n){return Math.abs(e*r+t*n)<=Math.sqrt((e*e+t*t)*(r*r+n*n))*1e-8}}},L.each(["round","ceil","floor","abs"],function(e){var t=Math[e];this[e]=function(){return new z(t(this.x),t(this.y))}},{})),Me=z.extend({initialize:function(t,r,n,s){this._x=t,this._y=r,this._owner=n,this._setter=s},_set:function(e,t,r){return this._x=e,this._y=t,r||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),ce=L.extend({_class:"Size",_readIndex:!0,initialize:function(t,r){var n=typeof t,s=this.__read,u=0;if(n==="number"){var o=typeof r=="number";this._set(t,o?r:t),s&&(u=o?2:1)}else if(n==="undefined"||t===null)this._set(0,0),s&&(u=t===null?1:0);else{var l=n==="string"?t.split(/[\s,]+/)||[]:t;u=1,Array.isArray(l)?this._set(+l[0],+(l.length>1?l[1]:l[0])):"width"in l?this._set(l.width||0,l.height||0):"x"in l?this._set(l.x||0,l.y||0):(this._set(0,0),u=0)}return s&&(this.__read=u),this},set:"#initialize",_set:function(e,t){return this.width=e,this.height=t,this},equals:function(e){return e===this||e&&(this.width===e.width&&this.height===e.height||Array.isArray(e)&&this.width===e[0]&&this.height===e[1])||!1},clone:function(){return new ce(this.width,this.height)},toString:function(){var e=Ce.instance;return"{ width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.width),t.number(this.height)]},add:function(){var e=ce.read(arguments);return new ce(this.width+e.width,this.height+e.height)},subtract:function(){var e=ce.read(arguments);return new ce(this.width-e.width,this.height-e.height)},multiply:function(){var e=ce.read(arguments);return new ce(this.width*e.width,this.height*e.height)},divide:function(){var e=ce.read(arguments);return new ce(this.width/e.width,this.height/e.height)},modulo:function(){var e=ce.read(arguments);return new ce(this.width%e.width,this.height%e.height)},negate:function(){return new ce(-this.width,-this.height)},isZero:function(){var e=ne.isZero;return e(this.width)&&e(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(e,t){return new ce(Math.min(e.width,t.width),Math.min(e.height,t.height))},max:function(e,t){return new ce(Math.max(e.width,t.width),Math.max(e.height,t.height))},random:function(){return new ce(Math.random(),Math.random())}}},L.each(["round","ceil","floor","abs"],function(e){var t=Math[e];this[e]=function(){return new ce(t(this.width),t(this.height))}},{})),Ie=ce.extend({initialize:function(t,r,n,s){this._width=t,this._height=r,this._owner=n,this._setter=s},_set:function(e,t,r){return this._width=e,this._height=t,r||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(e){this._width=e,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(e){this._height=e,this._owner[this._setter](this)}}),ee=L.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(t,r,n,s){var u=arguments,o=typeof t,l;if(o==="number"?(this._set(t,r,n,s),l=4):o==="undefined"||t===null?(this._set(0,0,0,0),l=t===null?1:0):u.length===1&&(Array.isArray(t)?(this._set.apply(this,t),l=1):t.x!==G||t.width!==G?(this._set(t.x||0,t.y||0,t.width||0,t.height||0),l=1):t.from===G&&t.to===G&&(this._set(0,0,0,0),L.readSupported(u,this)&&(l=1))),l===G){var h=z.readNamed(u,"from"),c=L.peek(u),g=h.x,v=h.y,p,d;if(c&&c.x!==G||L.hasNamed(u,"to")){var x=z.readNamed(u,"to");p=x.x-g,d=x.y-v,p<0&&(g=x.x,p=-p),d<0&&(v=x.y,d=-d)}else{var b=ce.read(u);p=b.width,d=b.height}this._set(g,v,p,d),l=u.__index}var k=u.__filtered;return k&&(this.__filtered=k),this.__read&&(this.__read=l),this},set:"#initialize",_set:function(e,t,r,n){return this.x=e,this.y=t,this.width=r,this.height=n,this},clone:function(){return new ee(this.x,this.y,this.width,this.height)},equals:function(e){var t=L.isPlainValue(e)?ee.read(arguments):e;return t===this||t&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height||!1},toString:function(){var e=Ce.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+", width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.x),t.number(this.y),t.number(this.width),t.number(this.height)]},getPoint:function(e){var t=e?z:Me;return new t(this.x,this.y,this,"setPoint")},setPoint:function(){var e=z.read(arguments);this.x=e.x,this.y=e.y},getSize:function(e){var t=e?ce:Ie;return new t(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var e=ce.read(arguments),t=this._sx,r=this._sy,n=e.width,s=e.height;t&&(this.x+=(this.width-n)*t),r&&(this.y+=(this.height-s)*r),this.width=n,this.height=s,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(e){if(!this._fw){var t=e-this.x;this.width-=this._sx===.5?t*2:t}this.x=e,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(e){if(!this._fh){var t=e-this.y;this.height-=this._sy===.5?t*2:t}this.y=e,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(e){if(!this._fw){var t=e-this.x;this.width=this._sx===.5?t*2:t}this.x=e-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(e){if(!this._fh){var t=e-this.y;this.height=this._sy===.5?t*2:t}this.y=e-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(e){this._fw||this._sx===.5?this.x=e-this.width/2:(this._sx&&(this.x+=(e-this.x)*2*this._sx),this.width=(e-this.x)*2),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(e){this._fh||this._sy===.5?this.y=e-this.height/2:(this._sy&&(this.y+=(e-this.y)*2*this._sy),this.height=(e-this.y)*2),this._sy=.5,this._fh=0},getCenter:function(e){var t=e?z:Me;return new t(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var e=z.read(arguments);return this.setCenterX(e.x),this.setCenterY(e.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(e){return e&&e.width!==G||(Array.isArray(e)?e:arguments).length===4?this._containsRectangle(ee.read(arguments)):this._containsPoint(z.read(arguments))},_containsPoint:function(e){var t=e.x,r=e.y;return t>=this.x&&r>=this.y&&t<=this.x+this.width&&r<=this.y+this.height},_containsRectangle:function(e){var t=e.x,r=e.y;return t>=this.x&&r>=this.y&&t+e.width<=this.x+this.width&&r+e.height<=this.y+this.height},intersects:function(){var e=ee.read(arguments),t=L.read(arguments)||0;return e.x+e.width>this.x-t&&e.y+e.height>this.y-t&&e.x<this.x+this.width+t&&e.y<this.y+this.height+t},intersect:function(){var e=ee.read(arguments),t=Math.max(this.x,e.x),r=Math.max(this.y,e.y),n=Math.min(this.x+this.width,e.x+e.width),s=Math.min(this.y+this.height,e.y+e.height);return new ee(t,r,n-t,s-r)},unite:function(){var e=ee.read(arguments),t=Math.min(this.x,e.x),r=Math.min(this.y,e.y),n=Math.max(this.x+this.width,e.x+e.width),s=Math.max(this.y+this.height,e.y+e.height);return new ee(t,r,n-t,s-r)},include:function(){var e=z.read(arguments),t=Math.min(this.x,e.x),r=Math.min(this.y,e.y),n=Math.max(this.x+this.width,e.x),s=Math.max(this.y+this.height,e.y);return new ee(t,r,n-t,s-r)},expand:function(){var e=ce.read(arguments),t=e.width,r=e.height;return new ee(this.x-t/2,this.y-r/2,this.width+t,this.height+r)},scale:function(e,t){return this.expand(this.width*e-this.width,this.height*(t===G?e:t)-this.height)}},L.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(e,t){var r=e.join(""),n=/^[RL]/.test(r);t>=4&&(e[1]+=n?"Y":"X");var s=e[n?0:1],u=e[n?1:0],o="get"+s,l="get"+u,h="set"+s,c="set"+u,g="get"+r,v="set"+r;this[g]=function(p){var d=p?z:Me;return new d(this[o](),this[l](),this,v)},this[v]=function(){var p=z.read(arguments);this[h](p.x),this[c](p.y)}},{beans:!0})),vt=ee.extend({initialize:function(t,r,n,s,u,o){this._set(t,r,n,s,!0),this._owner=u,this._setter=o},_set:function(e,t,r,n,s){return this._x=e,this._y=t,this._width=r,this._height=n,s||this._owner[this._setter](this),this}},new function(){var e=ee.prototype;return L.each(["x","y","width","height"],function(t){var r=L.capitalize(t),n="_"+t;this["get"+r]=function(){return this[n]},this["set"+r]=function(s){this[n]=s,this._dontNotify||this._owner[this._setter](this)}},L.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(t){var r="set"+t;this[r]=function(){this._dontNotify=!0,e[r].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(t){var r=this._owner;r._changeSelection&&r._changeSelection(2,t)}}))}),Le=L.extend({_class:"Matrix",initialize:function e(t,r){var n=arguments,s=n.length,u=!0;if(s>=6?this._set.apply(this,n):s===1||s===2?t instanceof e?this._set(t._a,t._b,t._c,t._d,t._tx,t._ty,r):Array.isArray(t)?this._set.apply(this,r?t.concat([r]):t):u=!1:s?u=!1:this.reset(),!u)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(e,t,r,n,s,u,o){return this._a=e,this._b=t,this._c=r,this._d=n,this._tx=s,this._ty=u,o||this._changed(),this},_serialize:function(e,t){return L.serialize(this.getValues(),e,!0,t)},_changed:function(){var e=this._owner;e&&(e._applyMatrix?e.transform(null,!0):e._changed(25))},clone:function(){return new Le(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(e){return e===this||e&&this._a===e._a&&this._b===e._b&&this._c===e._c&&this._d===e._d&&this._tx===e._tx&&this._ty===e._ty},toString:function(){var e=Ce.instance;return"[["+[e.number(this._a),e.number(this._c),e.number(this._tx)].join(", ")+"], ["+[e.number(this._b),e.number(this._d),e.number(this._ty)].join(", ")+"]]"},reset:function(e){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,e||this._changed(),this},apply:function(e,t){var r=this._owner;return r?(r.transform(null,L.pick(e,!0),t),this.isIdentity()):!1},translate:function(){var e=z.read(arguments),t=e.x,r=e.y;return this._tx+=t*this._a+r*this._c,this._ty+=t*this._b+r*this._d,this._changed(),this},scale:function(){var e=arguments,t=z.read(e),r=z.read(e,0,{readNull:!0});return r&&this.translate(r),this._a*=t.x,this._b*=t.x,this._c*=t.y,this._d*=t.y,r&&this.translate(r.negate()),this._changed(),this},rotate:function(e){e*=Math.PI/180;var t=z.read(arguments,1),r=t.x,n=t.y,s=Math.cos(e),u=Math.sin(e),o=r-r*s+n*u,l=n-r*u-n*s,h=this._a,c=this._b,g=this._c,v=this._d;return this._a=s*h+u*g,this._b=s*c+u*v,this._c=-u*h+s*g,this._d=-u*c+s*v,this._tx+=o*h+l*g,this._ty+=o*c+l*v,this._changed(),this},shear:function(){var e=arguments,t=z.read(e),r=z.read(e,0,{readNull:!0});r&&this.translate(r);var n=this._a,s=this._b;return this._a+=t.y*this._c,this._b+=t.y*this._d,this._c+=t.x*n,this._d+=t.x*s,r&&this.translate(r.negate()),this._changed(),this},skew:function(){var e=arguments,t=z.read(e),r=z.read(e,0,{readNull:!0}),n=Math.PI/180,s=new z(Math.tan(t.x*n),Math.tan(t.y*n));return this.shear(s,r)},append:function(e,t){if(e){var r=this._a,n=this._b,s=this._c,u=this._d,o=e._a,l=e._c,h=e._b,c=e._d,g=e._tx,v=e._ty;this._a=o*r+h*s,this._c=l*r+c*s,this._b=o*n+h*u,this._d=l*n+c*u,this._tx+=g*r+v*s,this._ty+=g*n+v*u,t||this._changed()}return this},prepend:function(e,t){if(e){var r=this._a,n=this._b,s=this._c,u=this._d,o=this._tx,l=this._ty,h=e._a,c=e._c,g=e._b,v=e._d,p=e._tx,d=e._ty;this._a=h*r+c*n,this._c=h*s+c*u,this._b=g*r+v*n,this._d=g*s+v*u,this._tx=h*o+c*l+p,this._ty=g*o+v*l+d,t||this._changed()}return this},appended:function(e){return this.clone().append(e)},prepended:function(e){return this.clone().prepend(e)},invert:function(){var e=this._a,t=this._b,r=this._c,n=this._d,s=this._tx,u=this._ty,o=e*n-t*r,l=null;return o&&!isNaN(o)&&isFinite(s)&&isFinite(u)&&(this._a=n/o,this._b=-t/o,this._c=-r/o,this._d=e/o,this._tx=(r*u-n*s)/o,this._ty=(t*s-e*u)/o,l=this),l},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new Le(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var e=this._a*this._d-this._c*this._b;return e&&!isNaN(e)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(e,t,r){return arguments.length<3?this._transformPoint(z.read(arguments)):this._transformCoordinates(e,t,r)},_transformPoint:function(e,t,r){var n=e.x,s=e.y;return t||(t=new z),t._set(n*this._a+s*this._c+this._tx,n*this._b+s*this._d+this._ty,r)},_transformCoordinates:function(e,t,r){for(var n=0,s=2*r;n<s;n+=2){var u=e[n],o=e[n+1];t[n]=u*this._a+o*this._c+this._tx,t[n+1]=u*this._b+o*this._d+this._ty}return t},_transformCorners:function(e){var t=e.x,r=e.y,n=t+e.width,s=r+e.height,u=[t,r,n,r,n,s,t,s];return this._transformCoordinates(u,u,4)},_transformBounds:function(e,t,r){for(var n=this._transformCorners(e),s=n.slice(0,2),u=s.slice(),o=2;o<8;o++){var l=n[o],h=o&1;l<s[h]?s[h]=l:l>u[h]&&(u[h]=l)}return t||(t=new ee),t._set(s[0],s[1],u[0]-s[0],u[1]-s[1],r)},inverseTransform:function(){return this._inverseTransform(z.read(arguments))},_inverseTransform:function(e,t,r){var n=this._a,s=this._b,u=this._c,o=this._d,l=this._tx,h=this._ty,c=n*o-s*u,g=null;if(c&&!isNaN(c)&&isFinite(l)&&isFinite(h)){var v=e.x-this._tx,p=e.y-this._ty;t||(t=new z),g=t._set((v*o-p*u)/c,(p*n-v*s)/c,r)}return g},decompose:function(){var e=this._a,t=this._b,r=this._c,n=this._d,s=e*n-t*r,u=Math.sqrt,o=Math.atan2,l=180/Math.PI,h,c,g;if(e!==0||t!==0){var v=u(e*e+t*t);h=Math.acos(e/v)*(t>0?1:-1),c=[v,s/v],g=[o(e*r+t*n,v*v),0]}else if(r!==0||n!==0){var p=u(r*r+n*n);h=Math.asin(r/p)*(n>0?1:-1),c=[s/p,p],g=[0,o(e*r+t*n,p*p)]}else h=0,g=c=[0,0];return{translation:this.getTranslation(),rotation:h*l,scaling:new z(c),skewing:new z(g[0]*l,g[1]*l)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new z(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(e){this.isIdentity()||e.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},L.each(["a","b","c","d","tx","ty"],function(e){var t=L.capitalize(e),r="_"+e;this["get"+t]=function(){return this[r]},this["set"+t]=function(n){this[r]=n,this._changed()}},{})),tt=L.extend({_class:"Line",initialize:function(t,r,n,s,u){var o=!1;arguments.length>=4?(this._px=t,this._py=r,this._vx=n,this._vy=s,o=u):(this._px=t.x,this._py=t.y,this._vx=r.x,this._vy=r.y,o=n),o||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new z(this._px,this._py)},getVector:function(){return new z(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(e,t){return tt.intersect(this._px,this._py,this._vx,this._vy,e._px,e._py,e._vx,e._vy,!0,t)},getSide:function(e,t){return tt.getSide(this._px,this._py,this._vx,this._vy,e.x,e.y,!0,t)},getDistance:function(e){return Math.abs(this.getSignedDistance(e))},getSignedDistance:function(e){return tt.getSignedDistance(this._px,this._py,this._vx,this._vy,e.x,e.y,!0)},isCollinear:function(e){return z.isCollinear(this._vx,this._vy,e._vx,e._vy)},isOrthogonal:function(e){return z.isOrthogonal(this._vx,this._vy,e._vx,e._vy)},statics:{intersect:function(e,t,r,n,s,u,o,l,h,c){h||(r-=e,n-=t,o-=s,l-=u);var g=r*l-n*o;if(!ne.isMachineZero(g)){var v=e-s,p=t-u,d=(o*p-l*v)/g,x=(r*p-n*v)/g,b=1e-12,k=-b,_=1+b;if(c||k<d&&d<_&&k<x&&x<_)return c||(d=d<=0?0:d>=1?1:d),new z(e+d*r,t+d*n)}},getSide:function(e,t,r,n,s,u,o,l){o||(r-=e,n-=t);var h=s-e,c=u-t,g=h*n-c*r;return!l&&ne.isMachineZero(g)&&(g=(h*r+h*r)/(r*r+n*n),g>=0&&g<=1&&(g=0)),g<0?-1:g>0?1:0},getSignedDistance:function(e,t,r,n,s,u,o){return o||(r-=e,n-=t),r===0?n>0?s-e:e-s:n===0?r<0?u-t:t-u:((s-e)*n-(u-t)*r)/(n>r?n*Math.sqrt(1+r*r/(n*n)):r*Math.sqrt(1+n*n/(r*r)))},getDistance:function(e,t,r,n,s,u,o){return Math.abs(tt.getSignedDistance(e,t,r,n,s,u,o))}}}),Ne=Se.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(t){Se.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new ti(null,null,this),this._view=St.create(this,t||re.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(e,t){return L.serialize(this._children,e,!0,t)},_changed:function(e,t){if(e&1){var r=this._view;r&&(r._needsUpdate=!0,!r._requested&&r._autoUpdate&&r.requestUpdate())}var n=this._changes;if(n&&t){var s=this._changesById,u=t._id,o=s[u];o?o.flags|=e:n.push(s[u]={item:t,flags:e})}},clear:function(){for(var e=this._children,t=e.length-1;t>=0;t--)e[t].remove()},isEmpty:function(){return!this._children.length},remove:function e(){return e.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(e){this._currentStyle.set(e)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new xt({project:this,insert:!0})},getSymbolDefinitions:function(){var e=[],t={};return this.getItems({class:ht,match:function(r){var n=r._definition,s=n._id;return t[s]||(t[s]=!0,e.push(n)),!1}}),e},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var e=this._selectionItems,t=[];for(var r in e){var n=e[r],s=n._selection;s&1&&n.isInserted()?t.push(n):s||this._updateSelection(n)}return t},_updateSelection:function(e){var t=e._id,r=this._selectionItems;e._selection?r[t]!==e&&(this._selectionCount++,r[t]=e):r[t]===e&&(this._selectionCount--,delete r[t])},selectAll:function(){for(var e=this._children,t=0,r=e.length;t<r;t++)e[t].setFullySelected(!0)},deselectAll:function(){var e=this._selectionItems;for(var t in e)e[t].setFullySelected(!1)},addLayer:function(e){return this.insertLayer(G,e)},insertLayer:function(e,t){if(t instanceof xt){t._remove(!1,!0),L.splice(this._children,[t],e,0),t._setProject(this,!0);var r=t._name;r&&t.setName(r),this._changes&&t._changed(5),this._activeLayer||(this._activeLayer=t)}else t=null;return t},_insertItem:function(e,t,r){return t=this.insertLayer(e,t)||(this._activeLayer||this._insertItem(G,new xt(P.NO_INSERT),!0)).insertChild(e,t),r&&t.activate&&t.activate(),t},getItems:function(e){return P._getItems(this,e)},getItem:function(e){return P._getItems(this,e,null,null,!0)[0]||null},importJSON:function(e){this.activate();var t=this._activeLayer;return L.importJSON(e,t&&t.isEmpty()&&t)},removeOn:function(e){var t=this._removeSets;if(t){e==="mouseup"&&(t.mousedrag=null);var r=t[e];if(r){for(var n in r){var s=r[n];for(var u in t){var o=t[u];o&&o!=r&&delete o[s._id]}s.remove()}t[e]=null}}},draw:function(e,t,r){this._updateVersion++,e.save(),t.applyToContext(e);for(var n=this._children,s=new L({offset:new z(0,0),pixelRatio:r,viewMatrix:t.isIdentity()?null:t,matrices:[new Le],updateMatrix:!0}),u=0,o=n.length;u<o;u++)n[u].draw(e,s);if(e.restore(),this._selectionCount>0){e.save(),e.strokeWidth=1;var l=this._selectionItems,h=this._scope.settings.handleSize,c=this._updateVersion;for(var g in l)l[g]._drawSelection(e,t,h,l,c);e.restore()}}}),P=L.extend(Ue,{statics:{extend:function e(t){return t._serializeFields&&(t._serializeFields=L.set({},this.prototype._serializeFields,t._serializeFields)),e.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new Le,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var e=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return L.each(e,function(t){this._events[t]={install:function(r){this.getView()._countItemEvent(r,1)},uninstall:function(r){this.getView()._countItemEvent(r,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:e}})},{initialize:function(){},_initialize:function(e,t){var r=e&&L.isPlainObject(e),n=r&&e.internal===!0,s=this._matrix=new Le,u=r&&e.project||Ae.project,o=Ae.settings;return this._id=n?null:De.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&o.applyMatrix,t&&s.translate(t),s._owner=this,this._style=new ti(u._currentStyle,this,u),n||r&&e.insert==!1||!o.insertItems&&!(r&&e.insert==!0)?this._setProject(u):(r&&e.parent||u)._insertItem(G,this,!0),r&&e!==P.NO_INSERT&&e!==P.INSERT&&this.set(e,{internal:!0,insert:!0,project:!0,parent:!0}),r},_serialize:function(e,t){var r={},n=this;function s(u){for(var o in u){var l=n[o];L.equals(l,o==="leading"?u.fontSize*1.2:u[o])||(r[o]=L.serialize(l,e,o!=="data",t))}}return s(this._serializeFields),this instanceof Ze||s(this._style._defaults),[this._class,r]},_changed:function(e){var t=this._symbol,r=this._parent||t,n=this._project;e&8&&(this._bounds=this._position=this._decomposed=G),e&16&&(this._globalMatrix=G),r&&e&72&&P._clearBoundsCache(r),e&2&&P._clearBoundsCache(this),n&&n._changed(e,this),t&&t._changed(e)},getId:function(){return this._id},getName:function(){return this._name},setName:function(e){if(this._name&&this._removeNamed(),e===+e+"")throw new Error("Names consisting only of numbers are not supported.");var t=this._getOwner();if(e&&t){var r=t._children,n=t._namedChildren;(n[e]=n[e]||[]).push(this),e in r||(r[e]=this)}this._name=e||G,this._changed(256)},getStyle:function(){return this._style},setStyle:function(e){this.getStyle().set(e)}},L.each(["locked","visible","blendMode","opacity","guide"],function(e){var t=L.capitalize(e),r="_"+e,n={locked:256,visible:265};this["get"+t]=function(){return this[r]},this["set"+t]=function(s){s!=this[r]&&(this[r]=s,this._changed(n[e]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(e){if(e!==this._selection){this._selection=e;var t=this._project;t&&(t._updateSelection(this),this._changed(257))}},_changeSelection:function(e,t){var r=this._selection;this.setSelection(t?r|e:r&~e)},isSelected:function(){if(this._selectChildren){for(var e=this._children,t=0,r=e.length;t<r;t++)if(e[t].isSelected())return!0}return!!(this._selection&1)},setSelected:function(e){if(this._selectChildren)for(var t=this._children,r=0,n=t.length;r<n;r++)t[r].setSelected(e);this._changeSelection(1,e)},isFullySelected:function(){var e=this._children,t=!!(this._selection&1);if(e&&t){for(var r=0,n=e.length;r<n;r++)if(!e[r].isFullySelected())return!1;return!0}return t},setFullySelected:function(e){var t=this._children;if(t)for(var r=0,n=t.length;r<n;r++)t[r].setFullySelected(e);this._changeSelection(1,e)},isClipMask:function(){return this._clipMask},setClipMask:function(e){this._clipMask!=(e=!!e)&&(this._clipMask=e,e&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(e){this._data=e},getPosition:function(e){var t=e?z:Me,r=this._position||(this._position=this._getPositionFromBounds());return new t(r.x,r.y,this,"setPosition")},setPosition:function(){this.translate(z.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(e){return this._pivot?this._matrix._transformPoint(this._pivot):(e||this.getBounds()).getCenter(!0)},getPivot:function(){var e=this._pivot;return e?new Me(e.x,e.y,this,"setPivot"):null},setPivot:function(){this._pivot=z.read(arguments,0,{clone:!0,readNull:!0}),this._position=G}},L.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(e,t){this[t]=function(r){return this.getBounds(r,e)}},{beans:!0,getBounds:function(e,t){var r=t||e instanceof Le,n=L.set({},r?t:e,this._boundsOptions);(!n.stroke||this.getStrokeScaling())&&(n.cacheItem=this);var s=this._getCachedBounds(r&&e,n).rect;return arguments.length?s:new vt(s.x,s.y,s.width,s.height,this,"setBounds")},setBounds:function(){var e=ee.read(arguments),t=this.getBounds(),r=this._matrix,n=new Le,s=e.getCenter();n.translate(s),(e.width!=t.width||e.height!=t.height)&&(r.isInvertible()||(r.set(r._backup||new Le().translate(r.getTranslation())),t=this.getBounds()),n.scale(t.width!==0?e.width/t.width:0,t.height!==0?e.height/t.height:0)),s=t.getCenter(),n.translate(-s.x,-s.y),this.transform(n)},_getBounds:function(e,t){var r=this._children;return!r||!r.length?new ee:(P._updateBoundsCache(this,t.cacheItem),P._getBounds(r,e,t))},_getBoundsCacheKey:function(e,t){return[e.stroke?1:0,e.handle?1:0,t?1:0].join("")},_getCachedBounds:function(e,t,r){e=e&&e._orNullIfIdentity();var n=t.internal&&!r,s=t.cacheItem,u=n?null:this._matrix._orNullIfIdentity(),o=s&&(!e||e.equals(u))&&this._getBoundsCacheKey(t,n),l=this._bounds;if(P._updateBoundsCache(this._parent||this._symbol,s),o&&l&&o in l){var h=l[o];return{rect:h.rect.clone(),nonscaling:h.nonscaling}}var c=this._getBounds(e||u,t),g=c.rect||c,v=this._style,p=c.nonscaling||v.hasStroke()&&!v.getStrokeScaling();if(o){l||(this._bounds=l={});var h=l[o]={rect:g.clone(),nonscaling:p,internal:n}}return{rect:g,nonscaling:p}},_getStrokeMatrix:function(e,t){var r=this.getStrokeScaling()?null:t&&t.internal?this:this._parent||this._symbol&&this._symbol._item,n=r?r.getViewMatrix().invert():e;return n&&n._shiftless()},statics:{_updateBoundsCache:function(e,t){if(e&&t){var r=t._id,n=e._boundsCache=e._boundsCache||{ids:{},list:[]};n.ids[r]||(n.list.push(t),n.ids[r]=t)}},_clearBoundsCache:function(e){var t=e._boundsCache;if(t){e._bounds=e._position=e._boundsCache=G;for(var r=0,n=t.list,s=n.length;r<s;r++){var u=n[r];u!==e&&(u._bounds=u._position=G,u._boundsCache&&P._clearBoundsCache(u))}}},_getBounds:function(e,t,r){var n=1/0,s=-n,u=n,o=s,l=!1;r=r||{};for(var h=0,c=e.length;h<c;h++){var g=e[h];if(g._visible&&!g.isEmpty(!0)){var v=g._getCachedBounds(t&&t.appended(g._matrix),r,!0),p=v.rect;n=Math.min(p.x,n),u=Math.min(p.y,u),s=Math.max(p.x+p.width,s),o=Math.max(p.y+p.height,o),v.nonscaling&&(l=!0)}}return{rect:isFinite(n)?new ee(n,u,s-n,o-u):new ee,nonscaling:l}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var e=this._decompose();return e?e.rotation:0},setRotation:function(e){var t=this.getRotation();if(t!=null&&e!=null){var r=this._decomposed;this.rotate(e-t),r&&(r.rotation=e,this._decomposed=r)}},getScaling:function(){var e=this._decompose(),t=e&&e.scaling;return new Me(t?t.x:1,t?t.y:1,this,"setScaling")},setScaling:function(){var e=this.getScaling(),t=z.read(arguments,0,{clone:!0,readNull:!0});if(e&&t&&!e.equals(t)){var r=this.getRotation(),n=this._decomposed,s=new Le,u=ne.isZero;if(u(e.x)||u(e.y))s.translate(n.translation),r&&s.rotate(r),s.scale(t.x,t.y),this._matrix.set(s);else{var o=this.getPosition(!0);s.translate(o),r&&s.rotate(r),s.scale(t.x/e.x,t.y/e.y),r&&s.rotate(-r),s.translate(o.negate()),this.transform(s)}n&&(n.scaling=t,this._decomposed=n)}},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.set.apply(e,arguments)},getGlobalMatrix:function(e){var t=this._globalMatrix;if(t)for(var r=this._parent,n=[];r;){if(!r._globalMatrix){t=null;for(var s=0,u=n.length;s<u;s++)n[s]._globalMatrix=null;break}n.push(r),r=r._parent}if(!t){t=this._globalMatrix=this._matrix.clone();var r=this._parent;r&&t.prepend(r.getGlobalMatrix(!0))}return e?t:t.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(e){(this._applyMatrix=this._canApplyMatrix&&!!e)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(e,t){if(this._project!==e){this._project&&this._installEvents(!1),this._project=e;for(var r=this._children,n=0,s=r&&r.length;n<s;n++)r[n]._setProject(e);t=!0}t&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function e(t){e.base.call(this,t);for(var r=this._children,n=0,s=r&&r.length;n<s;n++)r[n]._installEvents(t)},getLayer:function(){for(var e=this;e=e._parent;)if(e instanceof xt)return e;return null},getParent:function(){return this._parent},setParent:function(e){return e.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(e){this.removeChildren(),this.addChildren(e)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var e=this._getOwner();return e&&e._children[this._index+1]||null},getPreviousSibling:function(){var e=this._getOwner();return e&&e._children[this._index-1]||null},getIndex:function(){return this._index},setIndex:function(e){var t=this._parent,r=t&&t._children;r&&t.insertChildren(e in r?e:G,[this])},equals:function(e){return e===this||e&&this._class===e._class&&this._style.equals(e._style)&&this._matrix.equals(e._matrix)&&this._locked===e._locked&&this._visible===e._visible&&this._blendMode===e._blendMode&&this._opacity===e._opacity&&this._clipMask===e._clipMask&&this._guide===e._guide&&this._equals(e)||!1},_equals:function(e){return L.equals(this._children,e._children)},clone:function(e){var t=new this.constructor(P.NO_INSERT),r=this._children,n=L.pick(e?e.insert:G,e===G||e===!0),s=L.pick(e?e.deep:G,!0);r&&t.copyAttributes(this),(!r||s)&&t.copyContent(this),r||t.copyAttributes(this),n&&t.insertAbove(this);var u=this._name,o=this._parent;if(u&&o){for(var r=o._children,l=u,h=1;r[u];)u=l+" "+h++;u!==l&&t.setName(u)}return t},copyContent:function(e){for(var t=e._children,r=0,n=t&&t.length;r<n;r++)this.addChild(t[r].clone(!1),!0)},copyAttributes:function(e,t){this.setStyle(e._style);for(var r=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],n=0,s=r.length;n<s;n++){var u=r[n];e.hasOwnProperty(u)&&(this[u]=e[u])}t||this._matrix.set(e._matrix,!0),this.setApplyMatrix(e._applyMatrix),this.setPivot(e._pivot),this.setSelection(e._selection);var o=e._data,l=e._name;this._data=o?L.clone(o):null,l&&this.setName(l)},rasterize:function(e,t){var r,n,s;L.isPlainObject(e)?(r=e.resolution,n=e.insert,s=e.raster):(r=e,n=t),s||(s=new it(P.NO_INSERT));var u=this.getStrokeBounds(),o=(r||this.getView().getResolution())/72,l=u.getTopLeft().floor(),h=u.getBottomRight().ceil(),c=new ce(h.subtract(l)),g=c.multiply(o);if(s.setSize(g,!0),!g.isZero()){var v=s.getContext(!0),p=new Le().scale(o).translate(l.negate());v.save(),p.applyToContext(v),this.draw(v,new L({matrices:[p]})),v.restore()}return s._matrix.set(new Le().translate(l.add(c.divide(2))).scale(1/o)),(n===G||n)&&s.insertAbove(this),s},contains:function(){var e=this._matrix;return e.isInvertible()&&!!this._contains(e._inverseTransform(z.read(arguments)))},_contains:function(e){var t=this._children;if(t){for(var r=t.length-1;r>=0;r--)if(t[r].contains(e))return!0;return!1}return e.isInside(this.getInternalBounds())},isInside:function(){return ee.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new ke.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(e,t){return e instanceof P?this._asPathItem().getIntersections(e._asPathItem(),null,t,!0).length>0:!1}},new function(){function e(){var n=arguments;return this._hitTest(z.read(n),_t.getOptions(n))}function t(){var n=arguments,s=z.read(n),u=_t.getOptions(n),o=[];return this._hitTest(s,new L({all:o},u)),o}function r(n,s,u,o){var l=this._children;if(l)for(var h=l.length-1;h>=0;h--){var c=l[h],g=c!==o&&c._hitTest(n,s,u);if(g&&!s.all)return g}return null}return Ne.inject({hitTest:e,hitTestAll:t,_hitTest:r}),{hitTest:e,hitTestAll:t,_hitTestChildren:r}},{_hitTest:function(e,t,r){if(this._locked||!this._visible||this._guide&&!t.guides||this.isEmpty())return null;var n=this._matrix,s=r?r.appended(n):this.getGlobalMatrix().prepend(this.getView()._matrix),u=Math.max(t.tolerance,1e-12),o=t._tolerancePadding=new ce(ke._getStrokePadding(u,n._shiftless().invert()));if(e=n._inverseTransform(e),!e||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(o.multiply(2))._containsPoint(e))return null;var l=!(t.guides&&!this._guide||t.selected&&!this.isSelected()||t.type&&t.type!==L.hyphenate(this._class)||t.class&&!(this instanceof t.class)),h=t.match,c=this,g,v;function p(f){return f&&h&&!h(f)&&(f=null),f&&t.all&&t.all.push(f),f}function d(f,y){var C=y?g["get"+y]():c.getPosition();if(e.subtract(C).divide(o).length<=1)return new _t(f,c,{name:y?L.hyphenate(y):f,point:C})}var x=t.position,b=t.center,k=t.bounds;if(l&&this._parent&&(x||b||k)){if((b||k)&&(g=this.getInternalBounds()),v=x&&d("position")||b&&d("center","Center"),!v&&k)for(var _=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],w=0;w<8&&!v;w++)v=d("bounds",_[w]);v=p(v)}return v||(v=this._hitTestChildren(e,t,s)||l&&p(this._hitTestSelf(e,t,s,this.getStrokeScaling()?null:s._shiftless().invert()))||null),v&&v.point&&(v.point=n.transform(v.point)),v},_hitTestSelf:function(e,t){if(t.fill&&this.hasFill()&&this._contains(e))return new _t("fill",this)},matches:function(e,t){function r(o,l){for(var h in o)if(o.hasOwnProperty(h)){var c=o[h],g=l[h];if(L.isPlainObject(c)&&L.isPlainObject(g)){if(!r(c,g))return!1}else if(!L.equals(c,g))return!1}return!0}var n=typeof e;if(n==="object"){for(var s in e)if(e.hasOwnProperty(s)&&!this.matches(s,e[s]))return!1;return!0}else{if(n==="function")return e(this);if(e==="match")return t(this);var u=/^(empty|editable)$/.test(e)?this["is"+L.capitalize(e)]():e==="type"?L.hyphenate(this._class):this[e];if(e==="class"){if(typeof t=="function")return this instanceof t;u=this._class}if(typeof t=="function")return!!t(u);if(t){if(t.test)return t.test(u);if(L.isPlainObject(t))return r(t,u)}return L.equals(u,t)}},getItems:function(e){return P._getItems(this,e,this._matrix)},getItem:function(e){return P._getItems(this,e,this._matrix,null,!0)[0]||null},statics:{_getItems:function e(t,r,n,s,u){if(!s){var o=typeof r=="object"&&r,l=o&&o.overlapping,h=o&&o.inside,c=l||h,p=c&&ee.read([c]);s={items:[],recursive:o&&o.recursive!==!1,inside:!!h,overlapping:!!l,rect:p,path:l&&new ke.Rectangle({rectangle:p,insert:!1})},o&&(r=L.filter({},r,{recursive:!0,inside:!0,overlapping:!0}))}var g=t._children,v=s.items,p=s.rect;n=p&&(n||new Le);for(var d=0,x=g&&g.length;d<x;d++){var b=g[d],k=n&&n.appended(b._matrix),_=!0;if(p){var c=b.getBounds(k);if(!p.intersects(c))continue;p.contains(c)||s.overlapping&&(c.contains(p)||s.path.intersects(b,k))||(_=!1)}if(_&&b.matches(r)&&(v.push(b),u)||(s.recursive!==!1&&e(b,r,k,s,u),u&&v.length>0))break}return v}}},{importJSON:function(e){var t=L.importJSON(e,this);return t!==this?this.addChild(t):t},addChild:function(e){return this.insertChild(G,e)},insertChild:function(e,t){var r=t?this.insertChildren(e,[t]):null;return r&&r[0]},addChildren:function(e){return this.insertChildren(this._children.length,e)},insertChildren:function(e,t){var r=this._children;if(r&&t&&t.length>0){t=L.slice(t);for(var n={},s=t.length-1;s>=0;s--){var u=t[s],o=u&&u._id;!u||n[o]?t.splice(s,1):(u._remove(!1,!0),n[o]=!0)}L.splice(r,t,e,0);for(var l=this._project,h=l._changes,s=0,c=t.length;s<c;s++){var u=t[s],g=u._name;u._parent=this,u._setProject(l,!0),g&&u.setName(g),h&&u._changed(5)}this._changed(11)}else t=null;return t},_insertItem:"#insertChild",_insertAt:function(e,t){var r=e&&e._getOwner(),n=e!==this&&r?this:null;return n&&(n._remove(!1,!0),r._insertItem(e._index+t,n)),n},insertAbove:function(e){return this._insertAt(e,1)},insertBelow:function(e){return this._insertAt(e,0)},sendToBack:function(){var e=this._getOwner();return e?e._insertItem(0,this):null},bringToFront:function(){var e=this._getOwner();return e?e._insertItem(G,this):null},appendTop:"#addChild",appendBottom:function(e){return this.insertChild(0,e)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(e){return e._insertItem(G,this)},copyTo:function(e){return this.clone(!1).addTo(e)},reduce:function(e){var t=this._children;if(t&&t.length===1){var r=t[0].reduce(e);return this._parent?(r.insertAbove(this),this.remove()):r.remove(),r}return this},_removeNamed:function(){var e=this._getOwner();if(e){var t=e._children,r=e._namedChildren,n=this._name,s=r[n],u=s?s.indexOf(this):-1;u!==-1&&(t[n]==this&&delete t[n],s.splice(u,1),s.length?t[n]=s[0]:delete r[n])}},_remove:function(e,t){var r=this._getOwner(),n=this._project,s=this._index;return this._style&&this._style._dispose(),r?(this._name&&this._removeNamed(),s!=null&&(n._activeLayer===this&&(n._activeLayer=this.getNextSibling()||this.getPreviousSibling()),L.splice(r._children,null,s,1)),this._installEvents(!1),e&&n._changes&&this._changed(5),t&&r._changed(11,this),this._parent=null,!0):!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(e){var t=e&&e.insertBelow(this);return t&&this.remove(),t},removeChildren:function(e,t){if(!this._children)return null;e=e||0,t=L.pick(t,this._children.length);for(var r=L.splice(this._children,null,e,t-e),n=r.length-1;n>=0;n--)r[n]._remove(!0,!1);return r.length>0&&this._changed(11),r},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var e=0,t=this._children.length;e<t;e++)this._children[e]._index=e;this._changed(11)}},isEmpty:function(e){var t=this._children,r=t?t.length:0;if(e){for(var n=0;n<r;n++)if(!t[n].isEmpty(e))return!1;return!0}return!r},isEditable:function(){for(var e=this;e;){if(!e._visible||e._locked)return!1;e=e._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(e){function t(o){var l=[];do l.unshift(o);while(o=o._parent);return l}for(var r=t(this),n=t(e),s=0,u=Math.min(r.length,n.length);s<u;s++)if(r[s]!=n[s])return r[s]._index<n[s]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(e){return this._getOrder(e)===-1},isBelow:function(e){return this._getOrder(e)===1},isParent:function(e){return this._parent===e},isChild:function(e){return e&&e._parent===this},isDescendant:function(e){for(var t=this;t=t._parent;)if(t===e)return!0;return!1},isAncestor:function(e){return e?e.isDescendant(this):!1},isSibling:function(e){return this._parent===e._parent},isGroupedWith:function(e){for(var t=this._parent;t;){if(t._parent&&/^(Group|Layer|CompoundPath)$/.test(t._class)&&e.isDescendant(t))return!0;t=t._parent}return!1}},L.each(["rotate","scale","shear","skew"],function(e){var t=e==="rotate";this[e]=function(){var r=arguments,n=(t?L:z).read(r),s=z.read(r,0,{readNull:!0});return this.transform(new Le()[e](n,s||this.getPosition(!0)))}},{translate:function(){var e=new Le;return this.transform(e.translate.apply(e,arguments))},transform:function(e,t,r){var n=this._matrix,s=e&&!e.isIdentity(),u=r&&this._canApplyMatrix||this._applyMatrix&&(s||!n.isIdentity()||t&&this._children);if(!s&&!u)return this;if(s){!e.isInvertible()&&n.isInvertible()&&(n._backup=n.getValues()),n.prepend(e,!0);var o=this._style,l=o.getFillColor(!0),h=o.getStrokeColor(!0);l&&l.transform(e),h&&h.transform(e)}if(u&&(u=this._transformContent(n,t,r))){var c=this._pivot;c&&n._transformPoint(c,c,!0),n.reset(!0),r&&this._canApplyMatrix&&(this._applyMatrix=!0)}var g=this._bounds,v=this._position;(s||u)&&this._changed(25);var p=s&&g&&e.decompose();if(p&&p.skewing.isZero()&&p.rotation%90===0){for(var d in g){var x=g[d];if(x.nonscaling)delete g[d];else if(u||!x.internal){var b=x.rect;e._transformBounds(b,b)}}this._bounds=g;var k=g[this._getBoundsCacheKey(this._boundsOptions||{})];k&&(this._position=this._getPositionFromBounds(k.rect))}else s&&v&&this._pivot&&(this._position=e._transformPoint(v,v));return this},_transformContent:function(e,t,r){var n=this._children;if(n){for(var s=0,u=n.length;s<u;s++)n[s].transform(e,t,r);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(z.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(z.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(z.read(arguments))},localToParent:function(){return this._matrix._transformPoint(z.read(arguments))},fitBounds:function(e,t){e=ee.read(arguments);var r=this.getBounds(),n=r.height/r.width,s=e.height/e.width,u=(t?n>s:n<s)?e.width/r.width:e.height/r.height,o=new ee(new z,new ce(r.width*u,r.height*u));o.setCenter(e.getCenter()),this.setBounds(o)}}),{_setStyles:function(e,t,r){var n=this._style,s=this._matrix;if(n.hasFill()&&(e.fillStyle=n.getFillColor().toCanvasStyle(e,s)),n.hasStroke()){e.strokeStyle=n.getStrokeColor().toCanvasStyle(e,s),e.lineWidth=n.getStrokeWidth();var u=n.getStrokeJoin(),o=n.getStrokeCap(),l=n.getMiterLimit();if(u&&(e.lineJoin=u),o&&(e.lineCap=o),l&&(e.miterLimit=l),Ae.support.nativeDash){var h=n.getDashArray(),c=n.getDashOffset();h&&h.length&&("setLineDash"in e?(e.setLineDash(h),e.lineDashOffset=c):(e.mozDash=h,e.mozDashOffset=c))}}if(n.hasShadow()){var g=t.pixelRatio||1,v=r._shiftless().prepend(new Le().scale(g,g)),p=v.transform(new z(n.getShadowBlur(),0)),d=v.transform(this.getShadowOffset());e.shadowColor=n.getShadowColor().toCanvasStyle(e),e.shadowBlur=p.getLength(),e.shadowOffsetX=d.x,e.shadowOffsetY=d.y}},draw:function(e,t,r){if(this._updateVersion=this._project._updateVersion,!(!this._visible||this._opacity===0)){var n=t.matrices,s=t.viewMatrix,u=this._matrix,o=n[n.length-1].appended(u);if(o.isInvertible()){s=s?s.appended(o):o,n.push(o),t.updateMatrix&&(this._globalMatrix=o);var l=this._blendMode,h=ne.clamp(this._opacity,0,1),c=l==="normal",g=fe.nativeModes[l],v=c&&h===1||t.dontStart||t.clip||(g||c&&h<1)&&this._canComposite(),p=t.pixelRatio||1,d,x,b;if(!v){var k=this.getStrokeBounds(s);if(!k.width||!k.height){n.pop();return}b=t.offset,x=t.offset=k.getTopLeft().floor(),d=e,e=re.getContext(k.getSize().ceil().add(1).multiply(p)),p!==1&&e.scale(p,p)}e.save();var _=r?r.appended(u):this._canScaleStroke&&!this.getStrokeScaling(!0)&&s,w=!v&&t.clipItem,f=!_||w;if(v?(e.globalAlpha=h,g&&(e.globalCompositeOperation=l)):f&&e.translate(-x.x,-x.y),f&&(v?u:s).applyToContext(e),w&&t.clipItem.draw(e,t.extend({clip:!0})),_){e.setTransform(p,0,0,p,0,0);var y=t.offset;y&&e.translate(-y.x,-y.y)}this._draw(e,t,s,_),e.restore(),n.pop(),t.clip&&!t.dontFinish&&e.clip(this.getFillRule()),v||(fe.process(l,e,d,h,x.subtract(b).multiply(p)),re.release(e),t.offset=b)}}},_isUpdated:function(e){var t=this._parent;if(t instanceof ut)return t._isUpdated(e);var r=this._updateVersion===e;return!r&&t&&t._visible&&t._isUpdated(e)&&(this._updateVersion=e,r=!0),r},_drawSelection:function(e,t,r,n,s){var u=this._selection,o=u&1,l=u&2||o&&this._selectBounds,h=u&4;if(this._drawSelected||(o=!1),(o||l||h)&&this._isUpdated(s)){var c,g=this.getSelectedColor(!0)||(c=this.getLayer())&&c.getSelectedColor(!0),v=t.appended(this.getGlobalMatrix(!0)),p=r/2;if(e.strokeStyle=e.fillStyle=g?g.toCanvasStyle(e):"#009dec",o&&this._drawSelected(e,v,n),h){var d=this.getPosition(!0),x=this._parent,b=x?x.localToGlobal(d):d,k=b.x,_=b.y;e.beginPath(),e.arc(k,_,p,0,Math.PI*2,!0),e.stroke();for(var w=[[0,-1],[1,0],[0,1],[-1,0]],f=p,y=r+1,C=0;C<4;C++){var A=w[C],S=A[0],T=A[1];e.moveTo(k+S*f,_+T*f),e.lineTo(k+S*y,_+T*y),e.stroke()}}if(l){var N=v._transformCorners(this.getInternalBounds());e.beginPath();for(var C=0;C<8;C++)e[C?"lineTo":"moveTo"](N[C],N[++C]);e.closePath(),e.stroke();for(var C=0;C<8;C++)e.fillRect(N[C]-p,N[++C]-p,r,r)}}},_canComposite:function(){return!1}},L.each(["down","drag","up","move"],function(e){this["removeOn"+L.capitalize(e)]=function(){var t={};return t[e]=!0,this.removeOn(t)}},{removeOn:function(e){for(var t in e)if(e[t]){var r="mouse"+t,n=this._project,s=n._removeSets=n._removeSets||{};s[r]=s[r]||{},s[r][this._id]=this}return this}}),{tween:function(e,t,r){r||(r=t,t=e,e=null,r||(r=t,t=null));var n=r&&r.easing,s=r&&r.start,u=r!=null&&(typeof r=="number"?r:r.duration),o=new ii(this,e,t,u,n,s);function l(h){o._handleFrame(h.time*1e3),o.running||this.off("frame",l)}return u&&this.on("frame",l),o},tweenTo:function(e,t){return this.tween(null,e,t)},tweenFrom:function(e,t){return this.tween(e,null,t)}}),Ze=P.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||this.addChildren(Array.isArray(t)?t:arguments)},_changed:function e(t){e.base.call(this,t),t&2050&&(this._clipItem=G)},_getClipItem:function(){var e=this._clipItem;if(e===G){e=null;for(var t=this._children,r=0,n=t.length;r<n;r++)if(t[r]._clipMask){e=t[r];break}this._clipItem=e}return e},isClipped:function(){return!!this._getClipItem()},setClipped:function(e){var t=this.getFirstChild();t&&t.setClipMask(e)},_getBounds:function e(t,r){var n=this._getClipItem();return n?n._getCachedBounds(n._matrix.prepended(t),L.set({},r,{stroke:!1})):e.base.call(this,t,r)},_hitTestChildren:function e(t,r,n){var s=this._getClipItem();return(!s||s.contains(t))&&e.base.call(this,t,r,n,s)},_draw:function(e,t){var r=t.clip,n=!r&&this._getClipItem();t=t.extend({clipItem:n,clip:!1}),r?(e.beginPath(),t.dontStart=t.dontFinish=!0):n&&n.draw(e,t.extend({clip:!0}));for(var s=this._children,u=0,o=s.length;u<o;u++){var l=s[u];l!==n&&l.draw(e,t)}}}),xt=Ze.extend({_class:"Layer",initialize:function(){Ze.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function e(){return this._parent?e.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),He=P.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(t,r){this._initialize(t,r)},_equals:function(e){return this._type===e._type&&this._size.equals(e._size)&&L.equals(this._radius,e._radius)},copyContent:function(e){this.setType(e._type),this.setSize(e._size),this.setRadius(e._radius)},getType:function(){return this._type},setType:function(e){this._type=e},getShape:"#getType",setShape:"#setType",getSize:function(){var e=this._size;return new Ie(e.width,e.height,this,"setSize")},setSize:function(){var e=ce.read(arguments);if(!this._size)this._size=e.clone();else if(!this._size.equals(e)){var t=this._type,r=e.width,n=e.height;t==="rectangle"?this._radius.set(ce.min(this._radius,e.divide(2).abs())):t==="circle"?(r=n=(r+n)/2,this._radius=r/2):t==="ellipse"&&this._radius._set(r/2,n/2),this._size._set(r,n),this._changed(9)}},getRadius:function(){var e=this._radius;return this._type==="circle"?e:new Ie(e.width,e.height,this,"setRadius")},setRadius:function(e){var t=this._type;if(t==="circle"){if(e===this._radius)return;var r=e*2;this._radius=e,this._size._set(r,r)}else if(e=ce.read(arguments),!this._radius)this._radius=e.clone();else{if(this._radius.equals(e))return;if(this._radius.set(e),t==="rectangle"){var r=ce.max(this._size,e.multiply(2));this._size.set(r)}else t==="ellipse"&&this._size._set(e.width*2,e.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(e){var t=new ke[L.capitalize(this._type)]({center:new z,size:this._size,radius:this._radius,insert:!1});return t.copyAttributes(this),Ae.settings.applyMatrix&&t.setApplyMatrix(!0),(e===G||e)&&t.insertAbove(this),t},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(e,t,r,n){var s=this._style,u=s.hasFill(),o=s.hasStroke(),l=t.dontFinish||t.clip,h=!n;if(u||o||l){var c=this._type,g=this._radius,v=c==="circle";if(t.dontStart||e.beginPath(),h&&v)e.arc(0,0,g,0,Math.PI*2,!0);else{var p=v?g:g.width,d=v?g:g.height,x=this._size,b=x.width,k=x.height;if(h&&c==="rectangle"&&p===0&&d===0)e.rect(-b/2,-k/2,b,k);else{var _=b/2,w=k/2,f=1-.5522847498307936,y=p*f,C=d*f,A=[-_,-w+d,-_,-w+C,-_+y,-w,-_+p,-w,_-p,-w,_-y,-w,_,-w+C,_,-w+d,_,w-d,_,w-C,_-y,w,_-p,w,-_+p,w,-_+y,w,-_,w-C,-_,w-d];n&&n.transform(A,A,32),e.moveTo(A[0],A[1]),e.bezierCurveTo(A[2],A[3],A[4],A[5],A[6],A[7]),_!==p&&e.lineTo(A[8],A[9]),e.bezierCurveTo(A[10],A[11],A[12],A[13],A[14],A[15]),w!==d&&e.lineTo(A[16],A[17]),e.bezierCurveTo(A[18],A[19],A[20],A[21],A[22],A[23]),_!==p&&e.lineTo(A[24],A[25]),e.bezierCurveTo(A[26],A[27],A[28],A[29],A[30],A[31])}}e.closePath()}!l&&(u||o)&&(this._setStyles(e,t,r),u&&(e.fill(s.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),o&&e.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(e,t){var r=new ee(this._size).setCenter(0,0),n=this._style,s=t.stroke&&n.hasStroke()&&n.getStrokeWidth();return e&&(r=e._transformBounds(r)),s?r.expand(ke._getStrokePadding(s,this._getStrokeMatrix(e,t))):r}},new function(){function e(r,n,s){var u=r._radius;if(!u.isZero())for(var o=r._size.divide(2),l=1;l<=4;l++){var h=new z(l>1&&l<4?-1:1,l>2?-1:1),c=h.multiply(o),g=c.subtract(h.multiply(u)),v=new ee(s?c.add(h.multiply(s)):c,g);if(v.contains(n))return{point:g,quadrant:l}}}function t(r,n,s,u){var o=r.divide(n);return(!u||o.isInQuadrant(u))&&o.subtract(o.normalize()).multiply(n).divide(s).length<=1}return{_contains:function r(n){if(this._type==="rectangle"){var s=e(this,n);return s?n.subtract(s.point).divide(this._radius).getLength()<=1:r.base.call(this,n)}else return n.divide(this.size).getLength()<=.5},_hitTestSelf:function r(n,s,u,o){var l=!1,h=this._style,c=s.stroke&&h.hasStroke(),g=s.fill&&h.hasFill();if(c||g){var v=this._type,p=this._radius,d=c?h.getStrokeWidth()/2:0,x=s._tolerancePadding.add(ke._getStrokePadding(d,!h.getStrokeScaling()&&o));if(v==="rectangle"){var b=x.multiply(2),k=e(this,n,b);if(k)l=t(n.subtract(k.point),p,x,k.quadrant);else{var _=new ee(this._size).setCenter(0,0),w=_.expand(b),f=_.expand(b.negate());l=w._containsPoint(n)&&!f._containsPoint(n)}}else l=t(n,p,x)}return l?new _t(c?"stroke":"fill",this):r.base.apply(this,arguments)}}},{statics:new function(){function e(t,r,n,s,u){var o=L.create(He.prototype);return o._type=t,o._size=n,o._radius=s,o._initialize(L.getNamed(u),r),o}return{Circle:function(){var t=arguments,r=z.readNamed(t,"center"),n=L.readNamed(t,"radius");return e("circle",r,new ce(n*2),n,t)},Rectangle:function(){var t=arguments,r=ee.readNamed(t,"rectangle"),n=ce.min(ce.readNamed(t,"radius"),r.getSize(!0).divide(2));return e("rectangle",r.getCenter(!0),r.getSize(!0),n,t)},Ellipse:function(){var t=arguments,r=He._readEllipse(t),n=r.radius;return e("ellipse",r.center,n.multiply(2),n,t)},_readEllipse:function(t){var r,n;if(L.hasNamed(t,"radius"))r=z.readNamed(t,"center"),n=ce.readNamed(t,"radius");else{var s=ee.readNamed(t,"rectangle");r=s.getCenter(!0),n=s.getSize(!0).divide(2)}return{center:r,radius:n}}}}}),it=P.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(t,r){if(!this._initialize(t,r!==G&&z.read(arguments))){var n,s=typeof t,u=s==="string"?te.getElementById(t):s==="object"?t:null;if(u&&u!==P.NO_INSERT){if(u.getContext||u.naturalHeight!=null)n=u;else if(u){var o=ce.read(arguments);o.isZero()||(n=re.getCanvas(o))}}n?this.setImage(n):this.setSource(t)}this._size||(this._size=new ce,this._loaded=!1)},_equals:function(e){return this.getSource()===e.getSource()},copyContent:function(e){var t=e._image,r=e._canvas;if(t)this._setImage(t);else if(r){var n=re.getCanvas(e._size);n.getContext("2d").drawImage(r,0,0),this._setImage(n)}this._crossOrigin=e._crossOrigin},getSize:function(){var e=this._size;return new Ie(e?e.width:0,e?e.height:0,this,"setSize")},setSize:function(e,t){var r=ce.read(arguments);if(r.equals(this._size))t&&this.clear();else if(r.width>0&&r.height>0){var n=!t&&this.getElement();this._setImage(re.getCanvas(r)),n&&this.getContext(!0).drawImage(n,0,0,r.width,r.height)}else this._canvas&&re.release(this._canvas),this._size=r.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(e){this.setSize(e,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(e){this.setSize(this.getWidth(),e)},getLoaded:function(){return this._loaded},isEmpty:function(){var e=this._size;return!e||e.width===0&&e.height===0},getResolution:function(){var e=this._matrix,t=new z(0,0).transform(e),r=new z(1,0).transform(e).subtract(t),n=new z(0,1).transform(e).subtract(t);return new ce(72/r.getLength(),72/n.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(e){var t=this;function r(n){var s=t.getView(),u=n&&n.type||"load";s&&t.responds(u)&&(Ae=s._scope,t.emit(u,new Vt(n)))}this._setImage(e),this._loaded?setTimeout(r,0):e&&lt.add(e,{load:function(n){t._setImage(e),r(n)},error:r})},_setImage:function(e){this._canvas&&re.release(this._canvas),e&&e.getContext?(this._image=null,this._canvas=e,this._loaded=!0):(this._image=e,this._canvas=null,this._loaded=!!(e&&e.src&&e.complete)),this._size=new ce(e?e.naturalWidth||e.width:0,e?e.naturalHeight||e.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var e=re.getContext(this._size);try{this._image&&e.drawImage(this._image,0,0),this._canvas=e.canvas}catch{re.release(e)}}return this._canvas},setCanvas:"#setImage",getContext:function(e){return this._context||(this._context=this.getCanvas().getContext("2d")),e&&(this._image=null,this._changed(1025)),this._context},setContext:function(e){this._context=e},getSource:function(){var e=this._image;return e&&e.src||this.toDataURL()},setSource:function(e){var t=new q.Image,r=this._crossOrigin;r&&(t.crossOrigin=r),e&&(t.src=e),this.setImage(t)},getCrossOrigin:function(){var e=this._image;return e&&e.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(e){this._crossOrigin=e;var t=this._image;t&&(t.crossOrigin=e)},getSmoothing:function(){return this._smoothing},setSmoothing:function(e){this._smoothing=typeof e=="string"?e:e?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var e=ee.read(arguments),t=re.getContext(e.getSize());return t.drawImage(this.getCanvas(),e.x,e.y,e.width,e.height,0,0,e.width,e.height),t.canvas},getSubRaster:function(){var e=ee.read(arguments),t=new it(P.NO_INSERT);return t._setImage(this.getSubCanvas(e)),t.translate(e.getCenter().subtract(this.getSize().divide(2))),t._matrix.prepend(this._matrix),t.insertAbove(this),t},toDataURL:function(){var e=this._image,t=e&&e.src;if(/^data:/.test(t))return t;var r=this.getCanvas();return r?r.toDataURL.apply(r,arguments):null},drawImage:function(e){var t=z.read(arguments,1);this.getContext(!0).drawImage(e,t.x,t.y)},getAverageColor:function(e){var t,r;if(e?e instanceof ft?(r=e,t=e.getBounds()):typeof e=="object"&&("width"in e?t=new ee(e):"x"in e&&(t=new ee(e.x-.5,e.y-.5,1,1))):t=this.getBounds(),!t)return null;var n=32,s=Math.min(t.width,n),u=Math.min(t.height,n),o=it._sampleContext;o?o.clearRect(0,0,n+1,n+1):o=it._sampleContext=re.getContext(new ce(n)),o.save();var l=new Le().scale(s/t.width,u/t.height).translate(-t.x,-t.y);l.applyToContext(o),r&&r.draw(o,new L({clip:!0,matrices:[l]})),this._matrix.applyToContext(o);var h=this.getElement(),c=this._size;h&&o.drawImage(h,-c.width/2,-c.height/2),o.restore();for(var g=o.getImageData(.5,.5,Math.ceil(s),Math.ceil(u)).data,v=[0,0,0],p=0,d=0,x=g.length;d<x;d+=4){var b=g[d+3];p+=b,b/=255,v[0]+=g[d]*b,v[1]+=g[d+1]*b,v[2]+=g[d+2]*b}for(var d=0;d<3;d++)v[d]/=p;return p?Fe.read(v):null},getPixel:function(){var e=z.read(arguments),t=this.getContext().getImageData(e.x,e.y,1,1).data;return new Fe("rgb",[t[0]/255,t[1]/255,t[2]/255],t[3]/255)},setPixel:function(){var e=arguments,t=z.read(e),r=Fe.read(e),n=r._convert("rgb"),s=r._alpha,u=this.getContext(!0),o=u.createImageData(1,1),l=o.data;l[0]=n[0]*255,l[1]=n[1]*255,l[2]=n[2]*255,l[3]=s!=null?s*255:255,u.putImageData(o,t.x,t.y)},clear:function(){var e=this._size;this.getContext(!0).clearRect(0,0,e.width+1,e.height+1)},createImageData:function(){var e=ce.read(arguments);return this.getContext().createImageData(e.width,e.height)},getImageData:function(){var e=ee.read(arguments);return e.isEmpty()&&(e=new ee(this._size)),this.getContext().getImageData(e.x,e.y,e.width,e.height)},putImageData:function(e){var t=z.read(arguments,1);this.getContext(!0).putImageData(e,t.x,t.y)},setImageData:function(e){this.setSize(e),this.getContext(!0).putImageData(e,0,0)},_getBounds:function(e,t){var r=new ee(this._size).setCenter(0,0);return e?e._transformBounds(r):r},_hitTestSelf:function(e){if(this._contains(e)){var t=this;return new _t("pixel",t,{offset:e.add(t._size.divide(2)).round(),color:{get:function(){return t.getPixel(this.offset)}}})}},_draw:function(e,t,r){var n=this.getElement();if(n&&n.width>0&&n.height>0){e.globalAlpha=ne.clamp(this._opacity,0,1),this._setStyles(e,t,r);var s=this._smoothing,u=s==="off";pt.setPrefixed(e,u?"imageSmoothingEnabled":"imageSmoothingQuality",u?!1:s),e.drawImage(n,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),ht=P.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(t,r){this._initialize(t,r!==G&&z.read(arguments,1))||this.setDefinition(t instanceof ct?t:new ct(t))},_equals:function(e){return this._definition===e._definition},copyContent:function(e){this.setDefinition(e._definition)},getDefinition:function(){return this._definition},setDefinition:function(e){this._definition=e,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(e,t){var r=this._definition._item;return r._getCachedBounds(r._matrix.prepended(e),t)},_hitTestSelf:function(e,t,r){var n=t.extend({all:!1}),s=this._definition._item._hitTest(e,n,r);return s&&(s.item=this),s},_draw:function(e,t){this._definition._item.draw(e,t)}}),ct=L.extend({_class:"SymbolDefinition",initialize:function(t,r){this._id=De.get(),this.project=Ae.project,t&&this.setItem(t,r)},_serialize:function(e,t){return t.add(this,function(){return L.serialize([this._class,this._item],e,!1,t)})},_changed:function(e){e&8&&P._clearBoundsCache(this),e&1&&this.project._changed(e)},getItem:function(){return this._item},setItem:function(e,t){e._symbol&&(e=e.clone()),this._item&&(this._item._symbol=null),this._item=e,e.remove(),e.setSelected(!1),t||e.setPosition(new z),e._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(e){return new ht(this,e)},clone:function(){return new ct(this._item.clone(!1))},equals:function(e){return e===this||e&&this._item.equals(e._item)||!1}}),_t=L.extend({_class:"HitResult",initialize:function(t,r,n){this.type=t,this.item=r,n&&this.inject(n)},statics:{getOptions:function(e){var t=e&&L.read(e);return new L({type:null,tolerance:Ae.settings.hitTolerance,fill:!t,stroke:!t,segments:!t,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},t)}}}),ye=L.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(t,r,n,s,u,o){var l=arguments.length,h,c,g,v;l>0&&(t==null||typeof t=="object"?l===1&&t&&"point"in t?(h=t.point,c=t.handleIn,g=t.handleOut,v=t.selection):(h=t,c=r,g=n,v=s):(h=[t,r],c=n!==G?[n,s]:null,g=u!==G?[u,o]:null)),new Ke(h,this,"_point"),new Ke(c,this,"_handleIn"),new Ke(g,this,"_handleOut"),v&&this.setSelection(v)},_serialize:function(e,t){var r=this._point,n=this._selection,s=n||this.hasHandles()?[r,this._handleIn,this._handleOut]:r;return n&&s.push(n),L.serialize(s,e,!0,t)},_changed:function(e){var t=this._path;if(t){var r=t._curves,n=this._index,s;r&&((!e||e===this._point||e===this._handleIn)&&(s=n>0?r[n-1]:t._closed?r[r.length-1]:null)&&s._changed(),(!e||e===this._point||e===this._handleOut)&&(s=r[n])&&s._changed()),t._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(z.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(z.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(z.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var e=this._handleIn,t=this._handleOut;return!e.isZero()&&!t.isZero()&&e.isCollinear(t)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(e){var t=this._selection,r=this._path;this._selection=e=e||0,r&&e!==t&&(r._updateSelection(this,t,e),r._changed(257))},_changeSelection:function(e,t){var r=this._selection;this.setSelection(t?r|e:r&~e)},isSelected:function(){return!!(this._selection&7)},setSelected:function(e){this._changeSelection(7,e)},getIndex:function(){return this._index!==G?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var e=this._path,t=this._index;return e?(t>0&&!e._closed&&t===e._segments.length-1&&t--,e.getCurves()[t]||null):null},getLocation:function(){var e=this.getCurve();return e?new ze(e,this===e._segment1?0:1):null},getNext:function(){var e=this._path&&this._path._segments;return e&&(e[this._index+1]||this._path._closed&&e[0])||null},smooth:function(e,t,r){var n=e||{},s=n.type,u=n.factor,o=this.getPrevious(),l=this.getNext(),h=(o||this)._point,c=this._point,g=(l||this)._point,v=h.getDistance(c),p=c.getDistance(g);if(!s||s==="catmull-rom"){var d=u===G?.5:u,x=Math.pow(v,d),b=x*x,k=Math.pow(p,d),_=k*k;if(!t&&o){var w=2*_+3*k*x+b,f=3*k*(k+x);this.setHandleIn(f!==0?new z((_*h._x+w*c._x-b*g._x)/f-c._x,(_*h._y+w*c._y-b*g._y)/f-c._y):new z)}if(!r&&l){var w=2*b+3*x*k+_,f=3*x*(x+k);this.setHandleOut(f!==0?new z((b*g._x+w*c._x-_*h._x)/f-c._x,(b*g._y+w*c._y-_*h._y)/f-c._y):new z)}}else if(s==="geometric"){if(o&&l){var y=h.subtract(g),C=u===G?.4:u,A=C*v/(v+p);t||this.setHandleIn(y.multiply(A)),r||this.setHandleOut(y.multiply(A-C))}}else throw new Error("Smoothing method '"+s+"' not supported.")},getPrevious:function(){var e=this._path&&this._path._segments;return e&&(e[this._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var e=this._path;return e&&this._index===e._segments.length-1||!1},reverse:function(){var e=this._handleIn,t=this._handleOut,r=e.clone();e.set(t),t.set(r)},reversed:function(){return new ye(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new ye(this._point,this._handleIn,this._handleOut)},equals:function(e){return e===this||e&&this._class===e._class&&this._point.equals(e._point)&&this._handleIn.equals(e._handleIn)&&this._handleOut.equals(e._handleOut)||!1},toString:function(){var e=["point: "+this._point];return this._handleIn.isZero()||e.push("handleIn: "+this._handleIn),this._handleOut.isZero()||e.push("handleOut: "+this._handleOut),"{ "+e.join(", ")+" }"},transform:function(e){this._transformCoordinates(e,new Array(6),!0),this._changed()},interpolate:function(e,t,r){var n=1-r,s=r,u=e._point,o=t._point,l=e._handleIn,h=t._handleIn,c=t._handleOut,g=e._handleOut;this._point._set(n*u._x+s*o._x,n*u._y+s*o._y,!0),this._handleIn._set(n*l._x+s*h._x,n*l._y+s*h._y,!0),this._handleOut._set(n*g._x+s*c._x,n*g._y+s*c._y,!0),this._changed()},_transformCoordinates:function(e,t,r){var n=this._point,s=!r||!this._handleIn.isZero()?this._handleIn:null,u=!r||!this._handleOut.isZero()?this._handleOut:null,o=n._x,l=n._y,h=2;return t[0]=o,t[1]=l,s&&(t[h++]=s._x+o,t[h++]=s._y+l),u&&(t[h++]=u._x+o,t[h++]=u._y+l),e&&(e._transformCoordinates(t,t,h/2),o=t[0],l=t[1],r?(n._x=o,n._y=l,h=2,s&&(s._x=t[h++]-o,s._y=t[h++]-l),u&&(u._x=t[h++]-o,u._y=t[h++]-l)):(s||(t[h++]=o,t[h++]=l),u||(t[h++]=o,t[h++]=l))),t}}),Ke=z.extend({initialize:function(t,r,n){var s,u,o;if(!t)s=u=0;else if((s=t[0])!==G)u=t[1];else{var l=t;(s=l.x)===G&&(l=z.read(arguments),s=l.x),u=l.y,o=l.selected}this._x=s,this._y=u,this._owner=r,r[n]=this,o&&this.setSelected(!0)},_set:function(e,t){return this._x=e,this._y=t,this._owner._changed(this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner._changed(this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner._changed(this)},isZero:function(){var e=ne.isZero;return e(this._x)&&e(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){var e=this._owner;return this===e._point?1:this===e._handleIn?2:this===e._handleOut?4:0}}),J=L.extend({_class:"Curve",beans:!0,initialize:function(t,r,n,s,u,o,l,h){var c=arguments.length,g,v,p,d,x,b;c===3?(this._path=t,g=r,v=n):c?c===1?"segment1"in t?(g=new ye(t.segment1),v=new ye(t.segment2)):"point1"in t?(p=t.point1,x=t.handle1,b=t.handle2,d=t.point2):Array.isArray(t)&&(p=[t[0],t[1]],d=[t[6],t[7]],x=[t[2]-t[0],t[3]-t[1]],b=[t[4]-t[6],t[5]-t[7]]):c===2?(g=new ye(t),v=new ye(r)):c===4?(p=t,x=r,b=n,d=s):c===8&&(p=[t,r],d=[l,h],x=[n-t,s-r],b=[u-l,o-h]):(g=new ye,v=new ye),this._segment1=g||new ye(p,null,x),this._segment2=v||new ye(d,b,null)},_serialize:function(e,t){return L.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],e,!0,t)},_changed:function(){this._length=this._bounds=G},clone:function(){return new J(this._segment1,this._segment2)},toString:function(){var e=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||e.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||e.push("handle2: "+this._segment2._handleIn),e.push("point2: "+this._segment2._point),"{ "+e.join(", ")+" }"},classify:function(){return J.classify(this.getValues())},remove:function(){var e=!1;if(this._path){var t=this._segment2,r=t._handleOut;e=t.remove(),e&&this._segment1._handleOut.set(r)}return e},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(z.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(z.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(z.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(z.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index+1]||this._path._closed&&e[0])||null},getPrevious:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var e=this._path;return e&&this._segment1._index===e._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(e){this.getPoint1().setSelected(e),this.getHandle1().setSelected(e),this.getHandle2().setSelected(e),this.getPoint2().setSelected(e)},getValues:function(e){return J.getValues(this._segment1,this._segment2,e)},getPoints:function(){for(var e=this.getValues(),t=[],r=0;r<8;r+=2)t.push(new z(e[r],e[r+1]));return t}},{getLength:function(){return this._length==null&&(this._length=J.getLength(this.getValues(),0,1)),this._length},getArea:function(){return J.getArea(this.getValues())},getLine:function(){return new tt(this._segment1._point,this._segment2._point)},getPart:function(e,t){return new J(J.getPart(this.getValues(),e,t))},getPartLength:function(e,t){return J.getLength(this.getValues(),e,t)},divideAt:function(e){return this.divideAtTime(e&&e.curve===this?e.time:this.getTimeAt(e))},divideAtTime:function(e,t){var r=1e-8,n=1-r,s=null;if(e>=r&&e<=n){var u=J.subdivide(this.getValues(),e),o=u[0],l=u[1],h=t||this.hasHandles(),c=this._segment1,g=this._segment2,v=this._path;h&&(c._handleOut._set(o[2]-o[0],o[3]-o[1]),g._handleIn._set(l[4]-l[6],l[5]-l[7]));var p=o[6],d=o[7],x=new ye(new z(p,d),h&&new z(o[4]-p,o[5]-d),h&&new z(l[2]-p,l[3]-d));v?(v.insert(c._index+1,x),s=this.getNext()):(this._segment2=x,this._changed(),s=new J(x,g))}return s},splitAt:function(e){var t=this._path;return t?t.splitAt(e):null},splitAtTime:function(e){return this.splitAt(this.getLocationAtTime(e))},divide:function(e,t){return this.divideAtTime(e===G?.5:t?e:this.getTimeAt(e))},split:function(e,t){return this.splitAtTime(e===G?.5:t?e:this.getTimeAt(e))},reversed:function(){return new J(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(e,t,r,n){var s=e._point,u=e._handleOut,o=t._handleIn,l=t._point,h=s.x,c=s.y,g=l.x,v=l.y,p=n?[h,c,h,c,g,v,g,v]:[h,c,h+u._x,c+u._y,g+o._x,v+o._y,g,v];return r&&r._transformCoordinates(p,p,4),p},subdivide:function(e,t){var r=e[0],n=e[1],s=e[2],u=e[3],o=e[4],l=e[5],h=e[6],c=e[7];t===G&&(t=.5);var g=1-t,v=g*r+t*s,p=g*n+t*u,d=g*s+t*o,x=g*u+t*l,b=g*o+t*h,k=g*l+t*c,_=g*v+t*d,w=g*p+t*x,f=g*d+t*b,y=g*x+t*k,C=g*_+t*f,A=g*w+t*y;return[[r,n,v,p,_,w,C,A],[C,A,f,y,b,k,h,c]]},getMonoCurves:function(e,t){var r=[],n=t?0:1,s=e[n+0],u=e[n+2],o=e[n+4],l=e[n+6];if(s>=u==u>=o&&u>=o==o>=l||J.isStraight(e))r.push(e);else{var h=3*(u-o)-s+l,c=2*(s+o)-4*u,g=u-s,v=1e-8,p=1-v,d=[],x=ne.solveQuadratic(h,c,g,d,v,p);if(!x)r.push(e);else{d.sort();var b=d[0],k=J.subdivide(e,b);r.push(k[0]),x>1&&(b=(d[1]-b)/(1-b),k=J.subdivide(k[1],b),r.push(k[0])),r.push(k[1])}}return r},solveCubic:function(e,t,r,n,s,u){var o=e[t],l=e[t+2],h=e[t+4],c=e[t+6],g=0;if(!(o<r&&c<r&&l<r&&h<r||o>r&&c>r&&l>r&&h>r)){var v=3*(l-o),p=3*(h-l)-v,d=c-o-v-p;g=ne.solveCubic(d,p,v,o-r,n,s,u)}return g},getTimeOf:function(e,t){var r=new z(e[0],e[1]),n=new z(e[6],e[7]),s=1e-12,u=1e-7,o=t.isClose(r,s)?0:t.isClose(n,s)?1:null;if(o===null)for(var l=[t.x,t.y],h=[],c=0;c<2;c++)for(var g=J.solveCubic(e,c,l[c],h,0,1),v=0;v<g;v++){var p=h[v];if(t.isClose(J.getPoint(e,p),u))return p}return t.isClose(r,u)?0:t.isClose(n,u)?1:null},getNearestTime:function(e,t){if(J.isStraight(e)){var r=e[0],n=e[1],s=e[6],u=e[7],o=s-r,l=u-n,h=o*o+l*l;if(h===0)return 0;var c=((t.x-r)*o+(t.y-n)*l)/h;return c<1e-12?0:c>.999999999999?1:J.getTimeOf(e,new z(r+c*o,n+c*l))}var g=100,v=1/0,p=0;function d(k){if(k>=0&&k<=1){var _=t.getDistance(J.getPoint(e,k),!0);if(_<v)return v=_,p=k,!0}}for(var x=0;x<=g;x++)d(x/g);for(var b=1/(g*2);b>1e-8;)!d(p-b)&&!d(p+b)&&(b/=2);return p},getPart:function(e,t,r){var n=t>r;if(n){var s=t;t=r,r=s}return t>0&&(e=J.subdivide(e,t)[1]),r<1&&(e=J.subdivide(e,(r-t)/(1-t))[0]),n?[e[6],e[7],e[4],e[5],e[2],e[3],e[0],e[1]]:e},isFlatEnough:function(e,t){var r=e[0],n=e[1],s=e[2],u=e[3],o=e[4],l=e[5],h=e[6],c=e[7],g=3*s-2*r-h,v=3*u-2*n-c,p=3*o-2*h-r,d=3*l-2*c-n;return Math.max(g*g,p*p)+Math.max(v*v,d*d)<=16*t*t},getArea:function(e){var t=e[0],r=e[1],n=e[2],s=e[3],u=e[4],o=e[5],l=e[6],h=e[7];return 3*((h-r)*(n+u)-(l-t)*(s+o)+s*(t-u)-n*(r-o)+h*(u+t/3)-l*(o+r/3))/20},getBounds:function(e){for(var t=e.slice(0,2),r=t.slice(),n=[0,0],s=0;s<2;s++)J._addBounds(e[s],e[s+2],e[s+4],e[s+6],s,0,t,r,n);return new ee(t[0],t[1],r[0]-t[0],r[1]-t[1])},_addBounds:function(e,t,r,n,s,u,o,l,h){function c(C,A){var S=C-A,T=C+A;S<o[s]&&(o[s]=S),T>l[s]&&(l[s]=T)}u/=2;var g=o[s]+u,v=l[s]-u;if(e<g||t<g||r<g||n<g||e>v||t>v||r>v||n>v)if(t<e!=t<n&&r<e!=r<n)c(e,0),c(n,0);else{var p=3*(t-r)-e+n,d=2*(e+r)-4*t,x=t-e,b=ne.solveQuadratic(p,d,x,h),k=1e-8,_=1-k;c(n,0);for(var w=0;w<b;w++){var f=h[w],y=1-f;k<=f&&f<=_&&c(y*y*y*e+3*y*y*f*t+3*y*f*f*r+f*f*f*n,u)}}}}},L.each(["getBounds","getStrokeBounds","getHandleBounds"],function(e){this[e]=function(){this._bounds||(this._bounds={});var t=this._bounds[e];return t||(t=this._bounds[e]=ke[e]([this._segment1,this._segment2],!1,this._path)),t.clone()}},{}),L.each({isStraight:function(e,t,r,n){if(t.isZero()&&r.isZero())return!0;var s=n.subtract(e);if(s.isZero())return!1;if(s.isCollinear(t)&&s.isCollinear(r)){var u=new tt(e,n),o=1e-7;if(u.getDistance(e.add(t))<o&&u.getDistance(n.add(r))<o){var l=s.dot(s),h=s.dot(t)/l,c=s.dot(r)/l;return h>=0&&h<=1&&c<=0&&c>=-1}}return!1},isLinear:function(e,t,r,n){var s=n.subtract(e).divide(3);return t.equals(s)&&r.negate().equals(s)}},function(e,t){this[t]=function(r){var n=this._segment1,s=this._segment2;return e(n._point,n._handleOut,s._handleIn,s._point,r)},this.statics[t]=function(r,n){var s=r[0],u=r[1],o=r[6],l=r[7];return e(new z(s,u),new z(r[2]-s,r[3]-u),new z(r[4]-o,r[5]-l),new z(o,l),n)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(e){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(e||0)},isCollinear:function(e){return e&&this.isStraight()&&e.isStraight()&&this.getLine().isCollinear(e.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(e,t){return this.getLocationAtTime(t?e:this.getTimeAt(e))},getLocationAtTime:function(e){return e!=null&&e>=0&&e<=1?new ze(this,e):null},getTimeAt:function(e,t){return J.getTimeAt(this.getValues(),e,t)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var e=z.read(arguments);return e.isZero()?[]:J.getTimesWithTangent(this.getValues(),e)},getOffsetAtTime:function(e){return this.getPartLength(0,e)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(z.read(arguments)))},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getTimeOf:function(){return J.getTimeOf(this.getValues(),z.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var e=z.read(arguments),t=this.getValues(),r=J.getNearestTime(t,e),n=J.getPoint(t,r);return new ze(this,r,n,null,e.getDistance(n))},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e&&e.getPoint()}},new function(){var e=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return L.each(e,function(t){this[t+"At"]=function(r,n){var s=this.getValues();return J[t](s,n?r:J.getTimeAt(s,r))},this[t+"AtTime"]=function(r){return J[t](this.getValues(),r)}},{statics:{_evaluateMethods:e}})},new function(){function e(n){var s=n[0],u=n[1],o=n[2],l=n[3],h=n[4],c=n[5],g=n[6],v=n[7],p=9*(o-h)+3*(g-s),d=6*(s+h)-12*o,x=3*(o-s),b=9*(l-c)+3*(v-u),k=6*(u+c)-12*l,_=3*(l-u);return function(w){var f=(p*w+d)*w+x,y=(b*w+k)*w+_;return Math.sqrt(f*f+y*y)}}function t(n,s){return Math.max(2,Math.min(16,Math.ceil(Math.abs(s-n)*32)))}function r(n,s,u,o){if(s==null||s<0||s>1)return null;var l=n[0],h=n[1],c=n[2],g=n[3],v=n[4],p=n[5],d=n[6],x=n[7],b=ne.isZero;b(c-l)&&b(g-h)&&(c=l,g=h),b(v-d)&&b(p-x)&&(v=d,p=x);var k=3*(c-l),_=3*(v-c)-k,w=d-l-k-_,f=3*(g-h),y=3*(p-g)-f,C=x-h-f-y,A,S;if(u===0)A=s===0?l:s===1?d:((w*s+_)*s+k)*s+l,S=s===0?h:s===1?x:((C*s+y)*s+f)*s+h;else{var T=1e-8,N=1-T;if(s<T?(A=k,S=f):s>N?(A=3*(d-v),S=3*(x-p)):(A=(3*w*s+2*_)*s+k,S=(3*C*s+2*y)*s+f),o){A===0&&S===0&&(s<T||s>N)&&(A=v-c,S=p-g);var O=Math.sqrt(A*A+S*S);O&&(A/=O,S/=O)}if(u===3){var v=6*w*s+2*_,p=6*C*s+2*y,F=Math.pow(A*A+S*S,3/2);A=F!==0?(A*p-S*v)/F:0,S=0}}return u===2?new z(S,-A):new z(A,S)}return{statics:{classify:function(n){var s=n[0],u=n[1],o=n[2],l=n[3],h=n[4],c=n[5],g=n[6],v=n[7],p=s*(v-c)+u*(h-g)+g*c-v*h,d=o*(u-v)+l*(g-s)+s*v-u*g,x=h*(l-u)+c*(s-o)+o*u-l*s,b=3*x,k=b-d,_=k-d+p,w=Math.sqrt(_*_+k*k+b*b),f=w!==0?1/w:0,y=ne.isZero,C="serpentine";_*=f,k*=f,b*=f;function A(O,F,E){var B=F!==G,D=B&&F>0&&F<1,U=B&&E>0&&E<1;return B&&(!(D||U)||O==="loop"&&!(D&&U))&&(O="arch",D=U=!1),{type:O,roots:D||U?D&&U?F<E?[F,E]:[E,F]:[D?F:E]:null}}if(y(_))return y(k)?A(y(b)?"line":"quadratic"):A(C,b/(3*k));var S=3*k*k-4*_*b;if(y(S))return A("cusp",k/(2*_));var T=S>0?Math.sqrt(S/3):Math.sqrt(-S),N=2*_;return A(S>0?C:"loop",(k+T)/N,(k-T)/N)},getLength:function(n,s,u,o){if(s===G&&(s=0),u===G&&(u=1),J.isStraight(n)){var l=n;u<1&&(l=J.subdivide(l,u)[0],s/=u),s>0&&(l=J.subdivide(l,s)[1]);var h=l[6]-l[0],c=l[7]-l[1];return Math.sqrt(h*h+c*c)}return ne.integrate(o||e(n),s,u,t(s,u))},getTimeAt:function(n,s,u){if(u===G&&(u=s<0?1:0),s===0)return u;var o=Math.abs,l=1e-12,h=s>0,c=h?u:0,g=h?1:u,v=e(n),p=J.getLength(n,c,g,v),d=o(s)-p;if(o(d)<l)return h?g:c;if(d>l)return null;var x=s/p,b=0;function k(_){return b+=ne.integrate(v,u,_,t(u,_)),u=_,b-s}return ne.findRoot(k,v,u+x,c,g,32,1e-12)},getPoint:function(n,s){return r(n,s,0,!1)},getTangent:function(n,s){return r(n,s,1,!0)},getWeightedTangent:function(n,s){return r(n,s,1,!1)},getNormal:function(n,s){return r(n,s,2,!0)},getWeightedNormal:function(n,s){return r(n,s,2,!1)},getCurvature:function(n,s){return r(n,s,3,!1).x},getPeaks:function(n){var s=n[0],u=n[1],o=n[2],l=n[3],h=n[4],c=n[5],g=n[6],v=n[7],p=-s+3*o-3*h+g,d=3*s-6*o+3*h,x=-3*s+3*o,b=-u+3*l-3*c+v,k=3*u-6*l+3*c,_=-3*u+3*l,w=1e-8,f=1-w,y=[];return ne.solveCubic(9*(p*p+b*b),9*(p*d+k*b),2*(d*d+k*k)+3*(x*p+_*b),x*d+k*_,y,w,f),y.sort()}}}},new function(){function e(d,x,b,k,_,w,f){var y=!f&&b.getPrevious()===_,C=!f&&b!==_&&b.getNext()===_,A=1e-8,S=1-A;if(k!==null&&k>=(y?A:0)&&k<=(C?S:1)&&w!==null&&w>=(C?A:0)&&w<=(y?S:1)){var T=new ze(b,k,null,f),N=new ze(_,w,null,f);T._intersection=N,N._intersection=T,(!x||x(T))&&ze.insert(d,T,!0)}}function t(d,x,b,k,_,w,f,y,C,A,S,T,N){if(++C>=4096||++y>=40)return C;var O=1e-9,F=x[0],E=x[1],B=x[6],D=x[7],U=tt.getSignedDistance,H=U(F,E,B,D,x[2],x[3]),W=U(F,E,B,D,x[4],x[5]),X=H*W>0?3/4:4/9,se=X*Math.min(0,H,W),de=X*Math.max(0,H,W),ve=U(F,E,B,D,d[0],d[1]),K=U(F,E,B,D,d[2],d[3]),Y=U(F,E,B,D,d[4],d[5]),le=U(F,E,B,D,d[6],d[7]),ge=r(ve,K,Y,le),me=ge[0],Re=ge[1],Te,$e;if(H===0&&W===0&&ve===0&&K===0&&Y===0&&le===0||(Te=n(me,Re,se,de))==null||($e=n(me.reverse(),Re.reverse(),se,de))==null)return C;var Ge=A+(S-A)*Te,We=A+(S-A)*$e;if(Math.max(N-T,We-Ge)<O){var Kt=(Ge+We)/2,Ht=(T+N)/2;e(_,w,f?k:b,f?Ht:Kt,f?b:k,f?Kt:Ht)}else{d=J.getPart(d,Te,$e);var Jt=N-T;if($e-Te>.8)if(We-Ge>Jt){var Gt=J.subdivide(d,.5),Kt=(Ge+We)/2;C=t(x,Gt[0],k,b,_,w,!f,y,C,T,N,Ge,Kt),C=t(x,Gt[1],k,b,_,w,!f,y,C,T,N,Kt,We)}else{var Gt=J.subdivide(x,.5),Ht=(T+N)/2;C=t(Gt[0],d,k,b,_,w,!f,y,C,T,Ht,Ge,We),C=t(Gt[1],d,k,b,_,w,!f,y,C,Ht,N,Ge,We)}else Jt===0||Jt>=O?C=t(x,d,k,b,_,w,!f,y,C,T,N,Ge,We):C=t(d,x,b,k,_,w,f,y,C,Ge,We,T,N)}return C}function r(d,x,b,k){var _=[0,d],w=[1/3,x],f=[2/3,b],y=[1,k],C=x-(2*d+k)/3,A=b-(d+2*k)/3,S;if(C*A<0)S=[[_,w,y],[_,f,y]];else{var T=C/A;S=[T>=2?[_,w,y]:T<=.5?[_,f,y]:[_,w,f,y],[_,y]]}return(C||A)<0?S.reverse():S}function n(d,x,b,k){return d[0][1]<b?s(d,!0,b):x[0][1]>k?s(x,!1,k):d[0][0]}function s(d,x,b){for(var k=d[0][0],_=d[0][1],w=1,f=d.length;w<f;w++){var y=d[w][0],C=d[w][1];if(x?C>=b:C<=b)return C===b?y:k+(b-_)*(y-k)/(C-_);k=y,_=C}return null}function u(d,x,b,k,_){var w=ne.isZero;if(w(k)&&w(_)){var f=J.getTimeOf(d,new z(x,b));return f===null?[]:[f]}for(var y=Math.atan2(-_,k),C=Math.sin(y),A=Math.cos(y),S=[],T=[],N=0;N<8;N+=2){var O=d[N]-x,F=d[N+1]-b;S.push(O*A-F*C,O*C+F*A)}return J.solveCubic(S,1,0,T,0,1),T}function o(d,x,b,k,_,w,f){for(var y=x[0],C=x[1],A=x[6],S=x[7],T=u(d,y,C,A-y,S-C),N=0,O=T.length;N<O;N++){var F=T[N],E=J.getPoint(d,F),B=J.getTimeOf(x,E);B!==null&&e(_,w,f?k:b,f?B:F,f?b:k,f?F:B)}}function l(d,x,b,k,_,w){var f=tt.intersect(d[0],d[1],d[6],d[7],x[0],x[1],x[6],x[7]);f&&e(_,w,b,J.getTimeOf(d,f),k,J.getTimeOf(x,f))}function h(d,x,b,k,_,w){var f=1e-12,y=Math.min,C=Math.max;if(C(d[0],d[2],d[4],d[6])+f>y(x[0],x[2],x[4],x[6])&&y(d[0],d[2],d[4],d[6])-f<C(x[0],x[2],x[4],x[6])&&C(d[1],d[3],d[5],d[7])+f>y(x[1],x[3],x[5],x[7])&&y(d[1],d[3],d[5],d[7])-f<C(x[1],x[3],x[5],x[7])){var A=v(d,x);if(A)for(var S=0;S<2;S++){var T=A[S];e(_,w,b,T[0],k,T[1],!0)}else{var N=J.isStraight(d),O=J.isStraight(x),F=N&&O,E=N&&!O,B=_.length;if((F?l:N||O?o:t)(E?x:d,E?d:x,E?k:b,E?b:k,_,w,E,0,0,0,1,0,1),!F||_.length===B)for(var S=0;S<4;S++){var D=S>>1,U=S&1,H=D*6,W=U*6,X=new z(d[H],d[H+1]),se=new z(x[W],x[W+1]);X.isClose(se,f)&&e(_,w,b,D,k,U)}}}return _}function c(d,x,b,k){var _=J.classify(d);if(_.type==="loop"){var w=_.roots;e(b,k,x,w[0],x,w[1])}return b}function g(d,x,b,k,_,w){var f=1e-7,y=!x;y&&(x=d);for(var C=d.length,A=x.length,S=new Array(C),T=y?S:new Array(A),N=[],O=0;O<C;O++)S[O]=d[O].getValues(k);if(!y)for(var O=0;O<A;O++)T[O]=x[O].getValues(_);for(var F=Ee.findCurveBoundsCollisions(S,T,f),E=0;E<C;E++){var B=d[E],D=S[E];y&&c(D,B,N,b);var U=F[E];if(U)for(var H=0;H<U.length;H++){if(w&&N.length)return N;var W=U[H];if(!y||W>E){var X=x[W],se=T[W];h(D,se,B,X,N,b)}}}return N}function v(d,x){function b(le){var ge=le[6]-le[0],me=le[7]-le[1];return ge*ge+me*me}var k=Math.abs,_=tt.getDistance,w=1e-8,f=1e-7,y=J.isStraight(d),C=J.isStraight(x),A=y&&C,S=b(d)<b(x),T=S?x:d,N=S?d:x,O=T[0],F=T[1],E=T[6]-O,B=T[7]-F;if(_(O,F,E,B,N[0],N[1],!0)<f&&_(O,F,E,B,N[6],N[7],!0)<f)!A&&_(O,F,E,B,T[2],T[3],!0)<f&&_(O,F,E,B,T[4],T[5],!0)<f&&_(O,F,E,B,N[2],N[3],!0)<f&&_(O,F,E,B,N[4],N[5],!0)<f&&(y=C=A=!0);else if(A)return null;if(y^C)return null;for(var D=[d,x],U=[],H=0;H<4&&U.length<2;H++){var W=H&1,X=W^1,se=H>>1,de=J.getTimeOf(D[W],new z(D[X][se?6:0],D[X][se?7:1]));if(de!=null){var ve=W?[se,de]:[de,se];(!U.length||k(ve[0]-U[0][0])>w&&k(ve[1]-U[0][1])>w)&&U.push(ve)}if(H>2&&!U.length)break}if(U.length!==2)U=null;else if(!A){var K=J.getPart(d,U[0][0],U[1][0]),Y=J.getPart(x,U[0][1],U[1][1]);(k(Y[2]-K[2])>f||k(Y[3]-K[3])>f||k(Y[4]-K[4])>f||k(Y[5]-K[5])>f)&&(U=null)}return U}function p(d,x){var b=d[0],k=d[1],_=d[2],w=d[3],f=d[4],y=d[5],C=d[6],A=d[7],S=x.normalize(),T=S.x,N=S.y,O=3*C-9*f+9*_-3*b,F=3*A-9*y+9*w-3*k,E=6*f-12*_+6*b,B=6*y-12*w+6*k,D=3*_-3*b,U=3*w-3*k,H=2*O*N-2*F*T,W=[];if(Math.abs(H)<ne.CURVETIME_EPSILON){var X=O*U-F*D,H=O*B-F*E;if(H!=0){var se=-X/H;se>=0&&se<=1&&W.push(se)}}else{var de=(E*E-4*O*D)*N*N+(-2*E*B+4*F*D+4*O*U)*T*N+(B*B-4*F*U)*T*T,ve=E*N-B*T;if(de>=0&&H!=0){var K=Math.sqrt(de),Y=-(ve+K)/H,le=(-ve+K)/H;Y>=0&&Y<=1&&W.push(Y),le>=0&&le<=1&&W.push(le)}}return W}return{getIntersections:function(d){var x=this.getValues(),b=d&&d!==this&&d.getValues();return b?h(x,b,this,d,[]):c(x,this,[])},statics:{getOverlaps:v,getIntersections:g,getCurveLineIntersections:u,getTimesWithTangent:p}}}),ze=L.extend({_class:"CurveLocation",initialize:function(t,r,n,s,u){if(r>=.99999999){var o=t.getNext();o&&(r=0,t=o)}this._setCurve(t),this._time=r,this._point=n||t.getPointAtTime(r),this._overlap=s,this._distance=u,this._intersection=this._next=this._previous=null},_setPath:function(e){this._path=e,this._version=e?e._version:0},_setCurve:function(e){this._setPath(e._path),this._curve=e,this._segment=null,this._segment1=e._segment1,this._segment2=e._segment2},_setSegment:function(e){var t=e.getCurve();t?this._setCurve(t):(this._setPath(e._path),this._segment1=e,this._segment2=null),this._segment=e,this._time=e===this._segment1?0:1,this._point=e._point.clone()},getSegment:function(){var e=this._segment;if(!e){var t=this.getCurve(),r=this.getTime();r===0?e=t._segment1:r===1?e=t._segment2:r!=null&&(e=t.getPartLength(0,r)<t.getPartLength(r,1)?t._segment1:t._segment2),this._segment=e}return e},getCurve:function(){var e=this._path,t=this;e&&e._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null);function r(n){var s=n&&n.getCurve();if(s&&(t._time=s.getTimeOf(t._point))!=null)return t._setCurve(s),s}return this._curve||r(this._segment)||r(this._segment1)||r(this._segment2.getPrevious())},getPath:function(){var e=this.getCurve();return e&&e._path},getIndex:function(){var e=this.getCurve();return e&&e.getIndex()},getTime:function(){var e=this.getCurve(),t=this._time;return e&&t==null?this._time=e.getTimeOf(this._point):t},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var e=this._offset;if(e==null){e=0;var t=this.getPath(),r=this.getIndex();if(t&&r!=null)for(var n=t.getCurves(),s=0;s<r;s++)e+=n[s].getLength();this._offset=e+=this.getCurveOffset()}return e},getCurveOffset:function(){var e=this._curveOffset;if(e==null){var t=this.getCurve(),r=this.getTime();this._curveOffset=e=r!=null&&t&&t.getPartLength(0,r)}return e},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var e=this.getCurve(),t=e&&e.divideAtTime(this.getTime());return t&&this._setSegment(t._segment1),t},split:function(){var e=this.getCurve(),t=e._path,r=e&&e.splitAtTime(this.getTime());return r&&this._setSegment(t.getLastSegment()),r},equals:function(e,t){var r=this===e;if(!r&&e instanceof ze){var n=this.getCurve(),s=e.getCurve(),u=n._path,o=s._path;if(u===o){var l=Math.abs,h=1e-7,c=l(this.getOffset()-e.getOffset()),g=!t&&this._intersection,v=!t&&e._intersection;r=(c<h||u&&l(u.getLength()-c)<h)&&(!g&&!v||g&&v&&g.equals(v,!0))}}return r},toString:function(){var e=[],t=this.getPoint(),r=Ce.instance;t&&e.push("point: "+t);var n=this.getIndex();n!=null&&e.push("index: "+n);var s=this.getTime();return s!=null&&e.push("time: "+r.number(s)),this._distance!=null&&e.push("distance: "+r.number(this._distance)),"{ "+e.join(", ")+" }"},isTouching:function(){var e=this._intersection;if(e&&this.getTangent().isCollinear(e.getTangent())){var t=this.getCurve(),r=e.getCurve();return!(t.isStraight()&&r.isStraight()&&t.getLine().intersect(r.getLine()))}return!1},isCrossing:function(){var e=this._intersection;if(!e)return!1;var t=this.getTime(),r=e.getTime(),n=1e-8,s=1-n,u=t>=n&&t<=s,o=r>=n&&r<=s;if(u&&o)return!this.isTouching();var l=this.getCurve(),h=l&&t<n?l.getPrevious():l,c=e.getCurve(),g=c&&r<n?c.getPrevious():c;if(t>s&&(l=l.getNext()),r>s&&(c=c.getNext()),!h||!l||!g||!c)return!1;var v=[];function p(T,N){var O=T.getValues(),F=J.classify(O).roots||J.getPeaks(O),E=F.length,B=J.getLength(O,N&&E?F[E-1]:0,!N&&E?F[0]:1);v.push(E?B:B/32)}function d(T,N,O){return N<O?T>N&&T<O:T>N||T<O}u||(p(h,!0),p(l,!1)),o||(p(g,!0),p(c,!1));var x=this.getPoint(),b=Math.min.apply(Math,v),k=u?l.getTangentAtTime(t):l.getPointAt(b).subtract(x),_=u?k.negate():h.getPointAt(-b).subtract(x),w=o?c.getTangentAtTime(r):c.getPointAt(b).subtract(x),f=o?w.negate():g.getPointAt(-b).subtract(x),y=_.getAngle(),C=k.getAngle(),A=f.getAngle(),S=w.getAngle();return!!(u?d(y,A,S)^d(C,A,S)&&d(y,S,A)^d(C,S,A):d(A,y,C)^d(S,y,C)&&d(A,C,y)^d(S,C,y))},hasOverlap:function(){return!!this._overlap}},L.each(J._evaluateMethods,function(e){var t=e+"At";this[e]=function(){var r=this.getCurve(),n=this.getTime();return n!=null&&r&&r[t](n,!0)}},{preserve:!0}),new function(){function e(t,r,n){var s=t.length,u=0,o=s-1;function l(x,b){for(var k=x+b;k>=-1&&k<=s;k+=b){var _=t[(k%s+s)%s];if(!r.getPoint().isClose(_.getPoint(),1e-7))break;if(r.equals(_))return _}return null}for(;u<=o;){var h=u+o>>>1,c=t[h],g;if(n&&(g=r.equals(c)?c:l(h,-1)||l(h,1)))return r._overlap&&(g._overlap=g._intersection._overlap=!0),g;var v=r.getPath(),p=c.getPath(),d=v!==p?v._id-p._id:r.getIndex()+r.getTime()-(c.getIndex()+c.getTime());d<0?o=h-1:u=h+1}return t.splice(u,0,r),r}return{statics:{insert:e,expand:function(t){for(var r=t.slice(),n=t.length-1;n>=0;n--)e(r,t[n]._intersection,!1);return r}}}}),ft=P.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(e){var t,r,n;if(L.isPlainObject(e)?(r=e.segments,t=e.pathData):Array.isArray(e)?r=e:typeof e=="string"&&(t=e),r){var s=r[0];n=s&&Array.isArray(s[0])}else t&&(n=(t.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(t));var u=n?ut:ke;return new u(e)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(e){this.isClockwise()!=(e=!!e)&&this.reverse()},setPathData:function(e){var t=e&&e.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),r,n=!1,s,u,o=new z,l=new z;function h(f,y){var C=+r[f];return n&&(C+=o[y]),C}function c(f){return new z(h(f,"x"),h(f+1,"y"))}this.clear();for(var g=0,v=t&&t.length;g<v;g++){var p=t[g],d=p[0],x=d.toLowerCase();r=p.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var b=r&&r.length;switch(n=d===x,s==="z"&&!/[mz]/.test(x)&&this.moveTo(o),x){case"m":case"l":for(var k=x==="m",_=0;_<b;_+=2)this[k?"moveTo":"lineTo"](o=c(_)),k&&(l=o,k=!1);u=o;break;case"h":case"v":var w=x==="h"?"x":"y";o=o.clone();for(var _=0;_<b;_++)o[w]=h(_,w),this.lineTo(o);u=o;break;case"c":for(var _=0;_<b;_+=6)this.cubicCurveTo(c(_),u=c(_+2),o=c(_+4));break;case"s":for(var _=0;_<b;_+=4)this.cubicCurveTo(/[cs]/.test(s)?o.multiply(2).subtract(u):o,u=c(_),o=c(_+2)),s=x;break;case"q":for(var _=0;_<b;_+=4)this.quadraticCurveTo(u=c(_),o=c(_+2));break;case"t":for(var _=0;_<b;_+=2)this.quadraticCurveTo(u=/[qt]/.test(s)?o.multiply(2).subtract(u):o,o=c(_)),s=x;break;case"a":for(var _=0;_<b;_+=7)this.arcTo(o=c(_+5),new ce(+r[_],+r[_+1]),+r[_+2],+r[_+4],+r[_+3]);break;case"z":this.closePath(1e-12),o=l;break}s=x}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(e){var t=e.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(e):{};return t.onPath||!!(this.getFillRule()==="evenodd"?t.windingL&1||t.windingR&1:t.winding)},getIntersections:function(e,t,r,n){var s=this===e||!e,u=this._matrix._orNullIfIdentity(),o=s?u:(r||e._matrix)._orNullIfIdentity();return s||this.getBounds(u).intersects(e.getBounds(o),1e-12)?J.getIntersections(this.getCurves(),!s&&e.getCurves(),t,u,o,n):[]},getCrossings:function(e){return this.getIntersections(e,function(t){return t.isCrossing()})},getNearestLocation:function(){for(var e=z.read(arguments),t=this.getCurves(),r=1/0,n=null,s=0,u=t.length;s<u;s++){var o=t[s].getNearestLocation(e);o._distance<r&&(r=o._distance,n=o)}return n},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e&&e.getPoint()},interpolate:function(e,t,r){var n=!this._children,s=n?"_segments":"_children",u=e[s],o=t[s],l=this[s];if(!u||!o||u.length!==o.length)throw new Error("Invalid operands in interpolate() call: "+e+", "+t);var h=l.length,c=o.length;if(h<c)for(var g=n?ye:ke,v=h;v<c;v++)this.add(new g);else h>c&&this[n?"removeSegments":"removeChildren"](c,h);for(var v=0;v<c;v++)l[v].interpolate(u[v],o[v],r);n&&(this.setClosed(e._closed),this._changed(9))},compare:function(e){var t=!1;if(e){var r=this._children||[this],n=e._children?e._children.slice():[e],s=r.length,u=n.length,o=[],l=0;t=!0;for(var h=Ee.findItemBoundsCollisions(r,n,ne.GEOMETRIC_EPSILON),c=s-1;c>=0&&t;c--){var g=r[c];t=!1;var v=h[c];if(v)for(var p=v.length-1;p>=0&&!t;p--)g.compare(n[v[p]])&&(o[v[p]]||(o[v[p]]=!0,l++),t=!0)}t=t&&l===u}return t}}),ke=ft.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(t){this._closed=!1,this._segments=[],this._version=0;var r=arguments,n=Array.isArray(t)?typeof t[0]=="object"?t:r:t&&t.size===G&&(t.x!==G||t.point!==G)?r:null;n&&n.length>0?this.setSegments(n):(this._curves=G,this._segmentSelection=0,!n&&typeof t=="string"&&(this.setPathData(t),t=null)),this._initialize(!n&&t)},_equals:function(e){return this._closed===e._closed&&L.equals(this._segments,e._segments)},copyContent:function(e){this.setSegments(e._segments),this._closed=e._closed},_changed:function e(t){if(e.base.call(this,t),t&8){if(this._length=this._area=G,t&32)this._version++;else if(this._curves)for(var r=0,n=this._curves.length;r<n;r++)this._curves[r]._changed()}else t&64&&(this._bounds=G)},getStyle:function(){var e=this._parent;return(e instanceof ut?e:this)._style},getSegments:function(){return this._segments},setSegments:function(e){var t=this.isFullySelected(),r=e&&e.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=G,r){var n=e[r-1];typeof n=="boolean"&&(this.setClosed(n),r--),this._add(ye.readList(e,0,{},r))}t&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var e=this._curves,t=this._segments;if(!e){var r=this._countCurves();e=this._curves=new Array(r);for(var n=0;n<r;n++)e[n]=new J(this,t[n],t[n+1]||t[0])}return e},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var e=this.getCurves();return e[e.length-1]},isClosed:function(){return this._closed},setClosed:function(e){if(this._closed!=(e=!!e)){if(this._closed=e,this._curves){var t=this._curves.length=this._countCurves();e&&(this._curves[t-1]=new J(this,this._segments[t-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(e,t){var r=this._segments,n=r.length,s=new Ce(t),u=new Array(6),o=!0,l,h,c,g,v,p,d,x,b=[];function k(w,f){if(w._transformCoordinates(e,u),l=u[0],h=u[1],o)b.push("M"+s.pair(l,h)),o=!1;else if(v=u[2],p=u[3],v===l&&p===h&&d===c&&x===g){if(!f){var y=l-c,C=h-g;b.push(y===0?"v"+s.number(C):C===0?"h"+s.number(y):"l"+s.pair(y,C))}}else b.push("c"+s.pair(d-c,x-g)+" "+s.pair(v-c,p-g)+" "+s.pair(l-c,h-g));c=l,g=h,d=u[4],x=u[5]}if(!n)return"";for(var _=0;_<n;_++)k(r[_]);return this._closed&&n>0&&(k(r[0],!0),b.push("z")),b.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(e){for(var t=this._segments,r=new Array(6),n=0,s=t.length;n<s;n++)t[n]._transformCoordinates(e,r,!0);return!0},_add:function(e,o){for(var r=this._segments,n=this._curves,s=e.length,u=o==null,o=u?r.length:o,l=0;l<s;l++){var h=e[l];h._path&&(h=e[l]=h.clone()),h._path=this,h._index=o+l,h._selection&&this._updateSelection(h,0,h._selection)}if(u)L.push(r,e);else{r.splice.apply(r,[o,0].concat(e));for(var l=o+s,c=r.length;l<c;l++)r[l]._index=l}if(n){var g=this._countCurves(),v=o>0&&o+s-1===g?o-1:o,p=v,d=Math.min(v+s,g);e._curves&&(n.splice.apply(n,[v,0].concat(e._curves)),p+=e._curves.length);for(var l=p;l<d;l++)n.splice(l,0,new J(this,null,null));this._adjustCurves(v,d)}return this._changed(41),e},_adjustCurves:function(e,t){for(var r=this._segments,n=this._curves,s,u=e;u<t;u++)s=n[u],s._path=this,s._segment1=r[u],s._segment2=r[u+1]||r[0],s._changed();(s=n[this._closed&&!e?r.length-1:e-1])&&(s._segment2=r[e]||r[0],s._changed()),(s=n[t])&&(s._segment1=r[t],s._changed())},_countCurves:function(){var e=this._segments.length;return!this._closed&&e>0?e-1:e},add:function(e){var t=arguments;return t.length>1&&typeof e!="number"?this._add(ye.readList(t)):this._add([ye.read(t)])[0]},insert:function(e,t){var r=arguments;return r.length>2&&typeof t!="number"?this._add(ye.readList(r,1),e):this._add([ye.read(r,1)],e)[0]},addSegment:function(){return this._add([ye.read(arguments)])[0]},insertSegment:function(e){return this._add([ye.read(arguments,1)],e)[0]},addSegments:function(e){return this._add(ye.readList(e))},insertSegments:function(e,t){return this._add(ye.readList(t),e)},removeSegment:function(e){return this.removeSegments(e,e+1)[0]||null},removeSegments:function(e,t,r){e=e||0,t=L.pick(t,this._segments.length);var n=this._segments,s=this._curves,u=n.length,o=n.splice(e,t-e),l=o.length;if(!l)return o;for(var h=0;h<l;h++){var c=o[h];c._selection&&this._updateSelection(c,c._selection,0),c._index=c._path=null}for(var h=e,g=n.length;h<g;h++)n[h]._index=h;if(s){for(var v=e>0&&t===u+(this._closed?1:0)?e-1:e,s=s.splice(v,l),h=s.length-1;h>=0;h--)s[h]._path=null;r&&(o._curves=s.slice(1)),this._adjustCurves(v,v)}return this._changed(41),o},clear:"#removeSegments",hasHandles:function(){for(var e=this._segments,t=0,r=e.length;t<r;t++)if(e[t].hasHandles())return!0;return!1},clearHandles:function(){for(var e=this._segments,t=0,r=e.length;t<r;t++)e[t].clearHandles()},getLength:function(){if(this._length==null){for(var e=this.getCurves(),t=0,r=0,n=e.length;r<n;r++)t+=e[r].getLength();this._length=t}return this._length},getArea:function(){var e=this._area;if(e==null){var t=this._segments,r=this._closed;e=0;for(var n=0,s=t.length;n<s;n++){var u=n+1===s;e+=J.getArea(J.getValues(t[n],t[u?0:n+1],null,u&&!r))}this._area=e}return e},isFullySelected:function(){var e=this._segments.length;return this.isSelected()&&e>0&&this._segmentSelection===e*7},setFullySelected:function(e){e&&this._selectSegments(!0),this.setSelected(e)},setSelection:function e(t){t&1||this._selectSegments(!1),e.base.call(this,t)},_selectSegments:function(e){var t=this._segments,r=t.length,n=e?7:0;this._segmentSelection=n*r;for(var s=0;s<r;s++)t[s]._selection=n},_updateSelection:function(e,t,r){e._selection=r;var n=this._segmentSelection+=r-t;n>0&&this.setSelected(!0)},divideAt:function(e){var t=this.getLocationAt(e),r;return t&&(r=t.getCurve().divideAt(t.getCurveOffset()))?r._segment1:null},splitAt:function(e){var t=this.getLocationAt(e),r=t&&t.index,n=t&&t.time,s=1e-8,u=1-s;n>u&&(r++,n=0);var o=this.getCurves();if(r>=0&&r<o.length){n>=s&&o[r++].divideAtTime(n);var l=this.removeSegments(r,this._segments.length,!0),h;return this._closed?(this.setClosed(!1),h=this):(h=new ke(P.NO_INSERT),h.insertAbove(this),h.copyAttributes(this)),h._add(l,0),this.addSegment(l[0]),h}return null},split:function(e,t){var r,n=t===G?e:(r=this.getCurves()[e])&&r.getLocationAtTime(t);return n!=null?this.splitAt(n):null},join:function(e,t){var r=t||0;if(e&&e!==this){var n=e._segments,s=this.getLastSegment(),u=e.getLastSegment();if(!u)return this;s&&s._point.isClose(u._point,r)&&e.reverse();var o=e.getFirstSegment();if(s&&s._point.isClose(o._point,r))s.setHandleOut(o._handleOut),this._add(n.slice(1));else{var l=this.getFirstSegment();l&&l._point.isClose(o._point,r)&&e.reverse(),u=e.getLastSegment(),l&&l._point.isClose(u._point,r)?(l.setHandleIn(u._handleIn),this._add(n.slice(0,n.length-1),0)):this._add(n.slice())}e._closed&&this._add([n[0]]),e.remove()}var h=this.getFirstSegment(),c=this.getLastSegment();return h!==c&&h._point.isClose(c._point,r)&&(h.setHandleIn(c._handleIn),c.remove(),this.setClosed(!0)),this},reduce:function(e){for(var t=this.getCurves(),r=e&&e.simplify,n=r?1e-7:0,s=t.length-1;s>=0;s--){var u=t[s];!u.hasHandles()&&(!u.hasLength(n)||r&&u.isCollinear(u.getNext()))&&u.remove()}return this},reverse:function(){this._segments.reverse();for(var e=0,t=this._segments.length;e<t;e++){var r=this._segments[e],n=r._handleIn;r._handleIn=r._handleOut,r._handleOut=n,r._index=e}this._curves=null,this._changed(9)},flatten:function(e){for(var t=new Lt(this,e||.25,256,!0),r=t.parts,n=r.length,s=[],u=0;u<n;u++)s.push(new ye(r[u].curve.slice(0,2)));!this._closed&&n>0&&s.push(new ye(r[n-1].curve.slice(6))),this.setSegments(s)},simplify:function(e){var t=new Pe(this).fit(e||2.5);return t&&this.setSegments(t),!!t},smooth:function(e){var t=this,r=e||{},n=r.type||"asymmetric",s=this._segments,u=s.length,o=this._closed;function l(me,Re){var Te=me&&me.index;if(Te!=null){var $e=me.path;if($e&&$e!==t)throw new Error(me._class+" "+Te+" of "+$e+" is not part of "+t);Re&&me instanceof J&&Te++}else Te=typeof me=="number"?me:Re;return Math.min(Te<0&&o?Te%u:Te<0?Te+u:Te,u-1)}var h=o&&r.from===G&&r.to===G,c=l(r.from,0),g=l(r.to,u-1);if(c>g)if(o)c-=u;else{var v=c;c=g,g=v}if(/^(?:asymmetric|continuous)$/.test(n)){var p=n==="asymmetric",d=Math.min,x=g-c+1,b=x-1,k=h?d(x,4):1,_=k,w=k,f=[];if(o||(_=d(1,c),w=d(1,u-g-1)),b+=_+w,b<=1)return;for(var y=0,C=c-_;y<=b;y++,C++)f[y]=s[(C<0?C+u:C)%u]._point;for(var A=f[0]._x+2*f[1]._x,S=f[0]._y+2*f[1]._y,T=2,N=b-1,O=[A],F=[S],E=[T],B=[],D=[],y=1;y<b;y++){var U=y<N,H=U||p?1:2,W=U?4:p?2:7,X=U?4:p?3:8,se=U?2:p?0:1,de=H/T;T=E[y]=W-de,A=O[y]=X*f[y]._x+se*f[y+1]._x-de*A,S=F[y]=X*f[y]._y+se*f[y+1]._y-de*S}B[N]=O[N]/E[N],D[N]=F[N]/E[N];for(var y=b-2;y>=0;y--)B[y]=(O[y]-B[y+1])/E[y],D[y]=(F[y]-D[y+1])/E[y];B[b]=(3*f[b]._x-B[N])/2,D[b]=(3*f[b]._y-D[N])/2;for(var y=_,ve=b-w,C=c;y<=ve;y++,C++){var K=s[C<0?C+u:C],Y=K._point,le=B[y]-Y._x,ge=D[y]-Y._y;(h||y<ve)&&K.setHandleOut(le,ge),(h||y>_)&&K.setHandleIn(-le,-ge)}}else for(var y=c;y<=g;y++)s[y<0?y+u:y].smooth(r,!h&&y===c,!h&&y===g)},toShape:function(e){if(!this._closed)return null;var t=this._segments,r,n,s,u;function o(p,d){var x=t[p],b=x.getNext(),k=t[d],_=k.getNext();return x._handleOut.isZero()&&b._handleIn.isZero()&&k._handleOut.isZero()&&_._handleIn.isZero()&&b._point.subtract(x._point).isCollinear(_._point.subtract(k._point))}function l(p){var d=t[p],x=d.getPrevious(),b=d.getNext();return x._handleOut.isZero()&&d._handleIn.isZero()&&d._handleOut.isZero()&&b._handleIn.isZero()&&d._point.subtract(x._point).isOrthogonal(b._point.subtract(d._point))}function h(p){var d=t[p],x=d.getNext(),b=d._handleOut,k=x._handleIn,_=.5522847498307936;if(b.isOrthogonal(k)){var w=d._point,f=x._point,y=new tt(w,b,!0).intersect(new tt(f,k,!0),!0);return y&&ne.isZero(b.getLength()/y.subtract(w).getLength()-_)&&ne.isZero(k.getLength()/y.subtract(f).getLength()-_)}return!1}function c(p,d){return t[p]._point.getDistance(t[d]._point)}if(!this.hasHandles()&&t.length===4&&o(0,2)&&o(1,3)&&l(1)?(r=He.Rectangle,n=new ce(c(0,3),c(0,1)),u=t[1]._point.add(t[2]._point).divide(2)):t.length===8&&h(0)&&h(2)&&h(4)&&h(6)&&o(1,5)&&o(3,7)?(r=He.Rectangle,n=new ce(c(1,6),c(0,3)),s=n.subtract(new ce(c(0,7),c(1,2))).divide(2),u=t[3]._point.add(t[4]._point).divide(2)):t.length===4&&h(0)&&h(1)&&h(2)&&h(3)&&(ne.isZero(c(0,2)-c(1,3))?(r=He.Circle,s=c(0,2)/2):(r=He.Ellipse,s=new ce(c(2,0)/2,c(3,1)/2)),u=t[1]._point),r){var g=this.getPosition(!0),v=new r({center:g,size:n,radius:s,insert:!1});return v.copyAttributes(this,!0),v._matrix.prepend(this._matrix),v.rotate(u.subtract(g).getAngle()+90),(e===G||e)&&v.insertAbove(this),v}return null},toPath:"#clone",compare:function e(t){if(!t||t instanceof ut)return e.base.call(this,t);var r=this.getCurves(),n=t.getCurves(),s=r.length,u=n.length;if(!s||!u)return s==u;for(var o=r[0].getValues(),l=[],h=0,c,g=0,v,p=0;p<u;p++){var k=n[p].getValues();l.push(k);var d=J.getOverlaps(o,k);if(d){c=!p&&d[0][0]>0?u-1:p,v=d[0][1];break}}for(var x=Math.abs,b=1e-8,k=l[c],_;o&&k;){var d=J.getOverlaps(o,k);if(d){var w=d[0][0];if(x(w-g)<b){g=d[1][0],g===1&&(o=++h<s?r[h].getValues():null,g=0);var f=d[0][1];if(x(f-v)<b){if(_||(_=[c,f]),v=d[1][1],v===1&&(++c>=u&&(c=0),k=l[c]||n[c].getValues(),v=0),!o)return _[0]===c&&_[1]===v;continue}}}break}return!1},_hitTestSelf:function(e,t,r,n){var s=this,u=this.getStyle(),o=this._segments,l=o.length,h=this._closed,c=t._tolerancePadding,g=c,v,p,d,x,b,k,_=t.stroke&&u.hasStroke(),w=t.fill&&u.hasFill(),f=t.curves,y=_?u.getStrokeWidth()/2:w&&t.tolerance>0||f?0:null;y!==null&&(y>0?(v=u.getStrokeJoin(),p=u.getStrokeCap(),d=u.getMiterLimit(),g=g.add(ke._getStrokePadding(y,n))):v=p="round");function C(B,D){return e.subtract(B).divide(D).length<=1}function A(B,D,U){if(!t.selected||D.isSelected()){var H=B._point;if(D!==H&&(D=D.add(H)),C(D,g))return new _t(U,s,{segment:B,point:D})}}function S(B,D){return(D||t.segments)&&A(B,B._point,"segment")||!D&&t.handles&&(A(B,B._handleIn,"handle-in")||A(B,B._handleOut,"handle-out"))}function T(B){x.add(B)}function N(B){var D=h||B._index>0&&B._index<l-1;if((D?v:p)==="round")return C(B._point,g);if(x=new ke({internal:!0,closed:!0}),D?B.isSmooth()||ke._addBevelJoin(B,v,y,d,null,n,T,!0):p==="square"&&ke._addSquareCap(B,p,y,null,n,T,!0),!x.isEmpty()){var U;return x.contains(e)||(U=x.getNearestLocation(e))&&C(U.getPoint(),c)}}if(t.ends&&!t.segments&&!h){if(k=S(o[0],!0)||S(o[l-1],!0))return k}else if(t.segments||t.handles){for(var O=0;O<l;O++)if(k=S(o[O]))return k}if(y!==null){if(b=this.getNearestLocation(e),b){var F=b.getTime();F===0||F===1&&l>1?N(b.getSegment())||(b=null):C(b.getPoint(),g)||(b=null)}if(!b&&v==="miter"&&l>1)for(var O=0;O<l;O++){var E=o[O];if(e.getDistance(E._point)<=d*y&&N(E)){b=E.getLocation();break}}}return!b&&w&&this._contains(e)||b&&!_&&!f?new _t("fill",this):b?new _t(_?"stroke":"curve",this,{location:b,point:b.getPoint()}):null}},L.each(J._evaluateMethods,function(e){this[e+"At"]=function(t){var r=this.getLocationAt(t);return r&&r[e]()}},{beans:!1,getLocationOf:function(){for(var e=z.read(arguments),t=this.getCurves(),r=0,n=t.length;r<n;r++){var s=t[r].getLocationOf(e);if(s)return s}return null},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getLocationAt:function(e){if(typeof e=="number"){for(var t=this.getCurves(),r=0,n=0,s=t.length;n<s;n++){var u=r,o=t[n];if(r+=o.getLength(),r>e)return o.getLocationAt(e-u)}if(t.length>0&&e<=this.getLength())return new ze(t[t.length-1],1)}else if(e&&e.getPath&&e.getPath()===this)return e;return null},getOffsetsWithTangent:function(){var e=z.read(arguments);if(e.isZero())return[];for(var t=[],r=0,n=this.getCurves(),s=0,u=n.length;s<u;s++){for(var o=n[s],l=o.getTimesWithTangent(e),h=0,c=l.length;h<c;h++){var g=r+o.getOffsetAtTime(l[h]);t.indexOf(g)<0&&t.push(g)}r+=o.length}return t}}),new function(){function e(r,n,s,u){if(u<=0)return;var o=u/2,l=u-2,h=o-1,c=new Array(6),g,v;function p(w){var f=c[w],y=c[w+1];(g!=f||v!=y)&&(r.beginPath(),r.moveTo(g,v),r.lineTo(f,y),r.stroke(),r.beginPath(),r.arc(f,y,o,0,Math.PI*2,!0),r.fill())}for(var d=0,x=n.length;d<x;d++){var b=n[d],k=b._selection;if(b._transformCoordinates(s,c),g=c[0],v=c[1],k&2&&p(2),k&4&&p(4),r.fillRect(g-o,v-o,u,u),l>0&&!(k&1)){var _=r.fillStyle;r.fillStyle="#ffffff",r.fillRect(g-h,v-h,l,l),r.fillStyle=_}}}function t(r,n,s){var u=n._segments,o=u.length,l=new Array(6),h=!0,c,g,v,p,d,x,b,k;function _(f){if(s)f._transformCoordinates(s,l),c=l[0],g=l[1];else{var y=f._point;c=y._x,g=y._y}if(h)r.moveTo(c,g),h=!1;else{if(s)d=l[2],x=l[3];else{var C=f._handleIn;d=c+C._x,x=g+C._y}d===c&&x===g&&b===v&&k===p?r.lineTo(c,g):r.bezierCurveTo(b,k,d,x,c,g)}if(v=c,p=g,s)b=l[4],k=l[5];else{var C=f._handleOut;b=v+C._x,k=p+C._y}}for(var w=0;w<o;w++)_(u[w]);n._closed&&o>0&&_(u[0])}return{_draw:function(r,n,s,u){var o=n.dontStart,l=n.dontFinish||n.clip,h=this.getStyle(),c=h.hasFill(),g=h.hasStroke(),v=h.getDashArray(),p=!Ae.support.nativeDash&&g&&v&&v.length;o||r.beginPath(),(c||g&&!p||l)&&(t(r,this,u),this._closed&&r.closePath());function d(f){return v[(f%p+p)%p]}if(!l&&(c||g)&&(this._setStyles(r,n,s),c&&(r.fill(h.getFillRule()),r.shadowColor="rgba(0,0,0,0)"),g)){if(p){o||r.beginPath();for(var x=new Lt(this,.25,32,!1,u),b=x.length,k=-h.getDashOffset(),_,w=0;k>0;)k-=d(w--)+d(w--);for(;k<b;)_=k+d(w++),(k>0||_>0)&&x.drawPart(r,Math.max(k,0),Math.max(_,0)),k=_+d(w++)}r.stroke()}},_drawSelected:function(r,n){r.beginPath(),t(r,this,n),r.stroke(),e(r,this._segments,n,Ae.settings.handleSize)}}},new function(){function e(t){var r=t._segments;if(!r.length)throw new Error("Use a moveTo() command first");return r[r.length-1]}return{moveTo:function(){var t=this._segments;t.length===1&&this.removeSegment(0),t.length||this._add([new ye(z.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new ye(z.read(arguments))])},cubicCurveTo:function(){var t=arguments,r=z.read(t),n=z.read(t),s=z.read(t),u=e(this);u.setHandleOut(r.subtract(u._point)),this._add([new ye(s,n.subtract(s))])},quadraticCurveTo:function(){var t=arguments,r=z.read(t),n=z.read(t),s=e(this)._point;this.cubicCurveTo(r.add(s.subtract(r).multiply(1/3)),r.add(n.subtract(r).multiply(1/3)),n)},curveTo:function(){var t=arguments,r=z.read(t),n=z.read(t),s=L.pick(L.read(t),.5),u=1-s,o=e(this)._point,l=r.subtract(o.multiply(u*u)).subtract(n.multiply(s*s)).divide(2*s*u);if(l.isNaN())throw new Error("Cannot put a curve through points with parameter = "+s);this.quadraticCurveTo(l,n)},arcTo:function(){var t=arguments,r=Math.abs,n=Math.sqrt,s=e(this),u=s._point,o=z.read(t),l,h=L.peek(t),c=L.pick(h,!0),g,v,p,d;if(typeof c=="boolean")var x=u.add(o).divide(2),l=x.add(x.subtract(u).rotate(c?-90:90));else if(L.remain(t)<=2)l=o,o=z.read(t);else if(!u.equals(o)){var b=ce.read(t),k=ne.isZero;if(k(b.width)||k(b.height))return this.lineTo(o);var _=L.read(t),c=!!L.read(t),w=!!L.read(t),x=u.add(o).divide(2),f=u.subtract(x).rotate(-_),y=f.x,C=f.y,A=r(b.width),S=r(b.height),T=A*A,N=S*S,O=y*y,F=C*C,E=n(O/T+F/N);if(E>1&&(A*=E,S*=E,T=A*A,N=S*S),E=(T*N-T*F-N*O)/(T*F+N*O),r(E)<1e-12&&(E=0),E<0)throw new Error("Cannot create an arc with the given arguments");g=new z(A*C/S,-S*y/A).multiply((w===c?-1:1)*n(E)).rotate(_).add(x),d=new Le().translate(g).rotate(_).scale(A,S),p=d._inverseTransform(u),v=p.getDirectedAngle(d._inverseTransform(o)),!c&&v>0?v-=360:c&&v<0&&(v+=360)}if(l){var B=new tt(u.add(l).divide(2),l.subtract(u).rotate(90),!0),D=new tt(l.add(o).divide(2),o.subtract(l).rotate(90),!0),U=new tt(u,o),H=U.getSide(l);if(g=B.intersect(D,!0),!g){if(!H)return this.lineTo(o);throw new Error("Cannot create an arc with the given arguments")}p=u.subtract(g),v=p.getDirectedAngle(o.subtract(g));var W=U.getSide(g,!0);W===0?v=H*r(v):H===W&&(v+=v<0?360:-360)}if(v){for(var X=1e-5,se=r(v),de=se>=360?4:Math.ceil((se-X)/90),ve=v/de,K=ve*Math.PI/360,Y=4/3*Math.sin(K)/(1+Math.cos(K)),le=[],ge=0;ge<=de;ge++){var f=o,me=null;if(ge<de&&(me=p.rotate(90).multiply(Y),d?(f=d._transformPoint(p),me=d._transformPoint(p.add(me)).subtract(f)):f=g.add(p)),!ge)s.setHandleOut(me);else{var Re=p.rotate(-90).multiply(Y);d&&(Re=d._transformPoint(p.add(Re)).subtract(f)),le.push(new ye(f,Re,me))}p=p.rotate(ve)}this._add(le)}},lineBy:function(){var t=z.read(arguments),r=e(this)._point;this.lineTo(r.add(t))},curveBy:function(){var t=arguments,r=z.read(t),n=z.read(t),s=L.read(t),u=e(this)._point;this.curveTo(u.add(r),u.add(n),s)},cubicCurveBy:function(){var t=arguments,r=z.read(t),n=z.read(t),s=z.read(t),u=e(this)._point;this.cubicCurveTo(u.add(r),u.add(n),u.add(s))},quadraticCurveBy:function(){var t=arguments,r=z.read(t),n=z.read(t),s=e(this)._point;this.quadraticCurveTo(s.add(r),s.add(n))},arcBy:function(){var t=arguments,r=e(this)._point,n=r.add(z.read(t)),s=L.pick(L.peek(t),!0);typeof s=="boolean"?this.arcTo(n,s):this.arcTo(n,r.add(z.read(t)))},closePath:function(t){this.setClosed(!0),this.join(this,t)}}},{_getBounds:function(e,t){var r=t.handle?"getHandleBounds":t.stroke?"getStrokeBounds":"getBounds";return ke[r](this._segments,this._closed,this,e,t)},statics:{getBounds:function(e,t,r,n,s,u){var o=e[0];if(!o)return new ee;var l=new Array(6),h=o._transformCoordinates(n,new Array(6)),c=h.slice(0,2),g=c.slice(),v=new Array(2);function p(b){b._transformCoordinates(n,l);for(var k=0;k<2;k++)J._addBounds(h[k],h[k+4],l[k+2],l[k],k,u?u[k]:0,c,g,v);var _=h;h=l,l=_}for(var d=1,x=e.length;d<x;d++)p(e[d]);return t&&p(o),new ee(c[0],c[1],g[0]-c[0],g[1]-c[1])},getStrokeBounds:function(e,t,r,n,s){var u=r.getStyle(),o=u.hasStroke(),l=u.getStrokeWidth(),h=o&&r._getStrokeMatrix(n,s),c=o&&ke._getStrokePadding(l,h),g=ke.getBounds(e,t,r,n,s,c);if(!o)return g;var v=l/2,p=u.getStrokeJoin(),d=u.getStrokeCap(),x=u.getMiterLimit(),b=new ee(new ce(c));function k(A){g=g.include(A)}function _(A){g=g.unite(b.setCenter(A._point.transform(n)))}function w(A,S){S==="round"||A.isSmooth()?_(A):ke._addBevelJoin(A,S,v,x,n,h,k)}function f(A,S){S==="round"?_(A):ke._addSquareCap(A,S,v,n,h,k)}var y=e.length-(t?0:1);if(y>0){for(var C=1;C<y;C++)w(e[C],p);t?w(e[0],p):(f(e[0],d),f(e[e.length-1],d))}return g},_getStrokePadding:function(e,t){if(!t)return[e,e];var r=new z(e,0).transform(t),n=new z(0,e).transform(t),s=r.getAngleInRadians(),u=r.getLength(),o=n.getLength(),l=Math.sin(s),h=Math.cos(s),c=Math.tan(s),g=Math.atan2(o*c,u),v=Math.atan2(o,c*u);return[Math.abs(u*Math.cos(g)*h+o*Math.sin(g)*l),Math.abs(o*Math.sin(v)*h+u*Math.cos(v)*l)]},_addBevelJoin:function(e,t,r,n,s,u,o,l){var h=e.getCurve(),c=h.getPrevious(),g=h.getPoint1().transform(s),v=c.getNormalAtTime(1).multiply(r).transform(u),p=h.getNormalAtTime(0).multiply(r).transform(u),d=v.getDirectedAngle(p);if((d<0||d>=180)&&(v=v.negate(),p=p.negate()),l&&o(g),o(g.add(v)),t==="miter"){var x=new tt(g.add(v),new z(-v.y,v.x),!0).intersect(new tt(g.add(p),new z(-p.y,p.x),!0),!0);x&&g.getDistance(x)<=n*r&&o(x)}o(g.add(p))},_addSquareCap:function(e,t,r,n,s,u,o){var l=e._point.transform(n),h=e.getLocation(),c=h.getNormal().multiply(h.getTime()===0?r:-r).transform(s);t==="square"&&(o&&(u(l.subtract(c)),u(l.add(c))),l=l.add(c.rotate(-90))),u(l.add(c)),u(l.subtract(c))},getHandleBounds:function(e,t,r,n,s){var u=r.getStyle(),o=s.stroke&&u.hasStroke(),l,h;if(o){var c=r._getStrokeMatrix(n,s),g=u.getStrokeWidth()/2,v=g;u.getStrokeJoin()==="miter"&&(v=g*u.getMiterLimit()),u.getStrokeCap()==="square"&&(v=Math.max(v,g*Math.SQRT2)),l=ke._getStrokePadding(g,c),h=ke._getStrokePadding(v,c)}for(var p=new Array(6),d=1/0,x=-d,b=d,k=x,_=0,w=e.length;_<w;_++){var f=e[_];f._transformCoordinates(n,p);for(var y=0;y<6;y+=2){var C=y?l:h,A=C?C[0]:0,S=C?C[1]:0,T=p[y],N=p[y+1],O=T-A,F=T+A,E=N-S,B=N+S;O<d&&(d=O),F>x&&(x=F),E<b&&(b=E),B>k&&(k=B)}}return new ee(d,b,x-d,k-b)}}});ke.inject({statics:new function(){var e=.5522847498307936,t=[new ye([-1,0],[0,e],[0,-.5522847498307936]),new ye([0,-1],[-.5522847498307936,0],[e,0]),new ye([1,0],[0,-.5522847498307936],[0,e]),new ye([0,1],[e,0],[-.5522847498307936,0])];function r(s,u,o){var l=L.getNamed(o),h=new ke(l&&(l.insert==!0?P.INSERT:l.insert==!1?P.NO_INSERT:null));return h._add(s),h._closed=u,h.set(l,P.INSERT)}function n(s,u,o){for(var l=new Array(4),h=0;h<4;h++){var c=t[h];l[h]=new ye(c._point.multiply(u).add(s),c._handleIn.multiply(u),c._handleOut.multiply(u))}return r(l,!0,o)}return{Line:function(){var s=arguments;return r([new ye(z.readNamed(s,"from")),new ye(z.readNamed(s,"to"))],!1,s)},Circle:function(){var s=arguments,u=z.readNamed(s,"center"),o=L.readNamed(s,"radius");return n(u,new ce(o),s)},Rectangle:function(){var s=arguments,u=ee.readNamed(s,"rectangle"),o=ce.readNamed(s,"radius",0,{readNull:!0}),l=u.getBottomLeft(!0),h=u.getTopLeft(!0),c=u.getTopRight(!0),g=u.getBottomRight(!0),v;if(!o||o.isZero())v=[new ye(l),new ye(h),new ye(c),new ye(g)];else{o=ce.min(o,u.getSize(!0).divide(2));var p=o.width,d=o.height,x=p*e,b=d*e;v=[new ye(l.add(p,0),null,[-x,0]),new ye(l.subtract(0,d),[0,b]),new ye(h.add(0,d),null,[0,-b]),new ye(h.add(p,0),[-x,0],null),new ye(c.subtract(p,0),null,[x,0]),new ye(c.add(0,d),[0,-b],null),new ye(g.subtract(0,d),null,[0,b]),new ye(g.subtract(p,0),[x,0])]}return r(v,!0,s)},RoundRectangle:"#Rectangle",Ellipse:function(){var s=arguments,u=He._readEllipse(s);return n(u.center,u.radius,s)},Oval:"#Ellipse",Arc:function(){var s=arguments,u=z.readNamed(s,"from"),o=z.readNamed(s,"through"),l=z.readNamed(s,"to"),h=L.getNamed(s),c=new ke(h&&h.insert==!1&&P.NO_INSERT);return c.moveTo(u),c.arcTo(o,l),c.set(h)},RegularPolygon:function(){for(var s=arguments,u=z.readNamed(s,"center"),o=L.readNamed(s,"sides"),l=L.readNamed(s,"radius"),h=360/o,c=o%3===0,g=new z(0,c?-l:l),v=c?-1:.5,p=new Array(o),d=0;d<o;d++)p[d]=new ye(u.add(g.rotate((d+v)*h)));return r(p,!0,s)},Star:function(){for(var s=arguments,u=z.readNamed(s,"center"),o=L.readNamed(s,"points")*2,l=L.readNamed(s,"radius1"),h=L.readNamed(s,"radius2"),c=360/o,g=new z(0,-1),v=new Array(o),p=0;p<o;p++)v[p]=new ye(u.add(g.rotate(c*p).multiply(p%2?h:l)));return r(v,!0,s)}}}});var ut=ft.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||(typeof t=="string"?this.setPathData(t):this.addChildren(Array.isArray(t)?t:arguments))},insertChildren:function e(t,r){var n=r,s=n[0];s&&typeof s[0]=="number"&&(n=[n]);for(var u=r.length-1;u>=0;u--){var o=n[u];n===r&&!(o instanceof ke)&&(n=L.slice(n)),Array.isArray(o)?n[u]=new ke({segments:o,insert:!1}):o instanceof ut&&(n.splice.apply(n,[u,1].concat(o.removeChildren())),o.remove())}return e.base.call(this,t,n)},reduce:function e(t){for(var r=this._children,n=r.length-1;n>=0;n--){var s=r[n].reduce(t);s.isEmpty()&&s.remove()}if(!r.length){var s=new ke(P.NO_INSERT);return s.copyAttributes(this),s.insertAbove(this),this.remove(),s}return e.base.call(this)},isClosed:function(){for(var e=this._children,t=0,r=e.length;t<r;t++)if(!e[t]._closed)return!1;return!0},setClosed:function(e){for(var t=this._children,r=0,n=t.length;r<n;r++)t[r].setClosed(e)},getFirstSegment:function(){var e=this.getFirstChild();return e&&e.getFirstSegment()},getLastSegment:function(){var e=this.getLastChild();return e&&e.getLastSegment()},getCurves:function(){for(var e=this._children,t=[],r=0,n=e.length;r<n;r++)L.push(t,e[r].getCurves());return t},getFirstCurve:function(){var e=this.getFirstChild();return e&&e.getFirstCurve()},getLastCurve:function(){var e=this.getLastChild();return e&&e.getLastCurve()},getArea:function(){for(var e=this._children,t=0,r=0,n=e.length;r<n;r++)t+=e[r].getArea();return t},getLength:function(){for(var e=this._children,t=0,r=0,n=e.length;r<n;r++)t+=e[r].getLength();return t},getPathData:function(e,t){for(var r=this._children,n=[],s=0,u=r.length;s<u;s++){var o=r[s],l=o._matrix;n.push(o.getPathData(e&&!l.isIdentity()?e.appended(l):e,t))}return n.join("")},_hitTestChildren:function e(t,r,n){return e.base.call(this,t,r.class===ke||r.type==="path"?r:L.set({},r,{fill:!1}),n)},_draw:function(e,t,r,n){var s=this._children;if(s.length){t=t.extend({dontStart:!0,dontFinish:!0}),e.beginPath();for(var u=0,o=s.length;u<o;u++)s[u].draw(e,t,n);if(!t.clip){this._setStyles(e,t,r);var l=this._style;l.hasFill()&&(e.fill(l.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),l.hasStroke()&&e.stroke()}}},_drawSelected:function(e,t,r){for(var n=this._children,s=0,u=n.length;s<u;s++){var o=n[s],l=o._matrix;r[o._id]||o._drawSelected(e,l.isIdentity()?t:t.appended(l))}}},new function(){function e(t,r){var n=t._children;if(r&&!n.length)throw new Error("Use a moveTo() command first");return n[n.length-1]}return L.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(t){this[t]=function(){var r=e(this,!0);r[t].apply(r,arguments)}},{moveTo:function(){var t=e(this),r=t&&t.isEmpty()?t:new ke(P.NO_INSERT);r!==t&&this.addChild(r),r.moveTo.apply(r,arguments)},moveBy:function(){var t=e(this,!0),r=t&&t.getLastSegment(),n=z.read(arguments);this.moveTo(r?n.add(r._point):n)},closePath:function(t){e(this,!0).closePath(t)}})},L.each(["reverse","flatten","simplify","smooth"],function(e){this[e]=function(t){for(var r=this._children,n,s=0,u=r.length;s<u;s++)n=r[s][e](t)||n;return n}},{}));ft.inject(new function(){var e=Math.min,t=Math.max,r=Math.abs,n={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function s(_){return _._children||[_]}function u(_,w){var f=_.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(w){for(var y=s(f),C=0,A=y.length;C<A;C++){var _=y[C];!_._closed&&!_.isEmpty()&&(_.closePath(1e-12),_.getFirstSegment().setHandleIn(0,0),_.getLastSegment().setHandleOut(0,0))}f=f.resolveCrossings().reorient(f.getFillRule()==="nonzero",!0)}return f}function o(_,w,f,y,C){var A=new ut(P.NO_INSERT);return A.addChildren(_,!0),A=A.reduce({simplify:w}),C&&C.insert==!1||A.insertAbove(y&&f.isSibling(y)&&f.getIndex()<y.getIndex()?y:f),A.copyAttributes(f,!0),A}function l(_){return _.hasOverlap()||_.isCrossing()}function h(_,w,f,y){if(y&&(y.trace==!1||y.stroke)&&/^(subtract|intersect)$/.test(f))return c(_,w,f);var C=u(_,!0),A=w&&_!==w&&u(w,!0),S=n[f];S[f]=!0,A&&(S.subtract||S.exclude)^(A.isClockwise()^C.isClockwise())&&A.reverse();var T=d(ze.expand(C.getIntersections(A,l))),N=s(C),O=A&&s(A),F=[],E=[],B;function D(me){for(var Re=0,Te=me.length;Re<Te;Re++){var $e=me[Re];L.push(F,$e._segments),L.push(E,$e.getCurves()),$e._overlapsOnly=!0}}function U(me){for(var Re=[],Te=0,$e=me&&me.length;Te<$e;Te++)Re.push(E[me[Te]]);return Re}if(T.length){D(N),O&&D(O);for(var H=new Array(E.length),W=0,X=E.length;W<X;W++)H[W]=E[W].getValues();for(var se=Ee.findCurveBoundsCollisions(H,H,0,!0),de={},W=0;W<E.length;W++){var ve=E[W],K=ve._path._id,Y=de[K]=de[K]||{};Y[ve.getIndex()]={hor:U(se[W].hor),ver:U(se[W].ver)}}for(var W=0,X=T.length;W<X;W++)b(T[W]._segment,C,A,de,S);for(var W=0,X=F.length;W<X;W++){var le=F[W],ge=le._intersection;le._winding||b(le,C,A,de,S),ge&&ge._overlap||(le._path._overlapsOnly=!1)}B=k(F,S)}else B=p(O?N.concat(O):N.slice(),function(me){return!!S[me]});return o(B,!0,_,w,y)}function c(_,w,f){var y=u(_),C=u(w),A=y.getIntersections(C,l),S=f==="subtract",T=f==="divide",N={},O=[];function F(D){if(!N[D._id]&&(T||C.contains(D.getPointAt(D.getLength()/2))^S))return O.unshift(D),N[D._id]=!0}for(var E=A.length-1;E>=0;E--){var B=A[E].split();B&&(F(B)&&B.getFirstSegment().setHandleIn(0,0),y.getLastSegment().setHandleOut(0,0))}return F(y),o(O,!1,_,w)}function g(_,w){for(var f=_;f;){if(f===w)return;f=f._previous}for(;_._next&&_._next!==w;)_=_._next;if(!_._next){for(;w._previous;)w=w._previous;_._next=w,w._previous=_}}function v(_){for(var w=_.length-1;w>=0;w--)_[w].clearHandles()}function p(_,w,f){var y=_&&_.length;if(y){var C=L.each(_,function(se,de){this[se._id]={container:null,winding:se.isClockwise()?1:-1,index:de}},{}),A=_.slice().sort(function(se,de){return r(de.getArea())-r(se.getArea())}),S=A[0],T=Ee.findItemBoundsCollisions(A,null,ne.GEOMETRIC_EPSILON);f==null&&(f=S.isClockwise());for(var N=0;N<y;N++){var O=A[N],F=C[O._id],E=0,B=T[N];if(B){for(var D=null,U=B.length-1;U>=0;U--)if(B[U]<N){D=D||O.getInteriorPoint();var H=A[B[U]];if(H.contains(D)){var W=C[H._id];E=W.winding,F.winding+=E,F.container=W.exclude?W.container:H;break}}}if(w(F.winding)===w(E))F.exclude=!0,_[F.index]=null;else{var X=F.container;O.setClockwise(X?!X.isClockwise():f)}}}return _}function d(_,w,f){var y=w&&[],C=1e-8,A=1-C,S=!1,T=f||[],N=f&&{},O,F,E;function B(Re){return Re._path._id+"."+Re._segment1._index}for(var D=(f&&f.length)-1;D>=0;D--){var U=f[D];U._path&&(N[B(U)]=!0)}for(var D=_.length-1;D>=0;D--){var H=_[D],W=H._time,X=W,se=w&&!w(H),U=H._curve,de;if(U&&(U!==F?(S=!U.hasHandles()||N&&N[B(U)],O=[],E=null,F=U):E>=C&&(W/=E)),se){O&&O.push(H);continue}else w&&y.unshift(H);if(E=X,W<C)de=U._segment1;else if(W>A)de=U._segment2;else{var ve=U.divideAtTime(W,!0);S&&T.push(U,ve),de=ve._segment1;for(var K=O.length-1;K>=0;K--){var Y=O[K];Y._time=(Y._time-W)/(1-W)}}H._setSegment(de);var le=de._intersection,ge=H._intersection;if(le){g(le,ge);for(var me=le;me;)g(me._intersection,le),me=me._next}else de._intersection=ge}return f||v(T),y||_}function x(_,w,f,y,C){var A=Array.isArray(w)?w:w[f?"hor":"ver"],S=f?1:0,T=S^1,N=[_.x,_.y],O=N[S],F=N[T],E=1e-9,B=1e-6,D=O-E,U=O+E,H=0,W=0,X=0,se=0,de=!1,ve=!1,K=1,Y=[],le,ge;function me(pe){var Ft=pe[T+0],$t=pe[T+6];if(!(F<e(Ft,$t)||F>t(Ft,$t))){var Qt=pe[S+0],mi=pe[S+2],Ii=pe[S+4],xi=pe[S+6];if(Ft===$t){(Qt<U&&xi>D||xi<U&&Qt>D)&&(de=!0);return}var yi=F===Ft?0:F===$t||D>t(Qt,mi,Ii,xi)||U<e(Qt,mi,Ii,xi)?1:J.solveCubic(pe,T,F,Y,0,1)>0?Y[0]:1,oi=yi===0?Qt:yi===1?xi:J.getPoint(pe,yi)[f?"y":"x"],pi=Ft>$t?1:-1,Ai=le[T]>le[T+6]?1:-1,Xt=le[S+6];return F!==Ft?(oi<D?X+=pi:oi>U?se+=pi:de=!0,oi>O-B&&oi<O+B&&(K/=2)):(pi!==Ai?Qt<D?X+=pi:Qt>U&&(se+=pi):Qt!=Xt&&(Xt<U&&oi>U?(se+=pi,de=!0):Xt>D&&oi<D&&(X+=pi,de=!0)),K/=4),le=pe,!C&&oi>D&&oi<U&&J.getTangent(pe,yi)[f?"x":"y"]===0&&x(_,w,!f,y,!0)}}function Re(pe){var Ft=pe[T+0],$t=pe[T+2],Qt=pe[T+4],mi=pe[T+6];if(F<=t(Ft,$t,Qt,mi)&&F>=e(Ft,$t,Qt,mi)){for(var Ii=pe[S+0],xi=pe[S+2],yi=pe[S+4],oi=pe[S+6],pi=D>t(Ii,xi,yi,oi)||U<e(Ii,xi,yi,oi)?[pe]:J.getMonoCurves(pe,f),Ai,Xt=0,li=pi.length;Xt<li;Xt++)if(Ai=me(pi[Xt]))return Ai}}for(var Te=0,$e=A.length;Te<$e;Te++){var Ge=A[Te],We=Ge._path,Kt=Ge.getValues(),Ht;if((!Te||A[Te-1]._path!==We)&&(le=null,We._closed||(ge=J.getValues(We.getLastCurve().getSegment2(),Ge.getSegment1(),null,!y),ge[T]!==ge[T+6]&&(le=ge)),!le)){le=Kt;for(var Jt=We.getLastCurve();Jt&&Jt!==Ge;){var Gt=Jt.getValues();if(Gt[T]!==Gt[T+6]){le=Gt;break}Jt=Jt.getPrevious()}}if(Ht=Re(Kt))return Ht;if(Te+1===$e||A[Te+1]._path!==We){if(ge&&(Ht=Re(ge)))return Ht;de&&!X&&!se&&(X=se=We.isClockwise(y)^f?1:-1),H+=X,W+=se,X=se=0,de&&(ve=!0,de=!1),ge=null}}return H=r(H),W=r(W),{winding:t(H,W),windingL:H,windingR:W,quality:K,onPath:ve}}function b(_,w,f,y,C){var A=[],S=_,T=0,E;do{var N=_.getCurve();if(N){var O=N.getLength();A.push({segment:_,curve:N,length:O}),T+=O}_=_.getNext()}while(_&&!_._intersection&&_!==S);for(var F=[.5,.25,.75],E={winding:0,quality:-1},B=.001,D=1-B,U=0;U<F.length&&E.quality<.5;U++)for(var O=T*F[U],H=0,W=A.length;H<W;H++){var X=A[H],se=X.length;if(O<=se){var N=X.curve,de=N._path,ve=de._parent,K=ve instanceof ut?ve:de,Y=ne.clamp(N.getTimeAt(O),B,D),le=N.getPointAtTime(Y),ge=r(N.getTangentAtTime(Y).y)<Math.SQRT1_2,me=null;if(C.subtract&&f){var Re=K===w?f:w,Te=Re._getWinding(le,ge,!0);if(K===w&&Te.winding||K===f&&!Te.winding){if(Te.quality<1)continue;me={winding:0,quality:1}}}me=me||x(le,y[de._id][N.getIndex()],ge,!0),me.quality>E.quality&&(E=me);break}O-=se}for(var H=A.length-1;H>=0;H--)A[H].segment._winding=E}function k(_,w){var f=[],y;function C($e){var Ge;return!!($e&&!$e._visited&&(!w||w[(Ge=$e._winding||{}).winding]&&!(w.unite&&Ge.winding===2&&Ge.windingL&&Ge.windingR)))}function A($e){if($e){for(var Ge=0,We=y.length;Ge<We;Ge++)if($e===y[Ge])return!0}return!1}function S($e){for(var Ge=$e._segments,We=0,Kt=Ge.length;We<Kt;We++)Ge[We]._visited=!0}function T($e,Ge){var We=$e._intersection,Kt=We,Ht=[];Ge&&(y=[$e]);function Jt(Gt,pe){for(;Gt&&Gt!==pe;){var Ft=Gt._segment,$t=Ft&&Ft._path;if($t){var Qt=Ft.getNext()||$t.getFirstSegment(),mi=Qt._intersection;Ft!==$e&&(A(Ft)||A(Qt)||Qt&&C(Ft)&&(C(Qt)||mi&&C(mi._segment)))&&Ht.push(Ft),Ge&&y.push(Ft)}Gt=Gt._next}}if(We){for(Jt(We);We&&We._previous;)We=We._previous;Jt(We,Kt)}return Ht}_.sort(function($e,Ge){var We=$e._intersection,Kt=Ge._intersection,Ht=!!(We&&We._overlap),Jt=!!(Kt&&Kt._overlap),Gt=$e._path,pe=Ge._path;return Ht^Jt?Ht?1:-1:!We^!Kt?We?1:-1:Gt!==pe?Gt._id-pe._id:$e._index-Ge._index});for(var N=0,O=_.length;N<O;N++){var F=_[N],E=C(F),B=null,D=!1,U=!0,H=[],W,X,se;if(E&&F._path._overlapsOnly){var de=F._path,ve=F._intersection._segment._path;de.compare(ve)&&(de.getArea()&&f.push(de.clone(!1)),S(de),S(ve),E=!1)}for(;E;){var K=!B,Y=T(F,K),le=Y.shift(),D=!K&&(A(F)||A(le)),ge=!D&&le;if(K&&(B=new ke(P.NO_INSERT),W=null),D){(F.isFirst()||F.isLast())&&(U=F._path._closed),F._visited=!0;break}if(ge&&W&&(H.push(W),W=null),W||(ge&&Y.push(F),W={start:B._segments.length,crossings:Y,visited:X=[],handleIn:se}),ge&&(F=le),!C(F)){B.removeSegments(W.start);for(var me=0,Re=X.length;me<Re;me++)X[me]._visited=!1;X.length=0;do F=W&&W.crossings.shift(),(!F||!F._path)&&(F=null,W=H.pop(),W&&(X=W.visited,se=W.handleIn));while(W&&!C(F));if(!F)break}var Te=F.getNext();B.add(new ye(F._point,se,Te&&F._handleOut)),F._visited=!0,X.push(F),F=Te||F._path.getFirstSegment(),se=Te&&Te._handleIn}D&&(U&&(B.getFirstSegment().setHandleIn(se),B.setClosed(U)),B.getArea()!==0&&f.push(B))}return f}return{_getWinding:function(_,w,f){return x(_,this.getCurves(),w,f)},unite:function(_,w){return h(this,_,"unite",w)},intersect:function(_,w){return h(this,_,"intersect",w)},subtract:function(_,w){return h(this,_,"subtract",w)},exclude:function(_,w){return h(this,_,"exclude",w)},divide:function(_,w){return w&&(w.trace==!1||w.stroke)?c(this,_,"divide"):o([this.subtract(_,w),this.intersect(_,w)],!0,this,_,w)},resolveCrossings:function(){var _=this._children,w=_||[this];function f(W,X){var se=W&&W._intersection;return se&&se._overlap&&se._path===X}var y=!1,C=!1,A=this.getIntersections(null,function(W){return W.hasOverlap()&&(y=!0)||W.isCrossing()&&(C=!0)}),S=y&&C&&[];if(A=ze.expand(A),y)for(var T=d(A,function(W){return W.hasOverlap()},S),N=T.length-1;N>=0;N--){var O=T[N],F=O._path,E=O._segment,B=E.getPrevious(),D=E.getNext();f(B,F)&&f(D,F)&&(E.remove(),B._handleOut._set(0,0),D._handleIn._set(0,0),B!==E&&!B.getCurve().hasLength()&&(D._handleIn.set(B._handleIn),B.remove()))}C&&(d(A,y&&function(W){var X=W.getCurve(),se=W.getSegment(),de=W._intersection,ve=de._curve,K=de._segment;if(X&&ve&&X._path&&ve._path)return!0;se&&(se._intersection=null),K&&(K._intersection=null)},S),S&&v(S),w=k(L.each(w,function(W){L.push(this,W._segments)},[])));var U=w.length,H;return U>1&&_?(w!==_&&this.setChildren(w),H=this):U===1&&!_&&(w[0]!==this&&this.setSegments(w[0].removeSegments()),H=this),H||(H=new ut(P.NO_INSERT),H.addChildren(w),H=H.reduce(),H.copyAttributes(this),this.replaceWith(H)),H},reorient:function(_,w){var f=this._children;return f&&f.length?this.setChildren(p(this.removeChildren(),function(y){return!!(_?y:y&1)},w)):w!==G&&this.setClockwise(w),this},getInteriorPoint:function(){var _=this.getBounds(),w=_.getCenter(!0);if(!this.contains(w)){for(var f=this.getCurves(),y=w.y,C=[],A=[],S=0,T=f.length;S<T;S++){var N=f[S].getValues(),O=N[1],F=N[3],E=N[5],B=N[7];if(y>=e(O,F,E,B)&&y<=t(O,F,E,B))for(var D=J.getMonoCurves(N),U=0,H=D.length;U<H;U++){var W=D[U],X=W[1],se=W[7];if(X!==se&&(y>=X&&y<=se||y>=se&&y<=X)){var de=y===X?W[0]:y===se?W[6]:J.solveCubic(W,1,y,A,0,1)===1?J.getPoint(W,A[0]).x:(W[0]+W[6])/2;C.push(de)}}}C.length>1&&(C.sort(function(ve,K){return ve-K}),w.x=(C[0]+C[1])/2)}return w}}});var Lt=L.extend({_class:"PathFlattener",initialize:function(e,t,r,n,s){var u=[],o=[],l=0,h=1/(r||32),c=e._segments,g=c[0],v;function p(k,_){var w=J.getValues(k,_,s);u.push(w),d(w,k._index,0,1)}function d(k,_,w,f){if(f-w>h&&!(n&&J.isStraight(k))&&!J.isFlatEnough(k,t||.25)){var y=J.subdivide(k,.5),C=(w+f)/2;d(y[0],_,w,C),d(y[1],_,C,f)}else{var A=k[6]-k[0],S=k[7]-k[1],T=Math.sqrt(A*A+S*S);T>0&&(l+=T,o.push({offset:l,curve:k,index:_,time:f}))}}for(var x=1,b=c.length;x<b;x++)v=c[x],p(g,v),g=v;e._closed&&p(v||g,c[0]),this.curves=u,this.parts=o,this.length=l,this.index=0},_get:function(e){for(var t=this.parts,r=t.length,n,s=this.index;n=s,!(!s||t[--s].offset<e););for(;n<r;n++){var u=t[n];if(u.offset>=e){this.index=n;var o=t[n-1],l=o&&o.index===u.index?o.time:0,h=o?o.offset:0;return{index:u.index,time:l+(u.time-l)*(e-h)/(u.offset-h)}}}return{index:t[r-1].index,time:1}},drawPart:function(e,t,r){for(var n=this._get(t),s=this._get(r),u=n.index,o=s.index;u<=o;u++){var l=J.getPart(this.curves[u],u===n.index?n.time:0,u===s.index?s.time:1);u===n.index&&e.moveTo(l[0],l[1]),e.bezierCurveTo.apply(e,l.slice(2))}}},L.each(J._evaluateMethods,function(e){this[e+"At"]=function(t){var r=this._get(t);return J[e](this.curves[r.index],r.time)}},{})),Pe=L.extend({initialize:function(e){for(var t=this.points=[],r=e._segments,n=e._closed,s=0,u,o=r.length;s<o;s++){var l=r[s].point;(!u||!u.equals(l))&&t.push(u=l.clone())}n&&(t.unshift(t[t.length-1]),t.push(t[1])),this.closed=n},fit:function(e){var t=this.points,r=t.length,n=null;return r>0&&(n=[new ye(t[0])],r>1&&(this.fitCubic(n,e,0,r-1,t[1].subtract(t[0]),t[r-2].subtract(t[r-1])),this.closed&&(n.shift(),n.pop()))),n},fitCubic:function(e,t,r,n,s,u){var o=this.points;if(n-r===1){var l=o[r],h=o[n],c=l.getDistance(h)/3;this.addCurve(e,[l,l.add(s.normalize(c)),h.add(u.normalize(c)),h]);return}for(var g=this.chordLengthParameterize(r,n),v=Math.max(t,t*t),p,d=!0,x=0;x<=4;x++){var b=this.generateBezier(r,n,g,s,u),k=this.findMaxError(r,n,b,g);if(k.error<t&&d){this.addCurve(e,b);return}if(p=k.index,k.error>=v)break;d=this.reparameterize(r,n,g,b),v=k.error}var _=o[p-1].subtract(o[p+1]);this.fitCubic(e,t,r,p,s,_),this.fitCubic(e,t,p,n,_.negate(),u)},addCurve:function(e,t){var r=e[e.length-1];r.setHandleOut(t[1].subtract(t[0])),e.push(new ye(t[3],t[2].subtract(t[3])))},generateBezier:function(e,t,r,n,s){for(var u=1e-12,o=Math.abs,l=this.points,h=l[e],c=l[t],g=[[0,0],[0,0]],v=[0,0],p=0,d=t-e+1;p<d;p++){var x=r[p],b=1-x,k=3*x*b,_=b*b*b,w=k*b,f=k*x,y=x*x*x,C=n.normalize(w),A=s.normalize(f),S=l[e+p].subtract(h.multiply(_+w)).subtract(c.multiply(f+y));g[0][0]+=C.dot(C),g[0][1]+=C.dot(A),g[1][0]=g[0][1],g[1][1]+=A.dot(A),v[0]+=C.dot(S),v[1]+=A.dot(S)}var T=g[0][0]*g[1][1]-g[1][0]*g[0][1],N,O;if(o(T)>u){var F=g[0][0]*v[1]-g[1][0]*v[0],E=v[0]*g[1][1]-v[1]*g[0][1];N=E/T,O=F/T}else{var B=g[0][0]+g[0][1],D=g[1][0]+g[1][1];N=O=o(B)>u?v[0]/B:o(D)>u?v[1]/D:0}var U=c.getDistance(h),H=u*U,W,X;if(N<H||O<H)N=O=U/3;else{var se=c.subtract(h);W=n.normalize(N),X=s.normalize(O),W.dot(se)-X.dot(se)>U*U&&(N=O=U/3,W=X=null)}return[h,h.add(W||n.normalize(N)),c.add(X||s.normalize(O)),c]},reparameterize:function(e,t,r,n){for(var s=e;s<=t;s++)r[s-e]=this.findRoot(n,this.points[s],r[s-e]);for(var s=1,u=r.length;s<u;s++)if(r[s]<=r[s-1])return!1;return!0},findRoot:function(e,t,r){for(var n=[],s=[],u=0;u<=2;u++)n[u]=e[u+1].subtract(e[u]).multiply(3);for(var u=0;u<=1;u++)s[u]=n[u+1].subtract(n[u]).multiply(2);var o=this.evaluate(3,e,r),l=this.evaluate(2,n,r),h=this.evaluate(1,s,r),c=o.subtract(t),g=l.dot(l)+c.dot(h);return ne.isMachineZero(g)?r:r-c.dot(l)/g},evaluate:function(e,t,r){for(var n=t.slice(),s=1;s<=e;s++)for(var u=0;u<=e-s;u++)n[u]=n[u].multiply(1-r).add(n[u+1].multiply(r));return n[0]},chordLengthParameterize:function(e,t){for(var r=[0],n=e+1;n<=t;n++)r[n-e]=r[n-e-1]+this.points[n].getDistance(this.points[n-1]);for(var n=1,s=t-e;n<=s;n++)r[n]/=r[s];return r},findMaxError:function(e,t,r,n){for(var s=Math.floor((t-e+1)/2),u=0,o=e+1;o<t;o++){var l=this.evaluate(3,r,n[o-e]),h=l.subtract(this.points[o]),c=h.x*h.x+h.y*h.y;c>=u&&(u=c,s=o)}return{error:u,index:s}}}),dt=P.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(t){this._content="",this._lines=[];var r=t&&L.isPlainObject(t)&&t.x===G&&t.y===G;this._initialize(r&&t,!r&&z.read(arguments))},_equals:function(e){return this._content===e._content},copyContent:function(e){this.setContent(e._content)},getContent:function(){return this._content},setContent:function(e){this._content=""+e,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),jt=dt.extend({_class:"PointText",initialize:function(){dt.apply(this,arguments)},getPoint:function(){var e=this._matrix.getTranslation();return new Me(e.x,e.y,this,"setPoint")},setPoint:function(){var e=z.read(arguments);this.translate(e.subtract(this._matrix.getTranslation()))},_draw:function(e,t,r){if(this._content){this._setStyles(e,t,r);var n=this._lines,s=this._style,u=s.hasFill(),o=s.hasStroke(),l=s.getLeading(),h=e.shadowColor;e.font=s.getFontStyle(),e.textAlign=s.getJustification();for(var c=0,g=n.length;c<g;c++){e.shadowColor=h;var v=n[c];u&&(e.fillText(v,0,0),e.shadowColor="rgba(0,0,0,0)"),o&&e.strokeText(v,0,0),e.translate(0,l)}}},_getBounds:function(e,t){var r=this._style,n=this._lines,s=n.length,u=r.getJustification(),o=r.getLeading(),l=this.getView().getTextWidth(r.getFontStyle(),n),h=0;u!=="left"&&(h-=l/(u==="center"?2:1));var c=new ee(h,s?-.75*o:0,l,s*o);return e?e._transformBounds(c,c):c}}),Fe=L.extend(new function(){var e={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},t={},r={transparent:[0,0,0,0]},n;function s(l){var h=l.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||l.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),c="rgb",g;if(h){var v=h[4]?4:3;g=new Array(v);for(var p=0;p<v;p++){var d=h[p+1];g[p]=parseInt(d.length==1?d+d:d,16)/255}}else if(h=l.match(/^(rgb|hsl)a?\((.*)\)$/)){c=h[1],g=h[2].trim().split(/[,\s]+/g);for(var x=c==="hsl",p=0,b=Math.min(g.length,4);p<b;p++){var k=g[p],d=parseFloat(k);if(x)if(p===0){var _=k.match(/([a-z]*)$/)[1];d*={turn:360,rad:180/Math.PI,grad:.9}[_]||1}else p<3&&(d/=100);else p<3&&(d/=/%$/.test(k)?100:255);g[p]=d}}else{var w=r[l];if(!w)if(xe){n||(n=re.getContext(1,1,{willReadFrequently:!0}),n.globalCompositeOperation="copy"),n.fillStyle="rgba(0,0,0,0)",n.fillStyle=l,n.fillRect(0,0,1,1);var f=n.getImageData(0,0,1,1).data;w=r[l]=[f[0]/255,f[1]/255,f[2]/255]}else w=[0,0,0];g=w.slice()}return[c,g]}var u=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],o={"rgb-hsb":function(l,h,c){var g=Math.max(l,h,c),v=Math.min(l,h,c),p=g-v,d=p===0?0:(g==l?(h-c)/p+(h<c?6:0):g==h?(c-l)/p+2:(l-h)/p+4)*60;return[d,g===0?0:p/g,g]},"hsb-rgb":function(l,h,c){l=(l/60%6+6)%6;var v=Math.floor(l),g=l-v,v=u[v],p=[c,c*(1-h),c*(1-h*g),c*(1-h*(1-g))];return[p[v[0]],p[v[1]],p[v[2]]]},"rgb-hsl":function(l,h,c){var g=Math.max(l,h,c),v=Math.min(l,h,c),p=g-v,d=p===0,x=d?0:(g==l?(h-c)/p+(h<c?6:0):g==h?(c-l)/p+2:(l-h)/p+4)*60,b=(g+v)/2,k=d?0:b<.5?p/(g+v):p/(2-g-v);return[x,k,b]},"hsl-rgb":function(l,h,c){if(l=(l/360%1+1)%1,h===0)return[c,c,c];for(var g=[l+1/3,l,l-1/3],v=c<.5?c*(1+h):c+h-c*h,p=2*c-v,d=[],x=0;x<3;x++){var b=g[x];b<0&&(b+=1),b>1&&(b-=1),d[x]=6*b<1?p+(v-p)*6*b:2*b<1?v:3*b<2?p+(v-p)*(2/3-b)*6:p}return d},"rgb-gray":function(l,h,c){return[l*.2989+h*.587+c*.114]},"gray-rgb":function(l){return[l,l,l]},"gray-hsb":function(l){return[0,0,l]},"gray-hsl":function(l){return[0,0,l]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return L.each(e,function(l,h){t[h]=[],L.each(l,function(c,g){var v=L.capitalize(c),p=/^(hue|saturation)$/.test(c),d=t[h][g]=h==="gradient"?c==="gradient"?function(x){var b=this._components[0];return x=Dt.read(Array.isArray(x)?x:arguments,0,{readNull:!0}),b!==x&&(b&&b._removeOwner(this),x&&x._addOwner(this)),x}:function(){return z.read(arguments,0,{readNull:c==="highlight",clone:!0})}:function(x){return x==null||isNaN(x)?0:+x};this["get"+v]=function(){return this._type===h||p&&/^hs[bl]$/.test(this._type)?this._components[g]:this._convert(h)[g]},this["set"+v]=function(x){this._type!==h&&!(p&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(h),this._properties=e[h],this._type=h),this._components[g]=d.call(this,x),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function l(h){var c=arguments,g=this.__read,v=0,p,d,x,b;Array.isArray(h)&&(c=h,h=c[0]);var k=h!=null&&typeof h;if(k==="string"&&h in e&&(p=h,h=c[1],Array.isArray(h)?(d=h,x=c[2]):(g&&(v=1),c=L.slice(c,1),k=typeof h)),!d){if(b=k==="number"?c:k==="object"&&h.length!=null?h:null,b){p||(p=b.length>=3?"rgb":"gray");var _=e[p].length;x=b[_],g&&(v+=b===arguments?_+(x!=null?1:0):1),b.length>_&&(b=L.slice(b,0,_))}else if(k==="string"){var w=s(h);p=w[0],d=w[1],d.length===4&&(x=d[3],d.length--)}else if(k==="object")if(h.constructor===l){if(p=h._type,d=h._components.slice(),x=h._alpha,p==="gradient")for(var f=1,y=d.length;f<y;f++){var C=d[f];C&&(d[f]=C.clone())}}else if(h.constructor===Dt)p="gradient",b=c;else{p="hue"in h?"lightness"in h?"hsl":"hsb":"gradient"in h||"stops"in h||"radial"in h?"gradient":"gray"in h?"gray":"rgb";var A=e[p],S=t[p];this._components=d=[];for(var f=0,y=A.length;f<y;f++){var T=h[A[f]];T==null&&!f&&p==="gradient"&&"stops"in h&&(T={stops:h.stops,radial:h.radial}),T=S[f].call(this,T),T!=null&&(d[f]=T)}x=h.alpha}g&&p&&(v=1)}if(this._type=p||"rgb",!d){this._components=d=[];for(var S=t[this._type],f=0,y=S.length;f<y;f++){var T=S[f].call(this,b&&b[f]);T!=null&&(d[f]=T)}}return this._components=d,this._properties=e[this._type],this._alpha=x,g&&(this.__read=v),this},set:"#initialize",_serialize:function(l,h){var c=this.getComponents();return L.serialize(/^(gray|rgb)$/.test(this._type)?c:[this._type].concat(c),l,!0,h)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(l){var h;return this._type===l?this._components.slice():(h=o[this._type+"-"+l])?h.apply(this,this._components):o["rgb-"+l].apply(this,o[this._type+"-rgb"].apply(this,this._components))},convert:function(l){return new Fe(l,this._convert(l),this._alpha)},getType:function(){return this._type},setType:function(l){this._components=this._convert(l),this._properties=e[l],this._type=l},getComponents:function(){var l=this._components.slice();return this._alpha!=null&&l.push(this._alpha),l},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(l){this._alpha=l==null?null:Math.min(Math.max(l,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(l){var h=L.isPlainValue(l,!0)?Fe.read(arguments):l;return h===this||h&&this._class===h._class&&this._type===h._type&&this.getAlpha()===h.getAlpha()&&L.equals(this._components,h._components)||!1},toString:function(){for(var l=this._properties,h=[],c=this._type==="gradient",g=Ce.instance,v=0,p=l.length;v<p;v++){var d=this._components[v];d!=null&&h.push(l[v]+": "+(c?d:g.number(d)))}return this._alpha!=null&&h.push("alpha: "+g.number(this._alpha)),"{ "+h.join(", ")+" }"},toCSS:function(l){var h=this._convert("rgb"),c=l||this._alpha==null?1:this._alpha;function g(v){return Math.round((v<0?0:v>1?1:v)*255)}return h=[g(h[0]),g(h[1]),g(h[2])],c<1&&h.push(c<0?0:c),l?"#"+((1<<24)+(h[0]<<16)+(h[1]<<8)+h[2]).toString(16).slice(1):(h.length==4?"rgba(":"rgb(")+h.join(",")+")"},toCanvasStyle:function(l,h){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var c=this._components,g=c[0],v=g._stops,p=c[1],d=c[2],x=c[3],b=h&&h.inverted(),k;if(b&&(p=b._transformPoint(p),d=b._transformPoint(d),x&&(x=b._transformPoint(x))),g._radial){var _=d.getDistance(p);if(x){var w=x.subtract(p);w.getLength()>_&&(x=p.add(w.normalize(_-.1)))}var f=x||p;k=l.createRadialGradient(f.x,f.y,0,p.x,p.y,_)}else k=l.createLinearGradient(p.x,p.y,d.x,d.y);for(var y=0,C=v.length;y<C;y++){var A=v[y],S=A._offset;k.addColorStop(S??y/(C-1),A._color.toCanvasStyle())}return this._canvasStyle=k},transform:function(l){if(this._type==="gradient"){for(var h=this._components,c=1,g=h.length;c<g;c++){var v=h[c];l._transformPoint(v,v,!0)}this._changed()}},statics:{_types:e,random:function(){var l=Math.random;return new Fe(l(),l(),l())},_setOwner:function(l,h,c){return l&&(l._owner&&h&&l._owner!==h&&(l=l.clone()),!l._owner^!h&&(l._owner=h||null,l._setter=c||null)),l}}})},new function(){var e={add:function(t,r){return t+r},subtract:function(t,r){return t-r},multiply:function(t,r){return t*r},divide:function(t,r){return t/r}};return L.each(e,function(t,r){this[r]=function(n){n=Fe.read(arguments);for(var s=this._type,u=this._components,o=n._convert(s),l=0,h=u.length;l<h;l++)o[l]=t(u[l],o[l]);return new Fe(s,o,this._alpha!=null?t(this._alpha,n.getAlpha()):null)}},{})}),Dt=L.extend({_class:"Gradient",initialize:function(t,r){this._id=De.get(),t&&L.isPlainObject(t)&&(this.set(t),t=r=null),this._stops==null&&this.setStops(t||["white","black"]),this._radial==null&&this.setRadial(typeof r=="string"&&r==="radial"||r||!1)},_serialize:function(e,t){return t.add(this,function(){return L.serialize([this._stops,this._radial],e,!0,t)})},_changed:function(){for(var e=0,t=this._owners&&this._owners.length;e<t;e++)this._owners[e]._changed()},_addOwner:function(e){this._owners||(this._owners=[]),this._owners.push(e)},_removeOwner:function(e){var t=this._owners?this._owners.indexOf(e):-1;t!=-1&&(this._owners.splice(t,1),this._owners.length||(this._owners=G))},clone:function(){for(var e=[],t=0,r=this._stops.length;t<r;t++)e[t]=this._stops[t].clone();return new Dt(e,this._radial)},getStops:function(){return this._stops},setStops:function(e){if(e.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var t=this._stops;if(t)for(var r=0,n=t.length;r<n;r++)t[r]._owner=G;t=this._stops=ui.readList(e,0,{clone:!0});for(var r=0,n=t.length;r<n;r++)t[r]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(e){this._radial=e,this._changed()},equals:function(e){if(e===this)return!0;if(e&&this._class===e._class){var t=this._stops,r=e._stops,n=t.length;if(n===r.length){for(var s=0;s<n;s++)if(!t[s].equals(r[s]))return!1;return!0}}return!1}}),ui=L.extend({_class:"GradientStop",initialize:function(t,r){var n=t,s=r;typeof t=="object"&&r===G&&(Array.isArray(t)&&typeof t[0]!="number"?(n=t[0],s=t[1]):("color"in t||"offset"in t||"rampPoint"in t)&&(n=t.color,s=t.offset||t.rampPoint||0)),this.setColor(n),this.setOffset(s)},clone:function(){return new ui(this._color.clone(),this._offset)},_serialize:function(e,t){var r=this._color,n=this._offset;return L.serialize(n==null?[r]:[r,n],e,!0,t)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(e){this._offset=e,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){Fe._setOwner(this._color,null),this._color=Fe._setOwner(Fe.read(arguments,0),this,"setColor"),this._changed()},equals:function(e){return e===this||e&&this._class===e._class&&this._color.equals(e._color)&&this._offset==e._offset||!1}}),ti=L.extend(new function(){var e={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new z,selectedColor:null},t=L.set({},e,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),r=L.set({},t,{fillColor:new Fe}),n={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},s={beans:!0},u={_class:"Style",beans:!0,initialize:function(l,h,c){this._values={},this._owner=h,this._project=h&&h._project||c||Ae.project,this._defaults=!h||h instanceof Ze?t:h instanceof dt?r:e,l&&this.set(l)}};return L.each(t,function(o,l){var h=/Color$/.test(l),c=l==="shadowOffset",g=L.capitalize(l),v=n[l],p="set"+g,d="get"+g;u[p]=function(x){var b=this._owner,k=b&&b._children,_=k&&k.length>0&&!(b instanceof ut);if(_)for(var w=0,f=k.length;w<f;w++)k[w]._style[p](x);if((l==="selectedColor"||!_)&&l in this._defaults){var y=this._values[l];y!==x&&(h&&(y&&(Fe._setOwner(y,null),y._canvasStyle=null),x&&x.constructor===Fe&&(x=Fe._setOwner(x,b,_&&p))),this._values[l]=x,b&&b._changed(v||129))}},u[d]=function(x){var b=this._owner,k=b&&b._children,_=k&&k.length>0&&!(b instanceof ut),w;if(_&&!x)for(var f=0,y=k.length;f<y;f++){var C=k[f]._style[d]();if(!f)w=C;else if(!L.equals(w,C))return G}else if(l in this._defaults){var w=this._values[l];if(w===G)w=this._defaults[l],w&&w.clone&&(w=w.clone());else{var A=h?Fe:c?z:null;A&&!(w&&w.constructor===A)&&(this._values[l]=w=A.read([w],0,{readNull:!0,clone:!0}))}}return w&&h&&(w=Fe._setOwner(w,b,_&&p)),w},s[d]=function(x){return this._style[d](x)},s[p]=function(x){this._style[p](x)}}),L.each({Font:"FontFamily",WindingRule:"FillRule"},function(o,l){var h="get"+l,c="set"+l;u[h]=s[h]="#get"+o,u[c]=s[c]="#set"+o}),P.inject(s),u},{set:function(e){var t=e instanceof ti,r=t?e._values:e;if(r){for(var n in r)if(n in this._defaults){var s=r[n];this[n]=s&&t&&s.clone?s.clone():s}}},equals:function(e){function t(r,n,s){var u=r._values,o=n._values,l=n._defaults;for(var h in u){var c=u[h],g=o[h];if(!(s&&h in o)&&!L.equals(c,g===G?l[h]:g))return!1}return!0}return e===this||e&&this._class===e._class&&t(this,e)&&t(e,this,!0)||!1},_dispose:function(){var e;e=this.getFillColor(),e&&(e._canvasStyle=null),e=this.getStrokeColor(),e&&(e._canvasStyle=null),e=this.getShadowColor(),e&&(e._canvasStyle=null)},hasFill:function(){var e=this.getFillColor();return!!e&&e.alpha>0},hasStroke:function(){var e=this.getStrokeColor();return!!e&&e.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var e=this.getShadowColor();return!!e&&e.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var e=this.getFontSize();return this.getFontWeight()+" "+e+(/[a-z]/i.test(e+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function e(){var t=e.base.call(this),r=this.getFontSize();return/pt|em|%|px/.test(r)&&(r=this.getView().getPixelSize(r)),t??r*1.2}}),pt=new function(){function e(t,r,n,s){for(var u=["","webkit","moz","Moz","ms","o"],o=r[0].toUpperCase()+r.substring(1),l=0;l<6;l++){var h=u[l],c=h?h+o:r;if(c in t){if(n)t[c]=s;else return t[c];break}}}return{getStyles:function(t){var r=t&&t.nodeType!==9?t.ownerDocument:t,n=r&&r.defaultView;return n&&n.getComputedStyle(t,"")},getBounds:function(t,r){var n=t.ownerDocument,s=n.body,u=n.documentElement,o;try{o=t.getBoundingClientRect()}catch{o={left:0,top:0,width:0,height:0}}var l=o.left-(u.clientLeft||s.clientLeft||0),h=o.top-(u.clientTop||s.clientTop||0);if(!r){var c=n.defaultView;l+=c.pageXOffset||u.scrollLeft||s.scrollLeft,h+=c.pageYOffset||u.scrollTop||s.scrollTop}return new ee(l,h,o.width,o.height)},getViewportBounds:function(t){var r=t.ownerDocument,n=r.defaultView,s=r.documentElement;return new ee(0,0,n.innerWidth||s.clientWidth,n.innerHeight||s.clientHeight)},getOffset:function(t,r){return pt.getBounds(t,r).getPoint()},getSize:function(t){return pt.getBounds(t,!0).getSize()},isInvisible:function(t){return pt.getSize(t).equals(new ce(0,0))},isInView:function(t){return!pt.isInvisible(t)&&pt.getViewportBounds(t).intersects(pt.getBounds(t,!0))},isInserted:function(t){return te.body.contains(t)},getPrefixed:function(t,r){return t&&e(t,r)},setPrefixed:function(t,r,n){if(typeof r=="object")for(var s in r)e(t,s,!0,r[s]);else e(t,r,!0,n)}}},lt={add:function(e,t){if(e)for(var r in t)for(var n=t[r],s=r.split(/[\s,]+/g),u=0,o=s.length;u<o;u++){var l=s[u],h=e===te&&(l==="touchstart"||l==="touchmove")?{passive:!1}:!1;e.addEventListener(l,n,h)}},remove:function(e,t){if(e)for(var r in t)for(var n=t[r],s=r.split(/[\s,]+/g),u=0,o=s.length;u<o;u++)e.removeEventListener(s[u],n,!1)},getPoint:function(e){var t=e.targetTouches?e.targetTouches.length?e.targetTouches[0]:e.changedTouches[0]:e;return new z(t.pageX||t.clientX+te.documentElement.scrollLeft,t.pageY||t.clientY+te.documentElement.scrollTop)},getTarget:function(e){return e.target||e.srcElement},getRelatedTarget:function(e){return e.relatedTarget||e.toElement},getOffset:function(e,t){return lt.getPoint(e).subtract(pt.getOffset(t||lt.getTarget(e)))}};lt.requestAnimationFrame=new function(){var e=pt.getPrefixed(xe,"requestAnimationFrame"),t=!1,r=[],n;function s(){var u=r;r=[];for(var o=0,l=u.length;o<l;o++)u[o]();t=e&&r.length,t&&e(s)}return function(u){r.push(u),e?t||(e(s),t=!0):n||(n=setInterval(s,1e3/60))}};var St=L.extend(Ue,{_class:"View",initialize:function e(t,r){function n(v){return r[v]||parseInt(r.getAttribute(v),10)}function s(){var v=pt.getSize(r);return v.isNaN()||v.isZero()?new ce(n("width"),n("height")):v}var u;if(xe&&r){this._id=r.getAttribute("id"),this._id==null&&r.setAttribute("id",this._id="paper-view-"+e._id++),lt.add(r,this._viewEvents);var o="none";if(pt.setPrefixed(r.style,{userDrag:o,userSelect:o,touchCallout:o,contentZooming:o,tapHighlightColor:"rgba(0,0,0,0)"}),ue.hasAttribute(r,"resize")){var l=this;lt.add(xe,this._windowEvents={resize:function(){l.setViewSize(s())}})}if(u=s(),ue.hasAttribute(r,"stats")&&typeof Stats<"u"){this._stats=new Stats;var h=this._stats.domElement,c=h.style,g=pt.getOffset(r);c.position="absolute",c.left=g.x+"px",c.top=g.y+"px",te.body.appendChild(h)}}else u=new ce(r),r=null;this._project=t,this._scope=t._scope,this._element=r,this._pixelRatio||(this._pixelRatio=xe&&xe.devicePixelRatio||1),this._setElementSize(u.width,u.height),this._viewSize=u,e._views.push(this),e._viewsById[this._id]=this,(this._matrix=new Le)._owner=this,e._focused||(e._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!Ae.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;St._focused===this&&(St._focused=null),St._views.splice(St._views.indexOf(this),1),delete St._viewsById[this._id];var e=this._project;return e._view===this&&(e._view=null),lt.remove(this._element,this._viewEvents),lt.remove(xe,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:L.each(P._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(e){this[e]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(e){this._autoUpdate=e,e&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var e=this;lt.requestAnimationFrame(function(){if(e._requested=!1,e._animate){e.requestUpdate();var t=e._element;(!pt.getPrefixed(te,"hidden")||ue.getAttribute(t,"keepalive")==="true")&&pt.isInView(t)&&e._handleFrame()}e._autoUpdate&&e.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){Ae=this._scope;var e=Date.now()/1e3,t=this._last?e-this._last:0;this._last=e,this.emit("frame",new L({delta:t,time:this._time+=t,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(e,t){var r=this._frameItems;t?(r[e._id]={item:e,time:0,count:0},++this._frameItemCount===1&&this.on("frame",this._handleFrameItems)):(delete r[e._id],--this._frameItemCount===0&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(e){for(var t in this._frameItems){var r=this._frameItems[t];r.item.emit("frame",new L(e,{time:r.time+=e.delta,count:r.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=G},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var e=this._viewSize;return new Ie(e.width,e.height,this,"setViewSize")},setViewSize:function(){var e=ce.read(arguments),t=e.subtract(this._viewSize);t.isZero()||(this._setElementSize(e.width,e.height),this._viewSize.set(e),this._changed(),this.emit("resize",{size:e,delta:t}),this._autoUpdate&&this.update())},_setElementSize:function(e,t){var r=this._element;r&&(r.width!==e&&(r.width=e),r.height!==t&&(r.height=t))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new ee(new z,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return pt.isInView(this._element)},isInserted:function(){return pt.isInserted(this._element)},getPixelSize:function(e){var t=this._element,r;if(t){var n=t.parentNode,s=te.createElement("div");s.style.fontSize=e,n.appendChild(s),r=parseFloat(pt.getStyles(s).fontSize),n.removeChild(s)}else r=parseFloat(r);return r},getTextWidth:function(e,t){return 0}},L.each(["rotate","scale","shear","skew"],function(e){var t=e==="rotate";this[e]=function(){var r=arguments,n=(t?L:z).read(r),s=z.read(r,0,{readNull:!0});return this.transform(new Le()[e](n,s||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var e=new Le;return this.transform(e.translate.apply(e,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var e=z.read(arguments);this.translate(this.getCenter().subtract(e))},getZoom:function(){var e=this._decompose().scaling;return(e.x+e.y)/2},setZoom:function(e){this.transform(new Le().scale(e/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(e){var t=this.getRotation();t!=null&&e!=null&&this.rotate(e-t)},getScaling:function(){var e=this._decompose().scaling;return new Me(e.x,e.y,this,"setScaling")},setScaling:function(){var e=this.getScaling(),t=z.read(arguments,0,{clone:!0,readNull:!0});e&&t&&this.scale(t.x/e.x,t.y/e.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.set.apply(e,arguments)},transform:function(e){this._matrix.append(e)},scrollBy:function(){this.translate(z.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(z.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(z.read(arguments))},getEventPoint:function(e){return this.viewToProject(lt.getOffset(e,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(e,t){te&&typeof t=="string"&&(t=te.getElementById(t));var r=xe?Mt:St;return new r(e,t)}}},new function(){if(!xe)return;var e,t,r=!1,n=!1;function s(E){var B=lt.getTarget(E);return B.getAttribute&&St._viewsById[B.getAttribute("id")]}function u(){var E=St._focused;if(!E||!E.isVisible()){for(var B=0,D=St._views.length;B<D;B++)if((E=St._views[B]).isVisible()){St._focused=t=E;break}}}function o(E,B,D){E._handleMouseEvent("mousemove",B,D)}var l=xe.navigator,h,c,g;l.pointerEnabled||l.msPointerEnabled?(h="pointerdown MSPointerDown",c="pointermove MSPointerMove",g="pointerup pointercancel MSPointerUp MSPointerCancel"):(h="touchstart",c="touchmove",g="touchend touchcancel","ontouchstart"in xe&&l.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(h+=" mousedown",c+=" mousemove",g+=" mouseup"));var v={},p={mouseout:function(E){var B=St._focused,D=lt.getRelatedTarget(E);if(B&&(!D||D.nodeName==="HTML")){var U=lt.getOffset(E,B._element),H=U.x,W=Math.abs,X=W(H),se=1<<25,de=X-se;U.x=W(de)<X?de*(H<0?-1:1):H,o(B,E,B.viewToProject(U))}},scroll:u};v[h]=function(E){var B=St._focused=s(E);r||(r=!0,B._handleMouseEvent("mousedown",E))},p[c]=function(E){var B=St._focused;if(!n){var D=s(E);D?B!==D&&(B&&o(B,E),e||(e=B),B=St._focused=t=D):t&&t===B&&(e&&!e.isInserted()&&(e=null),B=St._focused=e,e=null,u())}B&&o(B,E)},p[h]=function(){n=!0},p[g]=function(E){var B=St._focused;B&&r&&B._handleMouseEvent("mouseup",E),n=r=!1},lt.add(te,p),lt.add(xe,{load:u});var d=!1,x=!1,b={doubleclick:"click",mousedrag:"mousemove"},k=!1,_,w,f,y,C,A,S,T;function N(E,B,D,U,H,W,X){var se=!1,de;function ve(K,Y){if(K.responds(Y)){if(de||(de=new yt(Y,U,H,B||K,W?H.subtract(W):null)),K.emit(Y,de)&&(d=!0,de.prevented&&(x=!0),de.stopped))return se=!0}else{var le=b[Y];if(le)return ve(K,le)}}for(;E&&E!==X&&!ve(E,D);)E=E._parent;return se}function O(E,B,D,U,H,W){return E._project.removeOn(D),x=d=!1,C&&N(C,null,D,U,H,W)||B&&B!==C&&!B.isDescendant(C)&&N(B,null,D==="mousedrag"?"mousemove":D,U,H,W,C)||N(E,C||B||E,D,U,H,W)}var F={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:v,_handleMouseEvent:function(E,B,D){var U=this._itemEvents,H=U.native[E],W=E==="mousemove",X=this._scope.tool,se=this;function de(Re){return U.virtual[Re]||se.responds(Re)||X&&X.responds(Re)}W&&r&&de("mousedrag")&&(E="mousedrag"),D||(D=this.getEventPoint(B));var ve=this.getBounds().contains(D),K=H&&ve&&se._project.hitTest(D,{tolerance:0,fill:!0,stroke:!0}),Y=K&&K.item||null,le=!1,ge={};if(ge[E.substr(5)]=!0,H&&Y!==y&&(y&&N(y,null,"mouseleave",B,D),Y&&N(Y,null,"mouseenter",B,D),y=Y),k^ve&&(N(this,null,ve?"mouseenter":"mouseleave",B,D),le=!0),(ve||ge.drag)&&!D.equals(w)&&(O(this,Y,W?E:"mousemove",B,D,w),le=!0),k=ve,ge.down&&ve||ge.up&&_){if(O(this,Y,E,B,D,_),ge.down){if(T=Y===A&&Date.now()-S<300,f=A=Y,!x&&Y){for(var me=Y;me&&!me.responds("mousedrag");)me=me._parent;me&&(C=Y)}_=D}else ge.up&&(!x&&Y===f&&(S=Date.now(),O(this,Y,T?"doubleclick":"click",B,D,_),T=!1),f=C=null);k=!1,le=!0}w=D,le&&X&&(d=X._handleMouseEvent(E,B,D,ge)||d),B.cancelable!==!1&&(d&&!ge.move||ge.down&&de("mouseup"))&&B.preventDefault()},_handleKeyEvent:function(E,B,D,U){var H=this._scope,W=H.tool,X;function se(de){de.responds(E)&&(Ae=H,de.emit(E,X=X||new Rt(E,B,D,U)))}this.isVisible()&&(se(this),W&&W.responds(E)&&se(W))},_countItemEvent:function(E,B){var D=this._itemEvents,U=D.native,H=D.virtual;for(var W in F)U[W]=(U[W]||0)+(F[W][E]||0)*B;H[E]=(H[E]||0)+B},statics:{updateFocus:u,_resetState:function(){r=n=d=k=!1,e=t=_=w=f=y=C=A=S=T=null}}}}),Mt=St.extend({_class:"CanvasView",initialize:function(t,r){if(!(r instanceof xe.HTMLCanvasElement)){var n=ce.read(arguments,1);if(n.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+L.slice(arguments,1));r=re.getCanvas(n)}var s=this._context=r.getContext("2d");if(s.save(),this._pixelRatio=1,!/^off|false$/.test(ue.getAttribute(r,"hidpi"))){var u=xe.devicePixelRatio||1,o=pt.getPrefixed(s,"backingStorePixelRatio")||1;this._pixelRatio=u/o}St.call(this,t,r),this._needsUpdate=!0},remove:function e(){return this._context.restore(),e.base.call(this)},_setElementSize:function e(t,r){var n=this._pixelRatio;if(e.base.call(this,t*n,r*n),n!==1){var s=this._element,u=this._context;if(!ue.hasAttribute(s,"resize")){var o=s.style;o.width=t+"px",o.height=r+"px"}u.restore(),u.save(),u.scale(n,n)}},getContext:function(){return this._context},getPixelSize:function e(t){var r=Ae.agent,n;if(r&&r.firefox)n=e.base.call(this,t);else{var s=this._context,u=s.font;s.font=t+" serif",n=parseFloat(s.font),s.font=u}return n},getTextWidth:function(e,t){var r=this._context,n=r.font,s=0;r.font=e;for(var u=0,o=t.length;u<o;u++)s=Math.max(s,r.measureText(t[u]).width);return r.font=n,s},update:function(){if(!this._needsUpdate)return!1;var e=this._project,t=this._context,r=this._viewSize;return t.clearRect(0,0,r.width+1,r.height+1),e&&e.draw(t,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),Vt=L.extend({_class:"Event",initialize:function(t){this.event=t,this.type=t&&t.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return qt.modifiers}}),Rt=Vt.extend({_class:"KeyEvent",initialize:function(t,r,n,s){this.type=t,this.event=r,this.key=n,this.character=s},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),qt=new function(){var e={"	":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},t={tab:"	",space:" ",enter:"\r"},r={},n={},s,u,o=new L({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var c=Ae&&Ae.agent;return c&&c.mac?this.meta:this.control}}});function l(c){var g=c.key||c.keyIdentifier;return g=/^U\+/.test(g)?String.fromCharCode(parseInt(g.substr(2),16)):/^Arrow[A-Z]/.test(g)?g.substr(5):g==="Unidentified"||g===G?String.fromCharCode(c.keyCode):g,e[g]||(g.length>1?L.hyphenate(g):g.toLowerCase())}function h(c,g,v,p){var d=St._focused,x;if(r[g]=c,c?n[g]=v:delete n[g],g.length>1&&(x=L.camelize(g))in o){o[x]=c;var b=Ae&&Ae.agent;if(x==="meta"&&b&&b.mac)if(c)s={};else{for(var k in s)k in n&&h(!1,k,s[k],p);s=null}}else c&&s&&(s[g]=v);d&&d._handleKeyEvent(c?"keydown":"keyup",p,g,v)}return lt.add(te,{keydown:function(c){var g=l(c),v=Ae&&Ae.agent;g.length>1||v&&v.chrome&&(c.altKey||v.mac&&c.metaKey||!v.mac&&c.ctrlKey)?h(!0,g,t[g]||(g.length>1?"":g),c):u=g},keypress:function(c){if(u){var g=l(c),v=c.charCode,p=v>=32?String.fromCharCode(v):g.length>1?"":g;g!==u&&(g=p.toLowerCase()),h(!0,g,p,c),u=null}},keyup:function(c){var g=l(c);g in n&&h(!1,g,n[g],c)}}),lt.add(xe,{blur:function(c){for(var g in n)h(!1,g,n[g],c)}}),{modifiers:o,isDown:function(c){return!!r[c]}}},yt=Vt.extend({_class:"MouseEvent",initialize:function(t,r,n,s,u){this.type=t,this.event=r,this.point=n,this.target=s,this.delta=u},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),st=Vt.extend({_class:"ToolEvent",_item:null,initialize:function(t,r,n){this.tool=t,this.type=r,this.event=n},_choosePoint:function(e,t){return e||(t?t.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(e){this._point=e},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(e){this._lastPoint=e},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(e){this._downPoint=e},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(e){this._middlePoint=e},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(e){this._delta=e},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(e){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=e},getItem:function(){if(!this._item){var e=this.tool._scope.project.hitTest(this.getPoint());if(e){for(var t=e.item,r=t._parent;/^(Group|CompoundPath)$/.test(r._class);)t=r,r=r._parent;this._item=t}}return this._item},setItem:function(e){this._item=e},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),Bt=Se.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(t){Se.call(this),this._moveCount=-1,this._downCount=-1,this.set(t)},getMinDistance:function(){return this._minDistance},setMinDistance:function(e){this._minDistance=e,e!=null&&this._maxDistance!=null&&e>this._maxDistance&&(this._maxDistance=e)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(e){this._maxDistance=e,this._minDistance!=null&&e!=null&&e<this._minDistance&&(this._minDistance=e)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(e){this._minDistance=this._maxDistance=e},_handleMouseEvent:function(e,t,r,n){Ae=this._scope,n.drag&&!this.responds(e)&&(e="mousemove");var s=n.move||n.drag,u=this.responds(e),o=!1,l=this;function h(g,v){var p=r,d=s?l._point:l._downPoint||p;if(s){if(l._moveCount>=0&&p.equals(d))return!1;if(d&&(g!=null||v!=null)){var x=p.subtract(d),b=x.getLength();if(b<(g||0))return!1;v&&(p=d.add(x.normalize(Math.min(b,v))))}l._moveCount++}return l._point=p,l._lastPoint=d||p,n.down&&(l._moveCount=-1,l._downPoint=p,l._downCount++),!0}function c(){u&&(o=l.emit(e,new st(l,e,t))||o)}if(n.down)h(),c();else if(n.up)h(null,this._maxDistance),c();else if(u)for(;h(this._minDistance,this._maxDistance);)c();return o}}),ii=L.extend(Ue,{_class:"Tween",statics:{easings:new L({linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+2*(2-e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}})},initialize:function e(t,r,n,s,u,o){this.object=t;var l=typeof u,h=l==="function";this.type=h?l:l==="string"?u:"linear",this.easing=h?u:e.easings[this.type],this.duration=s,this.running=!1,this._then=null,this._startTime=null;var c=r||n;this._keys=c?Object.keys(c):[],this._parsedKeys=this._parseKeys(this._keys),this._from=c&&this._getState(r),this._to=c&&this._getState(n),o!==!1&&this.start()},then:function(e){return this._then=e,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(e){if(this.running){e>=1&&(e=1,this.running=!1);for(var t=this.easing(e),r=this._keys,n=function(g){return typeof g=="function"?g(t,e):g},s=0,u=r&&r.length;s<u;s++){var o=r[s],l=n(this._from[o]),h=n(this._to[o]),c=l&&h&&l.__add&&h.__add?h.__subtract(l).__multiply(t).__add(l):(h-l)*t+l;this._setProperty(this._parsedKeys[o],c)}this.responds("update")&&this.emit("update",new L({progress:e,factor:t})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(e){var t=this._startTime,r=t?(e-t)/this.duration:0;t||(this._startTime=e),this.update(r)},_getState:function(e){for(var t=this._keys,r={},n=0,s=t.length;n<s;n++){var u=t[n],o=this._parsedKeys[u],l=this._getProperty(o),h;if(e){var c=this._resolveValue(l,e[u]);this._setProperty(o,c),h=this._getProperty(o),h=h&&h.clone?h.clone():h,this._setProperty(o,l)}else h=l&&l.clone?l.clone():l;r[u]=h}return r},_resolveValue:function(e,t){if(t){if(Array.isArray(t)&&t.length===2){var r=t[0];return r&&r.match&&r.match(/^[+\-\*\/]=/)?this._calculate(e,r[0],t[1]):t}else if(typeof t=="string"){var n=t.match(/^[+\-*/]=(.*)/);if(n){var s=JSON.parse(n[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(e,t[0],s)}}}return t},_calculate:function(e,t,r){return Ae.PaperScript.calculateBinary(e,t,r)},_parseKeys:function(e){for(var t={},r=0,n=e.length;r<n;r++){var s=e[r],u=s.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");t[s]=u.split("/")}return t},_getProperty:function(e,t){for(var r=this.object,n=0,s=e.length-(t||0);n<s&&r;n++)r=r[e[n]];return r},_setProperty:function(e,t){var r=this._getProperty(e,1);r&&(r[e[e.length-1]]=t)}}),mt={request:function(e){var t=new q.XMLHttpRequest;return t.open((e.method||"get").toUpperCase(),e.url,L.pick(e.async,!0)),e.mimeType&&t.overrideMimeType(e.mimeType),t.onload=function(){var r=t.status;r===0||r===200?e.onLoad&&e.onLoad.call(t,t.responseText):t.onerror()},t.onerror=function(){var r=t.status,n='Could not load "'+e.url+'" (Status: '+r+")";if(e.onError)e.onError(n,r);else throw new Error(n)},t.send(null)}},re=L.exports.CanvasProvider={canvases:[],getCanvas:function(e,t,r){if(!xe)return null;var n,s=!0;typeof e=="object"&&(t=e.height,e=e.width),this.canvases.length?n=this.canvases.pop():(n=te.createElement("canvas"),s=!1);var u=n.getContext("2d",r||{});if(!u)throw new Error("Canvas "+n+" is unable to provide a 2D context.");return n.width===e&&n.height===t?s&&u.clearRect(0,0,e+1,t+1):(n.width=e,n.height=t),u.save(),n},getContext:function(e,t,r){var n=this.getCanvas(e,t,r);return n?n.getContext("2d",r||{}):null},release:function(e){var t=e&&e.canvas?e.canvas:e;t&&t.getContext&&(t.getContext("2d").restore(),this.canvases.push(t))}},fe=new function(){var e=Math.min,t=Math.max,r=Math.abs,n,s,u,o,l,h,c,g,v,p,d;function x(C,A,S){return .2989*C+.587*A+.114*S}function b(C,A,S,O){var N=O-x(C,A,S);v=C+N,p=A+N,d=S+N;var O=x(v,p,d),F=e(v,p,d),E=t(v,p,d);if(F<0){var B=O-F;v=O+(v-O)*O/B,p=O+(p-O)*O/B,d=O+(d-O)*O/B}if(E>255){var D=255-O,U=E-O;v=O+(v-O)*D/U,p=O+(p-O)*D/U,d=O+(d-O)*D/U}}function k(C,A,S){return t(C,A,S)-e(C,A,S)}function _(C,A,S,T){var N=[C,A,S],O=t(C,A,S),F=e(C,A,S),E;F=F===C?0:F===A?1:2,O=O===C?0:O===A?1:2,E=e(F,O)===0?t(F,O)===1?2:1:0,N[O]>N[F]?(N[E]=(N[E]-N[F])*T/(N[O]-N[F]),N[O]=T):N[E]=N[O]=0,N[F]=0,v=N[0],p=N[1],d=N[2]}var w={multiply:function(){v=l*n/255,p=h*s/255,d=c*u/255},screen:function(){v=l+n-l*n/255,p=h+s-h*s/255,d=c+u-c*u/255},overlay:function(){v=l<128?2*l*n/255:255-2*(255-l)*(255-n)/255,p=h<128?2*h*s/255:255-2*(255-h)*(255-s)/255,d=c<128?2*c*u/255:255-2*(255-c)*(255-u)/255},"soft-light":function(){var C=n*l/255;v=C+l*(255-(255-l)*(255-n)/255-C)/255,C=s*h/255,p=C+h*(255-(255-h)*(255-s)/255-C)/255,C=u*c/255,d=C+c*(255-(255-c)*(255-u)/255-C)/255},"hard-light":function(){v=n<128?2*n*l/255:255-2*(255-n)*(255-l)/255,p=s<128?2*s*h/255:255-2*(255-s)*(255-h)/255,d=u<128?2*u*c/255:255-2*(255-u)*(255-c)/255},"color-dodge":function(){v=l===0?0:n===255?255:e(255,255*l/(255-n)),p=h===0?0:s===255?255:e(255,255*h/(255-s)),d=c===0?0:u===255?255:e(255,255*c/(255-u))},"color-burn":function(){v=l===255?255:n===0?0:t(0,255-(255-l)*255/n),p=h===255?255:s===0?0:t(0,255-(255-h)*255/s),d=c===255?255:u===0?0:t(0,255-(255-c)*255/u)},darken:function(){v=l<n?l:n,p=h<s?h:s,d=c<u?c:u},lighten:function(){v=l>n?l:n,p=h>s?h:s,d=c>u?c:u},difference:function(){v=l-n,v<0&&(v=-v),p=h-s,p<0&&(p=-p),d=c-u,d<0&&(d=-d)},exclusion:function(){v=l+n*(255-l-l)/255,p=h+s*(255-h-h)/255,d=c+u*(255-c-c)/255},hue:function(){_(n,s,u,k(l,h,c)),b(v,p,d,x(l,h,c))},saturation:function(){_(l,h,c,k(n,s,u)),b(v,p,d,x(l,h,c))},luminosity:function(){b(l,h,c,x(n,s,u))},color:function(){b(n,s,u,x(l,h,c))},add:function(){v=e(l+n,255),p=e(h+s,255),d=e(c+u,255)},subtract:function(){v=t(l-n,0),p=t(h-s,0),d=t(c-u,0)},average:function(){v=(l+n)/2,p=(h+s)/2,d=(c+u)/2},negation:function(){v=255-r(255-n-l),p=255-r(255-s-h),d=255-r(255-u-c)}},f=this.nativeModes=L.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(C){this[C]=!0},{}),y=re.getContext(1,1,{willReadFrequently:!0});y&&(L.each(w,function(C,A){var S=A==="darken",T=!1;y.save();try{y.fillStyle=S?"#300":"#a00",y.fillRect(0,0,1,1),y.globalCompositeOperation=A,y.globalCompositeOperation===A&&(y.fillStyle=S?"#a00":"#300",y.fillRect(0,0,1,1),T=y.getImageData(0,0,1,1).data[0]!==S?170:51)}catch{}y.restore(),f[A]=T}),re.release(y)),this.process=function(C,A,S,T,N){var O=A.canvas,F=C==="normal";if(F||f[C])S.save(),S.setTransform(1,0,0,1,0,0),S.globalAlpha=T,F||(S.globalCompositeOperation=C),S.drawImage(O,N.x,N.y),S.restore();else{var E=w[C];if(!E)return;for(var B=S.getImageData(N.x,N.y,O.width,O.height),D=B.data,U=A.getImageData(0,0,O.width,O.height).data,H=0,W=D.length;H<W;H+=4){n=U[H],l=D[H],s=U[H+1],h=D[H+1],u=U[H+2],c=D[H+2],o=U[H+3],g=D[H+3],E();var X=o*T/255,se=1-X;D[H]=X*v+se*l,D[H+1]=X*p+se*h,D[H+2]=X*d+se*c,D[H+3]=o*T+se*g}S.putImageData(B,N.x,N.y)}}},we=new function(){var e="http://www.w3.org/2000/svg",t="http://www.w3.org/2000/xmlns",r="http://www.w3.org/1999/xlink",n={href:r,xlink:t,xmlns:t+"/","xmlns:xlink":t+"/"};function s(l,h,c){return o(te.createElementNS(e,l),h,c)}function u(l,h){var c=n[h],g=c?l.getAttributeNS(c,h):l.getAttribute(h);return g==="null"?null:g}function o(l,h,c){for(var g in h){var v=h[g],p=n[g];typeof v=="number"&&c&&(v=c.number(v)),p?l.setAttributeNS(p,g,v):l.setAttribute(g,v)}return l}return{svg:e,xmlns:t,xlink:r,create:s,get:u,set:o}},qe=L.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(e,t){return!t&&(e instanceof ft||e instanceof He||e instanceof dt)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(e,t){var r=L.capitalize(t),n=e[2];this[t]={type:e[1],property:t,attribute:e[0],toSVG:n,fromSVG:n&&L.each(n,function(s,u){this[s]=u},{}),exportFilter:e[3],get:"get"+r,set:"set"+r}},{});new function(){var e;function t(w,f,y){var C=new L,A=w.getTranslation();if(f){var S;w.isInvertible()?(w=w._shiftless(),S=w._inverseTransform(A),A=null):S=new z,C[y?"cx":"x"]=S.x,C[y?"cy":"y"]=S.y}if(!w.isIdentity()){var T=w.decompose();if(T){var N=[],O=T.rotation,F=T.scaling,E=T.skewing;A&&!A.isZero()&&N.push("translate("+e.point(A)+")"),O&&N.push("rotate("+e.number(O)+")"),(!ne.isZero(F.x-1)||!ne.isZero(F.y-1))&&N.push("scale("+e.point(F)+")"),E.x&&N.push("skewX("+e.number(E.x)+")"),E.y&&N.push("skewY("+e.number(E.y)+")"),C.transform=N.join(" ")}else C.transform="matrix("+w.getValues().join(",")+")"}return C}function r(w,f){for(var y=t(w._matrix),C=w._children,A=we.create("g",y,e),S=0,T=C.length;S<T;S++){var N=C[S],O=k(N,f);if(O)if(N.isClipMask()){var F=we.create("clipPath");F.appendChild(O),x(N,F,"clip"),we.set(A,{"clip-path":"url(#"+F.id+")"})}else A.appendChild(O)}return A}function n(w,f){var y=t(w._matrix,!0),C=w.getSize(),A=w.getImage();return y.x-=C.width/2,y.y-=C.height/2,y.width=C.width,y.height=C.height,y.href=f.embedImages==!1&&A&&A.src||w.toDataURL(),we.create("image",y,e)}function s(w,f){var y=f.matchShapes;if(y){var C=w.toShape(!1);if(C)return u(C)}var A=w._segments,S=A.length,T,N=t(w._matrix);if(y&&S>=2&&!w.hasHandles())if(S>2){T=w._closed?"polygon":"polyline";for(var O=[],F=0;F<S;F++)O.push(e.point(A[F]._point));N.points=O.join(" ")}else{T="line";var E=A[0]._point,B=A[1]._point;N.set({x1:E.x,y1:E.y,x2:B.x,y2:B.y})}else T="path",N.d=w.getPathData(null,f.precision);return we.create(T,N,e)}function u(w){var f=w._type,y=w._radius,C=t(w._matrix,!0,f!=="rectangle");if(f==="rectangle"){f="rect";var A=w._size,S=A.width,T=A.height;C.x-=S/2,C.y-=T/2,C.width=S,C.height=T,y.isZero()&&(y=null)}return y&&(f==="circle"?C.r=y:(C.rx=y.width,C.ry=y.height)),we.create(f,C,e)}function o(w,f){var y=t(w._matrix),C=w.getPathData(null,f.precision);return C&&(y.d=C),we.create("path",y,e)}function l(w,f){var y=t(w._matrix,!0),C=w._definition,A=d(C,"symbol"),S=C._item,T=S.getStrokeBounds();return A||(A=we.create("symbol",{viewBox:e.rectangle(T)}),A.appendChild(k(S,f)),x(C,A,"symbol")),y.href="#"+A.id,y.x+=T.x,y.y+=T.y,y.width=T.width,y.height=T.height,y.overflow="visible",we.create("use",y,e)}function h(w){var f=d(w,"color");if(!f){var y=w.getGradient(),C=y._radial,A=w.getOrigin(),S=w.getDestination(),T;if(C){T={cx:A.x,cy:A.y,r:A.getDistance(S)};var N=w.getHighlight();N&&(T.fx=N.x,T.fy=N.y)}else T={x1:A.x,y1:A.y,x2:S.x,y2:S.y};T.gradientUnits="userSpaceOnUse",f=we.create((C?"radial":"linear")+"Gradient",T,e);for(var O=y._stops,F=0,E=O.length;F<E;F++){var B=O[F],D=B._color,U=D.getAlpha(),H=B._offset;T={offset:H??F/(E-1)},D&&(T["stop-color"]=D.toCSS(!0)),U<1&&(T["stop-opacity"]=U),f.appendChild(we.create("stop",T,e))}x(w,f,"color")}return"url(#"+f.id+")"}function c(w){var f=we.create("text",t(w._matrix,!0),e);return f.textContent=w._content,f}var g={Group:r,Layer:r,Raster:n,Path:s,Shape:u,CompoundPath:o,SymbolItem:l,PointText:c};function v(w,f,y,C){var A={},S=!C&&w.getParent(),T=[];return w._name!=null&&(A.id=w._name),L.each(qe,function(N){var O=N.get,F=N.type,E=w[O]();if(N.exportFilter?N.exportFilter(w,E):y.reduceAttributes==!1||!S||!L.equals(S[O](),E)){if(F==="color"&&E!=null){var B=E.getAlpha();B<1&&(A[N.attribute+"-opacity"]=B)}F==="style"?T.push(N.attribute+": "+E):A[N.attribute]=E==null?"none":F==="color"?E.gradient?h(E):E.toCSS(!0):F==="array"?E.join(","):F==="lookup"?N.toSVG[E]:E}}),T.length&&(A.style=T.join(";")),A.opacity===1&&delete A.opacity,w._visible||(A.visibility="hidden"),we.set(f,A,e)}var p;function d(w,f){return p||(p={ids:{},svgs:{}}),w&&p.svgs[f+"-"+(w._id||w.__id||(w.__id=De.get("svg")))]}function x(w,f,y){p||d();var C=p.ids[y]=(p.ids[y]||0)+1;f.id=y+"-"+C,p.svgs[y+"-"+(w._id||w.__id)]=f}function b(w,f){var y=w,C=null;if(p){y=w.nodeName.toLowerCase()==="svg"&&w;for(var A in p.svgs)C||(y||(y=we.create("svg"),y.appendChild(w)),C=y.insertBefore(we.create("defs"),y.firstChild)),C.appendChild(p.svgs[A]);p=null}return f.asString?new q.XMLSerializer().serializeToString(y):y}function k(w,f,y){var C=g[w._class],A=C&&C(w,f);if(A){var S=f.onExport;S&&(A=S(w,A,f)||A);var T=JSON.stringify(w._data);T&&T!=="{}"&&T!=="null"&&A.setAttribute("data-paper-data",T)}return A&&v(w,A,f,y)}function _(w){return w||(w={}),e=new Ce(w.precision),w}P.inject({exportSVG:function(w){return w=_(w),b(k(this,w,!0),w)}}),Ne.inject({exportSVG:function(w){w=_(w);var f=this._children,y=this.getView(),C=L.pick(w.bounds,"view"),A=w.matrix||C==="view"&&y._matrix,S=A&&Le.read([A]),T=C==="view"?new ee([0,0],y.getViewSize()):C==="content"?P._getBounds(f,S,{stroke:!0}).rect:ee.read([C],0,{readNull:!0}),N={version:"1.1",xmlns:we.svg,"xmlns:xlink":we.xlink};T&&(N.width=T.width,N.height=T.height,(T.x||T.x===0||T.y||T.y===0)&&(N.viewBox=e.rectangle(T)));var O=we.create("svg",N,e),F=O;S&&!S.isIdentity()&&(F=O.appendChild(we.create("g",t(S),e)));for(var E=0,B=f.length;E<B;E++)F.appendChild(k(f[E],w,!0));return b(O,w)}})},new function(){var e={},t;function r(f,y,C,A,S,T){var N=we.get(f,y)||T,O=N==null?A?null:C?"":0:C?N:parseFloat(N);return/%\s*$/.test(N)?O/100*(S?1:t[/x|^width/.test(y)?"width":"height"]):O}function n(f,y,C,A,S,T,N){return y=r(f,y||"x",!1,A,S,T),C=r(f,C||"y",!1,A,S,N),A&&(y==null||C==null)?null:new z(y,C)}function s(f,y,C,A,S){return y=r(f,y||"width",!1,A,S),C=r(f,C||"height",!1,A,S),A&&(y==null||C==null)?null:new ce(y,C)}function u(f,y,C){return f==="none"?null:y==="number"?parseFloat(f):y==="array"?f?f.split(/[\s,]+/g).map(parseFloat):[]:y==="color"?k(f)||f:y==="lookup"?C[f]:f}function o(f,y,C,A){var S=f.childNodes,T=y==="clippath",N=y==="defs",O=new Ze,F=O._project,E=F._currentStyle,B=[];if(!T&&!N&&(O=b(O,f,A),F._currentStyle=O._style.clone()),A)for(var D=f.querySelectorAll("defs"),U=0,H=D.length;U<H;U++)_(D[U],C,!1);for(var U=0,H=S.length;U<H;U++){var W=S[U],X;W.nodeType===1&&!/^defs$/i.test(W.nodeName)&&(X=_(W,C,!1))&&!(X instanceof ct)&&B.push(X)}return O.addChildren(B),T&&(O=b(O.reduce(),f,A)),F._currentStyle=E,(T||N)&&(O.remove(),O=null),O}function l(f,y){for(var C=f.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),A=[],S=0,T=C.length;S<T;S+=2)A.push(new z(parseFloat(C[S]),parseFloat(C[S+1])));var N=new ke(A);return y==="polygon"&&N.closePath(),N}function h(f){return ft.create(f.getAttribute("d"))}function c(f,y){var C=(r(f,"href",!0)||"").substring(1),A=y==="radialgradient",S;if(C)S=e[C].getGradient(),S._radial^A&&(S=S.clone(),S._radial=A);else{for(var T=f.childNodes,N=[],O=0,F=T.length;O<F;O++){var E=T[O];E.nodeType===1&&N.push(b(new ui,E))}S=new Dt(N,A)}var B,D,U,H=r(f,"gradientUnits",!0)!=="userSpaceOnUse";A?(B=n(f,"cx","cy",!1,H,"50%","50%"),D=B.add(r(f,"r",!1,!1,H,"50%"),0),U=n(f,"fx","fy",!0,H)):(B=n(f,"x1","y1",!1,H,"0%","0%"),D=n(f,"x2","y2",!1,H,"100%","0%"));var W=b(new Fe(S,B,D,U),f);return W._scaleToBounds=H,null}var g={"#document":function(f,y,C,A){for(var S=f.childNodes,T=0,N=S.length;T<N;T++){var O=S[T];if(O.nodeType===1)return _(O,C,A)}},g:o,svg:o,clippath:o,polygon:l,polyline:l,path:h,lineargradient:c,radialgradient:c,image:function(f){var y=new it(r(f,"href",!0));return y.on("load",function(){var C=s(f);this.setSize(C);var A=n(f).add(C.divide(2));this._matrix.append(new Le().translate(A))}),y},symbol:function(f,y,C,A){return new ct(o(f,y,C,A),!0)},defs:o,use:function(f){var y=(r(f,"href",!0)||"").substring(1),C=e[y],A=n(f);return C?C instanceof ct?C.place(A):C.clone().translate(A):null},circle:function(f){return new He.Circle(n(f,"cx","cy"),r(f,"r"))},ellipse:function(f){return new He.Ellipse({center:n(f,"cx","cy"),radius:s(f,"rx","ry")})},rect:function(f){return new He.Rectangle(new ee(n(f),s(f)),s(f,"rx","ry"))},line:function(f){return new ke.Line(n(f,"x1","y1"),n(f,"x2","y2"))},text:function(f){var y=new jt(n(f).add(n(f,"dx","dy")));return y.setContent(f.textContent.trim()||""),y},switch:o};function v(f,y,C,A){if(f.transform){for(var S=(A.getAttribute(C)||"").split(/\)\s*/g),T=new Le,N=0,O=S.length;N<O;N++){var F=S[N];if(!F)break;for(var E=F.split(/\(\s*/),B=E[0].trim(),D=E[1].split(/[\s,]+/g),U=0,H=D.length;U<H;U++)D[U]=parseFloat(D[U]);switch(B){case"matrix":T.append(new Le(D[0],D[1],D[2],D[3],D[4],D[5]));break;case"rotate":T.rotate(D[0],D[1]||0,D[2]||0);break;case"translate":T.translate(D[0],D[1]||0);break;case"scale":T.scale(D);break;case"skewX":T.skew(D[0],0);break;case"skewY":T.skew(0,D[0]);break}}f.transform(T)}}function p(f,y,C){var A=C==="fill-opacity"?"getFillColor":"getStrokeColor",S=f[A]&&f[A]();S&&S.setAlpha(parseFloat(y))}var d=L.set(L.each(qe,function(f){this[f.attribute]=function(y,C){if(y[f.set]&&(y[f.set](u(C,f.type,f.fromSVG)),f.type==="color")){var A=y[f.get]();if(A&&A._scaleToBounds){var S=y.getBounds();A.transform(new Le().translate(S.getPoint()).scale(S.getSize()))}}}},{}),{id:function(f,y){e[y]=f,f.setName&&f.setName(y)},"clip-path":function(f,y){var C=k(y);if(C)if(C=C.clone(),C.setClipMask(!0),f instanceof Ze)f.insertChild(0,C);else return new Ze(C,f)},gradientTransform:v,transform:v,"fill-opacity":p,"stroke-opacity":p,visibility:function(f,y){f.setVisible&&f.setVisible(y==="visible")},display:function(f,y){f.setVisible&&f.setVisible(y!==null)},"stop-color":function(f,y){f.setColor&&f.setColor(y)},"stop-opacity":function(f,y){f._color&&f._color.setAlpha(parseFloat(y))},offset:function(f,y){if(f.setOffset){var C=y.match(/(.*)%$/);f.setOffset(C?C[1]/100:parseFloat(y))}},viewBox:function(f,y,C,A,S){var T=new ee(u(y,"array")),N=s(A,null,null,!0),O,F;if(f instanceof Ze){var E=N?N.divide(T.getSize()):1,F=new Le().scale(E).translate(T.getPoint().negate());O=f}else f instanceof ct&&(N&&T.setSize(N),O=f._item);if(O){if(x(A,"overflow",S)!=="visible"){var B=new He.Rectangle(T);B.setClipMask(!0),O.addChild(B)}F&&O.transform(F)}}});function x(f,y,C){var A=f.attributes[y],S=A&&A.value;if(!S&&f.style){var T=L.camelize(y);S=f.style[T],!S&&C.node[T]!==C.parent[T]&&(S=C.node[T])}return S?S==="none"?null:S:G}function b(f,y,C){var A=y.parentNode,S={node:pt.getStyles(y)||{},parent:!C&&!/^defs$/i.test(A.tagName)&&pt.getStyles(A)||{}};return L.each(d,function(T,N){var O=x(y,N,S);f=O!==G&&T(f,O,N,y,S)||f}),f}function k(f){var y=f&&f.match(/\((?:["'#]*)([^"')]+)/),C=y&&y[1],A=C&&e[xe?C.replace(xe.location.href.split("#")[0]+"#",""):C];return A&&A._scaleToBounds&&(A=A.clone(),A._scaleToBounds=!0),A}function _(f,y,C){var A=f.nodeName.toLowerCase(),S=A!=="#document",T=te.body,N,O,F;C&&S&&(t=Ae.getView().getSize(),t=s(f,null,null,!0)||t,N=we.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),O=f.parentNode,F=f.nextSibling,N.appendChild(f),T.appendChild(N));var E=Ae.settings,B=E.applyMatrix,D=E.insertItems;E.applyMatrix=!1,E.insertItems=!1;var U=g[A],H=U&&U(f,A,y,C)||null;if(E.insertItems=D,E.applyMatrix=B,H){S&&!(H instanceof Ze)&&(H=b(H,f,C));var W=y.onImport,X=S&&f.getAttribute("data-paper-data");W&&(H=W(f,H,y)||H),y.expandShapes&&H instanceof He&&(H.remove(),H=H.toPath()),X&&(H._data=JSON.parse(X))}return N&&(T.removeChild(N),O&&(F?O.insertBefore(f,F):O.appendChild(f))),C&&(e={},H&&L.pick(y.applyMatrix,B)&&H.matrix.apply(!0,!0)),H}function w(f,y,C){if(!f)return null;y=typeof y=="function"?{onLoad:y}:y||{};var A=Ae,S=null;function T(E){try{var B=typeof E=="object"?E:new q.DOMParser().parseFromString(E.trim(),"image/svg+xml");if(!B.nodeName)throw B=null,new Error("Unsupported SVG source: "+f);Ae=A,S=_(B,y,!0),(!y||y.insert!==!1)&&C._insertItem(G,S);var D=y.onLoad;D&&D(S,E)}catch(U){N(U)}}function N(E,B){var D=y.onError;if(D)D(E,B);else throw new Error(E)}if(typeof f=="string"&&!/^[\s\S]*</.test(f)){var O=te.getElementById(f);O?T(O):mt.request({url:f,async:!0,onLoad:T,onError:N})}else if(typeof File<"u"&&f instanceof File){var F=new FileReader;return F.onload=function(){T(F.result)},F.onerror=function(){N(F.error)},F.readAsText(f)}else T(f);return S}P.inject({importSVG:function(f,y){return w(f,y,this)}}),Ne.inject({importSVG:function(f,y){return this.activate(),w(f,y,this)}})},L.exports.PaperScript=(function(){var e=this,t=e.acorn;if(!t&&typeof $a<"u")try{t=Wa()}catch{}if(!t){var r,n;t=r=n={},function(b,k){if(typeof r=="object"&&typeof n=="object")return k(r);if(typeof G=="function"&&G.amd)return G(["exports"],k);k(b.acorn||(b.acorn={}))}(this,function(b){b.version="0.5.0";var k,_,w,f;b.parse=function(V,$){return _=String(V),w=_.length,C($),hn(),es(k.program)};var y=b.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function C(V){k=V||{};for(var $ in y)Object.prototype.hasOwnProperty.call(k,$)||(k[$]=y[$]);f=k.sourceFile||null}var A=b.getLineInfo=function(V,$){for(var Q=1,ie=0;;){nr.lastIndex=ie;var Qe=nr.exec(V);if(Qe&&Qe.index<$)++Q,ie=Qe.index+Qe[0].length;else break}return{line:Q,column:$-ie}};b.tokenize=function(V,$){_=String(V),w=_.length,C($),hn();var Q={};function ie(Qe){return X=N,Yi(Qe),Q.start=T,Q.end=N,Q.startLoc=O,Q.endLoc=F,Q.type=E,Q.value=B,Q}return ie.jumpTo=function(Qe,nt){if(S=Qe,k.locations){U=1,H=nr.lastIndex=0;for(var ot;(ot=nr.exec(_))&&ot.index<Qe;)++U,H=ot.index+ot[0].length}D=nt,sr()},ie};var S,T,N,O,F,E,B,D,U,H,W,X,se,de,ve,K;function Y(V,$){var Q=A(_,V);$+=" ("+Q.line+":"+Q.column+")";var ie=new SyntaxError($);throw ie.pos=V,ie.loc=Q,ie.raisedAt=S,ie}var le=[],ge={type:"num"},me={type:"regexp"},Re={type:"string"},Te={type:"name"},$e={type:"eof"},Ge={keyword:"break"},We={keyword:"case",beforeExpr:!0},Kt={keyword:"catch"},Ht={keyword:"continue"},Jt={keyword:"debugger"},Gt={keyword:"default"},pe={keyword:"do",isLoop:!0},Ft={keyword:"else",beforeExpr:!0},$t={keyword:"finally"},Qt={keyword:"for",isLoop:!0},mi={keyword:"function"},Ii={keyword:"if"},xi={keyword:"return",beforeExpr:!0},yi={keyword:"switch"},oi={keyword:"throw",beforeExpr:!0},pi={keyword:"try"},Ai={keyword:"var"},Xt={keyword:"while",isLoop:!0},li={keyword:"with"},xr={keyword:"new",beforeExpr:!0},lr={keyword:"this"},yr={keyword:"null",atomValue:null},wr={keyword:"true",atomValue:!0},Sr={keyword:"false",atomValue:!1},rr={keyword:"in",binop:7,beforeExpr:!0},Ui={break:Ge,case:We,catch:Kt,continue:Ht,debugger:Jt,default:Gt,do:pe,else:Ft,finally:$t,for:Qt,function:mi,if:Ii,return:xi,switch:yi,throw:oi,try:pi,var:Ai,while:Xt,with:li,null:yr,true:wr,false:Sr,new:xr,in:rr,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:lr,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},Zi={type:"[",beforeExpr:!0},Ki={type:"]"},zi={type:"{",beforeExpr:!0},Ci={type:"}"},at={type:"(",beforeExpr:!0},wi={type:")"},ki={type:",",beforeExpr:!0},Si={type:";",beforeExpr:!0},Vi={type:":",beforeExpr:!0},hr={type:"."},cr={type:"?",beforeExpr:!0},fr={binop:10,beforeExpr:!0},i={isAssign:!0,beforeExpr:!0},a={isAssign:!0,beforeExpr:!0},m={postfix:!0,prefix:!0,isUpdate:!0},I={prefix:!0,beforeExpr:!0},M={binop:1,beforeExpr:!0},j={binop:2,beforeExpr:!0},Z={binop:3,beforeExpr:!0},_e={binop:4,beforeExpr:!0},be={binop:5,beforeExpr:!0},gt={binop:6,beforeExpr:!0},rt={binop:7,beforeExpr:!0},Yt={binop:8,beforeExpr:!0},Bi={binop:9,prefix:!0,beforeExpr:!0},Qi={binop:10,beforeExpr:!0};b.tokTypes={bracketL:Zi,bracketR:Ki,braceL:zi,braceR:Ci,parenL:at,parenR:wi,comma:ki,semi:Si,colon:Vi,dot:hr,question:cr,slash:fr,eq:i,name:Te,eof:$e,num:ge,regexp:me,string:Re};for(var Fi in Ui)b.tokTypes["_"+Fi]=Ui[Fi];function Li(V){V=V.split(" ");var $="",Q=[];e:for(var ie=0;ie<V.length;++ie){for(var Qe=0;Qe<Q.length;++Qe)if(Q[Qe][0].length==V[ie].length){Q[Qe].push(V[ie]);continue e}Q.push([V[ie]])}function nt(Ot){if(Ot.length==1)return $+="return str === "+JSON.stringify(Ot[0])+";";$+="switch(str){";for(var Ei=0;Ei<Ot.length;++Ei)$+="case "+JSON.stringify(Ot[Ei])+":";$+="return true}return false;"}if(Q.length>3){Q.sort(function(Ot,Ei){return Ei.length-Ot.length}),$+="switch(str.length){";for(var ie=0;ie<Q.length;++ie){var ot=Q[ie];$+="case "+ot[0].length+":",nt(ot)}$+="}"}else nt(V);return new Function("str",$)}var Hi=Li("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Gi=Li("class enum extends super const export import"),an=Li("implements interface let package private protected public static yield"),Cr=Li("eval arguments"),Bn=Li("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),Fn=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,un="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",Dn="̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿",on=new RegExp("["+un+"]"),qn=new RegExp("["+un+Dn+"]"),kr=/[\n\r\u2028\u2029]/,nr=/\r\n|[\n\r\u2028\u2029]/g,Pr=b.isIdentifierStart=function(V){return V<65?V===36:V<91?!0:V<97?V===95:V<123?!0:V>=170&&on.test(String.fromCharCode(V))},ln=b.isIdentifierChar=function(V){return V<48?V===36:V<58?!0:V<65?!1:V<91?!0:V<97?V===95:V<123?!0:V>=170&&qn.test(String.fromCharCode(V))};function Xi(){this.line=U,this.column=S-H}function hn(){U=1,S=H=0,D=!0,sr()}function ni(V,$){N=S,k.locations&&(F=new Xi),E=V,sr(),B=$,D=V.beforeExpr}function $n(){var V=k.onComment&&k.locations&&new Xi,$=S,Q=_.indexOf("*/",S+=2);if(Q===-1&&Y(S-2,"Unterminated comment"),S=Q+2,k.locations){nr.lastIndex=$;for(var ie;(ie=nr.exec(_))&&ie.index<S;)++U,H=ie.index+ie[0].length}k.onComment&&k.onComment(!0,_.slice($+2,Q),$,S,V,k.locations&&new Xi)}function Br(){for(var V=S,$=k.onComment&&k.locations&&new Xi,Q=_.charCodeAt(S+=2);S<w&&Q!==10&&Q!==13&&Q!==8232&&Q!==8233;)++S,Q=_.charCodeAt(S);k.onComment&&k.onComment(!1,_.slice(V+2,S),V,S,$,k.locations&&new Xi)}function sr(){for(;S<w;){var V=_.charCodeAt(S);if(V===32)++S;else if(V===13){++S;var $=_.charCodeAt(S);$===10&&++S,k.locations&&(++U,H=S)}else if(V===10||V===8232||V===8233)++S,k.locations&&(++U,H=S);else if(V>8&&V<14)++S;else if(V===47){var $=_.charCodeAt(S+1);if($===42)$n();else if($===47)Br();else break}else if(V===160)++S;else if(V>=5760&&Fn.test(String.fromCharCode(V)))++S;else break}}function Un(){var V=_.charCodeAt(S+1);return V>=48&&V<=57?fn(!0):(++S,ni(hr))}function Hn(){var V=_.charCodeAt(S+1);return D?(++S,cn()):V===61?si(a,2):si(fr,1)}function Gn(){var V=_.charCodeAt(S+1);return V===61?si(a,2):si(Qi,1)}function Wn(V){var $=_.charCodeAt(S+1);return $===V?si(V===124?M:j,2):$===61?si(a,2):si(V===124?Z:be,1)}function jn(){var V=_.charCodeAt(S+1);return V===61?si(a,2):si(_e,1)}function Zn(V){var $=_.charCodeAt(S+1);return $===V?$==45&&_.charCodeAt(S+2)==62&&kr.test(_.slice(X,S))?(S+=3,Br(),sr(),Yi()):si(m,2):$===61?si(a,2):si(Bi,1)}function Kn(V){var $=_.charCodeAt(S+1),Q=1;return $===V?(Q=V===62&&_.charCodeAt(S+2)===62?3:2,_.charCodeAt(S+Q)===61?si(a,Q+1):si(Yt,Q)):$==33&&V==60&&_.charCodeAt(S+2)==45&&_.charCodeAt(S+3)==45?(S+=4,Br(),sr(),Yi()):($===61&&(Q=_.charCodeAt(S+2)===61?3:2),si(rt,Q))}function Qn(V){var $=_.charCodeAt(S+1);return $===61?si(gt,_.charCodeAt(S+2)===61?3:2):si(V===61?i:I,1)}function Xn(V){switch(V){case 46:return Un();case 40:return++S,ni(at);case 41:return++S,ni(wi);case 59:return++S,ni(Si);case 44:return++S,ni(ki);case 91:return++S,ni(Zi);case 93:return++S,ni(Ki);case 123:return++S,ni(zi);case 125:return++S,ni(Ci);case 58:return++S,ni(Vi);case 63:return++S,ni(cr);case 48:var $=_.charCodeAt(S+1);if($===120||$===88)return Yn();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return fn(!1);case 34:case 39:return Jn(V);case 47:return Hn();case 37:case 42:return Gn();case 124:case 38:return Wn(V);case 94:return jn();case 43:case 45:return Zn(V);case 60:case 62:return Kn(V);case 61:case 33:return Qn(V);case 126:return si(I,1)}return!1}function Yi(V){if(V?S=T+1:T=S,k.locations&&(O=new Xi),V)return cn();if(S>=w)return ni($e);var $=_.charCodeAt(S);if(Pr($)||$===92)return pn();var Q=Xn($);if(Q===!1){var ie=String.fromCharCode($);if(ie==="\\"||on.test(ie))return pn();Y(S,"Unexpected character '"+ie+"'")}return Q}function si(V,$){var Q=_.slice(S,S+$);S+=$,ni(V,Q)}function cn(){for(var Qe="",V,$,Q=S;;){S>=w&&Y(Q,"Unterminated regular expression");var ie=_.charAt(S);if(kr.test(ie)&&Y(Q,"Unterminated regular expression"),V)V=!1;else{if(ie==="[")$=!0;else if(ie==="]"&&$)$=!1;else if(ie==="/"&&!$)break;V=ie==="\\"}++S}var Qe=_.slice(Q,S);++S;var nt=dn();nt&&!/^[gmsiy]*$/.test(nt)&&Y(Q,"Invalid regexp flag");try{var ot=new RegExp(Qe,nt)}catch(Ot){Ot instanceof SyntaxError&&Y(Q,Ot.message),Y(Ot)}return ni(me,ot)}function dr(V,$){for(var Q=S,ie=0,Qe=0,nt=$??1/0;Qe<nt;++Qe){var ot=_.charCodeAt(S),Ot;if(ot>=97?Ot=ot-97+10:ot>=65?Ot=ot-65+10:ot>=48&&ot<=57?Ot=ot-48:Ot=1/0,Ot>=V)break;++S,ie=ie*V+Ot}return S===Q||$!=null&&S-Q!==$?null:ie}function Yn(){S+=2;var V=dr(16);return V==null&&Y(T+2,"Expected hexadecimal number"),Pr(_.charCodeAt(S))&&Y(S,"Identifier directly after number"),ni(ge,V)}function fn(V){var $=S,Q=!1,ie=_.charCodeAt(S)===48;!V&&dr(10)===null&&Y($,"Invalid number"),_.charCodeAt(S)===46&&(++S,dr(10),Q=!0);var Qe=_.charCodeAt(S);(Qe===69||Qe===101)&&(Qe=_.charCodeAt(++S),(Qe===43||Qe===45)&&++S,dr(10)===null&&Y($,"Invalid number"),Q=!0),Pr(_.charCodeAt(S))&&Y(S,"Identifier directly after number");var nt=_.slice($,S),ot;return Q?ot=parseFloat(nt):!ie||nt.length===1?ot=parseInt(nt,10):/[89]/.test(nt)||K?Y($,"Invalid number"):ot=parseInt(nt,8),ni(ge,ot)}function Jn(V){S++;for(var $="";;){S>=w&&Y(T,"Unterminated string constant");var Q=_.charCodeAt(S);if(Q===V)return++S,ni(Re,$);if(Q===92){Q=_.charCodeAt(++S);var ie=/^[0-7]+/.exec(_.slice(S,S+3));for(ie&&(ie=ie[0]);ie&&parseInt(ie,8)>255;)ie=ie.slice(0,-1);if(ie==="0"&&(ie=null),++S,ie)K&&Y(S-2,"Octal literal in strict mode"),$+=String.fromCharCode(parseInt(ie,8)),S+=ie.length-1;else switch(Q){case 110:$+=`
`;break;case 114:$+="\r";break;case 120:$+=String.fromCharCode(Ir(2));break;case 117:$+=String.fromCharCode(Ir(4));break;case 85:$+=String.fromCharCode(Ir(8));break;case 116:$+="	";break;case 98:$+="\b";break;case 118:$+="\v";break;case 102:$+="\f";break;case 48:$+="\0";break;case 13:_.charCodeAt(S)===10&&++S;case 10:k.locations&&(H=S,++U);break;default:$+=String.fromCharCode(Q);break}}else(Q===13||Q===10||Q===8232||Q===8233)&&Y(T,"Unterminated string constant"),$+=String.fromCharCode(Q),++S}}function Ir(V){var $=dr(16,V);return $===null&&Y(T,"Bad character escape sequence"),$}var ar;function dn(){ar=!1;for(var V,$=!0,Q=S;;){var ie=_.charCodeAt(S);if(ln(ie))ar&&(V+=_.charAt(S)),++S;else if(ie===92){ar||(V=_.slice(Q,S)),ar=!0,_.charCodeAt(++S)!=117&&Y(S,"Expecting Unicode escape sequence \\uXXXX"),++S;var Qe=Ir(4),nt=String.fromCharCode(Qe);nt||Y(S-1,"Invalid Unicode escape"),($?Pr(Qe):ln(Qe))||Y(S-4,"Invalid Unicode escape"),V+=nt}else break;$=!1}return ar?V:_.slice(Q,S)}function pn(){var V=dn(),$=Te;return!ar&&Bn(V)&&($=Ui[V]),ni($,V)}function Et(){W=T,X=N,se=F,Yi()}function Fr(V){if(K=V,S=T,k.locations)for(;S<H;)H=_.lastIndexOf(`
`,H-2)+1,--U;sr(),Yi()}function gn(){this.type=null,this.start=T,this.end=null}function _n(){this.start=O,this.end=null,f!==null&&(this.source=f)}function hi(){var V=new gn;return k.locations&&(V.loc=new _n),k.directSourceFile&&(V.sourceFile=k.directSourceFile),k.ranges&&(V.range=[T,0]),V}function Wi(V){var $=new gn;return $.start=V.start,k.locations&&($.loc=new _n,$.loc.start=V.loc.start),k.ranges&&($.range=[V.range[0],0]),$}function bt(V,$){return V.type=$,V.end=X,k.locations&&(V.loc.end=se),k.ranges&&(V.range[1]=X),V}function Dr(V){return k.ecmaVersion>=5&&V.type==="ExpressionStatement"&&V.expression.type==="Literal"&&V.expression.value==="use strict"}function Wt(V){if(E===V)return Et(),!0}function Ar(){return!k.strictSemicolons&&(E===$e||E===Ci||kr.test(_.slice(X,T)))}function Ji(){!Wt(Si)&&!Ar()&&Di()}function ei(V){E===V?Et():Di()}function Di(){Y(T,"Unexpected token")}function Tr(V){V.type!=="Identifier"&&V.type!=="MemberExpression"&&Y(V.start,"Assigning to rvalue"),K&&V.type==="Identifier"&&Cr(V.name)&&Y(V.start,"Assigning to "+V.name+" in strict mode")}function es(V){W=X=S,k.locations&&(se=new Xi),de=K=null,ve=[],Yi();var $=V||hi(),Q=!0;for(V||($.body=[]);E!==$e;){var ie=Ti();$.body.push(ie),Q&&Dr(ie)&&Fr(!0),Q=!1}return bt($,"Program")}var qr={kind:"loop"},ts={kind:"switch"};function Ti(){(E===fr||E===a&&B=="/=")&&Yi(!0);var V=E,$=hi();switch(V){case Ge:case Ht:Et();var Q=V===Ge;Wt(Si)||Ar()?$.label=null:E!==Te?Di():($.label=ji(),Ji());for(var ie=0;ie<ve.length;++ie){var Qe=ve[ie];if(($.label==null||Qe.name===$.label.name)&&(Qe.kind!=null&&(Q||Qe.kind==="loop")||$.label&&Q))break}return ie===ve.length&&Y($.start,"Unsyntactic "+V.keyword),bt($,Q?"BreakStatement":"ContinueStatement");case Jt:return Et(),Ji(),bt($,"DebuggerStatement");case pe:return Et(),ve.push(qr),$.body=Ti(),ve.pop(),ei(Xt),$.test=pr(),Ji(),bt($,"DoWhileStatement");case Qt:if(Et(),ve.push(qr),ei(at),E===Si)return $r($,null);if(E===Ai){var nt=hi();return Et(),mn(nt,!0),bt(nt,"VariableDeclaration"),nt.declarations.length===1&&Wt(rr)?vn($,nt):$r($,nt)}var nt=di(!1,!0);return Wt(rr)?(Tr(nt),vn($,nt)):$r($,nt);case mi:return Et(),jr($,!0);case Ii:return Et(),$.test=pr(),$.consequent=Ti(),$.alternate=Wt(Ft)?Ti():null,bt($,"IfStatement");case xi:return!de&&!k.allowReturnOutsideFunction&&Y(T,"'return' outside of function"),Et(),Wt(Si)||Ar()?$.argument=null:($.argument=di(),Ji()),bt($,"ReturnStatement");case yi:Et(),$.discriminant=pr(),$.cases=[],ei(zi),ve.push(ts);for(var ot,Ot;E!=Ci;)if(E===We||E===Gt){var Ei=E===We;ot&&bt(ot,"SwitchCase"),$.cases.push(ot=hi()),ot.consequent=[],Et(),Ei?ot.test=di():(Ot&&Y(W,"Multiple default clauses"),Ot=!0,ot.test=null),ei(Vi)}else ot||Di(),ot.consequent.push(Ti());return ot&&bt(ot,"SwitchCase"),Et(),ve.pop(),bt($,"SwitchStatement");case oi:return Et(),kr.test(_.slice(X,T))&&Y(X,"Illegal newline after throw"),$.argument=di(),Ji(),bt($,"ThrowStatement");case pi:if(Et(),$.block=gr(),$.handler=null,E===Kt){var er=hi();Et(),ei(at),er.param=ji(),K&&Cr(er.param.name)&&Y(er.param.start,"Binding "+er.param.name+" in strict mode"),ei(wi),er.guard=null,er.body=gr(),$.handler=bt(er,"CatchClause")}return $.guardedHandlers=le,$.finalizer=Wt($t)?gr():null,!$.handler&&!$.finalizer&&Y($.start,"Missing catch or finally clause"),bt($,"TryStatement");case Ai:return Et(),mn($),Ji(),bt($,"VariableDeclaration");case Xt:return Et(),$.test=pr(),ve.push(qr),$.body=Ti(),ve.pop(),bt($,"WhileStatement");case li:return K&&Y(T,"'with' in strict mode"),Et(),$.object=pr(),$.body=Ti(),bt($,"WithStatement");case zi:return gr();case Si:return Et(),bt($,"EmptyStatement");default:var Kr=B,Er=di();if(V===Te&&Er.type==="Identifier"&&Wt(Vi)){for(var ie=0;ie<ve.length;++ie)ve[ie].name===Kr&&Y(Er.start,"Label '"+Kr+"' is already declared");var us=E.isLoop?"loop":E===yi?"switch":null;return ve.push({name:Kr,kind:us}),$.body=Ti(),ve.pop(),$.label=Er,bt($,"LabeledStatement")}else return $.expression=Er,Ji(),bt($,"ExpressionStatement")}}function pr(){ei(at);var V=di();return ei(wi),V}function gr(V){var $=hi(),Q=!0,ie=!1,Qe;for($.body=[],ei(zi);!Wt(Ci);){var nt=Ti();$.body.push(nt),Q&&V&&Dr(nt)&&(Qe=ie,Fr(ie=!0)),Q=!1}return ie&&!Qe&&Fr(!1),bt($,"BlockStatement")}function $r(V,$){return V.init=$,ei(Si),V.test=E===Si?null:di(),ei(Si),V.update=E===wi?null:di(),ei(wi),V.body=Ti(),ve.pop(),bt(V,"ForStatement")}function vn(V,$){return V.left=$,V.right=di(),ei(wi),V.body=Ti(),ve.pop(),bt(V,"ForInStatement")}function mn(V,$){for(V.declarations=[],V.kind="var";;){var Q=hi();if(Q.id=ji(),K&&Cr(Q.id.name)&&Y(Q.id.start,"Binding "+Q.id.name+" in strict mode"),Q.init=Wt(i)?di(!0,$):null,V.declarations.push(bt(Q,"VariableDeclarator")),!Wt(ki))break}return V}function di(V,$){var Q=Ur($);if(!V&&E===ki){var ie=Wi(Q);for(ie.expressions=[Q];Wt(ki);)ie.expressions.push(Ur($));return bt(ie,"SequenceExpression")}return Q}function Ur(V){var $=is(V);if(E.isAssign){var Q=Wi($);return Q.operator=B,Q.left=$,Et(),Q.right=Ur(V),Tr($),bt(Q,"AssignmentExpression")}return $}function is(V){var $=rs(V);if(Wt(cr)){var Q=Wi($);return Q.test=$,Q.consequent=di(!0),ei(Vi),Q.alternate=di(!0,V),bt(Q,"ConditionalExpression")}return $}function rs(V){return Hr(Gr(),-1,V)}function Hr(V,$,Q){var ie=E.binop;if(ie!=null&&(!Q||E!==rr)&&ie>$){var Qe=Wi(V);Qe.left=V,Qe.operator=B;var nt=E;Et(),Qe.right=Hr(Gr(),ie,Q);var ot=bt(Qe,nt===M||nt===j?"LogicalExpression":"BinaryExpression");return Hr(ot,$,Q)}return V}function Gr(){if(E.prefix){var V=hi(),$=E.isUpdate;return V.operator=B,V.prefix=!0,D=!0,Et(),V.argument=Gr(),$?Tr(V.argument):K&&V.operator==="delete"&&V.argument.type==="Identifier"&&Y(V.start,"Deleting local variable in strict mode"),bt(V,$?"UpdateExpression":"UnaryExpression")}for(var Q=ns();E.postfix&&!Ar();){var V=Wi(Q);V.operator=B,V.prefix=!1,V.argument=Q,Tr(Q),Et(),Q=bt(V,"UpdateExpression")}return Q}function ns(){return _r(Wr())}function _r(V,$){if(Wt(hr)){var Q=Wi(V);return Q.object=V,Q.property=ji(!0),Q.computed=!1,_r(bt(Q,"MemberExpression"),$)}else if(Wt(Zi)){var Q=Wi(V);return Q.object=V,Q.property=di(),Q.computed=!0,ei(Ki),_r(bt(Q,"MemberExpression"),$)}else if(!$&&Wt(at)){var Q=Wi(V);return Q.callee=V,Q.arguments=Zr(wi,!1),_r(bt(Q,"CallExpression"),$)}else return V}function Wr(){switch(E){case lr:var ie=hi();return Et(),bt(ie,"ThisExpression");case Te:return ji();case ge:case Re:case me:var ie=hi();return ie.value=B,ie.raw=_.slice(T,N),Et(),bt(ie,"Literal");case yr:case wr:case Sr:var ie=hi();return ie.value=E.atomValue,ie.raw=E.keyword,Et(),bt(ie,"Literal");case at:var V=O,$=T;Et();var Q=di();return Q.start=$,Q.end=N,k.locations&&(Q.loc.start=V,Q.loc.end=F),k.ranges&&(Q.range=[$,N]),ei(wi),Q;case Zi:var ie=hi();return Et(),ie.elements=Zr(Ki,!0,!0),bt(ie,"ArrayExpression");case zi:return as();case mi:var ie=hi();return Et(),jr(ie,!1);case xr:return ss();default:Di()}}function ss(){var V=hi();return Et(),V.callee=_r(Wr(),!0),Wt(at)?V.arguments=Zr(wi,!1):V.arguments=le,bt(V,"NewExpression")}function as(){var V=hi(),$=!0,Q=!1;for(V.properties=[],Et();!Wt(Ci);){if($)$=!1;else if(ei(ki),k.allowTrailingCommas&&Wt(Ci))break;var ie={key:bn()},Qe=!1,nt;if(Wt(Vi)?(ie.value=di(!0),nt=ie.kind="init"):k.ecmaVersion>=5&&ie.key.type==="Identifier"&&(ie.key.name==="get"||ie.key.name==="set")?(Qe=Q=!0,nt=ie.kind=ie.key.name,ie.key=bn(),E!==at&&Di(),ie.value=jr(hi(),!1)):Di(),ie.key.type==="Identifier"&&(K||Q))for(var ot=0;ot<V.properties.length;++ot){var Ot=V.properties[ot];if(Ot.key.name===ie.key.name){var Ei=nt==Ot.kind||Qe&&Ot.kind==="init"||nt==="init"&&(Ot.kind==="get"||Ot.kind==="set");Ei&&!K&&nt==="init"&&Ot.kind==="init"&&(Ei=!1),Ei&&Y(ie.key.start,"Redefinition of property")}}V.properties.push(ie)}return bt(V,"ObjectExpression")}function bn(){return E===ge||E===Re?Wr():ji(!0)}function jr(V,$){E===Te?V.id=ji():$?Di():V.id=null,V.params=[];var Q=!0;for(ei(at);!Wt(wi);)Q?Q=!1:ei(ki),V.params.push(ji());var ie=de,Qe=ve;if(de=!0,ve=[],V.body=gr(!0),de=ie,ve=Qe,K||V.body.body.length&&Dr(V.body.body[0]))for(var nt=V.id?-1:0;nt<V.params.length;++nt){var ot=nt<0?V.id:V.params[nt];if((an(ot.name)||Cr(ot.name))&&Y(ot.start,"Defining '"+ot.name+"' in strict mode"),nt>=0)for(var Ot=0;Ot<nt;++Ot)ot.name===V.params[Ot].name&&Y(ot.start,"Argument name clash in strict mode")}return bt(V,$?"FunctionDeclaration":"FunctionExpression")}function Zr(V,$,Q){for(var ie=[],Qe=!0;!Wt(V);){if(Qe)Qe=!1;else if(ei(ki),$&&k.allowTrailingCommas&&Wt(V))break;Q&&E===ki?ie.push(null):ie.push(di(!0))}return ie}function ji(V){var $=hi();return V&&k.forbidReserved=="everywhere"&&(V=!1),E===Te?(!V&&(k.forbidReserved&&(k.ecmaVersion===3?Hi:Gi)(B)||K&&an(B))&&_.slice(T,N).indexOf("\\")==-1&&Y(T,"The keyword '"+B+"' is reserved"),$.name=B):V&&E.keyword?$.name=E.keyword:Di(),D=!1,Et(),bt($,"Identifier")}}),t.version||(t=null)}function s(b,k){return(e.acorn||t).parse(b,k)}var u={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},o={"-":"__negate","+":"__self"},l=L.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(b){this["__"+b]="#"+b},{__self:function(){return this}});z.inject(l),ce.inject(l),Fe.inject(l);function h(b,k,_){var w=u[k];if(b&&b[w]){var f=b[w](_);return k==="!="?!f:f}switch(k){case"+":return b+_;case"-":return b-_;case"*":return b*_;case"/":return b/_;case"%":return b%_;case"==":return b==_;case"!=":return b!=_}}function c(b,k){var _=o[b];if(k&&k[_])return k[_]();switch(b){case"+":return+k;case"-":return-k}}function g(b,k){if(!b)return"";k=k||{};var _=[];function w(K){for(var Y=0,le=_.length;Y<le;Y++){var ge=_[Y];if(ge[0]>=K)break;K+=ge[1]}return K}function f(K){return b.substring(w(K.range[0]),w(K.range[1]))}function y(K,Y){return b.substring(w(K.range[1]),w(Y.range[0]))}function C(K,Y){for(var le=w(K.range[0]),ge=w(K.range[1]),me=0,Re=_.length-1;Re>=0;Re--)if(le>_[Re][0]){me=Re+1;break}_.splice(me,0,[le,Y.length-ge+le]),b=b.substring(0,le)+Y+b.substring(ge)}function A(K,Y){switch(K.type){case"UnaryExpression":if(K.operator in o&&K.argument.type!=="Literal"){var le=f(K.argument);C(K,'$__("'+K.operator+'", '+le+")")}break;case"BinaryExpression":if(K.operator in u&&K.left.type!=="Literal"){var ge=f(K.left),me=f(K.right),Re=y(K.left,K.right),Te=K.operator;C(K,"__$__("+ge+","+Re.replace(new RegExp("\\"+Te),'"'+Te+'"')+", "+me+")")}break;case"UpdateExpression":case"AssignmentExpression":var $e=Y&&Y.type;if(!($e==="ForStatement"||$e==="BinaryExpression"&&/^[=!<>]/.test(Y.operator)||$e==="MemberExpression"&&Y.computed)){if(K.type==="UpdateExpression"){var le=f(K.argument),Ge="__$__("+le+', "'+K.operator[0]+'", 1)',We=le+" = "+Ge;K.prefix?We="("+We+")":($e==="AssignmentExpression"||$e==="VariableDeclarator"||$e==="BinaryExpression")&&(f(Y.left||Y.id)===le&&(We=Ge),We=le+"; "+We),C(K,We)}else if(/^.=$/.test(K.operator)&&K.left.type!=="Literal"){var ge=f(K.left),me=f(K.right),Ge=ge+" = __$__("+ge+', "'+K.operator[0]+'", '+me+")";C(K,/^\(.*\)$/.test(f(K))?"("+Ge+")":Ge)}}break}}function S(K){switch(K.type){case"ExportDefaultDeclaration":C({range:[K.start,K.declaration.start]},"module.exports = ");break;case"ExportNamedDeclaration":var Y=K.declaration,le=K.specifiers;if(Y){var ge=Y.declarations;ge&&(ge.forEach(function(Re){C(Re,"module.exports."+f(Re))}),C({range:[K.start,Y.start+Y.kind.length]},""))}else if(le){var me=le.map(function(Re){var Te=f(Re);return"module.exports."+Te+" = "+Te+"; "}).join("");me&&C(K,me)}break}}function T(K,Y,le){if(K){for(var ge in K)if(ge!=="range"&&ge!=="loc"){var me=K[ge];if(Array.isArray(me))for(var Re=0,Te=me.length;Re<Te;Re++)T(me[Re],K,le);else me&&typeof me=="object"&&T(me,K,le)}le.operatorOverloading!==!1&&A(K,Y),le.moduleExports!==!1&&S(K)}}function N(K){var Y="",le="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(K=(Math.abs(K)<<1)+(K<0?1:0);K||!Y;){var ge=K&31;K>>=5,K&&(ge|=32),Y+=le[ge]}return Y}var O=k.url||"",F=k.sourceMaps,E=k.paperFeatures||{},B=k.source||b,D=k.offset||0,U=Ae.agent,H=U.versionNumber,W=!1,X=/\r\n|\n|\r/mg,se;if(F&&(U.chrome&&H>=30||U.webkit&&H>=537.76||U.firefox&&H>=23||U.node)){if(U.node)D-=2;else if(xe&&O&&!xe.location.href.indexOf(O)){var de=te.getElementsByTagName("html")[0].innerHTML;D=de.substr(0,de.indexOf(b)+1).match(X).length+1}W=D>0&&!(U.chrome&&H>=36||U.safari&&H>=600||U.firefox&&H>=40||U.node);var ve=["AA"+N(W?0:D)+"A"];ve.length=(b.match(X)||[]).length+1+(W?D:0),se={version:3,file:O,names:[],mappings:ve.join(";AACA"),sourceRoot:"",sources:[O],sourcesContent:[B]}}return(E.operatorOverloading!==!1||E.moduleExports!==!1)&&T(s(b,{ranges:!0,preserveParens:!0,sourceType:"module"}),null,E),se&&(W&&(b=new Array(D+1).join(`
`)+b),/^(inline|both)$/.test(F)&&(b+=`
//# sourceMappingURL=data:application/json;base64,`+q.btoa(unescape(encodeURIComponent(JSON.stringify(se))))),b+=`
//# sourceURL=`+(O||"paperscript")),{url:O,source:B,code:b,map:se}}function v(b,k,_){Ae=k;var w=k.getView(),f=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(b)&&!/\bnew\s+Tool\b/.test(b)?new Bt:null,y=f?f._events:[],C=["onFrame","onResize"].concat(y),A=[],S=[],T,N=typeof b=="object"?b:g(b,_);b=N.code;function O(H,W){for(var X in H)(W||!/^_/.test(X))&&new RegExp("([\\b\\s\\W]|^)"+X.replace(/\$/g,"\\$")+"\\b").test(b)&&(A.push(X),S.push(H[X]))}O({__$__:h,$__:c,paper:k,tool:f},!0),O(k),b="var module = { exports: {} }; "+b;var D=L.each(C,function(H){new RegExp("\\s+"+H+"\\b").test(b)&&(A.push(H),this.push("module.exports."+H+" = "+H+";"))},[]).join(`
`);D&&(b+=`
`+D),b+=`
return module.exports;`;var F=Ae.agent;if(te&&(F.chrome||F.firefox&&F.versionNumber<40)){var E=te.createElement("script"),B=te.head||te.getElementsByTagName("head")[0];F.firefox&&(b=`
`+b),E.appendChild(te.createTextNode("document.__paperscript__ = function("+A+") {"+b+`
}`)),B.appendChild(E),T=te.__paperscript__,delete te.__paperscript__,B.removeChild(E)}else T=Function(A,b);var D=T&&T.apply(k,S),U=D||{};return L.each(y,function(H){var W=U[H];W&&(f[H]=W)}),w&&(U.onResize&&w.setOnResize(U.onResize),w.emit("resize",{size:w.size,delta:new z}),U.onFrame&&w.setOnFrame(U.onFrame),w.requestUpdate()),D}function p(b){if(/^text\/(?:x-|)paperscript$/.test(b.type)&&ue.getAttribute(b,"ignore")!=="true"){var k=ue.getAttribute(b,"canvas"),_=te.getElementById(k),w=b.src||b.getAttribute("data-src"),f=ue.hasAttribute(b,"async"),y="data-paper-scope";if(!_)throw new Error('Unable to find canvas with id "'+k+'"');var C=ue.get(_.getAttribute(y))||new ue().setup(_);return _.setAttribute(y,C._id),w?mt.request({url:w,async:f,mimeType:"text/plain",onLoad:function(A){v(A,C,w)}}):v(b.innerHTML,C,b.baseURI),b.setAttribute("data-paper-ignore","true"),C}}function d(){L.each(te&&te.getElementsByTagName("script"),p)}function x(b){return b?p(b):d()}return xe&&(te.readyState==="complete"?setTimeout(d):lt.add(xe,{load:d})),{compile:g,execute:v,load:x,parse:s,calculateBinary:h,calculateUnary:c}}).call(this);var Ae=new(ue.inject(L.exports,{Base:L,Numerical:ne,Key:qt,DomEvent:lt,DomElement:pt,document:te,window:xe,Symbol:ct,PlacedSymbol:ht}));return Ae.agent.node&&Pn(Ae),typeof G=="function"&&G.amd?G("paper",Ae):Be&&(Be.exports=Ae),Ae}).call(ja,typeof self=="object"?self:null)}(Mr)),Mr.exports}Za();function Ka(Be){var q=Ni(),G=Tt(q);{var xe=te=>{ps(te,{})};At(G,te=>{te(xe)})}ae(Be,q)}var Qa=Oe('<div style="padding: var(--cds-spacing-07); text-align: center; background: var(--cds-layer-01); border: 1px dashed var(--cds-border-subtle); margin-top: var(--cds-spacing-05);"><p style="font-size: 1.125rem; color: var(--cds-text-secondary); margin-bottom: var(--cds-spacing-03);">Bitte Lager auswählen</p> <p style="font-size: 0.875rem; color: var(--cds-text-secondary);">Verwenden Sie die Schaltfläche "Lager auswählen", um einen geeigneten Lagertyp auszuwählen.</p></div>');function Xa(Be){var q=Qa();ae(Be,q)}var Ya=Oe('<div style="padding: var(--cds-spacing-05); background: var(--cds-layer-01); border-left: 3px solid var(--cds-support-success); margin-bottom: var(--cds-spacing-05);"><div style="display: flex; align-items: center; gap: var(--cds-spacing-03);"><strong>Ausgewählter Lagertyp:</strong> <span> </span> <span style="color: var(--cds-text-secondary);">|</span> <span> </span></div></div>');function Ja(Be,q){_i(q,!1);let G=he(q,"selectedLager",8);bi();var xe=Ya(),te=Je(xe),L=oe(Je(te),2),Ue=Je(L,!0);et(L);var ue=oe(L,4),Se=Je(ue);et(ue),et(te),et(xe),Nt(()=>{ai(Ue,G().lagerType),ai(Se,`Dicke: ${G().thickness??""} mm`)}),ae(Be,xe),vi()}var eu=Oe('<h7 class="bx--type-expressive-heading-01">Lagerbemessung</h7> <div style="padding-top:var(--cds-spacing-05)"></div> <div style="margin-bottom: var(--cds-spacing-03);"><!></div> <!> <div style="padding-top:var(--cds-spacing-05)"></div> <div style="margin-bottom: var(--cds-spacing-03);"><!></div> <!> <div style="padding-top:var(--cds-spacing-05)"></div> <div style="margin-bottom: var(--cds-spacing-03);"><!></div> <!> <div style="padding-top:var(--cds-spacing-05)"></div> <div style="margin-bottom: var(--cds-spacing-03);"><!></div> <!> <div style="padding-top:var(--cds-spacing-03)"></div> <!>',1),tu=Oe('<h7 class="bx--type-expressive-heading-01">Weitere Nachweise</h7> <div style="padding-top:var(--cds-spacing-05)"></div> <p style="color: var(--cds-text-secondary);">Placeholder für weitere Nachweise</p>',1),iu=Oe('<h7 class="bx--type-expressive-heading-01">Zusätzliche Ergebnisse</h7> <div style="padding-top:var(--cds-spacing-05)"></div> <p style="color: var(--cds-text-secondary);">Placeholder für zusätzliche Ergebnisse</p>',1),ru=Oe("<!> <!> <!>",1),nu=Oe('<!> <div style="padding-top:var(--cds-spacing-05)"></div> <!>',1),su=Oe('<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;"><h5 class="bx--type-expressive-heading-02">Bemessung Schubverformungslager</h5></div> <!>',1);function au(Be,q){_i(q,!1);const[G,xe]=or(),te=()=>Mi(gs,"$shearDeformationResultStore",G),L=()=>Mi(ur,"$shearDeformationParameterStore",G),Ue=()=>Mi(Mn,"$selectedLagerStore",G),ue=Ye(),Se=Ye(),Ee=Ye(),Ce=Ye(),ne=Ye(),De=Ye(),z=Ye(),Me=Ye();Xe(()=>te(),()=>{Ve(ue,te())}),Xe(()=>L(),()=>{Ve(Se,L())}),Xe(()=>Ue(),()=>{Ve(Ee,Ue())}),Xe(()=>(R(Ee),R(ue)),()=>{var ce;Ve(Ce,{Name:"\\sigma_{Ed} \\; / \\; \\sigma_{Rd}(S)",Abstract:"",Result:R(Ee)?`= ${R(Ee).sigma_nachw.toFixed(3)}`:`= ${R(ue).nachw_vert.toFixed(2)}`,ConditionFulfilled:R(Ee)?R(Ee).sigma_nachw<=1:((ce=R(ue))==null?void 0:ce.nachw_vert)<=1,TagTextGood:"<= 1",TagTextBad:"> 1"})}),Xe(()=>R(ue),()=>{Ve(ne,{Name:"\\frac{u_{vorh}}{u_{zul}}",Abstract:"= 0.6 \\cdot (t-2)",Result:`= ${R(ue).nachw_schub.toFixed(2)}`,ConditionFulfilled:R(ue).nachw_schub<=1,TagTextGood:"<= 1",TagTextBad:"> 1"})}),Xe(()=>(R(Ee),R(ue)),()=>{Ve(De,{Name:"\\frac{\\alpha_{b,vorh}}{\\alpha_{b,max}}",Abstract:"= \\frac{450 \\cdot t}{a} \\le 48",Result:R(Ee)?`= ${R(Ee).rot_b_nachw.toFixed(3)}`:`= ${R(ue).nachw_rotb.toFixed(2)}`,ConditionFulfilled:R(Ee)?R(Ee).rot_b_nachw<=1:R(ue).nachw_rotb<=1,TagTextGood:"<= 1",TagTextBad:"> 1"})}),Xe(()=>R(ue),()=>{Ve(z,{Name:"Z_a",Abstract:"= 1.5 \\cdot \\sigma_{Ed} \\cdot a \\cdot t",Result:`= ${R(ue).querz_x.toFixed(2)}\\;kN`})}),Xe(()=>R(ue),()=>{Ve(Me,{Name:"Z_b",Abstract:"= 1.5 \\cdot \\sigma_{Ed} \\cdot b \\cdot t",Result:`= ${R(ue).querz_y.toFixed(2)}\\;kN`})}),Ri(),sn(Be,{style:"height: 100%;",children:(ce,Ie)=>{var ee=su(),vt=oe(Tt(ee),2);{var Le=Ne=>{Xa(Ne)},tt=Ne=>{var P=nu(),Ze=Tt(P);Ja(Ze,{get selectedLager(){return R(Ee)}});var xt=oe(Ze,4);Rr(xt,{noGutterLeft:!0,children:(He,it)=>{tr(He,{children:(ht,ct)=>{var _t=ru(),ye=Tt(_t);Oi(ye,{sm:16,md:16,lg:6,children:(ze,ft)=>{var ke=eu(),ut=oe(Tt(ke),4),Lt=Je(ut);fi(Lt,{children:(Vt,Rt)=>{Ct();var qt=Ut("Vertikale Tragfähigkeit");ae(Vt,qt)},$$slots:{default:!0}}),et(ut);var Pe=oe(ut,2);vr(Pe,{get formula(){return R(Ce)},get isFulfilled(){return R(Ce).ConditionFulfilled},get tagTextGood(){return R(Ce).TagTextGood},get tagTextBad(){return R(Ce).TagTextBad}});var dt=oe(Pe,4),jt=Je(dt);fi(jt,{children:(Vt,Rt)=>{Ct();var qt=Ut("Schubverformungsnachweis");ae(Vt,qt)},$$slots:{default:!0}}),et(dt);var Fe=oe(dt,2);vr(Fe,{get formula(){return R(ne)},get isFulfilled(){return R(ne).ConditionFulfilled},get tagTextGood(){return R(ne).TagTextGood},get tagTextBad(){return R(ne).TagTextBad}});var Dt=oe(Fe,4),ui=Je(Dt);fi(ui,{children:(Vt,Rt)=>{Ct();var qt=Ut("Rotationsnachweis");ae(Vt,qt)},$$slots:{default:!0}}),et(Dt);var ti=oe(Dt,2);vr(ti,{get formula(){return R(De)},get isFulfilled(){return R(De).ConditionFulfilled},get tagTextGood(){return R(De).TagTextGood},get tagTextBad(){return R(De).TagTextBad},additionalSign1:"‰"});var pt=oe(ti,4),lt=Je(pt);fi(lt,{children:(Vt,Rt)=>{Ct();var qt=Ut("Querzugkräfte");ae(Vt,qt)},$$slots:{default:!0}}),et(pt);var St=oe(pt,2);vr(St,{get formula(){return R(z)}});var Mt=oe(St,4);vr(Mt,{get formula(){return R(Me)}}),ae(ze,ke)},$$slots:{default:!0}});var Ke=oe(ye,2);Oi(Ke,{sm:16,md:16,lg:5,children:(ze,ft)=>{var ke=tu();Ct(4),ae(ze,ke)},$$slots:{default:!0}});var J=oe(Ke,2);Oi(J,{sm:16,md:16,lg:5,children:(ze,ft)=>{var ke=iu();Ct(4),ae(ze,ke)},$$slots:{default:!0}}),ae(ht,_t)},$$slots:{default:!0}})},$$slots:{default:!0}}),ae(Ne,P)};At(vt,Ne=>{R(Ee)?Ne(tt,!1):Ne(Le)})}ae(ce,ee)},$$slots:{default:!0}}),vi(),xe()}var uu=Oe('<p style="margin-bottom: 1rem;"><!></p> <!>',1);function ou(Be,q){_i(q,!1);const G=Ye(),xe=Ye();let te=he(q,"open",12,!1),L=he(q,"passedLager",24,()=>[]),Ue=he(q,"onSelect",8),ue=he(q,"onClose",8),Se=Ye([]);const Ee=[{key:"lagerType",value:"Lagertyp",empty:!1},{key:"thickness",value:"Min. Dicke [mm]",empty:!1},{key:"sigma_nachw",value:"σ Nachweis",empty:!1},{key:"rot_b_nachw",value:"Rotation b",empty:!1},{key:"rot_res_nach",value:"Rotation res",empty:!1}];function Ce(){if(R(Se).length>0){const z=R(xe).find(Me=>Me.id===R(Se)[0]);z&&Ue()(z._data)}ne()}function ne(){Ve(Se,[]),ue()()}Xe(()=>je(L()),()=>{Ve(G,L().reduce((z,Me)=>(z[Me.lagerType]?Me.thickness<z[Me.lagerType].thickness&&(z[Me.lagerType]=Me):z[Me.lagerType]=Me,z),{}))}),Xe(()=>R(G),()=>{Ve(xe,Object.values(R(G)).map(z=>({id:`${z.lagerType}-${z.thickness}`,lagerType:z.lagerType,thickness:z.thickness,sigma_nachw:z.sigma_nachw.toFixed(3),rot_b_nachw:z.rot_b_nachw.toFixed(3),rot_res_nach:z.rot_res_nach.toFixed(3),_data:z})))}),Xe(()=>je(te()),()=>{te()&&Ve(Se,[])}),Ri(),bi();const De=Pt(()=>R(Se).length===0);ya(Be,{modalHeading:"Lager auswählen",primaryButtonText:"Lager übernehmen",get primaryButtonDisabled(){return R(De)},size:"lg",get open(){return te()},set open(z){te(z)},$$events:{"click:button--primary":Ce,"click:button--secondary":ne,close:ne},children:(z,Me)=>{var ce=uu(),Ie=Tt(ce),ee=Je(Ie);{var vt=P=>{var Ze=Ut("Keine passenden Lager gefunden. Bitte passen Sie die Parameter an.");ae(P,Ze)},Le=P=>{var Ze=Ut("Wählen Sie einen Lagertyp aus den verfügbaren Optionen:");ae(P,Ze)};At(ee,P=>{L().length===0?P(vt):P(Le,!1)})}et(Ie);var tt=oe(Ie,2);{var Ne=P=>{ia(P,{get headers(){return Ee},get rows(){return R(xe)},sortable:!0,radio:!0,style:"margin-top: 1rem;",get selectedRowIds(){return R(Se)},set selectedRowIds(Ze){Ve(Se,Ze)},children:(Ze,xt)=>{na(Ze,{children:(He,it)=>{aa(He,{children:(ht,ct)=>{pa(ht,{})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})};At(tt,P=>{L().length>0&&P(Ne)})}ae(z,ce)},$$slots:{default:!0},$$legacy:!0}),vi()}var lu=Oe("<h3>Online-Bemessung Schubverformungslager</h3>"),hu=Oe('<!> <div style="padding-top:var(--cds-spacing-05)"></div> <!>',1),cu=Oe('<div style="flex: 1; min-height: 0;"><!></div>'),fu=Oe("<!> <!>",1),du=Oe('<!> <div style="padding-top:var(--cds-spacing-05)"></div> <!> <div style="padding-top:var(--cds-spacing-05)"></div> <!>',1),pu=Oe('<!> <div style="padding-top:var(--cds-spacing-05)"></div> <!> <div style="padding-top:var(--cds-spacing-05)"></div>',1),gu=Oe('<div style="padding-top: 2rem;"></div> <!> <!>',1);function _u(Be,q){_i(q,!1);const[G,xe]=or(),te=()=>Mi(ur,"$shearDeformationParameterStore",G),L=()=>Mi(vs,"$possibleLagerStore",G),Ue=Ye(),ue=Ye(),Se=Ye();let Ee="g10",Ce=Ye(!1);function ne(){Ve(Ce,!0)}function De(){Ve(Ce,!1)}function z(ee){Mn.set(ee),ur.updateField("t",ee.thickness)}zr(async()=>{await Yr(),console.log("ShearDeformTool mounted with parameters:",te()),_s(R(Ue))}),Xe(()=>te(),()=>{Ve(Ue,te())}),Xe(()=>L(),()=>{Ve(ue,L())}),Xe(()=>R(ue),()=>{Ve(Se,R(ue).filter(ee=>ee.passed))}),Ri(),bi();var Me=gu(),ce=oe(Tt(Me),2);zn(ce,{theme:Ee,children:(ee,vt)=>{ms(ee,{children:(Le,tt)=>{var Ne=pu(),P=Tt(Ne);Rr(P,{children:(xt,He)=>{var it=du(),ht=Tt(it);tr(ht,{style:"width: 100%;padding:0",children:(ye,Ke)=>{sn(ye,{light:!1,style:"width: 100%;background: transparent;",children:(J,ze)=>{var ft=lu();ae(J,ft)},$$slots:{default:!0}})},$$slots:{default:!0}});var ct=oe(ht,4);tr(ct,{style:"padding:0",children:(ye,Ke)=>{var J=fu(),ze=Tt(J);Oi(ze,{sm:16,md:16,lg:9,style:"padding:0; padding-right:var(--cds-spacing-05)",children:(ke,ut)=>{var Lt=hu(),Pe=Tt(Lt);Da(Pe,{});var dt=oe(Pe,4);Nr(dt,{kind:"secondary",$$events:{click:ne},children:(jt,Fe)=>{Ct();var Dt=Ut("Lager auswählen");ae(jt,Dt)},$$slots:{default:!0}}),ae(ke,Lt)},$$slots:{default:!0}});var ft=oe(ze,2);Oi(ft,{sm:16,md:16,lg:7,style:"padding:0; display: flex; flex-direction: column;",children:(ke,ut)=>{var Lt=cu(),Pe=Je(Lt);Ka(Pe),et(Lt),ae(ke,Lt)},$$slots:{default:!0}}),ae(ye,J)},$$slots:{default:!0}});var _t=oe(ct,4);tr(_t,{style:"padding:0",children:(ye,Ke)=>{Oi(ye,{sm:16,md:16,lg:16,style:"padding:0",children:(J,ze)=>{au(J,{})},$$slots:{default:!0}})},$$slots:{default:!0}}),ae(xt,it)},$$slots:{default:!0}});var Ze=oe(P,4);Rr(Ze,{children:(xt,He)=>{tr(xt,{style:"padding:0",children:(it,ht)=>{Oi(it,{sm:16,md:16,lg:16,style:"padding:0"})},$$slots:{default:!0}})},$$slots:{default:!0}}),Ct(2),ae(Le,Ne)},$$slots:{default:!0}})},$$slots:{default:!0}});var Ie=oe(ce,2);ou(Ie,{get passedLager(){return R(Se)},onSelect:z,onClose:De,get open(){return R(Ce)},set open(ee){Ve(Ce,ee)},$$legacy:!0}),ae(Be,Me),vi(),xe()}var vu=Oe(`<!> <style>:global(html, body) {
    height: 100%;
    margin: 0;
    padding: 0;
  }</style>`,1),mu=Oe('<!> <div style="padding-top: 2rem;"></div> <!>',1);function Mu(Be,q){_i(q,!1),zr(async()=>{document.readyState==="complete"?await new Promise(L=>setTimeout(L,50)):(await new Promise(L=>{window.addEventListener("load",L,{once:!0})}),await new Promise(L=>setTimeout(L,50)))}),bi();var G=mu(),xe=Tt(G);Ss(xe);var te=oe(xe,4);zn(te,{theme:"white",children:(L,Ue)=>{var ue=vu(),Se=Tt(ue);_u(Se,{}),Ct(2),ae(L,ue)},$$slots:{default:!0}}),ae(Be,G),vi()}export{Mu as component,Ou as universal};
